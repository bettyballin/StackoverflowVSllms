import threading\nimport os\n\nPIPE_FILE = '/path/to/pipe'\ndata = ["data1", "data2", "data3"]  # Example data\npipe_lock = threading.Lock()\n\ndef SendStream(data, pipe):\n    try:\n        for i in data:\n            with pipe_lock:\n                pipe.write(i + '\n')\n                pipe.flush()\n    finally:\n        with pipe_lock:\n            pipe.close()\n\ndef Serve():\n    with pipe_lock:\n        if os.path.exists(PIPE_FILE):\n            os.unlink(PIPE_FILE)\n        os.mkfifo(PIPE_FILE)\n        pipe = open(PIPE_FILE, 'w')\n    threading.Thread(target=SendStream, args=(data, pipe)).start()