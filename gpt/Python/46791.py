from django import forms\nfrom .models import TimeWorked, Project\n\nclass TimeWorkedForm(forms.ModelForm):\n    class Meta:\n        model = TimeWorked\n        fields = ['project', 'hours']\n\n    def __init__(self, *args, **kwargs):\n        user = kwargs.pop('user')  # Extract user from kwargs\n        super(TimeWorkedForm, self).__init__(*args, **kwargs)\n        self.fields['project'].queryset = Project.objects.filter(employees=user.profile)\n\n# In your view, pass the request.user to the form\nfrom django.shortcuts import render, get_object_or_404\nfrom .models import TimeWorked\n\ndef time_worked_view(request):\n    if request.method == 'POST':\n        form = TimeWorkedForm(request.POST, user=request.user)\n        if form.is_valid():\n            form.save()\n            # Redirect or respond to the user\n    else:\n        form = TimeWorkedForm(user=request.user)\n    \n    return render(request, 'template_name.html', {'form': form})