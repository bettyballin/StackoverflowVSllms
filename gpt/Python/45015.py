def group_by(data, key_func):\n    grouped_data = {}\n    for item in data:\n        key = key_func(item)\n        if key not in grouped_data:\n            grouped_data[key] = []\n        grouped_data[key].append(item)\n    return grouped_data\n\n# Example usage:\ndata = [\n    {'category': 'A', 'value': 10},\n    {'category': 'B', 'value': 20},\n    {'category': 'A', 'value': 30},\n    {'category': 'B', 'value': 40},\n]\n\ngrouped = group_by(data, lambda x: x['category'])\nprint(grouped)\n# Output:\n# {'A': [{'category': 'A', 'value': 10}, {'category': 'A', 'value': 30}],\n#  'B': [{'category': 'B', 'value': 20}, {'category': 'B', 'value': 40}]}