import os\nimport requests\nfrom bs4 import BeautifulSoup\nfrom urllib.parse import urljoin, urlparse\n\ndef download_html(url, download_path):\n    response = requests.get(url)\n    soup = BeautifulSoup(response.content, 'html.parser')\n    \n    # Download and update links for images, CSS, and JS\n    for tag in soup.find_all(['img', 'link', 'script']):\n        if tag.name == 'img':\n            attr = 'src'\n        elif tag.name == 'link' and tag.get('rel') == ['stylesheet']:\n            attr = 'href'\n        elif tag.name == 'script' and tag.get('src'):\n            attr = 'src'\n        else:\n            continue\n        \n        if tag.get(attr):\n            resource_url = urljoin(url, tag[attr])\n            resource_path = os.path.join(download_path, os.path.basename(urlparse(resource_url).path))\n            tag[attr] = resource_path\n            \n            # Download the resource\n            resource_content = requests.get(resource_url).content\n            with open(resource_path, 'wb') as resource_file:\n                resource_file.write(resource_content)\n    \n    # Save the modified HTML\n    html_path = os.path.join(download_path, 'index.html')\n    with open(html_path, 'w', encoding='utf-8') as html_file:\n        html_file.write(str(soup))\n\n# Example usage\nurl = 'http://example.com'\ndownload_path = 'path_to_save_files'\nos.makedirs(download_path, exist_ok=True)\ndownload_html(url, download_path)