from django.db import models\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.contrib.contenttypes.fields import GenericForeignKey\n\nclass BaseClass(models.Model):\n    some_field = models.CharField(max_length=80)\n    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE, null=True, blank=True)\n    object_id = models.PositiveIntegerField(null=True, blank=True)\n    content_object = GenericForeignKey('content_type', 'object_id')\n\n    def save(self, *args, **kwargs):\n        if not self.content_type:\n            self.content_type = ContentType.objects.get_for_model(self.__class__)\n        super().save(*args, **kwargs)\n\nclass SomeClass(BaseClass):\n    other_field = models.CharField(max_length=80)