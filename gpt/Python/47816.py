import gtk\nimport gobject\n\ndef draw_line_on_pixbuf(pixbuf, start_x, start_y, end_x, end_y):\n    # Create a drawable from the pixbuf\n    width, height = pixbuf.get_width(), pixbuf.get_height()\n    drawable = gtk.gdk.Pixmap(None, width, height, pixbuf.get_depth())\n    \n    # Create a graphics context\n    gc = drawable.new_gc()\n    \n    # Copy the pixbuf to the drawable\n    drawable.draw_pixbuf(gc, pixbuf, 0, 0, 0, 0, width, height, gtk.gdk.RGB_DITHER_NONE, 0, 0)\n    \n    # Set line color (for example, red)\n    gc.set_rgb_fg_color(gtk.gdk.color_parse("red"))\n    \n    # Draw a line\n    drawable.draw_line(gc, start_x, start_y, end_x, end_y)\n    \n    # Create a new pixbuf from the drawable\n    new_pixbuf = gtk.gdk.Pixbuf(gtk.gdk.COLORSPACE_RGB, pixbuf.get_has_alpha(), 8, width, height)\n    drawable.get_image(0, 0, width, height).copy_area(0, 0, width, height, new_pixbuf, 0, 0)\n    \n    return new_pixbuf\n\n# Example usage\npixbuf = gtk.gdk.pixbuf_new_from_file("your_image.png")\nnew_pixbuf = draw_line_on_pixbuf(pixbuf, 10, 10, 200, 200)\n\n# Display the new pixbuf in a GTK window\nwindow = gtk.Window()\nimage = gtk.Image()\nimage.set_from_pixbuf(new_pixbuf)\nwindow.add(image)\nwindow.show_all()\n\ngtk.main()