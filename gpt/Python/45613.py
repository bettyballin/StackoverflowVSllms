import requests\nfrom supybot import callbacks, ircmsgs, schedule\n\nclass WebsiteChecker(callbacks.Plugin):\n    def __init__(self, irc):\n        self.__parent = super(WebsiteChecker, self)\n        self.__parent.__init__(irc)\n        self.urls = ["http://example.com", "http://example.org"]\n        self.interval = 15 * 60  # 15 minutes in seconds\n        self.recheck_interval = 5 * 60  # 5 minutes in seconds\n        self.startChecking()\n\n    def startChecking(self):\n        for url in self.urls:\n            schedule.addPeriodicEvent(lambda: self.checkWebsite(url), self.interval, url)\n\n    def checkWebsite(self, url):\n        try:\n            response = requests.get(url)\n            if response.status_code != 200:\n                self.scheduleRecheck(url)\n        except requests.RequestException:\n            self.scheduleRecheck(url)\n\n    def scheduleRecheck(self, url):\n        schedule.addEvent(lambda: self.recheckWebsite(url), time.time() + self.recheck_interval)\n\n    def recheckWebsite(self, url):\n        try:\n            response = requests.get(url)\n            if response.status_code != 200:\n                self.reportFailure(url)\n        except requests.RequestException:\n            self.reportFailure(url)\n\n    def reportFailure(self, url):\n        msg = ircmsgs.privmsg('#your-channel', f"Website down: {url}")\n        self.irc.queueMsg(msg)\n\nClass = WebsiteChecker