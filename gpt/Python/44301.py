from django.contrib.auth import login\n   from django.contrib.auth.models import User\n   from django.shortcuts import redirect\n\n   def user_login(request):\n       # Your login logic here\n       # ...\n       user = authenticate(username=username, password=password)\n       if user is not None:\n           login(request, user)\n           transfer_favorites_to_user(request, user)\n           return redirect('home')\n       else:\n           return redirect('login')\n       \n   def transfer_favorites_to_user(request, user):\n       session_key = request.session.session_key\n       if session_key:\n           favorites = Favorite.objects.filter(session_key=session_key)\n           for favorite in favorites:\n               favorite.user = user\n               favorite.session_key = None\n               favorite.save()