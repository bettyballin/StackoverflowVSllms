def fread():\n    record = False\n    d = None  # Initialize d outside of the loop\n    for line in open('somefile.txt'):\n        if line.startswith('Record'):\n            record = True\n            d = SomeObject()\n\n        # do some processing with line\n        if d:\n            d.process(line)\n\n        if not line.strip() and record:\n            yield d\n            record = False\n            d = None  # Reset d after yielding\n\n    # Check for the last record if the file ends without an empty line\n    if record and d:\n        yield d\n\nfor record in fread():\n    print(record)