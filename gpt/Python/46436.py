from flask import Flask, request\nfrom geopy.geocoders import Nominatim\nfrom timezonefinder import TimezoneFinder\nimport pytz\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    user_ip = request.remote_addr  # Get the user's IP address\n    geolocator = Nominatim(user_agent="geoapiExercises")\n    location = geolocator.geocode(user_ip)\n    \n    if location:\n        tf = TimezoneFinder()\n        timezone_str = tf.timezone_at(lng=location.longitude, lat=location.latitude)\n        if timezone_str:\n            timezone = pytz.timezone(timezone_str)\n            offset = datetime.now(timezone).utcoffset().total_seconds() / 60\n            return f"<p>Timezone offset: {offset} minutes</p>"\n    \n    return "<p>Unable to determine timezone offset</p>"\n\nif __name__ == "__main__":\n    app.run(debug=True)