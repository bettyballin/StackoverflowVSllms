from time import sleep\nimport os\nimport paramiko\n\ndef sftp_transfer():\n    sOutputFilename = "redacted.htm"  #-- The payload file\n    hostname = "redacted.com"\n    ####-- WARNING!  Embedded passwords!  Remove ASAP.\n    sUsername = "redacted"\n    sPassword = "redacted"\n    sTargetDir = "redacted"\n\n    #-- Get host key, if we know one.\n    hostkeytype = None\n    hostkey = None\n    host_keys = {}\n    try:\n        host_keys = paramiko.util.load_host_keys(os.path.expanduser('~/.ssh/known_hosts'))\n    except IOError:\n        try:\n            # try ~/ssh/ too, because windows can't have a folder named ~/.ssh/\n            host_keys = paramiko.util.load_host_keys(os.path.expanduser('~/ssh/known_hosts'))\n        except IOError:\n            print('*** Unable to open host keys file')\n            host_keys = {}\n\n    if hostname in host_keys:\n        hostkeytype = list(host_keys[hostname].keys())[0]\n        hostkey = host_keys[hostname][hostkeytype]\n        print('Using host key of type %s' % hostkeytype)\n\n    ssh = paramiko.Transport((hostname, 22))\n\n    ssh.connect(username=sUsername, password=sPassword, hostkey=hostkey)\n\n    sftp = paramiko.SFTPClient.from_transport(ssh)\n\n    sftp.chdir(sTargetDir)\n\n    sftp.put(sOutputFilename, sOutputFilename)\n\n    ssh.close()\n\nif __name__ == "__main__":\n    sftp_transfer()