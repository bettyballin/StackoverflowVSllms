import requests\n   from requests.auth import HTTPBasicAuth\n\n   # HAProxy stats URL and credentials\n   haproxy_stats_url = 'http://localhost:8080/haproxy?stats;csv'\n   auth = HTTPBasicAuth('admin', 'password')\n\n   def get_queue_length():\n       response = requests.get(haproxy_stats_url, auth=auth)\n       response.raise_for_status()\n       stats = response.text.splitlines()\n\n       queue_lengths = {}\n       for line in stats:\n           if 'mongrel' in line:\n               fields = line.split(',')\n               backend_name = fields[0]\n               queue_length = int(fields[2])\n               queue_lengths[backend_name] = queue_length\n\n       return queue_lengths\n\n   if __name__ == "__main__":\n       queue_lengths = get_queue_length()\n       for backend, length in queue_lengths.items():\n           print(f"{backend}: {length}")