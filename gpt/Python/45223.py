# views.py\nfrom django.shortcuts import render\nfrom .models import Location, Item\n\ndef by_location(request, country, state=None, city=None, big_city_nearby=None):\n    location_filter = {'country': country}\n    if state:\n        location_filter['state'] = state\n    if city:\n        location_filter['city'] = city\n    if big_city_nearby:\n        location_filter['big_city_nearby'] = big_city_nearby\n\n    locations = Location.objects.filter(**location_filter)\n    items = Item.objects.filter(location__in=locations).select_related('location')\n\n    return render(request, 'item/by_location.html', {\n        "items": items,\n        "country": country,\n        "state": state,\n        "city": city,\n        "big_city_nearby": big_city_nearby\n    })