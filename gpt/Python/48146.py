import base64\nimport zlib\nimport urllib.parse\n\ndef compress_and_encode(params):\n    # Convert params dictionary to query string\n    query_string = urllib.parse.urlencode(params)\n    \n    # Compress the query string\n    compressed = zlib.compress(query_string.encode('utf-8'))\n    \n    # Encode the compressed string in base64\n    encoded = base64.urlsafe_b64encode(compressed).decode('utf-8')\n    \n    return encoded\n\ndef decode_and_decompress(encoded):\n    # Decode from base64\n    compressed = base64.urlsafe_b64decode(encoded)\n    \n    # Decompress the string\n    decompressed = zlib.decompress(compressed).decode('utf-8')\n    \n    # Parse the query string back to dictionary\n    params = urllib.parse.parse_qs(decompressed)\n    \n    return params\n\n# Example usage\nparams = {\n    'param1': 'value1',\n    'param2': 'value2',\n    'param3': 'value3',\n    'param4': 'value4',\n    'param5': 'value5'\n}\n\nencoded_params = compress_and_encode(params)\nshort_url = f"http://example.com/script.php?p={encoded_params}"\nprint(short_url)\n\n# Decode example\ndecoded_params = decode_and_decompress(encoded_params)\nprint(decoded_params)