import gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk, GLib\n\nclass MyWindow(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title="TextView Update Example")\n        \n        self.set_default_size(400, 300)\n        \n        self.textview = Gtk.TextView()\n        self.textbuffer = self.textview.get_buffer()\n        \n        self.button = Gtk.Button(label="Start Tasks")\n        self.button.connect("clicked", self.on_button_clicked)\n        \n        self.vbox = Gtk.Box(orientation=Gtk.Orientation.VERTICAL, spacing=6)\n        self.vbox.pack_start(self.textview, True, True, 0)\n        self.vbox.pack_start(self.button, False, False, 0)\n        \n        self.add(self.vbox)\n    \n    def update_textview(self, text):\n        self.textbuffer.insert_at_cursor(text + "\n")\n        while Gtk.events_pending():\n            Gtk.main_iteration()\n    \n    def on_button_clicked(self, widget):\n        tasks = [self.task1, self.task2, self.task3]\n        GLib.idle_add(self.run_tasks, tasks)\n    \n    def run_tasks(self, tasks):\n        if tasks:\n            task = tasks.pop(0)\n            task()\n            return True  # Continue calling idle_add\n        return False  # Stop calling idle_add\n    \n    def task1(self):\n        self.update_textview("Task 1 completed.")\n    \n    def task2(self):\n        self.update_textview("Task 2 completed.")\n    \n    def task3(self):\n        self.update_textview("Task 3 completed.")\n\nwin = MyWindow()\nwin.connect("destroy", Gtk.main_quit)\nwin.show_all()\nGtk.main()