from RestrictedPython import compile_restricted\n   from RestrictedPython.Guards import safe_builtins\n\n   def run_restricted_code(code):\n       try:\n           byte_code = compile_restricted(code, '<string>', 'exec')\n           restricted_globals = {\n               '__builtins__': safe_builtins,\n               '_print_': print,\n           }\n           exec(byte_code, restricted_globals)\n       except Exception as e:\n           return str(e)\n\n   code = "print('Hello, world!')"\n   run_restricted_code(code)