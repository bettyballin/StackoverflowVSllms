from PyQt5.QtWidgets import QApplication, QTableView, QVBoxLayout, QWidget\nfrom PyQt5.QtSql import QSqlDatabase, QSqlTableModel\n\nclass MyApp(QWidget):\n    def __init__(self):\n        super().__init__()\n        \n        # Set up the database connection\n        self.db = QSqlDatabase.addDatabase("QSQLITE")\n        self.db.setDatabaseName("mydatabase.db")\n        self.db.open()\n\n        # Set up the model\n        self.model = QSqlTableModel()\n        self.model.setTable("mytable")\n        self.model.select()\n\n        # Set up the view\n        self.view = QTableView()\n        self.view.setModel(self.model)\n        \n        # Set up the layout\n        layout = QVBoxLayout()\n        layout.addWidget(self.view)\n        self.setLayout(layout)\n\n        # Connect selection change signal to slot\n        self.view.selectionModel().selectionChanged.connect(self.on_selection_changed)\n\n    def on_selection_changed(self, selected, deselected):\n        indexes = self.view.selectionModel().selectedRows()\n        for index in indexes:\n            print(f"Selected row: {index.row()}")\n\nif __name__ == "__main__":\n    import sys\n    app = QApplication(sys.argv)\n    window = MyApp()\n    window.show()\n    sys.exit(app.exec_())