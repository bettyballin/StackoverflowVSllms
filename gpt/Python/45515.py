import ldap\nimport psycopg2\n\n# LDAP Configuration\nLDAP_SERVER = "ldap://your-ldap-server"\nLDAP_BASE_DN = "dc=example,dc=com"\n\n# Database Configuration\nDB_HOST = "your-db-host"\nDB_NAME = "your-db-name"\nDB_USER = "your-db-user"\nDB_PASS = "your-db-pass"\n\ndef authenticate(username, password):\n    try:\n        conn = ldap.initialize(LDAP_SERVER)\n        conn.simple_bind_s(f"uid={username},{LDAP_BASE_DN}", password)\n        return True\n    except ldap.INVALID_CREDENTIALS:\n        return False\n    finally:\n        conn.unbind()\n\ndef get_user_profile(username):\n    conn = psycopg2.connect(\n        host=DB_HOST, dbname=DB_NAME, user=DB_USER, password=DB_PASS)\n    cursor = conn.cursor()\n    cursor.execute("SELECT * FROM user_profiles WHERE username = %s", (username,))\n    profile = cursor.fetchone()\n    cursor.close()\n    conn.close()\n    return profile\n\ndef main(username, password):\n    if authenticate(username, password):\n        profile = get_user_profile(username)\n        if profile:\n            print(f"User Profile: {profile}")\n        else:\n            print("Profile not found.")\n    else:\n        print("Authentication failed.")\n\n# Example usage\nif __name__ == "__main__":\n    main("testuser", "password123")