from django import template\n\nregister = template.Library()\n\n@register.filter\ndef join_with_and(value, oxford_comma=True):\n    """\n    Joins a list with commas and 'and' before the last item.\n    If oxford_comma is True, includes a comma before 'and'.\n    """\n    if not isinstance(value, list):\n        return value\n\n    if len(value) == 0:\n        return ''\n\n    if len(value) == 1:\n        return value[0]\n\n    if oxford_comma:\n        return ', '.join(value[:-1]) + ', and ' + value[-1]\n    else:\n        return ', '.join(value[:-1]) + ' and ' + value[-1]