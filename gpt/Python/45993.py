import wx\nimport wx.lib.newevent\n\n# Define a new event type using wx.lib.newevent\nBuildEvent, EVT_BUILD_UPDATE = wx.lib.newevent.NewEvent()\n\nclass BuildProcess(wx.Process):\n    def __init__(self, cmd, notify=None):\n        wx.Process.__init__(self, notify)\n        self.Redirect()\n        self.cmd = cmd\n        self.pid = None\n        self.timer = wx.Timer(self)\n        self.Bind(wx.EVT_TIMER, self.on_timer, self.timer)\n        self.Bind(wx.EVT_END_PROCESS, self.OnTerminate)\n        \n    def start(self):\n        self.pid = wx.Execute(self.cmd, wx.EXEC_ASYNC, self)\n        if self.pid:\n            self.timer.Start(100)  # Check every 100ms\n\n    def on_timer(self, event):\n        stream = self.GetInputStream()\n        if stream.CanRead():\n            text = stream.read()\n            wx.PostEvent(self.GetParent(), BuildEvent(data=text))\n\n    def OnTerminate(self, event):\n        self.timer.Stop()\n        wx.Process.OnTerminate(self, event.GetPid(), event.GetExitCode())\n        wx.PostEvent(self.GetParent(), BuildEvent(data="Process terminated"))