import sys\nimport time\n\nif sys.platform == 'win32':\n    import msvcrt\nelif sys.platform == 'linux' or sys.platform == 'linux2':\n    import getch\nelse:\n    raise NotImplementedError("This code only works on Windows and Linux")\n\ndef check_keypress():\n    if sys.platform == 'win32':\n        if msvcrt.kbhit():\n            return msvcrt.getch().decode('utf-8')\n    elif sys.platform == 'linux' or sys.platform == 'linux2':\n        import select\n        dr, dw, de = select.select([sys.stdin], [], [], 0)\n        if dr:\n            return getch.getch()\n    return None\n\nwhile True:\n    # doing amazing pythonic embedded stuff\n    # ...\n\n    # periodically do a non-blocking check to see if\n    # we are being told to do something else\n    key = check_keypress()\n\n    if key:\n        # ok, some key got pressed\n        # do something\n        print(f"Key pressed: {key}")\n\n    # Sleep for a short duration to prevent high CPU usage\n    time.sleep(0.1)