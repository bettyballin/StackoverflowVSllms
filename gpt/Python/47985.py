import datetime\n\n# Assuming you have a function to execute a SQL query and return results\ndef fetch_all_posts():\n    # Example SQL query to fetch all posts\n    query = "SELECT * FROM posts"\n    # Execute the query and return results\n    return execute_query(query)\n\ndef categorize_posts(posts):\n    now = datetime.datetime.now()\n    one_year_ago = now - datetime.timedelta(days=365)\n    one_month_ago = now - datetime.timedelta(days=30)\n    one_week_ago = now - datetime.timedelta(days=7)\n\n    categories = {\n        'within_one_year': [],\n        'within_one_month': [],\n        'within_one_week': []\n    }\n\n    for post in posts:\n        post_date = post['created_at']  # Assuming posts have a 'created_at' field\n\n        if post_date > one_week_ago:\n            categories['within_one_week'].append(post)\n        if post_date > one_month_ago:\n            categories['within_one_month'].append(post)\n        if post_date > one_year_ago:\n            categories['within_one_year'].append(post)\n    \n    return categories\n\n# Fetch all posts\nposts = fetch_all_posts()\n\n# Categorize posts\ncategorized_posts = categorize_posts(posts)\n\n# Now you have posts categorized and can use them as needed\nprint(categorized_posts)