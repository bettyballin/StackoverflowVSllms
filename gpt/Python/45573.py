import atexit\nimport signal\nimport sys\n\ndef cleanup():\n    print("Running cleanup tasks...")\n\n# Register the cleanup function with atexit\natexit.register(cleanup)\n\ndef handle_signal(signum, frame):\n    print(f"Received signal {signum}, running cleanup tasks...")\n    cleanup()\n    sys.exit(0)\n\n# Register signal handlers for SIGINT (Ctrl+C) and SIGTERM\nsignal.signal(signal.SIGINT, handle_signal)\nsignal.signal(signal.SIGTERM, handle_signal)\n\n# Your main code here\ntry:\n    while True:\n        # Simulate long-running process\n        pass\nexcept KeyboardInterrupt:\n    # This allows the cleanup function to be called on Ctrl+C\n    pass