import re\n\ndef remove_useless_p_tags(html):\n    # Regex pattern to find empty paragraph tags or those with only whitespace or non-breaking spaces\n    pattern = re.compile(r'<p[^>]*>(?:\s|&nbsp;|<br\s*/?>)*</p>')\n    \n    # Replace matched patterns with an empty string\n    cleaned_html = pattern.sub('', html)\n    \n    return cleaned_html\n\nhtml_string = '''<p>If I have a string like:</p>\n<pre><code><p>&nbsp;</p>\n<p></p>\n<p class="a"><br /></p>\n<p class="b">&nbsp;</p>\n<p>blah blah blah this is some real content</p>\n<p>&nbsp;</p>\n<p></p>\n<p class="a"><br /></p>\n</code></pre>\n<p>How can I turn it into just:</p>\n<pre><code><p>blah blah blah this is some real content</p>\n</code></pre>'''\n\ncleaned_html = remove_useless_p_tags(html_string)\nprint(cleaned_html)