import pymysql\nimport zlib\n\n# Establish the connection\nconnection = pymysql.connect(\n    host='your_host',\n    user='your_user',\n    password='your_password',\n    db='your_db'\n)\n\ntry:\n    with connection.cursor() as cursor:\n        # Execute the query\n        sql = "SELECT * FROM your_table WHERE ..."\n        cursor.execute(sql)\n        result = cursor.fetchall()\n        \n        # Convert the result to a string or bytes\n        result_str = str(result).encode('utf-8')\n        \n        # Compress the result\n        compressed_result = zlib.compress(result_str)\n        \n        # Send compressed_result to the client\n        # Client will decompress it using zlib.decompress(compressed_result)\nfinally:\n    connection.close()