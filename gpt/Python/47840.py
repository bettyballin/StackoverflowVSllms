from PIL import Image\nimport numpy as np\nfrom sklearn.cluster import KMeans\nimport matplotlib.pyplot as plt\n\ndef extract_colors(image_path, num_colors):\n    # Load and resize image\n    img = Image.open(image_path)\n    img = img.resize((img.width // 4, img.height // 4))  # Resize for performance\n    img_np = np.array(img)\n    \n    # Reshape image data\n    img_data = img_np.reshape((-1, 3))\n    \n    # Apply K-Means clustering\n    kmeans = KMeans(n_clusters=num_colors, random_state=0).fit(img_data)\n    colors = kmeans.cluster_centers_.astype(int)\n    \n    return colors\n\ndef plot_colors(colors):\n    # Plot the colors as a bar\n    bar = np.zeros((50, len(colors) * 50, 3), dtype=np.uint8)\n    for idx, color in enumerate(colors):\n        bar[:, idx * 50:(idx + 1) * 50] = color\n    plt.imshow(bar)\n    plt.axis('off')\n    plt.show()\n\n# Extract and plot colors\nimage_path = 'path_to_your_image.png'\nnum_colors = 5  # Define number of primary colors\ncolors = extract_colors(image_path, num_colors)\nplot_colors(colors)