from flask import Flask, request, jsonify\nimport time\n\napp = Flask(__name__)\n\n# Example in-memory storage for user request timestamps\nuser_requests = {}\n\n# Rate limit settings\nRATE_LIMIT = 5  # max requests\nTIME_WINDOW = 60  # time window in seconds\n\n@app.route('/post', methods=['POST'])\ndef post_message():\n    user_id = request.form.get('user_id')\n    current_time = time.time()\n    \n    if user_id not in user_requests:\n        user_requests[user_id] = []\n    \n    # Filter out requests that are outside the time window\n    user_requests[user_id] = [timestamp for timestamp in user_requests[user_id] if current_time - timestamp < TIME_WINDOW]\n\n    if len(user_requests[user_id]) >= RATE_LIMIT:\n        return jsonify({"error": "Rate limit exceeded"}), 429\n    \n    user_requests[user_id].append(current_time)\n    # Process the post message here\n    return jsonify({"success": "Message posted"}), 200\n\nif __name__ == '__main__':\n    app.run(debug=True)