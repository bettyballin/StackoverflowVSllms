from flask import Flask, request, jsonify\nfrom PIL import Image\nimport os\n\napp = Flask(__name__)\nUPLOAD_FOLDER = 'uploads/'\nTHUMBNAIL_FOLDER = 'thumbnails/'\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\nos.makedirs(THUMBNAIL_FOLDER, exist_ok=True)\n\n@app.route('/upload', methods=['POST'])\ndef upload_image():\n    if 'image' not in request.files:\n        return jsonify({"error": "No image part in the request"}), 400\n    file = request.files['image']\n    if file.filename == '':\n        return jsonify({"error": "No selected file"}), 400\n    if file:\n        image_path = os.path.join(UPLOAD_FOLDER, file.filename)\n        file.save(image_path)\n        create_thumbnail(image_path, file.filename)\n        return jsonify({"message": "Image uploaded successfully"}), 200\n\ndef create_thumbnail(image_path, filename):\n    size = (128, 128)\n    with Image.open(image_path) as img:\n        img.thumbnail(size)\n        thumbnail_path = os.path.join(THUMBNAIL_FOLDER, filename)\n        img.save(thumbnail_path, "JPEG")\n\nif __name__ == '__main__':\n    app.run(debug=True)