# Define the expected size\ninitial_capacity = 1000\n\n# Pre-allocate the list with None values\nl = [None] * initial_capacity\n\n# Use an index to keep track of the current position\nindex = 0\n\nwhile foo:\n    # Ensure you don't exceed the pre-allocated capacity\n    if index >= initial_capacity:\n        # Optionally handle the case where more capacity is needed,\n        # e.g., by resizing the list\n        l.extend([None] * initial_capacity)\n        initial_capacity *= 2\n    \n    # Add the element at the current index\n    l[index] = bar\n    index += 1\n\n# Optionally trim the list to the actual number of elements added\nl = l[:index]