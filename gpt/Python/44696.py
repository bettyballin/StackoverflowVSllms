def is_point_near_line_segment(A, B, X, d):\n    import numpy as np\n    \n    A = np.array(A)\n    B = np.array(B)\n    X = np.array(X)\n    \n    AX = X - A\n    BX = X - B\n    AB = B - A\n    \n    # Squared distance threshold\n    d2 = d * d\n    \n    # Check if X is within distance d from A or B\n    if np.dot(AX, AX) <= d2 or np.dot(BX, BX) <= d2:\n        return True\n    \n    # Project X onto the line AB\n    AB_mag2 = np.dot(AB, AB)\n    if AB_mag2 == 0:\n        return False  # A and B are the same point\n    \n    t = np.dot(AX, AB) / AB_mag2\n    t = max(0, min(1, t))  # Clamp t to the interval [0, 1]\n    \n    # Find the projection point P on the segment AB\n    P = A + t * AB\n    \n    # Check if the distance from X to P is within distance d\n    XP = X - P\n    return np.dot(XP, XP) <= d2\n\n# Example usage\nA = [0, 0]\nB = [4, 4]\nX = [3, 1]\nd = 1.5\n\nprint(is_point_near_line_segment(A, B, X, d))  # Output: True or False