class TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef constructFromPrePost(preorder, postorder):\n    if not preorder or not postorder:\n        return None\n    \n    root = TreeNode(preorder[0])\n    if len(preorder) == 1:\n        return root\n    \n    left_subtree_root_index = preorder.index(postorder[-2])\n    root.left = constructFromPrePost(preorder[1:left_subtree_root_index], postorder[:left_subtree_root_index-1])\n    root.right = constructFromPrePost(preorder[left_subtree_root_index:], postorder[left_subtree_root_index-1:-1])\n    \n    return root