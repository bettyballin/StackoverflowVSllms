import smtplib\nimport base64\n\nsmtpuser = 'your_smtp_username'\nsmtppass = 'your_smtp_password'\n\n# Establish a connection to the SMTP server\nsession = smtplib.SMTP("smtp-auth.ourhosting.com", 587)\nsession.ehlo()\nsession.starttls()\nsession.ehlo()\n\n# Encode the username and password in base64\nauth_string = "\0%s\0%s" % (smtpuser, smtppass)\nbase64_auth_string = base64.b64encode(auth_string)\n\n# Send the AUTH command with the encoded credentials\nsession.docmd("AUTH", "PLAIN " + base64_auth_string)\n\n# Now you can proceed to send email\nfrom_addr = 'your_email@domain.com'\nto_addr = 'recipient@domain.com'\nmessage = """\\nFrom: your_email@domain.com\nTo: recipient@domain.com\nSubject: Test email\n\nThis is a test email.\n"""\n\nsession.sendmail(from_addr, to_addr, message)\nsession.quit()