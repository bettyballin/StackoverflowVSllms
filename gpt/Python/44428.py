import getpass\nimport imaplib\nimport ctypes\n\ndef erase_password(pwd):\n    """\n    Overwrite the password in memory with null bytes.\n    """\n    buf = ctypes.create_string_buffer(len(pwd))\n    ctypes.memset(ctypes.addressof(buf), 0, len(pwd))\n    return buf\n\nusername = input('User name: ')\npassword = getpass.getpass()\n\n# Use the password for login\nmail = imaplib.IMAP4('MAIL_HOST')\nmail.login(username, password)\n\n# Overwrite password in memory\npassword_buffer = erase_password(password)\n\n# Optional: Clear username from memory as well\nusername_buffer = erase_password(username)\n\n# Ensure we do not keep references to the cleared buffers\ndel password, username, password_buffer, username_buffer