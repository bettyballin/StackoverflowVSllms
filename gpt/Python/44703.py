from pygments import highlight\n   from pygments.lexers import get_lexer_by_name\n   from pygments.formatters import ImageFormatter\n   from PIL import Image\n\n   def source_to_image(source_code, language, output_file):\n       # Get the lexer for the specified language\n       lexer = get_lexer_by_name(language, stripall=True)\n\n       # Set up the formatter with desired image properties\n       formatter = ImageFormatter(font_name='Courier', line_numbers=True, style='colorful')\n\n       # Highlight the code\n       highlighted_code = highlight(source_code, lexer, formatter)\n\n       # Save the highlighted code as an image\n       with open(output_file, 'wb') as f:\n           f.write(highlighted_code)\n\n       # Optionally, open and display the image using PIL\n       image = Image.open(output_file)\n       image.show()\n\n   # Example usage\n   if __name__ == "__main__":\n       source_code = """\n       public class HelloWorld {\n           public static void main(String[] args) {\n               System.out.println("Hello, World!");\n           }\n       }\n       """\n       source_to_image(source_code, 'java', 'output.jpg')