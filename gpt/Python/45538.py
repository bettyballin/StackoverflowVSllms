from django.utils import timezone\n\nclass Attachment(models.Model):\n    message = models.ForeignKey(Message, on_delete=models.CASCADE)\n    updated = models.DateTimeField(auto_now=True)\n\n    def save(self, *args, **kwargs):\n        super(Attachment, self).save(*args, **kwargs)\n        # Update the parent message's updated field\n        self.message.updated = timezone.now()\n        self.message.save()\n\nclass Message(models.Model):\n    updated = models.DateTimeField(auto_now=True)