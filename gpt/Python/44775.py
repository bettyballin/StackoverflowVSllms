import chm\nimport re\n\ndef extract_isbn_from_chm(chm_path):\n    isbn_pattern = r'\b(?:ISBN[- ]*?:? )?(?=[-0-9 ]{13}|[-0-9X ]{10})[0-9]+[- ][0-9]+[- ][0-9]+[- ][0-9X]\b'\n    chm_file = chm.CHMFile(chm_path)\n    full_text = ""\n\n    for path in chm_file.files():\n        if path.endswith(".html") or path.endswith(".htm"):\n            html_content = chm_file.read_file(path).decode('utf-8', errors='ignore')\n            full_text += html_content\n\n    isbn_match = re.search(isbn_pattern, full_text)\n    if isbn_match:\n        return isbn_match.group(0)\n    else:\n        return "ISBN not found"\n\n# Example usage\nchm_path = 'path/to/your/ebook.chm'\nisbn = extract_isbn_from_chm(chm_path)\nprint(f'Extracted ISBN: {isbn}')