def set_zeros(matrix):\n    n = len(matrix)\n    first_row_has_zero = False\n    first_col_has_zero = False\n\n    # Check if first row has a zero\n    for j in range(n):\n        if matrix[0][j] == 0:\n            first_row_has_zero = True\n            break\n\n    # Check if first column has a zero\n    for i in range(n):\n        if matrix[i][0] == 0:\n            first_col_has_zero = True\n            break\n\n    # Use first row and first column to mark zeros\n    for i in range(1, n):\n        for j in range(1, n):\n            if matrix[i][j] == 0:\n                matrix[0][j] = 0\n                matrix[i][0] = 0\n\n    # Zero out marked rows and columns\n    for i in range(1, n):\n        if matrix[i][0] == 0:\n            for j in range(1, n):\n                matrix[i][j] = 0\n\n    for j in range(1, n):\n        if matrix[0][j] == 0:\n            for i in range(1, n):\n                matrix[i][j] = 0\n\n    # Zero out the first row if needed\n    if first_row_has_zero:\n        for j in range(n):\n            matrix[0][j] = 0\n\n    # Zero out the first column if needed\n    if first_col_has_zero:\n        for i in range(n):\n            matrix[i][0] = 0\n\n# Example usage:\nmatrix = [\n    [1, 0, 1, 1, 0],\n    [0, 1, 1, 1, 0],\n    [1, 1, 1, 1, 1],\n    [1, 0, 1, 1, 1],\n    [1, 1, 1, 1, 1]\n]\n\nset_zeros(matrix)\n\nfor row in matrix:\n    print(' '.join(map(str, row)))