from flask import Flask, request, jsonify, Response\n\napp = Flask(__name__)\n\n@app.route('/resource/<int:id>', methods=['PUT'])\ndef update_resource(id):\n    content_type = request.headers.get('Content-Type')\n    accept = request.headers.get('Accept')\n\n    if content_type == 'application/json':\n        data = request.json\n        # Process JSON data\n    elif content_type == 'application/xml':\n        data = request.data  # You might need to parse XML data\n        # Process XML data\n    elif content_type == 'text/csv':\n        data = request.data  # You might need to parse CSV data\n        # Process CSV data\n    else:\n        return Response("Unsupported Media Type", status=415)\n\n    # Prepare the response based on the Accept header\n    if accept == 'application/json':\n        response = jsonify(data)\n        response.headers['Content-Type'] = 'application/json'\n    elif accept == 'application/xml':\n        response = Response(data, status=200, mimetype='application/xml')\n    elif accept == 'text/csv':\n        response = Response(data, status=200, mimetype='text/csv')\n    else:\n        return Response("Not Acceptable", status=406)\n\n    return response\n\nif __name__ == '__main__':\n    app.run(debug=True)