import os\nimport subprocess\n\ndef execute_as_user(command, uid):\n    # Save the current UID\n    original_uid = os.getuid()\n    \n    try:\n        # Change the UID to the target user\n        os.setuid(uid)\n        \n        # Execute the command\n        result = subprocess.run(command, shell=True, capture_output=True, text=True)\n        \n        # Print the command output\n        print(result.stdout)\n        if result.stderr:\n            print(result.stderr)\n    \n    except Exception as e:\n        print(f"Error: {e}")\n    \n    finally:\n        # Restore the original UID\n        os.setuid(original_uid)\n\n# Example usage\nif __name__ == "__main__":\n    user1_uid = 1001  # Replace with the actual UID of user1\n    user2_uid = 1002  # Replace with the actual UID of user2\n    \n    # Execute commands as user1\n    execute_as_user("ls ~", user1_uid)\n    execute_as_user("mv file1 new_location", user1_uid)\n    \n    # Execute commands as user2\n    execute_as_user("ls ~", user2_uid)\n    execute_as_user("mv file1 new_location", user2_uid)