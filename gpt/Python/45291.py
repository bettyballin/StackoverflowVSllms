def rewrap_text(text, width=79):\n    import textwrap\n\n    # Split the text into lines\n    lines = text.split('\n')\n\n    # Initialize variables\n    paragraphs = []\n    current_paragraph = []\n\n    # Process each line\n    for line in lines:\n        if line.strip() == "":\n            if current_paragraph:\n                paragraphs.append(current_paragraph)\n                current_paragraph = []\n        else:\n            current_paragraph.append(line)\n\n    if current_paragraph:\n        paragraphs.append(current_paragraph)\n\n    # Rewrap the paragraphs\n    rewrapped_text = ""\n    for paragraph in paragraphs:\n        if len(paragraph) == 1:\n            # Treat single lines as semantic newlines (e.g., address)\n            rewrapped_text += paragraph[0] + "\n"\n        else:\n            # Rewrap the paragraph\n            paragraph_text = " ".join(paragraph)\n            wrapped_paragraph = textwrap.fill(paragraph_text, width=width)\n            rewrapped_text += wrapped_paragraph + "\n\n"\n\n    return rewrapped_text.strip()\n\n# Example usage\ntext = """\nOops, I entered my address incorrectly. Can you change it to\n\nFred Smith\n123 Main St\nAnytown, VA 12345\n\nThanks!\n\n-- \nFred Smith\nContoso Product Lover\n"""\n\nformatted_text = rewrap_text(text)\nprint(formatted_text)