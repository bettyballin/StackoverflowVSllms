# app.py\nfrom flask import Flask, render_template, request, redirect, url_for, flash\n\napp = Flask(__name__)\napp.secret_key = 'your_secret_key'\n\n@app.route('/form', methods=['GET', 'POST'])\ndef form():\n    errors = {}\n    data = {}\n\n    if request.method == 'POST':\n        data = request.form.to_dict()\n        # Example validation\n        if not data.get('username'):\n            errors['username'] = 'Username is required.'\n        if not data.get('email') or '@' not in data['email']:\n            errors['email'] = 'A valid email is required.'\n\n        if errors:\n            flash(errors)\n            return redirect(url_for('form'))\n\n        # Process the form data (e.g., save to database)\n        return redirect(url_for('success'))\n\n    return render_template('form.html', errors=errors, data=data)\n\n@app.route('/success')\ndef success():\n    return "Form submitted successfully!"\n\nif __name__ == '__main__':\n    app.run(debug=True)