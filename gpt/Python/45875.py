def distribute_votes(Ta, a, Tb, M):\n    # Calculate the total sum of the initial ratios\n    total_a = sum(a)\n\n    # Calculate the ratio of each ai to the total sum\n    ratios = [ai / total_a for ai in a]\n\n    # Distribute Tb votes according to the calculated ratios\n    distributed_votes = [int(Tb * ratio) for ratio in ratios]\n    \n    # Adjust if M < N by taking only the first M distributions\n    if M < len(distributed_votes):\n        distributed_votes = distributed_votes[:M]\n\n    return distributed_votes\n\n# Example usage\nTa = 20\na = [8, 6, 4, 2]  # Distribution of votes for Ta\nTb = 10\nM = 4  # Number of constituencies for Tb\n\nresult = distribute_votes(Ta, a, Tb, M)\nprint(result)  # Output should be [4, 3, 2, 1]