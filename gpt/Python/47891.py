from bs4 import BeautifulSoup\n\n    def split_html_after_n_words(html, n):\n        soup = BeautifulSoup(html, 'html.parser')\n        words = []\n        current_word_count = 0\n        \n        def traverse(element):\n            nonlocal current_word_count\n            if element.name:  # If it's a tag\n                new_element = soup.new_tag(element.name, **element.attrs)\n                for child in element.children:\n                    child_result = traverse(child)\n                    if child_result:\n                        new_element.append(child_result)\n                return new_element\n            elif element.string:  # If it's a string\n                text = element.string.strip()\n                text_words = text.split()\n                if current_word_count + len(text_words) > n:\n                    remaining_words = n - current_word_count\n                    words.append(' '.join(text_words[:remaining_words]))\n                    return ' '.join(text_words[:remaining_words])\n                else:\n                    words.append(text)\n                    current_word_count += len(text_words)\n                    return text\n        \n        result = soup.new_tag('div')  # A container for the result\n        for child in soup.body:\n            if current_word_count >= n:\n                break\n            result.append(traverse(child))\n        \n        return str(result)\n\n    # Example usage\n    html = '''<p>This is some text with a \n      <a href="http://www.example.com/" title="Example link">\n         bit of linked text in it\n      </a>.\n    </p>'''\n\n    # Split after 5 words\n    result_5_words = split_html_after_n_words(html, 5)\n    print(result_5_words)\n\n    # Split after 7 words\n    result_7_words = split_html_after_n_words(html, 7)\n    print(result_7_words)