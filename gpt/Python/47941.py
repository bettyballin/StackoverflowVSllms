import socket\n\nclass IRCException(Exception):\n    pass\n\ndef connect_to_irc(server, port, nickname):\n    irc = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    irc.connect((server, port))\n    \n    irc.send(bytes(f"NICK {nickname}\r\n", "UTF-8"))\n    irc.send(bytes(f"USER {nickname} 0 * :{nickname}\r\n", "UTF-8"))\n\n    while True:\n        response = irc.recv(4096).decode("UTF-8")\n        \n        if not response:\n            raise IRCException("Connection closed by server")\n        \n        print(response)\n        \n        if "PING" in response:\n            irc.send(bytes(f"PONG {response.split()[1]}\r\n", "UTF-8"))\n        \n        if "ERROR" in response:\n            raise IRCException(f"IRC Error: {response}")\n        \n        # Add more specific checks and raise exceptions as needed\n        if "433" in response:  # ERR_NICKNAMEINUSE\n            raise IRCException("Nickname is already in use")\n\n        # Continue processing other responses as needed\n\ntry:\n    connect_to_irc("irc.example.com", 6667, "YourNickname")\nexcept IRCException as e:\n    print(f"An error occurred: {e}")