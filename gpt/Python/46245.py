from trac.core import Component, implements\n   from trac.wiki.api import IWikiSyntaxProvider\n   from trac.wiki.macros import WikiMacroBase\n   from pygments import highlight\n   from pygments.formatters import HtmlFormatter\n   from pygments.lexers import PythonLexer\n\n   class CustomWikiProcessor(Component):\n       implements(IWikiSyntaxProvider)\n\n       def get_wiki_syntax(self):\n           return []\n\n       def get_link_resolvers(self):\n           return []\n\n       def expand_macro(self, formatter, name, content):\n           if name == 'pytraceback':\n               formatter = HtmlFormatter(noclasses=False, linenos=True)\n               lexer = PythonLexer()\n               highlighted_code = highlight(content, lexer, formatter)\n               return highlighted_code\n           return content