import os\nimport MySQLdb\nimport time\nimport subprocess\n\ndb_password = os.getenv('DB_PASSWORD')  # Ensure you set this environment variable securely\ndb = MySQLdb.connect(host="localhost", user="root", passwd=db_password, db="workspace")\ncursor = db.cursor()\n\nproc = subprocess.Popen(['tail', '-f', 'syslog.log'], stdout=subprocess.PIPE)\nwhile True:\n    x = proc.stdout.readline().decode('utf-8')\n    if len(x) == 0:\n        break\n    y = x.split()\n    if y[2] == 'BAD':\n        timestring = time.strftime("%Y-%m-%d %H:%M:%S", time.localtime(time.time()))\n        cursor.execute("INSERT INTO releases (date, cat, name) values (%s, %s, %s)", (timestring, y[4], y[7]))\n    if y[2] == 'GOOD':\n        print(y[4] + '\t' + y[7])\n\ndb.commit()\ncursor.close()\ndb.close()