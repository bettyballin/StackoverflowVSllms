import requests\n\n# Initialize the last_time with a known past timestamp\nlast_time = 1236164238\n\nwhile True:\n    # Construct the request URL with the updated last_time\n    url = f"http://www.smsgateway.com/?login=myusername&password=mypassword&lasttime={last_time}"\n    \n    # Make the request to the SMS gateway\n    response = requests.get(url)\n    \n    # Check if the response is successful\n    if response.status_code == 200:\n        messages = response.json()  # Assuming the response is in JSON format\n        \n        if messages:\n            for message in messages:\n                # Process each message and add it to the database\n                \n                # Update last_time to the timestamp of the latest message received\n                message_timestamp = message['timestamp']  # Adjust according to the actual timestamp field in the response\n                last_time = max(last_time, message_timestamp)\n                \n        else:\n            print("No new messages")\n    else:\n        print("Failed to retrieve messages")\n    \n    # Wait for a certain interval before the next request\n    time.sleep(60)  # Adjust the interval as needed