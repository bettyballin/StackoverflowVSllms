import socket\nimport struct\nimport threading\n\n# Multicast group details\nMCAST_GRP = '224.1.1.1'\nMCAST_PORT = 5004\n\n# Function to receive messages\ndef receive_messages(sock):\n    while True:\n        data, addr = sock.recvfrom(1024)\n        print(f"Received message: {data.decode('utf-8')} from {addr}")\n\n# Function to send messages\ndef send_messages(sock):\n    while True:\n        message = input("Enter message: ")\n        sock.sendto(message.encode('utf-8'), (MCAST_GRP, MCAST_PORT))\n\ndef main():\n    # Set up the socket for multicast\n    sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.IPPROTO_UDP)\n    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    sock.bind(('', MCAST_PORT))\n    \n    # Add socket to multicast group\n    mreq = struct.pack("4sl", socket.inet_aton(MCAST_GRP), socket.INADDR_ANY)\n    sock.setsockopt(socket.IPPROTO_IP, socket.IP_ADD_MEMBERSHIP, mreq)\n    \n    # Start threads for sending and receiving messages\n    threading.Thread(target=receive_messages, args=(sock,)).start()\n    threading.Thread(target=send_messages, args=(sock,)).start()\n\nif __name__ == "__main__":\n    main()