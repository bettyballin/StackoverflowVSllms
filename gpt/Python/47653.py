import random\n\nclass Sudoku4x4x4:\n    def __init__(self):\n        self.grid = [[0 for _ in range(16)] for _ in range(16)]\n        self.numbers = list(range(1, 17))\n\n    def is_safe(self, row, col, num):\n        # Check row and column\n        for x in range(16):\n            if self.grid[row][x] == num or self.grid[x][col] == num:\n                return False\n\n        # Check 4x4 sub-grid\n        start_row, start_col = 4 * (row // 4), 4 * (col // 4)\n        for i in range(4):\n            for j in range(4):\n                if self.grid[start_row + i][start_col + j] == num:\n                    return False\n\n        return True\n\n    def fill_grid(self):\n        for i in range(16):\n            for j in range(16):\n                if self.grid[i][j] == 0:\n                    random.shuffle(self.numbers)\n                    for num in self.numbers:\n                        if self.is_safe(i, j, num):\n                            self.grid[i][j] = num\n                            if self.fill_grid():\n                                return True\n                            self.grid[i][j] = 0\n                    return False\n        return True\n\n    def print_grid(self):\n        for row in self.grid:\n            print(" ".join(str(num) for num in row))\n\n# Example usage\nsudoku = Sudoku4x4x4()\nsudoku.fill_grid()\nsudoku.print_grid()