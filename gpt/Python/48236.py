import gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\n\nclass TextViewWithWidgets(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title="TextView with Resizable Widgets")\n        \n        self.set_default_size(400, 300)\n        \n        self.scrolled_window = Gtk.ScrolledWindow()\n        self.add(self.scrolled_window)\n        \n        self.textview = Gtk.TextView()\n        self.scrolled_window.add(self.textview)\n        \n        self.textbuffer = self.textview.get_buffer()\n        \n        self.textbuffer.insert_at_cursor("This is some text before the widget.\n")\n        \n        self.insert_widget(Gtk.Button(label="Button 1"))\n        self.insert_widget(Gtk.Entry())\n        \n        self.textbuffer.insert_at_cursor("\nThis is some text after the widget.\n")\n        \n        self.connect("destroy", Gtk.main_quit)\n    \n    def insert_widget(self, widget):\n        # Create a Gtk.Box to hold the widget and make it resizable\n        box = Gtk.Box()\n        box.pack_start(widget, True, True, 0)\n        \n        # Create a Gtk.Widget anchor\n        anchor = self.textbuffer.create_child_anchor(self.textbuffer.get_end_iter())\n        \n        # Add the Gtk.Box to the TextView\n        self.textview.add_child_at_anchor(box, anchor)\n        \n        # Show the widget and the Gtk.Box\n        widget.show()\n        box.show()\n        \n# Run the application\nwin = TextViewWithWidgets()\nwin.show_all()\nGtk.main()