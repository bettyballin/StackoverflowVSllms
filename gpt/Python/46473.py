import random\n\ndef generate_sentence(n):\n    if n < 3:\n        raise ValueError("The minimum number of terminals must be at least 3")\n\n    def generate_S(n):\n        if n == 3:\n            return generate_NP(1) + " " + generate_VP(2)\n        else:\n            choice = random.choice(["S_and_S", "S_after_which_S"])\n            if choice == "S_and_S":\n                split_point = random.randint(3, n-3)\n                return generate_S(split_point) + " and " + generate_S(n - split_point)\n            elif choice == "S_after_which_S":\n                split_point = random.randint(3, n-3)\n                return generate_S(split_point) + ", after which " + generate_S(n - split_point)\n\n    def generate_NP(n):\n        if n == 1:\n            return "the " + generate_N(1)\n        elif n == 2:\n            return "the " + generate_A(1) + " " + generate_N(1)\n        elif n == 3:\n            return "the " + generate_A(1) + " " + generate_A(1) + " " + generate_N(1)\n\n    def generate_VP(n):\n        return generate_V(1) + " " + generate_NP(n - 1)\n\n    def generate_N(n):\n        return random.choice(["dog", "fish", "bird", "wizard"])\n\n    def generate_V(n):\n        return random.choice(["kicks", "meets", "marries"])\n\n    def generate_A(n):\n        return random.choice(["red", "striped", "spotted"])\n\n    return generate_S(n)\n\n# Example usage\nn = 7  # Number of terminals\nsentence = generate_sentence(n)\nprint(sentence)