import urllib2\n\n# Proxy information\nproxy_info = {\n    'host': 'myproxy.com',\n    'user': 'Username',\n    'pass': 'Password',\n    'port': 1080\n}\n\n# Construct the proxy URL\nhttp_str = "http://%(user)s:%(pass)s@%(host)s:%(port)d" % proxy_info\n\n# Define the proxy dictionary\nproxy_dict = {'http': http_str}\n\n# Create a ProxyHandler\nproxy_handler = urllib2.ProxyHandler(proxy_dict)\n\n# Auth handler (if needed)\nauth_info = urllib2.HTTPBasicAuthHandler()\nauth_info.add_password(None, 'myproxy.com', 'Username', 'Password')\n\n# Create a URL opener with the proxy handler\nproxy_opener = urllib2.build_opener(proxy_handler, auth_info, urllib2.HTTPHandler)\n\n# Define the list of exceptions (domains that should bypass the proxy)\nexceptions = ["localhost", "127.0.0.1", "example.com"]\n\ndef build_opener_with_exceptions(url):\n    for exception in exceptions:\n        if exception in url:\n            return urllib2.build_opener(urllib2.HTTPHandler())\n    return proxy_opener\n\n# Example usage\nurl = 'http://example.com'\n\n# Get the appropriate opener based on the URL\nopener = build_opener_with_exceptions(url)\n\n# Use the opener to open the URL\nresponse = opener.open(url)\nprint(response.read())