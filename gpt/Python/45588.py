import requests\nfrom lxml import etree\nfrom django.shortcuts import render\nfrom django.http import JsonResponse\n\nBASE_URL = 'http://example.com/services/'\n\ndef get_service(request, service_name):\n    response = requests.get(BASE_URL)\n    doc = etree.fromstring(response.content)\n    uri = doc.xpath(f"//service/name[.='{service_name}']/following-sibling::uri")[0].text\n    service_response = requests.get(uri)\n    service_data = etree.fromstring(service_response.content)\n\n    # Parse the service data as needed\n    # Example: Extract widget data\n    widgets = []\n    for widget in service_data.xpath("//widget"):\n        widget_id = widget.find("id").text\n        widget_name = widget.find("name").text\n        widget_uri = widget.find("uri").text\n        widgets.append({\n            'id': widget_id,\n            'name': widget_name,\n            'uri': widget_uri,\n        })\n\n    return render(request, 'widgets.html', {'widgets': widgets})\n\ndef get_item(request, service_name, item_id):\n    response = requests.get(BASE_URL)\n    doc = etree.fromstring(response.content)\n    uri_template = doc.xpath(f"//service/name[.='{service_name}']/following-sibling::item_link")[0].text\n    uri = uri_template.replace('{widget_id}', str(item_id))\n\n    item_response = requests.get(uri)\n    item_data = etree.fromstring(item_response.content)\n\n    # Parse the item data as needed\n    item_info = {\n        'id': item_data.find("id").text,\n        'name': item_data.find("name").text,\n        'description': item_data.find("description").text,\n    }\n\n    return render(request, 'widget_detail.html', {'item': item_info})