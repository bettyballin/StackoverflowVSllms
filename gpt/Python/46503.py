import chardet\n\ndef decode_data(data):\n    # Try UTF-8 first\n    try:\n        return data.decode('utf-8')\n    except UnicodeDecodeError:\n        pass\n\n    # Try other common encodings\n    encodings = ['ISO-8859-1', 'windows-1252']\n    for enc in encodings:\n        try:\n            return data.decode(enc)\n        except UnicodeDecodeError:\n            pass\n\n    # Use chardet as a last resort\n    detected_encoding = chardet.detect(data)['encoding']\n    if detected_encoding:\n        try:\n            return data.decode(detected_encoding)\n        except UnicodeDecodeError:\n            pass\n\n    # If everything fails, replace problematic characters\n    return data.decode('utf-8', 'replace')\n\n# Example usage\nirc_data = irc.recv(4096)\ndecoded_data = decode_data(irc_data)