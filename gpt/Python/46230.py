# myapp/middleware.py\n   from django.utils.deprecation import MiddlewareMixin\n   from django.utils import translation\n\n   class TLDBasedLanguageMiddleware(MiddlewareMixin):\n       def process_request(self, request):\n           host = request.get_host().split('.')\n           tld = host[-1] if len(host) > 1 else None\n\n           if tld == 'fr':\n               language = 'fr'\n           elif tld == 'de':\n               language = 'de'\n           elif tld == 'jp':\n               language = 'jp'\n           else:\n               language = 'en'\n\n           translation.activate(language)\n           request.LANGUAGE_CODE = language