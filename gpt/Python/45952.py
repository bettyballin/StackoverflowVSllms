from django.db import models\nfrom django.contrib.auth.models import User\n\nclass KnownEmail(models.Model):\n    STATUS_CHOICES = (\n        ('whitelist', 'Whitelist'),\n        ('blacklist', 'Blacklist'),\n    )\n    related_user = models.ForeignKey(User, on_delete=models.CASCADE)\n    email = models.EmailField()\n    status = models.CharField(max_length=10, choices=STATUS_CHOICES)\n\n    class Meta:\n        unique_together = ('related_user', 'email')\n\ndef check_permission(user, email_address):\n    """\n    Check if 'emailAddress' is allowed to post content to 'user's profile.\n    Returns True if whitelisted, False if blacklisted, and None if not specified.\n    """\n    try:\n        known_email = KnownEmail.objects.get(related_user=user, email=email_address)\n        if known_email.status == 'whitelist':\n            return True\n        elif known_email.status == 'blacklist':\n            return False\n    except KnownEmail.DoesNotExist:\n        return None