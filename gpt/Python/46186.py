class TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef is_identical(t1, t2):\n    if not t1 and not t2:\n        return True\n    if not t1 or not t2:\n        return False\n    return t1.val == t2.val and is_identical(t1.left, t2.left) and is_identical(t1.right, t2.right)\n\ndef is_subtree(T1, T2):\n    if not T2:\n        return True\n    if not T1:\n        return False\n    if is_identical(T1, T2):\n        return True\n    return is_subtree(T1.left, T2) or is_subtree(T1.right, T2)