def recommend_products(user_id, user_similarity_matrix, user_item_matrix):\n    similar_users = user_similarity_matrix[user_id].drop(user_id).sort_values(ascending=False)\n    recommended_products = set()\n    \n    for similar_user in similar_users.index:\n        purchased_items = user_item_matrix.loc[similar_user][user_item_matrix.loc[similar_user] > 0].index\n        recommended_products.update(purchased_items)\n    \n    # Remove items the user has already purchased\n    purchased_items_by_user = user_item_matrix.loc[user_id][user_item_matrix.loc[user_id] > 0].index\n    recommended_products.difference_update(purchased_items_by_user)\n    \n    return list(recommended_products)\n\n# Example usage:\nuser_id = 1\nrecommendations = recommend_products(user_id, user_similarity, user_item_matrix)\nprint(f'Recommended products for user {user_id}: {recommendations}')