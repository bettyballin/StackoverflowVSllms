import docker\nimport os\n\ndef run_script_in_docker(script_path):\n    client = docker.from_env()\n    \n    try:\n        container = client.containers.run(\n            image="python:3.9-slim",\n            command=f"python {script_path}",\n            volumes={\n                os.path.abspath(script_path): {\n                    'bind': f"/scripts/{os.path.basename(script_path)}",\n                    'mode': 'ro'\n                }\n            },\n            working_dir="/scripts",\n            detach=True,\n            mem_limit="128m",  # Limit memory usage\n            network_disabled=True,  # Disable network access\n            pids_limit=100,  # Limit the number of processes\n        )\n        logs = container.logs()\n        container.remove()\n        return logs.decode('utf-8')\n    except docker.errors.ContainerError as e:\n        return f"Container error: {e}"\n    except Exception as e:\n        return f"Error: {e}"\n\n# Example usage\nscript_path = "user_script.py"\noutput = run_script_in_docker(script_path)\nprint(output)