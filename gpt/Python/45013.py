import dill\nimport socket\n\nclass Rapply:\n    def __init__(self, host, port):\n        self.host = host\n        self.port = port\n\n    def __call__(self, fn, args=(), kwargs={}):\n        serialized_data = dill.dumps((fn, args, kwargs))\n        \n        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n            s.connect((self.host, self.port))\n            s.sendall(serialized_data)\n\n            data = b""\n            while True:\n                packet = s.recv(4096)\n                if not packet:\n                    break\n                data += packet\n\n        result = dill.loads(data)\n        return result\n\nif __name__ == "__main__":\n    def example_function(x, y, z=1):\n        return x + y + z\n\n    rapply = Rapply('remote_server_address', 5000)\n    result = rapply(example_function, args=(1, 2), kwargs={'z': 3})\n    print(result)  # Output should be 6