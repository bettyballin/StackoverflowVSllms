import re\n\ndef split_string(input_string, max_length=40):\n    # Regular expression to match up to max_length characters, stopping at the last whitespace before the limit\n    pattern = r'(.{1,' + str(max_length) + r'})(?:\s|$)'\n    matches = re.findall(pattern, input_string)\n    \n    # Remove trailing whitespace from each match\n    result = [match.strip() for match in matches]\n    \n    return result\n\n# Example usage\nlong_string = "This is a long string that needs to be parsed into an array of strings, none of which exceed 40 characters in length."\nparsed_strings = split_string(long_string)\nfor s in parsed_strings:\n    print(s)