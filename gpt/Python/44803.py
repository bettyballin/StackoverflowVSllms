import gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\nimport os\n\nclass CustomFileChooser(Gtk.Dialog):\n    def __init__(self, parent):\n        Gtk.Dialog.__init__(self, "Choose a File", parent, 0,\n            (Gtk.STOCK_CANCEL, Gtk.ResponseType.CANCEL,\n             Gtk.STOCK_OPEN, Gtk.ResponseType.OK))\n\n        self.set_default_size(800, 400)\n\n        box = self.get_content_area()\n        self.file_liststore = Gtk.ListStore(str)\n        \n        self.treeview = Gtk.TreeView(model=self.file_liststore)\n        renderer = Gtk.CellRendererText()\n        column = Gtk.TreeViewColumn("Filename", renderer, text=0)\n        self.treeview.append_column(column)\n        box.add(self.treeview)\n\n        self.populate_file_list("/path/to/directory")\n\n        self.show_all()\n\n    def populate_file_list(self, directory):\n        for filename in os.listdir(directory):\n            self.file_liststore.append([filename])\n\nwin = CustomFileChooser(None)\nresponse = win.run()\n\nif response == Gtk.ResponseType.OK:\n    print("Open clicked")\nelif response == Gtk.ResponseType.CANCEL:\n    print("Cancel clicked")\n\nwin.destroy()