from django.db import models\nfrom django.db.models.functions import Upper\n\nclass MyModel(models.Model):\n    login = models.CharField(max_length=10)\n\n    class Meta:\n        constraints = [\n            models.UniqueConstraint(\n                name='unique_upper_login',\n                fields=['login'],\n                deferrable=models.Deferrable.DEFERRED,\n                condition=models.Q(login__isnull=False),\n                include=['login'],\n                opclasses=['text_pattern_ops'],\n                expressions=[\n                    Upper('login')\n                ]\n            ),\n        ]