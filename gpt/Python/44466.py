from flask import Flask, request, jsonify\n\napp = Flask(__name__)\n\n# In-memory store for votes, replace with a persistent store in production\nvotes = {}\n\n@app.route('/vote', methods=['POST'])\ndef vote():\n    data = request.json\n    guid = request.cookies.get('guid')\n    if not guid:\n        return jsonify({'error': 'GUID not found'}), 400\n    \n    content_id = data.get('content_id')\n    vote_type = data.get('vote_type')  # 'up' or 'down'\n    \n    if not content_id or vote_type not in ['up', 'down']:\n        return jsonify({'error': 'Invalid data'}), 400\n\n    if content_id not in votes:\n        votes[content_id] = {'up': 0, 'down': 0, 'voters': set()}\n\n    if guid in votes[content_id]['voters']:\n        return jsonify({'error': 'Already voted'}), 400\n\n    votes[content_id][vote_type] += 1\n    votes[content_id]['voters'].add(guid)\n    \n    return jsonify({'success': True, 'votes': votes[content_id]})\n\nif __name__ == '__main__':\n    app.run(debug=True)