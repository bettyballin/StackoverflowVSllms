from rest_framework.views import APIView\n   from rest_framework.response import Response\n   from rest_framework.permissions import IsAuthenticated\n   from rest_framework import status\n   from .models import MyModel\n   from .serializers import MyModelSerializer\n\n   class MyModelList(APIView):\n       permission_classes = [IsAuthenticated]\n\n       def get(self, request):\n           my_models = MyModel.objects.all()\n           serializer = MyModelSerializer(my_models, many=True)\n           return Response(serializer.data)\n\n       def post(self, request):\n           serializer = MyModelSerializer(data=request.data)\n           if serializer.is_valid():\n               serializer.save()\n               return Response(serializer.data, status=status.HTTP_201_CREATED)\n           return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)