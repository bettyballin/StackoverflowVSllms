from flask import Flask, request, jsonify\nfrom cryptography.fernet import Fernet\n\napp = Flask(__name__)\n\n# Generate a key for encryption/decryption (store this securely)\nkey = Fernet.generate_key()\ncipher_suite = Fernet(key)\n\n# Example database of licenses (in practice, use a secure database)\nlicenses = {\n    "user1": "license_key_1",\n    "user2": "license_key_2"\n}\n\n@app.route('/get_license', methods=['POST'])\ndef get_license():\n    data = request.json\n    user_id = data.get('user_id')\n    if user_id in licenses:\n        # Encrypt the license key before sending it to the client\n        encrypted_license = cipher_suite.encrypt(licenses[user_id].encode())\n        return jsonify({"license": encrypted_license.decode()})\n    else:\n        return jsonify({"error": "Invalid user ID"}), 401\n\nif __name__ == '__main__':\n    app.run(ssl_context='adhoc')  # Use a proper SSL certificate in productio