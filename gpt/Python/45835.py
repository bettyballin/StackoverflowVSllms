import csv\nimport smtplib\nfrom email.message import EmailMessage\nfrom io import StringIO\n\n# Function to generate CSV data\ndef generate_csv():\n    output = StringIO()\n    writer = csv.writer(output)\n    writer.writerow(['Column1', 'Column2', 'Column3'])\n    writer.writerow(['Value1', 'Value2', 'Value3'])\n    output.seek(0)\n    return output.getvalue()\n\n# Function to send email with the CSV attachment\ndef send_email(csv_content):\n    msg = EmailMessage()\n    msg['Subject'] = 'CSV Attachment'\n    msg['From'] = 'sender@example.com'\n    msg['To'] = 'recipient@example.com'\n    msg.set_content('Please find the CSV attachment.')\n\n    # Attach the CSV file\n    msg.add_attachment(csv_content, maintype='text', subtype='csv', filename='export.csv')\n\n    # Send the email\n    with smtplib.SMTP('smtp.example.com', 587) as server:\n        server.starttls()\n        server.login('username', 'password')\n        server.send_message(msg)\n\n# Generate CSV data and send email\ncsv_content = generate_csv()\nsend_email(csv_content)