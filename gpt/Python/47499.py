from django.db import connection\nfrom myapp.models import Squirrel\n\ndef get_squirrels_with_nut_count(country='USA'):\n    sql = """\n    SELECT sq.id, sq.name, sq.country_of_origin, nut_counts.nut_count\n    FROM squirrel_table sq\n    JOIN (\n        SELECT sq2.id as squirrel_id, COUNT(nuts.id) as nut_count\n        FROM squirrel_table sq2\n        JOIN nut_table nuts ON nuts.squirrel_who_owns_me = sq2.id\n        WHERE sq2.country_of_origin = %s\n        GROUP BY sq2.id\n    ) as nut_counts ON sq.id = nut_counts.squirrel_id\n    WHERE sq.country_of_origin = %s\n    """\n    \n    with connection.cursor() as cursor:\n        cursor.execute(sql, [country, country])\n        rows = cursor.fetchall()\n    \n    squirrels = []\n    for row in rows:\n        squirrel = Squirrel(id=row[0], name=row[1], country_of_origin=row[2])\n        squirrel.nut_count = row[3]\n        squirrels.append(squirrel)\n    \n    return squirrels