import random\nimport string\n\ndef generate_username(first_name, last_name, existing_usernames):\n    base_username = f"{first_name.lower()}{last_name.lower()}"\n    \n    if base_username not in existing_usernames:\n        return base_username\n    \n    # If the base username exists, append a random number to make it unique\n    while True:\n        unique_username = f"{base_username}{random.randint(1, 9999)}"\n        if unique_username not in existing_usernames:\n            return unique_username\n\n# Example usage\nexisting_usernames = {"johnsmith", "johnsmith1", "johnsmith2"}\nfirst_name = "John"\nlast_name = "Smith"\n\nnew_username = generate_username(first_name, last_name, existing_usernames)\nprint(new_username)  # Output could be "johnsmith3" or another unique username