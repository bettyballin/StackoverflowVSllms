-- Define the selected tags\nSET @selected_tags = '1,2'; -- comma-separated list of selected tag IDs\n\n-- Step 1: Find topics that have all the selected tags\nSELECT topic_id\nINTO @matching_topics\nFROM tags_topics\nWHERE tag_id IN (@selected_tags)\nGROUP BY topic_id\nHAVING COUNT(DISTINCT tag_id) = LENGTH(REPLACE(@selected_tags, ',', '')) + 1;\n\n-- Step 2: Find tags associated with these topics, excluding the selected tags\nSELECT DISTINCT t.id, t.name\nFROM tags t\nINNER JOIN tags_topics tt ON t.id = tt.tag_id\nWHERE tt.topic_id IN (SELECT topic_id FROM @matching_topics)\n  AND t.id NOT IN (@selected_tags);