SELECT date, value, check\nFROM (\n    SELECT date, value, check, \n           ROW_NUMBER() OVER (ORDER BY date DESC) rn\n    FROM your_table\n)\nWHERE rn <= (SELECT MIN(rn) \n             FROM (\n                 SELECT date, value, check, \n                        ROW_NUMBER() OVER (ORDER BY date DESC) rn\n                 FROM your_table\n             )\n             WHERE check = 0)\nORDER BY date DESC;