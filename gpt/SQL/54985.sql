USE msdb;\n   GO\n\n   -- Create a job to monitor long-running procedures\n   EXEC sp_add_job @job_name = N'CheckLongRunningProcedures';\n\n   -- Add a job step to query the LongRunningProcedures table\n   EXEC sp_add_jobstep \n       @job_name = N'CheckLongRunningProcedures',\n       @step_name = N'Check and Alert',\n       @subsystem = N'TSQL',\n       @command = N'\n           IF EXISTS (SELECT 1 FROM master.dbo.LongRunningProcedures WHERE EventTime > DATEADD(minute, -5, GETDATE()))\n           BEGIN\n               EXEC msdb.dbo.sp_send_dbmail\n                   @profile_name = ''YourProfileName'',\n                   @recipients = ''your_email@example.com'',\n                   @subject = ''Long Running Procedure Alert'',\n                   @body = ''One or more stored procedures have exceeded the execution time threshold.'';\n           END;\n       ',\n       @database_name = N'master';\n\n   -- Schedule the job to run every minute\n   EXEC sp_add_jobschedule \n       @job_name = N'CheckLongRunningProcedures',\n       @name = N'CheckEveryMinute',\n       @freq_type = 4,  -- Daily\n       @freq_interval = 1,\n       @freq_subday_type = 1,  -- Minutes\n       @freq_subday_interval = 1,\n       @active_start_time = 0;  -- Midnight\n\n   -- Enable the job\n   EXEC sp_add_jobserver @job_name = N'CheckLongRunningProcedures', @server_name = N'(local)';\n   GO