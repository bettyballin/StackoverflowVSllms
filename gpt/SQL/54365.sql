CREATE OR REPLACE FUNCTION split_csv(p_list VARCHAR2, p_delimiter VARCHAR2 := ',') \nRETURN SYS.ODCIVARCHAR2LIST \nAS\n  l_string VARCHAR2(32767) := p_list || p_delimiter;\n  l_pos    PLS_INTEGER;\n  l_data   SYS.ODCIVARCHAR2LIST := SYS.ODCIVARCHAR2LIST();\nBEGIN\n  LOOP\n    l_pos := INSTR(l_string, p_delimiter);\n    EXIT WHEN l_pos = 0;\n    l_data.EXTEND;\n    l_data(l_data.COUNT) := TRIM(SUBSTR(l_string, 1, l_pos - 1));\n    l_string := SUBSTR(l_string, l_pos + 1);\n  END LOOP;\n  RETURN l_data;\nEND split_csv;\n/