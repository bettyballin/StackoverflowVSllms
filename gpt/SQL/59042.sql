SELECT \n    u.user_id, \n    u.pic_url, \n    u.name, \n    a.auto_id, \n    a.userid, \n    a.type, \n    a.subject, \n    a.body, \n    a.datetime\nFROM \n    actions AS a\nINNER JOIN \n    users AS u ON u.user_id = a.userid\nINNER JOIN \n    friends AS f ON f.friendid = a.userid OR f.userid = a.userid\nWHERE \n    (f.userid = 1 OR f.friendid = 1)  -- 1 is your user ID\n    AND f.status = 'active'\nORDER BY \n    a.datetime DESC;