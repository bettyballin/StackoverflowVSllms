CREATE PROCEDURE UpdateUserDetails\n    @UserId INT,\n    @NewUserName NVARCHAR(50),\n    @NewEmail NVARCHAR(50),\n    @NewPhoneNumber NVARCHAR(15)\nAS\nBEGIN\n    -- Check if the new values are different from the existing values\n    IF EXISTS (\n        SELECT 1\n        FROM Users\n        WHERE UserId = @UserId\n        AND (UserName <> @NewUserName OR Email <> @NewEmail OR PhoneNumber <> @NewPhoneNumber)\n    )\n    BEGIN\n        -- Perform update only if there are changes\n        UPDATE Users\n        SET UserName = CASE WHEN UserName <> @NewUserName THEN @NewUserName ELSE UserName END,\n            Email = CASE WHEN Email <> @NewEmail THEN @NewEmail ELSE Email END,\n            PhoneNumber = CASE WHEN PhoneNumber <> @NewPhoneNumber THEN @NewPhoneNumber ELSE PhoneNumber END\n        WHERE UserId = @UserId;\n    END\nEND;