CREATE PROCEDURE Balance_Report (@AsOfDate DATETIME = NULL)\nAS\nBEGIN\n    -- Use current data if @AsOfDate is NULL or today's date\n    IF @AsOfDate IS NULL OR CONVERT(DATE, @AsOfDate) = CONVERT(DATE, GETDATE())\n    BEGIN\n        SELECT \n            GETDATE() AS AsOfDate,\n            Column1 \n        FROM \n            Current.Balance;\n    END\n    ELSE\n    BEGIN\n        SELECT \n            AsOfDate,\n            Column1 \n        FROM \n            MonthEnd.Balance\n        WHERE \n            AsOfDate = @AsOfDate;\n    END\nEND;