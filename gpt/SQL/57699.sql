DECLARE @temp TABLE\n(\n    id INT IDENTITY(1,1),\n    Name VARCHAR(150),\n    Address VARCHAR(25),\n    Date DATETIME\n)\n\nDECLARE @count INT = 0\nDECLARE @daysBack INT = 10 -- Example value\nDECLARE @date DATE\n\nWHILE (@count >= @daysBack)\nBEGIN\n    SET @date = DATEADD(dd, @count, GETDATE())\n\n    -- Create a table variable to store the output of the stored procedure\n    DECLARE @procResults TABLE\n    (\n        Name VARCHAR(150),\n        Address VARCHAR(25)\n    )\n\n    -- Insert the stored procedure results into the table variable\n    INSERT INTO @procResults (Name, Address)\n        EXEC [dbo].[StoredProc] @date\n\n    -- Insert the results from the table variable into the temp table along with the date\n    INSERT INTO @temp (Name, Address, Date)\n    SELECT Name, Address, @date\n    FROM @procResults\n\n    SET @count = @count - 1\nEND\n\n-- Select the final results\nSELECT * FROM @temp