CREATE VIEW my_view AS\nSELECT \n    metadata.ID,\n    metadata.Field1,\n    metadata.Field2,\n    metadata.Field3,\n    metadata.Field4,\n    attribute1.StrValue AS Attr1,\n    attribute2.StrValue AS Attr2\nFROM \n    metadata,\n    data AS attribute1,\n    data AS attribute2\nWHERE \n    metadata.Type = 'TYPE1'\n    AND metadata.ID = attribute1.ID \n    AND attribute1.name = 'attr1'\n    AND metadata.ID = attribute2.ID \n    AND attribute2.name = 'attr2';