-- First, count the total number of rows that meet the condition\nDECLARE @totalRows INT;\nSELECT @totalRows = COUNT(*)\nFROM SomeTable\nWHERE SomeColumn = 'SomeCondition';\n\n-- Calculate the number of rows to sample (10%)\nDECLARE @sampleSize INT;\nSET @sampleSize = @totalRows / 10;\n\n-- Select the random 10% sample using NEWID()\nSELECT TOP (@sampleSize) *\nFROM SomeTable\nWHERE SomeColumn = 'SomeCondition'\nORDER BY NEWID();