CREATE PROCEDURE mySearchProc\n(\n    @IDCriteria bigint = null,\n    @MaxDateCriteria datetime = null,\n    ...\n)\nAS\nBEGIN\n    DECLARE @SQL NVARCHAR(MAX);\n    DECLARE @Params NVARCHAR(MAX);\n    \n    SET @SQL = 'SELECT Col1, ..., Coln FROM MyTable WHERE 1=1';\n    \n    IF @IDCriteria IS NOT NULL\n        SET @SQL = @SQL + ' AND ID = @IDCriteria';\n    \n    IF @MaxDateCriteria IS NOT NULL\n        SET @SQL = @SQL + ' AND Date < @MaxDateCriteria';\n    \n    -- Add more parameters and conditions as needed\n    ...\n    \n    SET @Params = '@IDCriteria bigint, @MaxDateCriteria datetime, ...';\n    \n    EXEC sp_executesql @SQL, @Params, @IDCriteria, @MaxDateCriteria, ...;\nEND