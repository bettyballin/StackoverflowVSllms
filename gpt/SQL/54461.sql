DECLARE @measurementExists BIT;\n\n-- Check if the row exists\nSET @measurementExists = (SELECT CASE WHEN EXISTS \n    (SELECT 1 FROM tbl_data WHERE persid = @curpersid AND yr = @curyear) \n    THEN 1 ELSE 0 END);\n\nIF @measurementExists = 1\nBEGIN\n    -- Row exists, check for NULL value\n    SET @val = (SELECT measurement FROM tbl_data WHERE persid = @curpersid AND yr = @curyear);\n    \n    IF @val IS NULL\n    BEGIN\n        PRINT 'The measurement is NULL';\n    END\n    ELSE\n    BEGIN\n        PRINT 'The measurement is ' + CAST(@val AS NVARCHAR(50));\n    END\nEND\nELSE\nBEGIN\n    PRINT 'No corresponding row found';\nEND