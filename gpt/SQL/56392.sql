CREATE TABLE ##example (xmltest XML);\n\nDECLARE @LanguagePath VARCHAR(75);\nSET @LanguagePath = '(/languages/language[@id="en-US"])[1]';\n\nINSERT INTO ##example \nVALUES ('<languages>\n            <language id="en-US">c</language>\n            <language id="es-ES">c</language>\n        </languages>');\n\nINSERT INTO ##example \nVALUES ('<languages>\n            <language id="en-US">b</language>\n            <language id="es-ES">b</language>\n        </languages>');\n\nINSERT INTO ##example \nVALUES ('<languages>\n            <language id="en-US">a</language>\n            <language id="es-ES">a</language>\n        </languages>');\n\nDECLARE @SQL NVARCHAR(MAX);\nSET @SQL = '\n    SELECT * \n    FROM ##example \n    ORDER BY xmltest.value(''' + @LanguagePath + ''', ''varchar'')\n';\n\nEXEC sp_executesql @SQL;\nDROP TABLE ##example;