CREATE OR REPLACE FUNCTION get_next_counter_value (p_counter_name VARCHAR2)\nRETURN NUMBER\nIS\n  l_counter_value NUMBER;\nBEGIN\n  -- Lock the row for update to prevent concurrent access\n  SELECT counter_value INTO l_counter_value\n  FROM my_counter\n  WHERE counter_name = p_counter_name\n  FOR UPDATE;\n\n  -- Increment the counter\n  l_counter_value := l_counter_value + 1;\n\n  -- Update the counter value in the table\n  UPDATE my_counter\n  SET counter_value = l_counter_value\n  WHERE counter_name = p_counter_name;\n\n  -- Commit the transaction\n  COMMIT;\n\n  -- Return the new counter value\n  RETURN l_counter_value;\nEND;