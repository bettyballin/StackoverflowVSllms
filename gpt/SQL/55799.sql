SET ANSI_NULLS ON\nSET QUOTED_IDENTIFIER ON\nGO\n\nCREATE PROCEDURE [dbo].[InsertDifferential]\n    @differential INT = NULL\nAS\nBEGIN TRY\n    BEGIN TRANSACTION\n        UPDATE DifferentialTable\n        SET differential = CASE WHEN @differential IS NULL THEN NULL ELSE @differential END\n    COMMIT\nEND TRY\nBEGIN CATCH\n    IF @@TRANCOUNT > 0\n        ROLLBACK\n    DECLARE @ErrMsg NVARCHAR(4000), @ErrSeverity INT, @ErrorState INT\n    SELECT @ErrMsg = ERROR_MESSAGE(), \n           @ErrSeverity = ERROR_SEVERITY(),\n           @ErrorState = ERROR_STATE();\n    RAISERROR(@ErrMsg, @ErrSeverity, @ErrorState);\nEND CATCH