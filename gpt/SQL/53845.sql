SELECT \n     name, \n     (3959 * acos(cos(radians(42.290763)) * cos(radians(locations.lat)) \n     * cos(radians(locations.lng) - radians(-71.35368)) + sin(radians(42.290763)) \n     * sin(radians(locations.lat)))) AS distance \n   FROM locations \n   WHERE active = 1 \n     AND locations.lat BETWEEN 42.290763 - (10 / 69) AND 42.290763 + (10 / 69)\n     AND locations.lng BETWEEN -71.35368 - (10 / (69 * cos(radians(42.290763)))) AND -71.35368 + (10 / (69 * cos(radians(42.290763))))\n   HAVING distance < 10 \n   ORDER BY distance;