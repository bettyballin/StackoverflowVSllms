-- Step 1: Create a new table with the desired schema\nCREATE TABLE dbo.MyTable_New (\n    -- other columns\n    myColumn int NOT NULL,\n    -- other columns\n);\n\n-- Step 2: Copy data in chunks\nDECLARE @batchSize INT = 10000;\nDECLARE @lastId INT = 0;\nDECLARE @maxId INT = (SELECT MAX(Id) FROM dbo.MyTable);\n\nWHILE @lastId < @maxId\nBEGIN\n    INSERT INTO dbo.MyTable_New (/* columns */)\n    SELECT /* columns */\n    FROM dbo.MyTable\n    WHERE Id > @lastId AND Id <= @lastId + @batchSize;\n\n    SET @lastId = @lastId + @batchSize;\nEND\n\n-- Step 3: Rename the tables\nEXEC sp_rename 'dbo.MyTable', 'dbo.MyTable_Old';\nEXEC sp_rename 'dbo.MyTable_New', 'dbo.MyTable';\n\n-- Step 4: Drop the old table if everything went well\n-- DROP TABLE dbo.MyTable_Old;