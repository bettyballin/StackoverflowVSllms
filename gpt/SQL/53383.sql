WITH RECURSIVE CategoryHierarchy AS (\n    -- Starting point: select the given category (here, category_id = 10)\n    SELECT category_id, parent_id\n    FROM categories\n    WHERE category_id = 10\n    UNION ALL\n    -- Recursive part: join to find parents and children\n    SELECT c.category_id, c.parent_id\n    FROM categories c\n    INNER JOIN CategoryHierarchy ch ON c.parent_id = ch.category_id OR c.category_id = ch.parent_id\n)\nSELECT a.*\nFROM articles a\nWHERE a.category_id IN (SELECT category_id FROM CategoryHierarchy);