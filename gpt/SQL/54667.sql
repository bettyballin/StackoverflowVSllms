SET ANSI_NULLS ON\nSET QUOTED_IDENTIFIER ON\nGO\n\nALTER PROCEDURE [dbo].[getSealRecordDate]\n    (@SEAL_DATE DATETIME)\nAS\nBEGIN\n    -- Declare variables\n    DECLARE @SEAL_DATE_PLUS_ONE_SEC DATETIME;\n    SET @SEAL_DATE_PLUS_ONE_SEC = DATEADD(SECOND, 1, @SEAL_DATE);\n\n    SELECT DISTINCT\n        FGFSTRANSFERS.CONSIDERATION,\n        FGFSTRANSFERS.AMOUNT_TRANSFER,\n        FGFSTRANSFERS.DATE,\n        FGFSTransferDetails.TRANSFER_ID,\n        FGFSTRANSFERS.TRANSFER_ID,\n        FGFSTRANSFERS.Curr,\n        FGFSTransferDetails.CURR,\n        FGFSCUSTOMERS.CMF_NAME_1,\n        FGFSCUSTOMERS.CMF_NAME_2\n    FROM\n        FGFSInvestment.dbo.FGFSTransferDetails FGFSTransferDetails\n    INNER JOIN\n        FGFSInvestment.dbo.FGFSTRANSFERS FGFSTRANSFERS\n    ON\n        FGFSTransferDetails.TRANSFER_ID = FGFSTRANSFERS.TRANSFER_ID\n    INNER JOIN\n        FGFSInvestment.dbo.FGFSCUSTOMERS FGFSCUSTOMERS\n    ON\n        FGFSTRANSFERS.CUSTODIAN = FGFSCUSTOMERS.CMF_ACCOUNT\n    WHERE\n        FGFSTRANSFERS.DATE >= @SEAL_DATE\n        AND FGFSTRANSFERS.DATE < @SEAL_DATE_PLUS_ONE_SEC;\nEND