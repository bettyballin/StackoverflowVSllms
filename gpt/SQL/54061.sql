SELECT \n    v.id, \n    v.stock, \n    v.year, \n    v.make, \n    v.model, \n    i.name AS default_image_name,\n    (SELECT COUNT(*) FROM images WHERE vehicle_id = v.id) AS image_count\nFROM \n    vehicle v\nLEFT JOIN \n    images i ON v.id = i.vehicle_id AND i.default = 1\nGROUP BY \n    v.id, \n    v.stock, \n    v.year, \n    v.make, \n    v.model, \n    i.name;