CREATE PROCEDURE FilterProjects\n    @Keywords KeywordTableType READONLY\nAS\nBEGIN\n    DECLARE @Sql NVARCHAR(MAX);\n\n    -- Build the SQL query dynamically\n    SET @Sql = N'SELECT * FROM Projects WHERE 1=1';\n\n    DECLARE @Keyword NVARCHAR(255);\n    DECLARE @ParamDefinition NVARCHAR(MAX) = N'';\n    DECLARE @Counter INT = 1;\n\n    -- Loop through each keyword and append to the query\n    DECLARE keywords_cursor CURSOR FOR\n        SELECT Keyword FROM @Keywords;\n\n    OPEN keywords_cursor;\n    FETCH NEXT FROM keywords_cursor INTO @Keyword;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        SET @Sql = @Sql + N' AND ProjectName LIKE @Keyword' + CAST(@Counter AS NVARCHAR(5));\n        SET @ParamDefinition = @ParamDefinition + N', @Keyword' + CAST(@Counter AS NVARCHAR(5)) + N' NVARCHAR(255)';\n        SET @Counter = @Counter + 1;\n        FETCH NEXT FROM keywords_cursor INTO @Keyword;\n    END;\n\n    CLOSE keywords_cursor;\n    DEALLOCATE keywords_cursor;\n\n    -- Execute the dynamically constructed SQL query\n    EXEC sp_executesql @Sql, @ParamDefinition, @Keywords;\nEND;