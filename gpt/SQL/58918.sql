DECLARE\n  CURSOR c1 IS\n    SELECT my_table_id \n    FROM my_table \n    WHERE some_col < some_val \n    AND ROWNUM < 1000;\n\n  TYPE id_table IS TABLE OF my_table.my_table_id%TYPE;\n  id_array id_table;\n\n  l_limit PLS_INTEGER := 1000; -- Batch size\n  l_count PLS_INTEGER := 0;\nBEGIN\n  OPEN c1;\n  LOOP\n    FETCH c1 BULK COLLECT INTO id_array LIMIT l_limit;\n    EXIT WHEN id_array.COUNT = 0;\n\n    FORALL i IN 1..id_array.COUNT\n      UPDATE my_table\n      SET a_col = NULL\n      WHERE my_table_id = id_array(i);\n\n    l_count := l_count + SQL%ROWCOUNT;\n    COMMIT; -- Commit after each batch to free up space in the redo log\n  END LOOP;\n  CLOSE c1;\n  \n  DBMS_OUTPUT.PUT_LINE('Total rows updated: ' || l_count);\nEND;\n/