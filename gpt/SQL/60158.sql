CREATE PROCEDURE IncrementView\n(\n    @ArticleID int\n)\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    BEGIN TRANSACTION;\n\n    BEGIN TRY\n        UPDATE Article\n        SET ViewCount = ViewCount + 1\n        WHERE ID = @ArticleID\n        WITH (UPDLOCK, ROWLOCK);\n\n        COMMIT TRANSACTION;\n    END TRY\n    BEGIN CATCH\n        -- Rollback the transaction\n        ROLLBACK TRANSACTION;\n\n        -- Raise an error and return\n        DECLARE @ErrorMessage NVARCHAR(4000);\n        DECLARE @ErrorSeverity INT;\n        DECLARE @ErrorState INT;\n\n        SELECT \n            @ErrorMessage = ERROR_MESSAGE(),\n            @ErrorSeverity = ERROR_SEVERITY(),\n            @ErrorState = ERROR_STATE();\n\n        RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);\n    END CATCH;\nEND;