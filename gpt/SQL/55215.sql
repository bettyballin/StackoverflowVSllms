SELECT DISTINCT p2c.product_id\nFROM TABLE_PRODUCT_TO_CATEGORY p2c\nINNER JOIN TABLE_PRODUCT p ON p2c.product_id = p.id\nINNER JOIN TABLE_PRODUCT_TAG pt ON p.id = pt.product_id\nINNER JOIN TABLE_TAG_TYPE tt ON pt.tag_type_id = tt.id\nWHERE tt.id = PRODUCT_TAG_TYPE_FREE_TAG\nAND p.status = 1\nAND pt.value IN ('cats', 'kittens')\nGROUP BY p2c.product_id\nHAVING COUNT(DISTINCT pt.value) = 2;