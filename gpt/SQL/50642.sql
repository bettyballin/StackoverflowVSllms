CREATE FUNCTION dbo.SplitString\n(\n    @Input NVARCHAR(MAX),\n    @Delimiter CHAR(1)\n)\nRETURNS @Output TABLE (Item NVARCHAR(MAX))\nAS\nBEGIN\n    DECLARE @Start INT, @End INT\n    SET @Start = 1\n    SET @End = CHARINDEX(@Delimiter, @Input)\n\n    WHILE @Start <= LEN(@Input) + 1\n    BEGIN\n        IF @End = 0 \n            SET @End = LEN(@Input) + 1\n\n        INSERT INTO @Output (Item)\n        VALUES (SUBSTRING(@Input, @Start, @End - @Start))\n\n        SET @Start = @End + 1\n        SET @End = CHARINDEX(@Delimiter, @Input, @Start)\n    END\n\n    RETURN\nEND\nGO\n\n-- Example usage:\nSELECT * FROM dbo.SplitString('1,2,3,4,5,6,7,8,9,10,11,12,13,14,15', ',')