CREATE TABLE ParentTemp (\n        ParentID INT PRIMARY KEY,\n        ParentData NVARCHAR(100)\n    );\n\n    CREATE TRIGGER trg_InsertParentWithChild\n    ON ParentTemp\n    AFTER INSERT\n    AS\n    BEGIN\n        IF NOT EXISTS (\n            SELECT 1\n            FROM Child\n            WHERE ParentID = (SELECT ParentID FROM INSERTED)\n        )\n        BEGIN\n            DELETE FROM ParentTemp\n            WHERE ParentID = (SELECT ParentID FROM INSERTED);\n\n            RAISERROR ('Cannot insert parent record without a child record.', 16, 1);\n            RETURN;\n        END\n\n        INSERT INTO Parent (ParentID, ParentData)\n        SELECT ParentID, ParentData\n        FROM INSERTED;\n    END;