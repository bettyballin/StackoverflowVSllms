-- Main table\nCREATE TABLE main_table (\n    id NUMBER PRIMARY KEY,\n    partition_date DATE\n)\nPARTITION BY RANGE (partition_date) (\n    PARTITION p1 VALUES LESS THAN (TO_DATE('2023-01-01', 'YYYY-MM-DD')),\n    PARTITION p2 VALUES LESS THAN (TO_DATE('2024-01-01', 'YYYY-MM-DD')),\n    PARTITION p3 VALUES LESS THAN (MAXVALUE)\n);\n\n-- Subtable with partition column\nCREATE TABLE sub_table (\n    sub_id NUMBER PRIMARY KEY,\n    main_id NUMBER,\n    partition_date DATE,\n    FOREIGN KEY (main_id) REFERENCES main_table(id)\n)\nPARTITION BY RANGE (partition_date) (\n    PARTITION sp1 VALUES LESS THAN (TO_DATE('2023-01-01', 'YYYY-MM-DD')),\n    PARTITION sp2 VALUES LESS THAN (TO_DATE('2024-01-01', 'YYYY-MM-DD')),\n    PARTITION sp3 VALUES LESS THAN (MAXVALUE)\n);