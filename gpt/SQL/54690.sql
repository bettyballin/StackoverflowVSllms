CREATE PROCEDURE [dbo].[sp_FindMatches]\n    @SearchString VARCHAR(100)\nAS\nBEGIN\n    -- Temporary table to store individual words from @SearchString\n    CREATE TABLE #SearchWords (\n        Word VARCHAR(30)\n    )\n\n    -- Parse the @SearchString into individual words and insert them into the temporary table\n    DECLARE @Word VARCHAR(30)\n    DECLARE @Pos INT\n    SET @SearchString = @SearchString + ' ' -- Add a space at the end to ensure the last word is captured\n    SET @Pos = CHARINDEX(' ', @SearchString)\n\n    WHILE @Pos > 0\n    BEGIN\n        SET @Word = LTRIM(RTRIM(LEFT(@SearchString, @Pos - 1)))\n        IF LEN(@Word) > 0\n        BEGIN\n            INSERT INTO #SearchWords (Word) VALUES (@Word)\n        END\n        SET @SearchString = RIGHT(@SearchString, LEN(@SearchString) - @Pos)\n        SET @Pos = CHARINDEX(' ', @SearchString)\n    END\n\n    -- Query to find matches and rank them\n    SELECT \n        t.*,\n        COUNT(sw.Word) AS MatchCount\n    FROM \n        Table1 t\n    CROSS APPLY \n        (SELECT Word FROM #SearchWords) sw\n    WHERE \n        t.Field1 + ' ' + t.Field2 LIKE '%' + sw.Word + '%'\n    GROUP BY \n        t.Field1, t.Field2, t.OtherFields -- Add other fields in the GROUP BY as needed\n    ORDER BY \n        MatchCount DESC\n\n    -- Drop the temporary table\n    DROP TABLE #SearchWords\nEND