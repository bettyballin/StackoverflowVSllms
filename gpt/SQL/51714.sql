DELIMITER //\n\nCREATE PROCEDURE InsertOrUpdateData(\n    IN user_id INT,\n    IN row_id INT,\n    IN data VARCHAR(255)\n)\nBEGIN\n    -- Check if the user has permission to insert/update the row\n    IF row_id >= @x THEN\n        INSERT INTO your_table (id, data)\n        VALUES (row_id, data)\n        ON DUPLICATE KEY UPDATE data = VALUES(data);\n    ELSE\n        SIGNAL SQLSTATE '45000'\n        SET MESSAGE_TEXT = 'Permission denied to modify this row';\n    END IF;\nEND //\n\nDELIMITER ;