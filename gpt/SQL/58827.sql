-- Add the columns to table1\nALTER TABLE table1 ADD sncode INTEGER;\nALTER TABLE table1 ADD description_text VARCHAR2(30);\n\n-- Update the columns in table1 with values from table2\nUPDATE table1\nSET (sncode, description_text) = (\n    SELECT sncode, description_text\n    FROM table2\n    WHERE SUBSTR(otname, INSTR(otname, '.', 1, 3) + 1, \n                 INSTR(otname, '.', 1, 4) - INSTR(otname, '.', 1, 3) - 1) = sncode\n)\nWHERE EXISTS (\n    SELECT 1\n    FROM table2\n    WHERE SUBSTR(otname, INSTR(otname, '.', 1, 3) + 1, \n                 INSTR(otname, '.', 1, 4) - INSTR(otname, '.', 1, 3) - 1) = sncode\n);