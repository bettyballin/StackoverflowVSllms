-- Create a temporary table to capture the output\nCREATE TABLE #TempReply (Reply varchar(2048));\n\n-- Loop through unprocessed records\nWHILE EXISTS (SELECT 1 FROM updateTable WHERE Processed = 0)\nBEGIN\n    -- Select the top record to process\n    DECLARE @record int;\n    SELECT TOP 1 @record = record FROM updateTable WHERE Processed = 0;\n\n    -- Execute the stored procedure and capture the output\n    INSERT INTO #TempReply (Reply)\n    EXEC insertSomeData @param = @record;\n\n    -- Mark the record as processed\n    UPDATE updateTable\n    SET Processed = 1\n    WHERE record = @record;\nEND\n\n-- Drop the temporary table\nDROP TABLE #TempReply;