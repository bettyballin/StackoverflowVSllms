Declare @rows int\n, @ID uniqueidentifier\n, @LocTotal bigint\n\nselect @rows = count(*) from #t1\n\nwhile @rows > 0\nbegin\n    print @rows\n\n    -- Get that rowID\n    select top 1 @ID = recid from #t1\n\n    select @LocTotal = (\n        (case when cbHPILoc1 = 1 then POWER(2, 0) else 0 end) +\n        (case when cbHPILoc2 = 1 then POWER(2, 1) else 0 end) +\n        (case when cbHPILoc3 = 1 then POWER(2, 2) else 0 end) +\n        -- Add similar cases for all columns up to cbHPILoc25\n        (case when cbHPILoc25 = 1 then POWER(2, 24) else 0 end)\n    )\n    from dbo.MyTest_BitMap\n    where RecKey = @ID\n\n    print @ID\n    print @LocTotal\n\n    -- Move to the next row\n    delete top (1) from #t1\n    select @rows = @rows - 1\nend