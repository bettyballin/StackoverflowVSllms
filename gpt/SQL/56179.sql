SELECT\n    p.*,\n    r.*\nFROM\n    products AS p\nLEFT JOIN (\n    SELECT \n        r1.*\n    FROM \n        revisions AS r1\n    INNER JOIN (\n        SELECT \n            product_id, \n            MAX(modified) AS max_modified\n        FROM \n            revisions\n        GROUP BY \n            product_id\n    ) AS r2 ON r1.product_id = r2.product_id AND r1.modified = r2.max_modified\n) AS r ON p.product_id = r.product_id\nORDER BY \n    p.product_id;