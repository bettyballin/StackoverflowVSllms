WITH RecursiveCTE AS (\n    SELECT NodeId, NodeName, ParentId\n    FROM YourTable\n    WHERE ParentId = 1  -- Start with the desired parent node (e.g., NodeId = 1)\n    UNION ALL\n    SELECT t.NodeId, t.NodeName, t.ParentId\n    FROM YourTable t\n    INNER JOIN RecursiveCTE r ON t.ParentId = r.NodeId\n)\nSELECT NodeId\nFROM RecursiveCTE\nWHERE NodeId != 1;  -- Exclude the parent node itself if needed