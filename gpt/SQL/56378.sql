CREATE FUNCTION dbo.SplitString\n(\n    @Input NVARCHAR(MAX),\n    @Delimiter CHAR(1)\n)\nRETURNS @Output TABLE (Item INT)\nAS\nBEGIN\n    DECLARE @Start INT, @End INT\n    SET @Start = 1\n\n    WHILE CHARINDEX(@Delimiter, @Input, @Start) > 0\n    BEGIN\n        SET @End = CHARINDEX(@Delimiter, @Input, @Start)\n        INSERT INTO @Output (Item)\n        VALUES (CAST(SUBSTRING(@Input, @Start, @End - @Start) AS INT))\n        SET @Start = @End + 1\n    END\n\n    INSERT INTO @Output (Item)\n    VALUES (CAST(SUBSTRING(@Input, @Start, LEN(@Input) - @Start + 1) AS INT))\n\n    RETURN\nEND