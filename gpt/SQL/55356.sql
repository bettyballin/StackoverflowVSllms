CREATE OR REPLACE PROCEDURE GetSortedAndFilteredData (\n    p_sort_column   IN VARCHAR2,\n    p_sort_direction IN VARCHAR2,\n    p_filter_column IN VARCHAR2,\n    p_filter_value  IN VARCHAR2,\n    p_cursor        OUT SYS_REFCURSOR\n) AS\n    l_sql  VARCHAR2(4000);\nBEGIN\n    -- Validate sort direction\n    IF p_sort_direction NOT IN ('ASC', 'DESC') THEN\n        RAISE_APPLICATION_ERROR(-20001, 'Invalid sort direction');\n    END IF;\n\n    -- Validate sort column\n    IF p_sort_column NOT IN ('CompanyName', 'CompanyID', 'OtherColumnName') THEN\n        RAISE_APPLICATION_ERROR(-20002, 'Invalid sort column');\n    END IF;\n\n    l_sql := 'SELECT * FROM YourTable';\n    \n    IF p_filter_column IS NOT NULL THEN\n        l_sql := l_sql || ' WHERE ' || p_filter_column || ' = :filter_value';\n    END IF;\n    \n    l_sql := l_sql || ' ORDER BY ' || p_sort_column || ' ' || p_sort_direction;\n    \n    OPEN p_cursor FOR l_sql USING p_filter_value;\nEND;\n/