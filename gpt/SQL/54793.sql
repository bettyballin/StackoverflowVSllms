DECLARE\n  l_report  CLOB;\nBEGIN\n  l_report := DBMS_WORKLOAD_REPOSITORY.AWR_REPORT_HTML(\n                 l_dbid            => (SELECT dbid FROM v$database),\n                 l_inst_num        => (SELECT instance_number FROM v$instance),\n                 l_bid             => <begin_snap_id>,\n                 l_eid             => <end_snap_id>,\n                 l_options         => DBMS_WORKLOAD_REPOSITORY.ALL_OPTIONS);\n  -- Save the report to a file or process it as needed\n  DBMS_OUTPUT.PUT_LINE(l_report);\nEND;\n/