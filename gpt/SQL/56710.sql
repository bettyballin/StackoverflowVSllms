CREATE PROCEDURE sp_test\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    DECLARE @A VARCHAR(255), @B VARCHAR(255), @C VARCHAR(255), @D INT;\n\n    DECLARE Table_Cursor CURSOR FOR \n    SELECT A, B, C \n    FROM tbl_Member;\n\n    OPEN Table_Cursor;\n\n    FETCH NEXT FROM Table_Cursor INTO @A, @B, @C;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        INSERT INTO NewMember (A, B, C)\n        VALUES (@A, @B, @C);\n\n        SET @D = SCOPE_IDENTITY();\n\n        INSERT INTO MemberId (Mid)\n        VALUES (@D);\n\n        FETCH NEXT FROM Table_Cursor INTO @A, @B, @C;\n    END;\n\n    CLOSE Table_Cursor;\n    DEALLOCATE Table_Cursor;\nEND;\nGO