CREATE PROCEDURE updateSomeItem\n(\n    @ItemIdNmb             INT,\n    @Foo                   VARCHAR(100),\n    @UpdateLoginIdNmb      INT\n)\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    /* If the user performing the action did not create the Item in question, \n       raise an error. */\n    IF NOT EXISTS\n    (\n        SELECT 1\n        FROM Items\n        WHERE IdNmb = @ItemIdNmb\n          AND LoginIdNmb = @UpdateLoginIdNmb\n    )\n    BEGIN\n        RAISERROR ('User action not allowed - User is not the owner of the specified Item', 16, 1);\n        RETURN;\n    END\n\n    UPDATE Items\n    SET Foo = @Foo\n    WHERE IdNmb = @ItemIdNmb;\n\n    RETURN 0;\n\n    SET NOCOUNT OFF;\nEND\nGO