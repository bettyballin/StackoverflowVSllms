;WITH OrderCounts AS (\n    SELECT \n        CustomerID, \n        OrderDate, \n        COUNT(1) AS Cnt\n    FROM \n        Sales.SalesOrderHeader\n    WHERE \n        CustomerID = 11300\n    GROUP BY \n        CustomerID, OrderDate\n)\n, MaxOrderCounts AS (\n    SELECT \n        CustomerID, \n        MAX(Cnt) AS MaxCnt\n    FROM \n        OrderCounts\n    GROUP BY \n        CustomerID\n)\nSELECT \n    oc.CustomerID, \n    oc.OrderDate, \n    oc.Cnt\nFROM \n    OrderCounts oc\nJOIN \n    MaxOrderCounts moc\nON \n    oc.CustomerID = moc.CustomerID\n    AND oc.Cnt = moc.MaxCnt\nORDER BY \n    oc.OrderDate;