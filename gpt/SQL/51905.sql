WITH all_users AS (\n    SELECT DISTINCT UserID\n    FROM your_table\n),\nall_movies AS (\n    SELECT DISTINCT MovieID\n    FROM your_table\n),\nuser_movie_combinations AS (\n    SELECT UserID, MovieID\n    FROM all_users\n    CROSS JOIN all_movies\n)\nSELECT \n    user_movie_combinations.UserID,\n    user_movie_combinations.MovieID,\n    your_table.Rating\nFROM \n    user_movie_combinations\nLEFT JOIN \n    your_table\nON \n    user_movie_combinations.UserID = your_table.UserID\nAND \n    user_movie_combinations.MovieID = your_table.MovieID\nORDER BY \n    user_movie_combinations.UserID,\n    user_movie_combinations.MovieID;