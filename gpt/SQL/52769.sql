DECLARE\n        ccur SYS_REFCURSOR;\n        sExcludeCategories VARCHAR2(32767) := '1,2,3'; -- Example input\n        PI_N_Dept NUMBER := 123; -- Example department ID\n        l_exclude_categories t_number_list;\n    BEGIN\n        l_exclude_categories := str_to_number_list(sExcludeCategories);\n        \n        OPEN ccur FOR\n            SELECT c.category\n            FROM test_category c\n            WHERE c.deptid = PI_N_Dept\n            AND c.category NOT IN (SELECT COLUMN_VALUE FROM TABLE(l_exclude_categories));\n        \n        -- Process the cursor as needed\n        CLOSE ccur;\n    END;\n    /