-- Step 1: Insert the new transaction (replace <NEW_DATE>, <NEW_AMOUNT>, etc.)\nINSERT INTO transactions (date, amount)\nVALUES (<NEW_DATE>, <NEW_AMOUNT>);\n\n-- Step 2: Retrieve the running balance from the previous transaction\n-- (assuming transactions have a unique ID)\nWITH previous_balance AS (\n    SELECT running_balance\n    FROM transactions\n    WHERE date < <NEW_DATE>\n    ORDER BY date DESC\n    LIMIT 1\n)\n-- Step 3: Update the running balance for the new transaction\nUPDATE transactions\nSET running_balance = (SELECT running_balance FROM previous_balance) + <NEW_AMOUNT>\nWHERE date = <NEW_DATE>;\n\n-- Step 4: Update the running balance for all subsequent transactions\nUPDATE transactions\nSET running_balance = running_balance + <NEW_AMOUNT>\nWHERE date > <NEW_DATE>;