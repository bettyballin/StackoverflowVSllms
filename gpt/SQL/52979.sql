-- Create cache table\nCREATE TABLE cachetable AS\nSELECT DISTINCT field FROM maintable;\n\n-- Set up a trigger to update cache table on insert/update/delete\nCREATE OR REPLACE FUNCTION update_cachetable() RETURNS TRIGGER AS $$\nBEGIN\n    IF (TG_OP = 'INSERT' OR TG_OP = 'UPDATE') THEN\n        INSERT INTO cachetable(field)\n        SELECT DISTINCT NEW.field\n        ON CONFLICT (field) DO NOTHING;\n    ELSIF (TG_OP = 'DELETE') THEN\n        DELETE FROM cachetable WHERE field = OLD.field;\n    END IF;\n    RETURN NULL;\nEND;\n$$ LANGUAGE plpgsql;\n\n-- Attach the trigger to the main table\nCREATE TRIGGER cachetable_trigger\nAFTER INSERT OR UPDATE OR DELETE ON maintable\nFOR EACH ROW EXECUTE FUNCTION update_cachetable();