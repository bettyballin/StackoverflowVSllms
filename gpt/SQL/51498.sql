CREATE PROCEDURE GetFormattedDateTime\nAS\nBEGIN\n    SELECT \n        YourColumn1,\n        YourColumn2,\n        CONVERT(varchar, DATEPART(day, YourDateTimeColumn)) + \n        UPPER(SUBSTRING(DATENAME(month, YourDateTimeColumn), 1, 3)) AS DDMMM,\n        RIGHT('0' + LTRIM(STR(DATEPART(hour, YourDateTimeColumn) % 12)), 2) +\n        RIGHT('0' + LTRIM(STR(DATEPART(minute, YourDateTimeColumn))), 2) + \n        CASE WHEN DATEPART(hour, YourDateTimeColumn) >= 12 THEN 'P' ELSE 'A' END AS HHMMT\n    FROM \n        YourTableName;\nEND;