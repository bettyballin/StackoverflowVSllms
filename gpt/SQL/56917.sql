-- Assuming you have the following tables:\n-- Local table\nCREATE TABLE baz (\n    foo_id INT NOT NULL,\n    -- other columns\n);\n\n-- Trigger to enforce referential integrity\nCREATE TRIGGER trg_baz_insert\nON baz\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    IF EXISTS (\n        SELECT 1\n        FROM inserted i\n        LEFT JOIN OPENQUERY(LINKEDSERVER, 'SELECT id FROM RemoteDatabase.dbo.tbl_bar') r\n        ON i.foo_id = r.id\n        WHERE r.id IS NULL\n    )\n    BEGIN\n        RAISERROR('Referential integrity violation: foo_id does not exist in the remote table.', 16, 1);\n        ROLLBACK TRANSACTION;\n    END\nEND;\nGO