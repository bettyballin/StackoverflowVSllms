DECLARE\n    v_error_count INT := 0;\nBEGIN\n    -- Start the transaction\n    SAVEPOINT start_trans;\n\n    -- First update\n    BEGIN\n        UPDATE MyTable1 SET MyColumn1 = 'JSMITH' WHERE MyColumn1 = 'JOHN';\n    EXCEPTION\n        WHEN OTHERS THEN\n            v_error_count := v_error_count + 1;\n            -- Log the error if needed\n            DBMS_OUTPUT.PUT_LINE('Error updating MyTable1: ' || SQLERRM);\n    END;\n\n    -- Second update\n    BEGIN\n        UPDATE MyTable2 SET MyColumn2 = 'JSMITH' WHERE MyColumn2 = 'JOHN';\n    EXCEPTION\n        WHEN OTHERS THEN\n            v_error_count := v_error_count + 1;\n            -- Log the error if needed\n            DBMS_OUTPUT.PUT_LINE('Error updating MyTable2: ' || SQLERRM);\n    END;\n\n    -- Third update\n    BEGIN\n        UPDATE MyTable SET LoginID = 'JSMITH' WHERE LoginID = 'JOHN';\n    EXCEPTION\n        WHEN OTHERS THEN\n            v_error_count := v_error_count + 1;\n            -- Log the error if needed\n            DBMS_OUTPUT.PUT_LINE('Error updating MyTable: ' || SQLERRM);\n    END;\n\n    -- Check for errors and decide whether to commit or rollback\n    IF v_error_count = 0 THEN\n        COMMIT;\n        DBMS_OUTPUT.PUT_LINE('JSMITH Updated ok');\n    ELSE\n        ROLLBACK TO start_trans;\n        DBMS_OUTPUT.PUT_LINE('We had a problem with JSMITH and rolled back *****');\n    END IF;\nEND;\n/