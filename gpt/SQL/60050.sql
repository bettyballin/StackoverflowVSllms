-- Create a new trace\nDECLARE @TraceID INT;\nEXEC sp_trace_create @TraceID OUTPUT, 0, N'C:\TraceFile.trc', 5, NULL;\n\n-- Set the events and columns to be captured\nEXEC sp_trace_setevent @TraceID, 10, 1, 1; -- RPC:Completed Event, TextData Column\nEXEC sp_trace_setevent @TraceID, 10, 12, 1; -- RPC:Completed Event, SPID Column\nEXEC sp_trace_setevent @TraceID, 12, 1, 1; -- SQL:BatchCompleted Event, TextData Column\nEXEC sp_trace_setevent @TraceID, 12, 12, 1; -- SQL:BatchCompleted Event, SPID Column\n\n-- Set filters (optional)\n-- Filter to capture only specific application\nEXEC sp_trace_setfilter @TraceID, 10, 1, 0, N'AppName';\n\n-- Start the trace\nEXEC sp_trace_setstatus @TraceID, 1;\n\n-- Stop and delete the trace when done\n-- EXEC sp_trace_setstatus @TraceID, 0;\n-- EXEC sp_trace_setstatus @TraceID, 2;