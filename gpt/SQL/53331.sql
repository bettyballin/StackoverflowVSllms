CREATE PROCEDURE SearchFooBars\n    @SearchQuery NVARCHAR(100)\nAS\nBEGIN\n    DECLARE @Sql NVARCHAR(MAX)\n    DECLARE @SearchTerms TABLE (Term NVARCHAR(100))\n    DECLARE @Term NVARCHAR(100)\n    DECLARE @Delimiter CHAR(1) = ' '\n    \n    -- Split the search query into individual terms\n    INSERT INTO @SearchTerms SELECT value FROM STRING_SPLIT(@SearchQuery, @Delimiter)\n    \n    -- Construct the base SQL query\n    SET @Sql = 'SELECT Id, Name FROM dbo.FooBars WHERE 1=1'\n    \n    -- Add a CONTAINS clause for each search term\n    DECLARE cur CURSOR FOR SELECT Term FROM @SearchTerms\n    OPEN cur\n    FETCH NEXT FROM cur INTO @Term\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        SET @Sql = @Sql + ' AND CONTAINS(Name, N''FORMSOF(Thesaurus, ' + @Term + ')'')'\n        FETCH NEXT FROM cur INTO @Term\n    END\n    CLOSE cur\n    DEALLOCATE cur\n\n    -- Execute the dynamically constructed SQL query\n    EXEC sp_executesql @Sql\nEND