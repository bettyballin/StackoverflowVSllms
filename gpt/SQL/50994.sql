SELECT \n    resource.*,\n    COALESCE(perms_users.read, perms_group.read) AS read_permission,\n    COALESCE(perms_users.write, perms_group.write) AS write_permission,\n    COALESCE(perms_users.execute, perms_group.execute) AS execute_permission\nFROM \n    resource\nLEFT OUTER JOIN \n    perms_group ON resource.id = perms_group.res_id AND perms_group.group_id = 2\nLEFT OUTER JOIN \n    perms_users ON resource.id = perms_users.res_id AND perms_users.user_id = 3\nWHERE \n    resource.id = 1;