DELIMITER $$\n\nCREATE PROCEDURE check_table_size()\nBEGIN\n    DECLARE table_size BIGINT;\n    DECLARE threshold BIGINT DEFAULT 500000;  -- Adjust the threshold as needed\n\n    -- Get the total size of the table\n    SELECT SUM(OCTET_LENGTH(data)) INTO table_size FROM amoreAgentTST01;\n\n    -- If the table size exceeds the threshold, delete the oldest record\n    IF table_size > threshold THEN\n        DELETE FROM amoreAgentTST01\n        ORDER BY updatetime\n        LIMIT 1;\n    END IF;\nEND$$\n\nDELIMITER ;