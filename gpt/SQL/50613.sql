DECLARE @job_id UNIQUEIDENTIFIER;\nDECLARE @job_name NVARCHAR(128);\nDECLARE @job_status INT;\n\n-- Check status of Job_Proc1\nSET @job_name = 'Job_Proc1';\nSELECT @job_id = job_id FROM msdb.dbo.sysjobs WHERE name = @job_name;\nWAITFOR DELAY '00:00:01'; -- Wait for 1 second before checking status\n\nWHILE (1 = 1)\nBEGIN\n    SELECT @job_status = run_status \n    FROM msdb.dbo.sysjobhistory \n    WHERE job_id = @job_id \n    AND step_id = 0 \n    ORDER BY run_date DESC, run_time DESC;\n\n    IF @job_status = 1 -- Job succeeded\n        BREAK;\n    ELSE IF @job_status = 0 -- Job failed\n        THROW 50000, 'Job failed.', 1;\n\n    WAITFOR DELAY '00:00:01';\nEND\n\n-- Similarly, check status of Job_Proc2\n-- ...