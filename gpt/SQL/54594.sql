BEGIN TRANSACTION;\n\n-- Insert data into TableA\nINSERT INTO TableA (Column1, Column2)\nVALUES ('Value1', 'Value2');\n\n-- Retrieve the last inserted identity value from TableA\nDECLARE @LastInsertedID INT;\nSET @LastInsertedID = SCOPE_IDENTITY();\n\n-- Insert data into TableB using the retrieved identity value as the foreign key\nINSERT INTO TableB (ForeignKeyColumn, Column3, Column4)\nVALUES (@LastInsertedID, 'Value3', 'Value4');\n\nCOMMIT TRANSACTION;