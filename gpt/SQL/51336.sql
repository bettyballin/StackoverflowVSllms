WITH DateRanges AS (\n    SELECT \n        DATEADD(year, DATEDIFF(year, '2000-05-01', [date]), '2000-05-01') AS StartDate,\n        DATEADD(year, DATEDIFF(year, '2000-05-01', [date]) + 1, '2000-05-01') AS EndDate,\n        [date]\n    FROM logins\n)\nSELECT \n    StartDate,\n    EndDate,\n    COUNT(*) AS cnt\nFROM DateRanges\nGROUP BY \n    StartDate,\n    EndDate\nORDER BY \n    StartDate;