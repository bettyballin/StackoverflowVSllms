CREATE PROCEDURE GenerateTableHashes\nAS\nBEGIN\n    DECLARE @tableName NVARCHAR(255)\n    DECLARE @sql NVARCHAR(MAX)\n    DECLARE @hash NVARCHAR(MAX)\n    \n    -- Temporary table to store table hashes\n    CREATE TABLE #TableHashes (\n        TableName NVARCHAR(255),\n        TableHash NVARCHAR(MAX)\n    )\n    \n    -- Cursor to iterate through all user tables\n    DECLARE table_cursor CURSOR FOR\n    SELECT TABLE_NAME\n    FROM INFORMATION_SCHEMA.TABLES\n    WHERE TABLE_TYPE = 'BASE TABLE'\n    \n    OPEN table_cursor\n    FETCH NEXT FROM table_cursor INTO @tableName\n    \n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        -- Generate the hash for the current table\n        SET @sql = 'SELECT @hash = HASHBYTES(''MD5'', (SELECT * FROM ' + QUOTENAME(@tableName) + ' FOR XML AUTO))'\n        EXEC sp_executesql @sql, N'@hash NVARCHAR(MAX) OUTPUT', @hash OUTPUT\n        \n        -- Insert the table name and hash into the temporary table\n        INSERT INTO #TableHashes (TableName, TableHash)\n        VALUES (@tableName, @hash)\n        \n        FETCH NEXT FROM table_cursor INTO @tableName\n    END\n    \n    CLOSE table_cursor\n    DEALLOCATE table_cursor\n    \n    -- Return the results\n    SELECT * FROM #TableHashes\n    \n    -- Drop the temporary table\n    DROP TABLE #TableHashes\nEND