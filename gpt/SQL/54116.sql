CREATE PROCEDURE SelectFields\n    @selectField1 BIT,\n    @selectField2 BIT\nAS\nBEGIN\n    DECLARE @sql NVARCHAR(MAX) = 'SELECT ';\n    DECLARE @fields NVARCHAR(MAX) = '';\n\n    -- Conditionally add fields to the select statement\n    IF @selectField1 = 1\n    BEGIN\n        SET @fields = @fields + 'Field1, ';\n    END\n\n    IF @selectField2 = 1\n    BEGIN\n        SET @fields = @fields + 'Field2, ';\n    END\n\n    -- Remove the trailing comma and space if any fields were added\n    IF LEN(@fields) > 0\n    BEGIN\n        SET @fields = LEFT(@fields, LEN(@fields) - 2);\n    END\n    ELSE\n    BEGIN\n        SET @fields = '*'; -- Default to select all fields if none specified\n    END\n\n    -- Construct the final SQL statement\n    SET @sql = @sql + @fields + ' FROM Table';\n\n    -- Execute the dynamic SQL statement\n    EXEC sp_executesql @sql;\nEND