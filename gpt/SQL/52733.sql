DECLARE @sql NVARCHAR(MAX) = N'';\n\nSELECT @sql += 'ALTER TABLE ' + QUOTENAME(fk.TABLE_SCHEMA) + '.' + QUOTENAME(fk.TABLE_NAME) +\n               ' DROP CONSTRAINT ' + QUOTENAME(fk.CONSTRAINT_NAME) + '; ' +\n               'ALTER TABLE ' + QUOTENAME(fk.TABLE_SCHEMA) + '.' + QUOTENAME(fk.TABLE_NAME) +\n               ' ADD CONSTRAINT ' + QUOTENAME(fk.CONSTRAINT_NAME) +\n               ' FOREIGN KEY (' + STUFF((SELECT ',' + QUOTENAME(c.COLUMN_NAME)\n                                         FROM INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE c\n                                         WHERE c.CONSTRAINT_NAME = fk.CONSTRAINT_NAME\n                                         FOR XML PATH(''), TYPE).value('.', 'NVARCHAR(MAX)'), 1, 1, '') +\n               ') REFERENCES ' + QUOTENAME(pk.TABLE_SCHEMA) + '.' + QUOTENAME(pk.TABLE_NAME) +\n               ' (' + STUFF((SELECT ',' + QUOTENAME(c.COLUMN_NAME)\n                             FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE c\n                             WHERE c.CONSTRAINT_NAME = pk.CONSTRAINT_NAME\n                             FOR XML PATH(''), TYPE).value('.', 'NVARCHAR(MAX)'), 1, 1, '') +\n               ') ON DELETE CASCADE; '\nFROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS fk\nJOIN INFORMATION_SCHEMA.TABLE_CONSTRAINTS pk\n  ON fk.UNIQUE_CONSTRAINT_NAME = pk.CONSTRAINT_NAME\nWHERE fk.CONSTRAINT_TYPE = 'FOREIGN KEY';\n\nEXEC sp_executesql @sql;