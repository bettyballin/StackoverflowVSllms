-- Schema for user workload\nCREATE TABLE UserWorkload (\n    UserId NVARCHAR(50) PRIMARY KEY,\n    Workload INT,\n    RowVersion ROWVERSION\n);\n\n-- Stored Procedure to allocate work item\nCREATE PROCEDURE AllocateWorkItem\n    @UserId NVARCHAR(50)\nAS\nBEGIN\n    DECLARE @RowVersion BINARY(8)\n    \n    -- Fetch the current workload and row version\n    SELECT Workload, RowVersion\n    INTO @Workload, @RowVersion\n    FROM UserWorkload\n    WHERE UserId = @UserId;\n    \n    -- Update workload using the row version for optimistic concurrency control\n    UPDATE UserWorkload\n    SET Workload = Workload + 1\n    WHERE UserId = @UserId AND RowVersion = @RowVersion;\n    \n    IF @@ROWCOUNT = 0\n    BEGIN\n        -- Handle concurrency conflict\n    END\nEND;