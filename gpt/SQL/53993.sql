ALTER TABLE Events ADD DataHash NVARCHAR(64);\n\n    CREATE FUNCTION dbo.CalculateHash (@input NVARCHAR(MAX))\n    RETURNS NVARCHAR(64)\n    AS\n    BEGIN\n        RETURN CONVERT(NVARCHAR(64), HASHBYTES('SHA2_256', @input), 2);\n    END;\n\n    CREATE TRIGGER trg_InsertEvent\n    ON Events\n    AFTER INSERT\n    AS\n    BEGIN\n        UPDATE Events\n        SET DataHash = dbo.CalculateHash(CONCAT(PK, Date, Time, Value1, Value2, Value3))\n        WHERE PK IN (SELECT PK FROM inserted);\n    END;