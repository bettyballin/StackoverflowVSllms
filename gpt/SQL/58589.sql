CREATE TRIGGER trg_AuditTable_Update\nON YourTable\nFOR UPDATE\nAS\nBEGIN\n    DECLARE @PrimaryKeyValue INT,\n            @ChangedBy NVARCHAR(256),\n            @OldValue NVARCHAR(MAX),\n            @NewValue NVARCHAR(MAX),\n            @ColumnName NVARCHAR(256);\n    \n    SET @ChangedBy = SYSTEM_USER;\n\n    -- Loop through all the columns\n    DECLARE col_cursor CURSOR FOR\n    SELECT COLUMN_NAME\n    FROM INFORMATION_SCHEMA.COLUMNS\n    WHERE TABLE_NAME = 'YourTable';\n\n    OPEN col_cursor;\n    FETCH NEXT FROM col_cursor INTO @ColumnName;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        -- Check if column value is updated\n        IF UPDATE(@ColumnName)\n        BEGIN\n            SELECT @PrimaryKeyValue = INSERTED.PrimaryKeyColumn,\n                   @OldValue = DELETED.@ColumnName,\n                   @NewValue = INSERTED.@ColumnName\n            FROM INSERTED, DELETED;\n\n            -- Insert audit record\n            INSERT INTO AuditTable (TableName, PrimaryKeyValue, UpdatedColumnName, OldValue, NewValue, ChangedBy)\n            VALUES ('YourTable', @PrimaryKeyValue, @ColumnName, @OldValue, @NewValue, @ChangedBy);\n        END\n\n        FETCH NEXT FROM col_cursor INTO @ColumnName;\n    END\n\n    CLOSE col_cursor;\n    DEALLOCATE col_cursor;\nEND;