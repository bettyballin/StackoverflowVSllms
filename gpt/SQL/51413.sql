DECLARE @SearchString NVARCHAR(MAX)\nSET @SearchString = 'John Smith'\n\nDECLARE @SQL NVARCHAR(MAX)\nSET @SQL = 'SELECT * FROM Customers WHERE 1=1'\n\nDECLARE @Part NVARCHAR(MAX)\nDECLARE @Parts TABLE (Value NVARCHAR(MAX))\n\nINSERT INTO @Parts\nSELECT Value FROM dbo.SplitString(@SearchString, ' ')\n\nDECLARE PartCursor CURSOR FOR\nSELECT Value FROM @Parts\n\nOPEN PartCursor\nFETCH NEXT FROM PartCursor INTO @Part\n\nWHILE @@FETCH_STATUS = 0\nBEGIN\n    SET @SQL = @SQL + ' AND CustomerName LIKE ''%' + @Part + '%'''\n    FETCH NEXT FROM PartCursor INTO @Part\nEND\n\nCLOSE PartCursor\nDEALLOCATE PartCursor\n\nEXEC sp_executesql @SQL