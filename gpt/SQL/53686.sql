-- Table for storing unverified registrations\nCREATE TABLE registrations (\n    id SERIAL PRIMARY KEY,\n    email VARCHAR(255) NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    confirmation_token VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE (email)\n);\n\n-- Table for storing confirmed and active users\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    email VARCHAR(255) NOT NULL UNIQUE,\n    password_hash VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Example of transferring data from registrations to users after confirmation\nINSERT INTO users (email, password_hash, created_at)\nSELECT email, password_hash, created_at\nFROM registrations\nWHERE confirmation_token = :provided_token;\n\n-- Example of deleting the confirmed registration\nDELETE FROM registrations\nWHERE confirmation_token = :provided_token;