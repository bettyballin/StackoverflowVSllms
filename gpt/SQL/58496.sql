SELECT \n    pm_info.is_read,\n    sender.usrFirst AS sender_name,\n    pm_data.date_sent,\n    pm_data.title,\n    pm_data.thread_id\nFROM \n    pm_info\nINNER JOIN \n    pm_data ON pm_info.thread_id = pm_data.thread_id\nINNER JOIN \n    tblUsers AS sender ON pm_data.sender_id = sender.usrID\nWHERE \n    pm_info.receiver_id = ?\n    AND pm_data.date_sent = (\n        SELECT MAX(date_sent) \n        FROM pm_data \n        WHERE pm_data.thread_id = pm_info.thread_id\n    )\nORDER BY \n    pm_data.date_sent DESC;