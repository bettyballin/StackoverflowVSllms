-- Drop and recreate the table\nIF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[starTest]') AND type in (N'U'))\nDROP TABLE [dbo].[starTest]\nCREATE TABLE [dbo].[starTest](\n    [id] [int] IDENTITY(1,1) NOT NULL,\n    [A] [varchar](50) NULL,\n    [B] [varchar](50) NULL,\n    [C] [varchar](50) NULL\n) ON [PRIMARY]\n\n-- Insert data\nINSERT INTO dbo.starTest(a,b,c)\nSELECT 'a1','b1','c1'\nUNION ALL SELECT 'a2','b2','c2'\nUNION ALL SELECT 'a3','b3','c3'\n\n-- Drop and recreate the view with explicit column names\nIF EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N'[dbo].[vStartest]'))\nDROP VIEW [dbo].[vStartest]\nCREATE VIEW dbo.vStartest AS\nSELECT id, A, B, C FROM dbo.starTest\n\n-- Drop and recreate the view with explicit column names\nIF EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N'[dbo].[vExplicittest]'))\nDROP VIEW [dbo].[vExplicittest]\nCREATE VIEW dbo.vExplicittest AS\nSELECT A, B, C FROM dbo.starTest\n\n-- Select data from views\nSELECT A, B, C FROM dbo.vStartest\nSELECT A, B, C FROM dbo.vExplicittest\n\n-- Recreate the table with an additional column\nIF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[starTest]') AND type in (N'U'))\nDROP TABLE [dbo].[starTest]\nCREATE TABLE [dbo].[starTest](\n    [id] [int] IDENTITY(1,1) NOT NULL,\n    [A] [varchar](50) NULL,\n    [B] [varchar](50) NULL,\n    [D] [varchar](50) NULL,\n    [C] [varchar](50) NULL\n) ON [PRIMARY]\n\n-- Insert data including the new column\nINSERT INTO dbo.starTest(a,b,d,c)\nSELECT 'a1','b1','d1','c1'\nUNION ALL SELECT 'a2','b2','d2','c2'\nUNION ALL SELECT 'a3','b3','d3','c3'\n\n-- Recreate the views after schema change\nIF EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N'[dbo].[vStartest]'))\nDROP VIEW [dbo].[vStartest]\nCREATE VIEW dbo.vStartest AS\nSELECT id, A, B, D, C FROM dbo.starTest\n\nIF EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N'[dbo].[vExplicittest]'))\nDROP VIEW [dbo].[vExplicittest]\nCREATE VIEW dbo.vExplicittest AS\nSELECT A, B, C FROM dbo.starTest\n\n-- Select data from views again\nSELECT A, B, C FROM dbo.vStartest\nSELECT A, B, C FROM dbo.vExplicittest