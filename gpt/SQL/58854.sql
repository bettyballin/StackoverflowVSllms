DECLARE @xml XML\nSET @xml = '<doc>\n               <a>1</a>\n               <b ba="1" bb="2" bc="3" />\n               <c bd="3"/>\n            </doc>'\n\n-- Extract attribute names from the <b> element\nSELECT \n    T.N.value('local-name(.)', 'nvarchar(100)') AS AttributeName\nFROM \n    @xml.nodes('/doc/b/@*') AS T(N)\n\n-- Extract attribute names from the <c> element\nSELECT \n    T.N.value('local-name(.)', 'nvarchar(100)') AS AttributeName\nFROM \n    @xml.nodes('/doc/c/@*') AS T(N)