-- Sample table\nCREATE TABLE Sales (\n    ProductID INT,\n    Quantity INT,\n    Price DECIMAL(10, 2)\n);\n\n-- Sample data\nINSERT INTO Sales (ProductID, Quantity, Price)\nVALUES (1, 10, 15.50), (1, 20, 15.50), (2, 5, 25.00), (2, 10, 25.00);\n\n-- Replacement query using window functions\nSELECT\n    ProductID,\n    Quantity,\n    Price,\n    SUM(Quantity) OVER (PARTITION BY ProductID) AS TotalQuantity,\n    AVG(Price) OVER (PARTITION BY ProductID) AS AvgPrice\nFROM\n    Sales\nORDER BY\n    ProductID;