SELECT w.widget_id, w.widget_name\nFROM WIDGET w\nJOIN WIDGETATTRIBUTEJUNCTION waj ON w.widget_id = waj.widget_id\nJOIN ATTRIBUTE a ON waj.attribute_id = a.attribute_id\nWHERE a.attribute_name IN ('attribute1', 'attribute2', 'attribute3') -- list of attributes selected by user\nGROUP BY w.widget_id, w.widget_name\nHAVING COUNT(DISTINCT a.attribute_name) = 3; -- number of attributes selected by user