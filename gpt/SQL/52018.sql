CREATE PROCEDURE GetNewsUntilEntryFound\n    @initialDays INT\nAS\nBEGIN\n    DECLARE @days INT = @initialDays\n    DECLARE @hasResults BIT = 0\n\n    WHILE @hasResults = 0\n    BEGIN\n        IF EXISTS (\n            SELECT 1 \n            FROM news\n            WHERE DATEDIFF(day, date, GETDATE()) <= @days\n        )\n        BEGIN\n            SET @hasResults = 1\n            \n            SELECT * \n            FROM news\n            WHERE DATEDIFF(day, date, GETDATE()) <= @days\n            ORDER BY date DESC\n        END\n        ELSE\n        BEGIN\n            SET @days = @days + 1\n        END\n    END\nEND