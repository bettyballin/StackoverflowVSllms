IF EXISTS\n(\n    SELECT 1\n    FROM Timesheet_Hours\n    WHERE Posted_Flag = 1\n    AND Staff_Id = @PersonID\n)\nBEGIN\n    RAISERROR('Timesheets have already been posted!', 16, 1)\n    ROLLBACK TRAN\nEND\nELSE\nBEGIN\n    IF NOT EXISTS\n    (\n        SELECT 1\n        FROM Timesheet_Hours\n        WHERE Staff_Id = @PersonID\n    )\n    BEGIN\n        RAISERROR('Default list has not been loaded!', 16, 1)\n        ROLLBACK TRAN\n    END\n    ELSE\n    BEGIN\n        -- Your update logic here\n        UPDATE Timesheet_Hours\n        SET BookedHours = -- value you want to set\n        WHERE Staff_Id = @PersonID;\n\n        -- Commit the transaction if everything is okay\n        COMMIT TRAN\n    END\nEND