CREATE FUNCTION iter$simple_intlist_to_tbl (@list nvarchar(MAX))\nRETURNS @tbl TABLE (number int NOT NULL) AS\nBEGIN\n   DECLARE @pos        int,\n           @nextpos    int,\n           @valuelen   int\n\n   SELECT @pos = 0, @nextpos = 1\n\n   WHILE @nextpos > 0\n   BEGIN\n      SELECT @nextpos = charindex(',', @list, @pos + 1)\n      SELECT @valuelen = CASE WHEN @nextpos > 0\n                              THEN @nextpos\n                              ELSE len(@list) + 1\n                         END - @pos - 1\n      INSERT @tbl (number)\n         VALUES (convert(int, substring(@list, @pos + 1, @valuelen)))\n      SELECT @pos = @nextpos\n   END\n  RETURN\nEND