WITH SplitValues AS (\n    SELECT \n        t1.ID,\n        LTRIM(RTRIM(s.Items)) AS Item\n    FROM \n        TABLE1 t1\n    CROSS APPLY \n        dbo.SplitString(t1.Column1, ';') s\n),\nInvalidValues AS (\n    SELECT \n        sv.ID,\n        sv.Item\n    FROM \n        SplitValues sv\n    LEFT JOIN \n        TABLE2 t2 ON sv.Item = t2.Column2\n    WHERE \n        t2.Column2 IS NULL\n)\nSELECT \n    DISTINCT ID\nFROM \n    InvalidValues;