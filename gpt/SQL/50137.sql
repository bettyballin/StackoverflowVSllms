CREATE PROCEDURE dbo.FindGUID\n    @searchValue uniqueidentifier\nAS\nBEGIN\n    DECLARE @tableName VARCHAR(200)\n    DECLARE @columnName VARCHAR(200)\n    DECLARE @szQuery VARCHAR(MAX)\n    DECLARE @currentTableName VARCHAR(200)\n    DECLARE @orConditions VARCHAR(MAX)\n\n    DECLARE abc CURSOR FOR\n        SELECT \n            c.TABLE_NAME, c.COLUMN_NAME\n        FROM INFORMATION_SCHEMA.Columns c\n        INNER JOIN INFORMATION_SCHEMA.Tables t\n            ON c.TABLE_NAME = t.TABLE_NAME\n            AND t.TABLE_TYPE = 'BASE TABLE'\n        WHERE c.DATA_TYPE = 'uniqueidentifier'\n        ORDER BY c.TABLE_NAME\n\n    OPEN abc\n    FETCH NEXT FROM abc INTO @tableName, @columnName\n\n    SET @currentTableName = ''\n    SET @orConditions = ''\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        IF @currentTableName <> '' AND @currentTableName <> @tableName\n        BEGIN\n            -- Execute the query for the previous table\n            SET @szQuery = 'SELECT ''' + @currentTableName + ''' AS TheTable, * FROM ' + @currentTableName + ' WHERE ' + @orConditions\n            PRINT 'Searching ' + @currentTableName + '..'\n            PRINT @szQuery\n            EXEC (@szQuery)\n\n            -- Reset the OR conditions\n            SET @orConditions = ''\n        END\n\n        -- Build the OR conditions for the current table\n        IF @orConditions <> ''\n            SET @orConditions = @orConditions + ' OR '\n        SET @orConditions = @orConditions + @columnName + ' = ''' + CAST(@searchValue AS VARCHAR(50)) + ''''\n\n        SET @currentTableName = @tableName\n\n        FETCH NEXT FROM abc INTO @tableName, @columnName\n    END\n\n    -- Execute the query for the last table\n    IF @orConditions <> ''\n    BEGIN\n        SET @szQuery = 'SELECT ''' + @currentTableName + ''' AS TheTable, * FROM ' + @currentTableName + ' WHERE ' + @orConditions\n        PRINT 'Searching ' + @currentTableName + '..'\n        PRINT @szQuery\n        EXEC (@szQuery)\n    END\n\n    CLOSE abc\n    DEALLOCATE abc\nEND