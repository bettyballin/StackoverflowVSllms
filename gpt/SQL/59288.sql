CREATE PROCEDURE CreateUser\n    @Username NVARCHAR(50),\n    @Password NVARCHAR(50),\n    @ErrorMsg NVARCHAR(255) OUTPUT\nAS\nBEGIN\n    SET NOCOUNT ON;\n    BEGIN TRY\n        IF EXISTS (SELECT 1 FROM Users WHERE Username = @Username)\n        BEGIN\n            SET @ErrorMsg = 'User already exists';\n            RETURN -1;\n        END\n\n        INSERT INTO Users (Username, Password)\n        VALUES (@Username, @Password);\n\n        SET @ErrorMsg = 'User created successfully';\n        RETURN 0;\n    END TRY\n    BEGIN CATCH\n        SET @ErrorMsg = ERROR_MESSAGE();\n        RETURN -2;\n    END CATCH\nEND