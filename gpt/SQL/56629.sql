CREATE PROCEDURE GetGroupMembers\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- Temporary table to store the result\n    CREATE TABLE #GroupMembers\n    (\n        GroupID INT,\n        UserID INT\n    );\n\n    DECLARE @GroupID INT, @Members NVARCHAR(MAX);\n    \n    -- Cursor to iterate through each group\n    DECLARE GroupCursor CURSOR FOR\n    SELECT ID, Members\n    FROM UserTable\n    WHERE IsGroup = 1;\n\n    OPEN GroupCursor;\n    FETCH NEXT FROM GroupCursor INTO @GroupID, @Members;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        -- Insert the parsed members into the temporary table\n        INSERT INTO #GroupMembers (GroupID, UserID)\n        SELECT @GroupID, ID\n        FROM dbo.SplitString(@Members, ',');\n\n        FETCH NEXT FROM GroupCursor INTO @GroupID, @Members;\n    END\n\n    CLOSE GroupCursor;\n    DEALLOCATE GroupCursor;\n\n    -- Select from the temporary table\n    SELECT *\n    FROM #GroupMembers;\n\n    -- Drop the temporary table\n    DROP TABLE #GroupMembers;\nEND