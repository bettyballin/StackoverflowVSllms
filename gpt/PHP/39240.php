<?php\nfunction createTempFile($directory, $prefix, $extension) {\n    $index = 1;\n\n    // Ensure the directory exists\n    if (!is_dir($directory)) {\n        mkdir($directory, 0777, true);\n    }\n\n    // Find the next available index\n    while (file_exists($directory . DIRECTORY_SEPARATOR . sprintf('%s_%02d.%s', $prefix, $index, $extension))) {\n        $index++;\n    }\n\n    // Create the temporary file name\n    $tempFileName = sprintf('%s_%02d.%s', $prefix, $index, $extension);\n    $tempFilePath = $directory . DIRECTORY_SEPARATOR . $tempFileName;\n\n    // Create the file\n    touch($tempFilePath);\n\n    return $tempFilePath;\n}\n\n// Usage\n$tempFile = createTempFile('temp', 'tmp_file', 'jpg');\necho "Temporary file created: " . $tempFile;\n?>