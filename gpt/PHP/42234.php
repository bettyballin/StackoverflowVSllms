$distance = -1; // default\n\n// distance calc\nif ($dgalaxy == $galaxy) {\n    // interstellar\n    if ($x != $dx || $y != $dy) {\n        $distance = round(sqrt(pow(($dx - $x), 2) + pow(($dy - $y), 2)));\n    }\n} else {\n    // intergalactic\n    if ($galaxy < $dgalaxy) {\n        $distance = ((9 - fmod($galaxy, 10)) * 200) + 2000 + (fmod($dgalaxy, 10) * 200); // anti-clockwise galactic\n    } else {\n        $distance = (fmod($galaxy, 10) * 200) + 2000 + (fmod(9 - $dgalaxy, 10) * 200); // clockwise galactic\n    }\n}