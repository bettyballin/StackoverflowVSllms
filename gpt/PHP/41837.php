$mysqli->autocommit(FALSE);\n\n$queries = [\n    "INSERT INTO ...",\n    "INSERT INTO ...",\n    "INSERT INTO ...",\n    "INSERT INTO ...",\n    "INSERT INTO ..."\n];\n\n$all_ok = true;\n\nforeach ($queries as $query) {\n    if (!$mysqli->query($query)) {\n        $all_ok = false;\n        // Handle individual query error\n        error_log("Error: " . $mysqli->error . " for query: " . $query);\n        break;\n    }\n}\n\nif ($all_ok) {\n    $mysqli->commit();\n} else {\n    $mysqli->rollback();\n    // Handle overall transaction error\n}