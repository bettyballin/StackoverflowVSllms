<?php\nclass Zend_View_Helper_Calendar extends Zend_View_Helper_Abstract\n{\n    public function calendar($year, $month, $events = [])\n    {\n        $date = new DateTime("$year-$month-01");\n        $daysInMonth = $date->format('t');\n        $calendar = '<table>';\n        $calendar .= '<tr>';\n\n        // Create table headers for days of the week\n        $daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n        foreach ($daysOfWeek as $day) {\n            $calendar .= '<th>' . $day . '</th>';\n        }\n        $calendar .= '</tr><tr>';\n\n        // Create empty cells before the first day of the month\n        $firstDayOfWeek = $date->format('w');\n        for ($i = 0; $i < $firstDayOfWeek; $i++) {\n            $calendar .= '<td></td>';\n        }\n\n        // Create cells for each day of the month\n        for ($day = 1; $day <= $daysInMonth; $day++, $firstDayOfWeek++) {\n            $currentDate = $date->setDate($year, $month, $day)->format('Y-m-d');\n            $bgColor = isset($events[$currentDate]) ? 'background-color: yellow;' : '';\n            $calendar .= "<td style='$bgColor'>$day</td>";\n\n            // Start a new row after Saturday\n            if ($firstDayOfWeek % 7 == 6) {\n                $calendar .= '</tr><tr>';\n            }\n        }\n\n        // Create empty cells after the last day of the month\n        while ($firstDayOfWeek % 7 != 0) {\n            $calendar .= '<td></td>';\n            $firstDayOfWeek++;\n        }\n        $calendar .= '</tr></table>';\n\n        return $calendar;\n    }\n}