$allUsernames = array();\nwhile($row = fgetcsv($fp)) {\n    $username = $row[0];\n    if (!binary_search($allUsernames, $username)) {\n        $allUsernames = insert_sorted($allUsernames, $username);\n        // process this row\n    }\n}\n\n// Function to perform binary search on a sorted array\nfunction binary_search($array, $value) {\n    $low = 0;\n    $high = count($array) - 1;\n    \n    while ($low <= $high) {\n        $mid = (int)(($low + $high) / 2);\n        if ($array[$mid] < $value) {\n            $low = $mid + 1;\n        } elseif ($array[$mid] > $value) {\n            $high = $mid - 1;\n        } else {\n            return true; // found\n        }\n    }\n    return false; // not found\n}\n\n// Function to insert a value into a sorted array at the correct position\nfunction insert_sorted($array, $value) {\n    $low = 0;\n    $high = count($array);\n    \n    while ($low < $high) {\n        $mid = (int)(($low + $high) / 2);\n        if ($array[$mid] < $value) {\n            $low = $mid + 1;\n        } else {\n            $high = $mid;\n        }\n    }\n    array_splice($array, $low, 0, $value);\n    return $array;\n}