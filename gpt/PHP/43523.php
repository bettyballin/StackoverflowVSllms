if (extension_loaded('zlib')) {\n    ob_start('ob_gzhandler');\n}\n\n$offset = 60 * 60 * 24 * 31;\n$cssFile = 'global.css';\n\nif (file_exists($cssFile)) {\n    $lastModified = filemtime($cssFile);\n    $etag = md5_file($cssFile);\n    \n    header('Content-type: text/css');\n    header('Cache-Control: max-age=' . $offset . ', must-revalidate');\n    header('Expires: ' . gmdate('D, d M Y H:i:s', time() + $offset) . ' GMT');\n    header('Last-Modified: ' . gmdate('D, d M Y H:i:s', $lastModified) . ' GMT');\n    header('ETag: ' . $etag);\n\n    if (@strtotime($_SERVER['HTTP_IF_MODIFIED_SINCE']) == $lastModified || \n        @trim($_SERVER['HTTP_IF_NONE_MATCH']) == $etag) {\n        header('HTTP/1.1 304 Not Modified');\n        exit;\n    }\n\n    ob_start("compress");\n    function compress($buffer) {\n        // Remove Comments, White Space, End ;'s\n        $buffer = preg_replace('#/\*.*?\*/#s', '', $buffer);\n        $buffer = preg_replace('/\s*([{}|:;,])\s+/', '$1', $buffer);\n        $buffer = preg_replace('/\s\s+(.*)/', '$1', $buffer);\n        $buffer = str_replace(';}', '}', $buffer);\n        $buffer = str_replace(' {', '{', $buffer);\n        return $buffer;\n    }\n\n    include($cssFile);\n\n    if (extension_loaded('zlib')) {\n        ob_end_flush();\n    }\n} else {\n    header('HTTP/1.1 404 Not Found');\n}