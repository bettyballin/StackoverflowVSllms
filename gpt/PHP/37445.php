<?php\n// Load the image\n$imagePath = 'path_to_your_image.jpg';\n$image = imagecreatefromjpeg($imagePath);\n\n// Define the rotation angle\n$angle = 45; // Rotate 45 degrees\n\n// Rotate the image\n$rotatedImage = imagerotate($image, $angle, 0);\n\n// Get the image dimensions\n$width = imagesx($rotatedImage);\n$height = imagesy($rotatedImage);\n\n// Create a blank true color image\n$finalImage = imagecreatetruecolor($width, $height);\n\n// Allocate a color for transparency (e.g., white)\n$transparencyColor = imagecolorallocate($finalImage, 255, 255, 255);\n\n// Fill the final image with the transparency color\nimagefill($finalImage, 0, 0, $transparencyColor);\nimagecolortransparent($finalImage, $transparencyColor);\n\n// Copy the rotated image to the final image maintaining the circular shape\n$radius = min($width, $height) / 2;\n$centerX = $width / 2;\n$centerY = $height / 2;\n\nfor ($x = 0; $x < $width; $x++) {\n    for ($y = 0; $y < $height; $y++) {\n        // Check if the pixel is within the circular bounds\n        if (pow($x - $centerX, 2) + pow($y - $centerY, 2) <= pow($radius, 2)) {\n            $color = imagecolorat($rotatedImage, $x, $y);\n            imagesetpixel($finalImage, $x, $y, $color);\n        }\n    }\n}\n\n// Save or output the final image\nheader('Content-Type: image/png');\nimagepng($finalImage);\n\n// Cleanup\nimagedestroy($image);\nimagedestroy($rotatedImage);\nimagedestroy($finalImage);\n?>