function resizeImage($sourcePath, $targetPath, $maxWidth, $maxHeight) {\n    list($origWidth, $origHeight) = getimagesize($sourcePath);\n\n    $ratio = $origWidth / $origHeight;\n    if ($maxWidth / $maxHeight > $ratio) {\n        $maxWidth = $maxHeight * $ratio;\n    } else {\n        $maxHeight = $maxWidth / $ratio;\n    }\n\n    $image_p = imagecreatetruecolor($maxWidth, $maxHeight);\n    $image = imagecreatefromjpeg($sourcePath);\n    imagecopyresampled($image_p, $image, 0, 0, 0, 0, $maxWidth, $maxHeight, $origWidth, $origHeight);\n    \n    // Save the resized image to the target path\n    imagejpeg($image_p, $targetPath, 75); // Adjust quality as needed\n\n    imagedestroy($image_p);\n    imagedestroy($image);\n}