<?php\n$servername = "your_server";\n$username = "your_username";\n$password = "your_password";\n$dbname = "your_database";\n$imageId = 1; // Example image ID\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Retrieve the image from the database\n$sql = "SELECT image_blob FROM images WHERE id = ?";\n$stmt = $conn->prepare($sql);\n$stmt->bind_param("i", $imageId);\n$stmt->execute();\n$stmt->bind_result($imageData);\n$stmt->fetch();\n$stmt->close();\n\n// Create an image resource from the binary data\n$image = imagecreatefromstring($imageData);\n\nif ($image === false) {\n    die("Failed to create image from the binary data.");\n}\n\n// Rotate the image 90 degrees\n$rotatedImage = imagerotate($image, 90, 0);\n\n// Start output buffering to capture the image data\nob_start();\nimagejpeg($rotatedImage);\n$rotatedImageData = ob_get_contents();\nob_end_clean();\n\n// Free up memory\nimagedestroy($image);\nimagedestroy($rotatedImage);\n\n// Store the rotated image back in the database\n$sql = "UPDATE images SET image_blob = ? WHERE id = ?";\n$stmt = $conn->prepare($sql);\n$stmt->bind_param("bi", $rotatedImageData, $imageId);\n$stmt->send_long_data(0, $rotatedImageData);\n$stmt->execute();\n$stmt->close();\n\n$conn->close();\n\necho "Image rotated and saved successfully!";\n?>