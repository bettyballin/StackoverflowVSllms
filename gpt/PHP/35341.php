<?php\nrequire_once 'Mage/Checkout/controllers/CartController.php';\nclass Company_SpecialCheckout_UploadController extends Mage_Core_Controller_Front_Action\n{\n    public function formAction()\n    {\n        // Load custom form layout\n        $this->loadLayout();\n        $this->renderLayout();\n    }\n\n    public function saveAction()\n    {\n        if ($data = $this->getRequest()->getPost()) {\n            try {\n                // Handle file upload and validation here\n                if (isset($_FILES['image']['name']) && $_FILES['image']['name'] != '') {\n                    $uploader = new Varien_File_Uploader('image');\n                    $uploader->setAllowedExtensions(array('jpg', 'jpeg', 'gif', 'png'));\n                    $uploader->setAllowRenameFiles(true);\n                    $uploader->setFilesDispersion(false);\n\n                    $path = Mage::getBaseDir('media') . DS . 'specialcheckout' . DS;\n                    $uploader->save($path, $_FILES['image']['name']);\n                }\n\n                // Redirect back to the cart\n                $this->_redirect('checkout/cart');\n                return;\n\n            } catch (Exception $e) {\n                Mage::getSingleton('core/session')->addError($e->getMessage());\n                $this->_redirect('*/*/form');\n                return;\n            }\n        }\n\n        // If no post data, redirect to cart\n        $this->_redirect('checkout/cart');\n    }\n}