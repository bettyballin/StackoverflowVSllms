// Initialize the profiler\n$profiler = new Doctrine_Connection_Profiler();\n\n// Get the connection and set the profiler as the listener\n$conn = Doctrine_Manager::connection();\n$conn->setListener($profiler);\n\n// Ensure that profiler is set before any queries are executed\n// Example query (assuming a table 'items')\n$query = Doctrine_Query::create()\n    ->from('Items i')\n    ->execute();\n\n// Your existing code to integrate with Zend Framework\n$frontController = Zend_Controller_Front::getInstance();\n\n// Capture and display the profiler data\n$query_count = 0;\n$time = 0;\n\necho "<table width='100%' border='1'>";\nforeach ($profiler as $event) {\n    if ($event->getName() != 'execute') {\n        continue;\n    }\n    $query_count++;\n    echo "<tr>";\n    $time += $event->getElapsedSecs();\n    echo "<td>" . $event->getName() . "</td><td>" . sprintf("%f", $event->getElapsedSecs()) . "</td>";\n    echo "<td>" . $event->getQuery() . "</td>";\n    $params = $event->getParams();\n    if (!empty($params)) {\n        echo "<td>";\n        echo join(', ', $params);\n        echo "</td>";\n    }\n    echo "</tr>";\n}\necho "</table>";\necho "Total time: " . $time . ", query count: $query_count <br>";