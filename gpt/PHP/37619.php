<?php\n\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\nfunction fetchWikipediaInfobox($title) {\n    $url = "https://en.wikipedia.org/w/api.php?action=query&prop=revisions&rvprop=content&format=json&titles=" . urlencode($title) . "&rvsection=0";\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    $output = curl_exec($ch);\n    curl_close($ch);\n\n    $data = json_decode($output, true);\n    $pages = $data['query']['pages'];\n    $page = reset($pages);\n    $content = $page['revisions'][0]['*'];\n\n    preg_match('/{{Infobox(.|\n)*?}}/', $content, $matches);\n    return $matches[0] ?? '';\n}\n\n$cities = ["Beijing", "Shanghai", "New York"];\n$countries = ["China", "USA"];\n\nforeach (array_merge($cities, $countries) as $title) {\n    $infobox = fetchWikipediaInfobox($title);\n\n    if ($stmt = $mysqli->prepare("REPLACE INTO infoboxes (title, infobox) VALUES (?, ?)")) {\n        $stmt->bind_param("ss", $title, $infobox);\n        $stmt->execute();\n        $stmt->close();\n    }\n}\n\n$mysqli->close();\n\n?>