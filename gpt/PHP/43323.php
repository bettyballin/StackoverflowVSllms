public function send_mail($email='', $subject='', $text='') {\n    $mail = new PHPMailer();\n    $db = new Db();\n    $sql = $db->query("SELECT * FROM configuration WHERE name='shopemail' OR name='shopname'");\n    while($configuration = $db->fetchArray($sql)) {\n        $row[$configuration['name']] = $configuration['value'];\n    }\n\n    // MIME BOUNDARY\n    $mime_boundary = "==Multipart_Boundary_x" . md5(time()) . "x";\n\n    // HEADERS\n    $headers = "From: " . $row['shopname'] . " <" . $row['shopemail'] . ">\r\n";\n    $headers .= "Reply-To: " . $row['shopname'] . " <" . $row['shopemail'] . ">\r\n";\n    $headers .= "MIME-Version: 1.0\r\n";\n    $headers .= "Content-Type: multipart/alternative; boundary=\"$mime_boundary\"\r\n";\n\n    // PLAIN TEXT PART\n    $message = "--$mime_boundary\r\n";\n    $message .= "Content-Type: text/plain; charset=\"iso-8859-1\"\r\n";\n    $message .= "Content-Transfer-Encoding: 7bit\r\n\r\n";\n    $message .= strip_tags($text) . "\r\n";\n\n    // HTML PART\n    $message .= "--$mime_boundary\r\n";\n    $message .= "Content-Type: text/html; charset=\"iso-8859-1\"\r\n";\n    $message .= "Content-Transfer-Encoding: 7bit\r\n\r\n";\n    $message .= $text . "\r\n";\n\n    // FINAL BOUNDARY\n    $message .= "--$mime_boundary--\r\n";\n\n    // SEND MAIL\n    $mail_sent = @mail($email, $subject, $message, $headers);\n\n    return $mail_sent;\n}