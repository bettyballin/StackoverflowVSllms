class Friend extends AppModel {\n    public $validate = array(\n        'name' => array(\n            'checkPairs' => array(\n                'rule' => 'validatePairs',\n                'message' => 'You must fill in at least one name and email pair.'\n            )\n        )\n    );\n\n    public function validatePairs($data) {\n        $validPairFound = false;\n        \n        foreach ($this->data['Friend'] as $friend) {\n            if (isset($friend['name']) && !empty($friend['name']) && isset($friend['email']) && !empty($friend['email'])) {\n                $validPairFound = true;\n                break;\n            }\n        }\n\n        return $validPairFound;\n    }\n}