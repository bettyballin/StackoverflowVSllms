<?php\nsession_start();\nrequire 'config.php'; // Database configuration and connection\n\n// Function to validate and sanitize input\nfunction sanitize_input($data) {\n    return htmlspecialchars(strip_tags($data));\n}\n\n// Function to check if user is authorized to view the book\nfunction is_user_authorized($book_id, $user_id, $pdo) {\n    $stmt = $pdo->prepare("SELECT COUNT(*) FROM books WHERE id = ? AND user_id = ?");\n    $stmt->execute([$book_id, $user_id]);\n    return $stmt->fetchColumn() > 0;\n}\n\nif (isset($_GET['id']) && is_numeric($_GET['id'])) {\n    $book_id = sanitize_input($_GET['id']);\n    $user_id = $_SESSION['user_id']; // Assuming user_id is stored in session\n\n    // Check if user is authorized to view the book\n    if (is_user_authorized($book_id, $user_id, $pdo)) {\n        $stmt = $pdo->prepare("SELECT * FROM books WHERE id = ?");\n        $stmt->execute([$book_id]);\n        $book = $stmt->fetch();\n\n        if ($book) {\n            echo "Title: " . htmlspecialchars($book['title']);\n            // Display other book details\n        } else {\n            echo "Book not found.";\n        }\n    } else {\n        echo "Unauthorized access.";\n    }\n} else {\n    echo "Invalid book ID.";\n}\n?>