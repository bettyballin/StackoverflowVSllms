<?php\n// Example data array (normally this would come from your database query)\n$data = [\n    ['fname' => 'joe', 'sname' => 'blogs', 'uname' => 'joe.blogs', 'assignment' => 1, 'task' => 1, 'grade' => 52],\n    ['fname' => 'joe', 'sname' => 'blogs', 'uname' => 'joe.blogs', 'assignment' => 1, 'task' => 2, 'grade' => 58],\n    ['fname' => 'jim', 'sname' => 'blogs', 'uname' => 'jim.blogs', 'assignment' => 1, 'task' => 1, 'grade' => 95],\n    ['fname' => 'jim', 'sname' => 'blogs', 'uname' => 'jim.blogs', 'assignment' => 1, 'task' => 2, 'grade' => 86],\n    ['fname' => 'amy', 'sname' => 'blogs', 'uname' => 'amy.blogs', 'assignment' => 1, 'task' => 1, 'grade' => NULL],\n    ['fname' => 'amy', 'sname' => 'blogs', 'uname' => 'amy.blogs', 'assignment' => 1, 'task' => 2, 'grade' => 76],\n];\n\n// Organize data into a nested associative array\n$students = [];\nforeach ($data as $row) {\n    $name = $row['fname'] . ' ' . $row['sname'];\n    $assignment = $row['assignment'];\n    $task = $row['task'];\n    $grade = $row['grade'] ?? 'U'; // Use 'U' for NULL values\n\n    if (!isset($students[$name])) {\n        $students[$name] = [];\n    }\n    if (!isset($students[$name][$assignment])) {\n        $students[$name][$assignment] = [];\n    }\n    $students[$name][$assignment][$task] = $grade;\n}\n\n// Get the maximum number of assignments and tasks\n$maxAssignments = 0;\n$maxTasks = 0;\nforeach ($students as $student) {\n    $maxAssignments = max($maxAssignments, count($student));\n    foreach ($student as $assignments) {\n        $maxTasks = max($maxTasks, count($assignments));\n    }\n}\n\n// Generate the HTML table\necho '<table border="1">';\necho '<tr>';\necho '<th rowspan="2">Name</th>';\nfor ($i = 1; $i <= $maxAssignments; $i++) {\n    echo "<th colspan=\"$maxTasks\">Assignment $i</th>";\n}\necho '</tr>';\necho '<tr>';\nfor ($i = 1; $i <= $maxAssignments; $i++) {\n    for ($j = 1; $j <= $maxTasks; $j++) {\n        echo "<th>Task $j</th>";\n    }\n}\necho '</tr>';\n\nforeach ($students as $name => $assignments) {\n    echo "<tr>";\n    echo "<td>$name</td>";\n    for ($i = 1; $i <= $maxAssignments; $i++) {\n        for ($j = 1; $j <= $maxTasks; $j++) {\n            $grade = $assignments[$i][$j] ?? '..';\n            echo "<td>$grade</td>";\n        }\n    }\n    echo "</tr>";\n}\necho '</table>';\n?>