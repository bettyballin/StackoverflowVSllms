<?php\n$searchTerm = '%'.mysqli_real_escape_string($conn, $_GET['search']).'%';\n\n// Construct the query\n$query = "\n    SELECT id, 'username' AS source, username AS content FROM users WHERE username LIKE ?\n    UNION\n    SELECT id, 'profile_text' AS source, profile_text AS content FROM users WHERE profile_text LIKE ?\n    UNION\n    SELECT id, 'title' AS source, title AS content FROM uploads WHERE title LIKE ?\n    UNION\n    SELECT id, 'description' AS source, description AS content FROM uploads WHERE description LIKE ?\n    UNION\n    SELECT id, 'description' AS source, description AS content FROM sets WHERE description LIKE ?\n    UNION\n    SELECT id, 'text' AS source, text AS content FROM comments WHERE text LIKE ?\n";\n\n// Prepare and execute the statement\n$stmt = $conn->prepare($query);\n$stmt->bind_param(\n    'ssssss',\n    $searchTerm,\n    $searchTerm,\n    $searchTerm,\n    $searchTerm,\n    $searchTerm,\n    $searchTerm\n);\n\n$stmt->execute();\n$result = $stmt->get_result();\n\n// Fetch results\n$results = [];\nwhile ($row = $result->fetch_assoc()) {\n    $results[] = $row;\n}\n\n// Output results (for debugging purposes)\necho '<pre>';\nprint_r($results);\necho '</pre>';\n\n$stmt->close();\n$conn->close();\n?>