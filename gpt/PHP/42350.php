class My_Model_PaginatorAdapter implements Zend_Paginator_Adapter_Interface\n{\n    protected $_model;\n    protected $_select;\n    \n    public function __construct(My_Model $model, Zend_Db_Select $select)\n    {\n        $this->_model = $model;\n        $this->_select = $select;\n    }\n\n    public function getItems($offset, $itemCountPerPage)\n    {\n        $this->_select->limit($itemCountPerPage, $offset);\n        return $this->_model->fetchAll($this->_select);\n    }\n\n    public function count()\n    {\n        $countSelect = clone $this->_select;\n        $countSelect->reset(Zend_Db_Select::LIMIT_COUNT);\n        $countSelect->reset(Zend_Db_Select::LIMIT_OFFSET);\n        $countSelect->reset(Zend_Db_Select::COLUMNS);\n        $countSelect->columns('COUNT(*) AS total');\n        \n        $result = $this->_model->fetchRow($countSelect);\n        return (int) $result->total;\n    }\n}