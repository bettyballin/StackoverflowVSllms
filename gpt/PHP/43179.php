<?php\n$mysqli = new mysqli("hostname", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Define the character set, excluding ambiguous characters\n$characters = '23456789ABCDEFGHJKLMNPQRSTUVWXYZ';\n$charactersLength = strlen($characters);\n$codeLength = 8; // Length of the generated code\n\nfunction generateCode($length, $characters, $charactersLength) {\n    $code = '';\n    for ($i = 0; $i < $length; $i++) {\n        $code .= $characters[rand(0, $charactersLength - 1)];\n    }\n    return $code;\n}\n\nfunction isCodeUnique($mysqli, $code) {\n    $stmt = $mysqli->prepare("SELECT COUNT(*) FROM codes WHERE code = ?");\n    $stmt->bind_param("s", $code);\n    $stmt->execute();\n    $stmt->bind_result($count);\n    $stmt->fetch();\n    $stmt->close();\n    return $count == 0;\n}\n\nfunction saveCode($mysqli, $code) {\n    $stmt = $mysqli->prepare("INSERT INTO codes (code) VALUES (?)");\n    $stmt->bind_param("s", $code);\n    $stmt->execute();\n    $stmt->close();\n}\n\n$numberOfCodesToGenerate = 1000000;\n$generatedCodes = 0;\n\nwhile ($generatedCodes < $numberOfCodesToGenerate) {\n    $newCode = generateCode($codeLength, $characters, $charactersLength);\n    if (isCodeUnique($mysqli, $newCode)) {\n        saveCode($mysqli, $newCode);\n        $generatedCodes++;\n    }\n}\n\n$mysqli->close();\n?>