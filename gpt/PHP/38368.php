<?php\nfunction getFullImageSrc($html, $baseUrl) {\n    $dom = new DOMDocument;\n    @$dom->loadHTML($html);\n    $xpath = new DOMXPath($dom);\n    $images = $xpath->query("//img");\n\n    $fullImageSrcs = [];\n    foreach ($images as $img) {\n        $src = $img->getAttribute('src');\n        $fullSrc = reconstructUrl($src, $baseUrl);\n        $fullImageSrcs[] = $fullSrc;\n    }\n\n    return $fullImageSrcs;\n}\n\nfunction reconstructUrl($relativeUrl, $baseUrl) {\n    // If the URL is already absolute, return it\n    if (parse_url($relativeUrl, PHP_URL_SCHEME) != '') {\n        return $relativeUrl;\n    }\n\n    // Handle relative URLs\n    $base = parse_url($baseUrl);\n    if ($relativeUrl[0] == '/') {\n        // Root-relative URL\n        return $base['scheme'] . '://' . $base['host'] . $relativeUrl;\n    } else {\n        // Document-relative URL\n        $path = rtrim(dirname($base['path']), '/') . '/';\n        return $base['scheme'] . '://' . $base['host'] . $path . $relativeUrl;\n    }\n}\n\n$html = '<img src="../foo/logo.png"><img src="/images/logo.png">';\n$baseUrl = 'http://example.com/some/page/';\n\n$fullImageSrcs = getFullImageSrc($html, $baseUrl);\nprint_r($fullImageSrcs);\n?>