<?php\nfunction getDirectoryHierarchy($directory) {\n    $rii = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($directory));\n\n    $files = array(); \n\n    foreach ($rii as $file) {\n        if ($file->isDir()){ \n            continue;\n        }\n\n        $files[] = $file->getPathname(); \n    }\n\n    return $files;\n}\n\n$directory = '/home/user/stuff';\n$files = getDirectoryHierarchy($directory);\n\nforeach ($files as $file) {\n    echo $file . "\n";\n}\n?>