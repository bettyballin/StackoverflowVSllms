<?php\n   $stock = $_GET['s']; // returns stock ticker symbol eg GOOG or YHOO\n   $first = $stock[0];\n\n   $url = "http://biz.yahoo.com/research/earncal/".$first."/".$stock.".html";\n   $data = file_get_contents($url);\n\n   // Adjust the regular expressions\n   $r_header = '/Prev\. Week(.*?)Next Week/s';\n   $r_date = '/<b>(.*?)<\/b>/s';\n\n   // Match the header\n   preg_match($r_header, $data, $header);\n\n   // Check if header is matched\n   if (!empty($header)) {\n       // Match the date within the header\n       preg_match($r_date, $header[1], $date);\n\n       // Check if date is matched\n       if (!empty($date)) {\n           echo $date[1];\n       } else {\n           echo "No date found.";\n       }\n   } else {\n       echo "No header found.";\n   }\n   ?>