<?php\nrequire 'vendor/autoload.php';\n\nuse Pdp\Rules;\nuse Pdp\Domain;\nuse Pdp\TopLevelDomains;\n\n// Create a Rules object\n$rules = Rules::createFromPath('path/to/public_suffix_list.dat'); // Replace with actual path to public_suffix_list.dat\n\nfunction getDomainAndTld($url) {\n    global $rules;\n\n    // Parse the URL to get the host\n    $host = parse_url($url, PHP_URL_HOST);\n\n    // Get the domain information using the Rules object\n    $domain = $rules->resolve(Domain::fromIDNA2008($host));\n\n    // Return the registrable domain (e.g. google.com or google.co.uk)\n    return $domain->registrableDomain()->toString();\n}\n\n// Example usage\necho getDomainAndTld('http://www.google.com/foo'); // Outputs: google.com\necho getDomainAndTld('http://www.google.co.uk/foo'); // Outputs: google.co.uk