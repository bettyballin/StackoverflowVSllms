<?php\nrequire 'vendor/autoload.php'; // Ensure you have GuzzleHttp installed\n\nuse GuzzleHttp\Client;\n\n$bearerToken = 'YOUR_TWITTER_BEARER_TOKEN';\n\nfunction fetchTweets($searchTerm, $nextToken = null) {\n    $client = new Client();\n    $url = 'https://api.twitter.com/2/tweets/search/recent';\n    $params = [\n        'query' => $searchTerm,\n        'max_results' => 100, // Adjust as needed\n        'tweet.fields' => 'created_at,author_id',\n    ];\n\n    if ($nextToken) {\n        $params['next_token'] = $nextToken;\n    }\n\n    $response = $client->request('GET', $url, [\n        'headers' => [\n            'Authorization' => 'Bearer ' . $bearerToken,\n        ],\n        'query' => $params,\n    ]);\n\n    return json_decode($response->getBody(), true);\n}\n\nfunction exportTweetsToFile($tweets, $filename) {\n    $file = fopen($filename, 'a');\n    foreach ($tweets as $tweet) {\n        fputcsv($file, $tweet);\n    }\n    fclose($file);\n}\n\n$searchTerm = 'your_search_term';\n$filename = 'tweets.csv';\n$nextToken = null;\n$newestTweetId = null; // For tracking the newest tweet to only pull new terms\n\ndo {\n    $result = fetchTweets($searchTerm, $nextToken);\n    if (isset($result['meta']['newest_id'])) {\n        $newestTweetId = $result['meta']['newest_id'];\n    }\n    if (isset($result['data'])) {\n        exportTweetsToFile($result['data'], $filename);\n    }\n    $nextToken = isset($result['meta']['next_token']) ? $result['meta']['next_token'] : null;\n    sleep(1); // To respect rate limits\n} while ($nextToken);\n\n// Save the newest tweet ID to avoid pulling the same tweets in the future\nfile_put_contents('newest_tweet_id.txt', $newestTweetId);\n\n?>