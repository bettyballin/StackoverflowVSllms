<?php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_FILES['file']) && $_FILES['file']['error'] == 0) {\n        $uploadDir = 'uploads/';\n        $uploadFile = $uploadDir . basename($_FILES['file']['name']);\n\n        // Check if the directory exists or create it\n        if (!is_dir($uploadDir)) {\n            mkdir($uploadDir, 0755, true);\n        }\n\n        // Check if the file is a real image\n        $check = getimagesize($_FILES['file']['tmp_name']);\n        if ($check !== false) {\n            // Move the uploaded file to the destination directory\n            if (move_uploaded_file($_FILES['file']['tmp_name'], $uploadFile)) {\n                echo "File is valid and was successfully uploaded.\n";\n            } else {\n                echo "Possible file upload attack!\n";\n            }\n        } else {\n            echo "File is not an image.\n";\n        }\n    } else {\n        echo "No file uploaded or there was an error uploading the file.\n";\n    }\n} else {\n    echo "Invalid request method.\n";\n}\n?>