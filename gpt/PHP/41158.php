<?php\nfunction listFilesAndDirectories($dir) {\n    if (is_dir($dir)) {\n        if ($dh = opendir($dir)) {\n            echo "<ul>";\n            while (($file = readdir($dh)) !== false) {\n                if ($file != "." && $file != "..") {\n                    $filePath = $dir . '/' . $file;\n                    if (is_dir($filePath)) {\n                        echo '<li><a href="?dir=' . urlencode($filePath) . '">' . htmlspecialchars($file) . '</a></li>';\n                    } else {\n                        echo '<li><a href="' . htmlspecialchars($filePath) . '">' . htmlspecialchars($file) . '</a></li>';\n                    }\n                }\n            }\n            echo "</ul>";\n            closedir($dh);\n        } else {\n            echo "Unable to open directory.";\n        }\n    } else {\n        echo "The path is not a directory.";\n    }\n}\n\n$baseDir = 'your/base/directory';\n$currentDir = isset($_GET['dir']) ? $_GET['dir'] : $baseDir;\n\necho '<h2>Listing files and directories in: ' . htmlspecialchars($currentDir) . '</h2>';\nlistFilesAndDirectories($currentDir);\n?>