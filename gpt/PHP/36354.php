function join_paths(...$paths) {\n    $filtered = array_filter($paths, function($p) {\n        return !empty($p);\n    });\n    $joined = preg_replace('#/+#', '/', join('/', $filtered));\n    $normalized = rtrim($joined, '/');\n    return $normalized;\n}\n\n// Example usage\necho join_paths('abc/de/', '/fg/x.php'); // Output: abc/de/fg/x.php\necho join_paths('abc/de', 'fg/x.php');   // Output: abc/de/fg/x.php