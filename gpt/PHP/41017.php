class ConfigException extends Exception {}\n\npublic static function loadConfig($file, $type)\n{\n    if (!file_exists($file)) {\n        throw new ConfigException("{$type} file was not present at specified location: {$file}");\n    }\n\n    try {\n        // Suppress errors to handle them manually\n        set_error_handler(function($errno, $errstr) {\n            throw new ConfigException($errstr);\n        });\n\n        $parse = parse_ini_file($file, true);\n\n        // Restore the previous error handler\n        restore_error_handler();\n\n        if ($parse === false) {\n            throw new ConfigException("{$type} file at {$file} appears to be invalid.");\n        }\n\n        return $parse;\n    } catch (ConfigException $e) {\n        restore_error_handler(); // Ensure the error handler is restored in case of an exception\n        throw $e; // Re-throw the exception\n    }\n}