<?php\nclass Blog {\n    public $id;\n    public $title;\n    public $author;\n\n    public function __construct($id, $title, $author) {\n        $this->id = $id;\n        $this->title = $title;\n        $this->author = $author;\n    }\n\n    public function getAuthor() {\n        return $this->author;\n    }\n}\n\nclass Author {\n    public $id;\n    public $name;\n\n    public function __construct($id, $name) {\n        $this->id = $id;\n        $this->name = $name;\n    }\n}\n\nclass BlogRepository {\n    private $db;\n\n    public function __construct($db) {\n        $this->db = $db;\n    }\n\n    public function getBlogs() {\n        $query = "\n            SELECT blogs.id as blog_id, blogs.title as blog_title, \n                   authors.id as author_id, authors.name as author_name\n            FROM blogs\n            JOIN authors ON authors.id = blogs.author_id\n        ";\n        $result = $this->db->query($query);\n        \n        $blogs = [];\n        while ($row = $result->fetch()) {\n            $author = new Author($row['author_id'], $row['author_name']);\n            $blog = new Blog($row['blog_id'], $row['blog_title'], $author);\n            $blogs[] = $blog;\n        }\n        \n        return $blogs;\n    }\n}\n\n// Usage\n$db = new PDO('mysql:host=localhost;dbname=test', 'username', 'password');\n$blogRepo = new BlogRepository($db);\n\nforeach ($blogRepo->getBlogs() as $blog) {\n    echo "<h1>" . $blog->title . "</h1>";\n    echo "Written by " . $blog->getAuthor()->name . "</p>";\n}\n?>