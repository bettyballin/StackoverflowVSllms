<?php\nsession_start();\n\n$banDuration = 10 * 60; // Ban duration in seconds (e.g., 10 minutes)\n$logFile = 'ip_ban_log.txt';\n$ip = $_SERVER['REMOTE_ADDR'];\n\n// Function to check if an IP is banned\nfunction isIpBanned($ip, $logFile, $banDuration) {\n    if (file_exists($logFile)) {\n        $bannedIps = json_decode(file_get_contents($logFile), true);\n        if (isset($bannedIps[$ip])) {\n            if (time() - $bannedIps[$ip] < $banDuration) {\n                return true;\n            } else {\n                // Remove expired ban\n                unset($bannedIps[$ip]);\n                file_put_contents($logFile, json_encode($bannedIps));\n            }\n        }\n    }\n    return false;\n}\n\n// Function to ban an IP\nfunction banIp($ip, $logFile) {\n    $bannedIps = file_exists($logFile) ? json_decode(file_get_contents($logFile), true) : [];\n    $bannedIps[$ip] = time();\n    file_put_contents($logFile, json_encode($bannedIps));\n}\n\n// Check if the IP is banned\nif (isIpBanned($ip, $logFile, $banDuration)) {\n    die("You are temporarily banned from submitting the form. Please try again later.");\n}\n\n// Process form submission\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // Your form processing code here\n\n    // Ban the IP after form submission\n    banIp($ip, $logFile);\n    \n    echo "Form submitted successfully.";\n} else {\n    // Show your form here\n    echo '<form method="post" action=""><input type="submit" value="Submit"></form>';\n}\n?>