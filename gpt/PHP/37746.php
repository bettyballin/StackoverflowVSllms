function getMessageIdsFromMoFile($moFilePath) {\n    $file = fopen($moFilePath, 'rb');\n    if (!$file) {\n        throw new Exception("Unable to open MO file: $moFilePath");\n    }\n\n    // Read MO file header (first 28 bytes)\n    $header = fread($file, 28);\n    if (strlen($header) != 28) {\n        fclose($file);\n        throw new Exception("Invalid MO file header.");\n    }\n\n    // Extract header information\n    $header = unpack('L1magic/L1revision/L1total/L1offset_originals/L1offset_translations/L1size_hash/L1offset_hash', $header);\n    if (dechex($header['magic']) != '950412de') {\n        fclose($file);\n        throw new Exception("Invalid MO file magic number.");\n    }\n\n    $msgIds = [];\n    for ($i = 0; $i < $header['total']; $i++) {\n        // Read original string offset and length\n        fseek($file, $header['offset_originals'] + $i * 8);\n        $original = unpack('L1length/L1offset', fread($file, 8));\n        fseek($file, $original['offset']);\n        $msgid = fread($file, $original['length']);\n        $msgIds[] = $msgid;\n    }\n\n    fclose($file);\n    return $msgIds;\n}\n\n// Usage example:\n$moFilePath = 'path/to/your/messages.mo';\ntry {\n    $msgids = getMessageIdsFromMoFile($moFilePath);\n    foreach ($msgids as $msgid) {\n        // do_something_awesome($msgid);\n        echo $msgid . PHP_EOL;\n    }\n} catch (Exception $e) {\n    echo 'Error: ' . $e->getMessage();\n}