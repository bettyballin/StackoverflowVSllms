<?php\nfunction createNewTicket($url, $ticketData)\n{\n    $data = json_encode(array('action' => 'newTicket', 'ticketData' => $ticketData));\n\n    $options = array(\n        'http' => array(\n            'header'  => "Content-Type: application/json\r\n",\n            'method'  => 'POST',\n            'content' => $data,\n        ),\n    );\n\n    $context  = stream_context_create($options);\n    $result = file_get_contents($url, false, $context);\n\n    if ($result === FALSE) {\n        return array("status" => "error", "message" => "Unable to connect to API");\n    }\n\n    return json_decode($result, true);\n}\n\n$url = "http://example.com/api.php";\n$ticketData = array("subject" => "Test Ticket", "description" => "This is a test ticket");\n\n$response = createNewTicket($url, $ticketData);\n\nprint_r($response);\n?>