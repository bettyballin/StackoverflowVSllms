<?php\nfunction processFileAndSendEmail($file) {\n    $to = 'recipient@example.com';\n    $subject = 'File Attachment';\n    $message = 'Please find the attached file.';\n    $headers = "From: sender@example.com";\n\n    // Get the file content and encode it\n    $fileContent = file_get_contents($file['tmp_name']);\n    $encodedFile = chunk_split(base64_encode($fileContent));\n    \n    // Generate a boundary\n    $boundary = md5(time());\n\n    // Headers for attachment\n    $headers .= "\r\nMIME-Version: 1.0\r\n";\n    $headers .= "Content-Type: multipart/mixed; boundary=\"{$boundary}\"\r\n";\n\n    // Multipart boundary\n    $body = "--{$boundary}\r\n";\n    $body .= "Content-Type: text/plain; charset=\"UTF-8\"\r\n";\n    $body .= "Content-Transfer-Encoding: 7bit\r\n\r\n";\n    $body .= $message . "\r\n";\n    $body .= "--{$boundary}\r\n";\n\n    // Preparing attachment\n    $body .= "Content-Type: application/octet-stream; name=\"{$file['name']}\"\r\n";\n    $body .= "Content-Transfer-Encoding: base64\r\n";\n    $body .= "Content-Disposition: attachment; filename=\"{$file['name']}\"\r\n\r\n";\n    $body .= $encodedFile . "\r\n";\n    $body .= "--{$boundary}--";\n\n    // Sending email\n    if (mail($to, $subject, $body, $headers)) {\n        echo "Email sent successfully.";\n    } else {\n        echo "Failed to send email.";\n    }\n}\n?>