<?php\nsession_start();\n\nfunction getDomainFromReferrer($referrer) {\n    $parsedUrl = parse_url($referrer);\n    return isset($parsedUrl['host']) ? $parsedUrl['host'] : '';\n}\n\nif (!isset($_SESSION['referrer_counted'])) {\n    if (isset($_SERVER['HTTP_REFERER'])) {\n        $referrer = $_SERVER['HTTP_REFERER'];\n        $domain = getDomainFromReferrer($referrer);\n\n        // Assuming you have a function to increment the hits_in counter\n        incrementHitsIn($domain);\n\n        // Set the session variable to indicate that the referrer has been counted\n        $_SESSION['referrer_counted'] = true;\n    }\n}\n\nfunction incrementHitsIn($domain) {\n    // Your logic to increment the hits_in counter for the given domain\n    // For example:\n    // $query = "UPDATE hit_counter SET hits_in = hits_in + 1 WHERE domain = :domain";\n    // Execute the query with the appropriate domain\n}\n?>