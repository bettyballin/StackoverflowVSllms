<?php defined('SYSPATH') or die('No direct script access.');\n\nclass Controller_Login extends Controller_Template {\n\n    public function action_index() {\n        if ($_POST) {\n            $username = $_POST['username'];\n            $password = $_POST['password'];\n\n            if (Auth::instance()->login($username, $password)) {\n                $this->redirect('dashboard');\n            } else {\n                $this->template->content = View::factory('login')\n                    ->set('error', 'Invalid username or password.');\n            }\n        } else {\n            $this->template->content = View::factory('login');\n        }\n    }\n\n    public function action_logout() {\n        Auth::instance()->logout();\n        $this->redirect('login');\n    }\n}