function fetch($url, $localPath) {\n    $ch = curl_init($url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_FAILONERROR, true);\n\n    $data = curl_exec($ch);\n    if (curl_errno($ch)) {\n        curl_close($ch);\n        throw new Exception('Error fetching remote file: ' . curl_error($ch));\n    }\n    curl_close($ch);\n\n    $result = file_put_contents($localPath, $data);\n    if ($result === false) {\n        throw new Exception('Error writing to local file: ' . $localPath);\n    }\n}\n\n// Usage example\ntry {\n    fetch('https://example.com/remote-file.txt', 'local-file.txt');\n} catch (Exception $e) {\n    echo 'Error: ' . $e->getMessage();\n}