function signup() {\n    if (!empty($this->data)) {\n        if (isset($this->data['User']['password2'])) {\n            $password2 = $this->data['User']['password2'];\n            $this->data['User']['password2'] = $this->Auth->password($password2);\n            $this->data['User']['password'] = $this->Auth->password($this->data['User']['password']);\n        }\n\n        $this->User->create();\n\n        if ($this->User->save($this->data)) {\n            // Success logic here\n        } else {\n            // Failure logic here\n        }\n    }\n}