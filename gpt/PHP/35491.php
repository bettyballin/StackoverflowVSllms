function sqlf($query, ...$params) {\n    foreach ($params as $index => $param) {\n        if (is_array($param)) {\n            if (empty($param)) {\n                // Handle empty array by substituting a condition that will not match any rows\n                $query = str_replace(':'.($index + 1), 'NULL', $query);\n            } else {\n                // Convert array to a comma-separated string\n                $query = str_replace(':'.($index + 1), implode(',', array_map('intval', $param)), $query);\n            }\n        } else {\n            // Handle non-array parameters (escape them properly to avoid SQL injection)\n            $query = str_replace(':'.($index + 1), '"' . addslashes($param) . '"', $query);\n        }\n    }\n    return $query;\n}\n\n// Example usage\n$sql = sqlf("SELECT * FROM Users WHERE id IN (:1)", array(1, 2, 3));\necho $sql; // Output: SELECT * FROM Users WHERE id IN (1,2,3)\n\n$sql_empty = sqlf("SELECT * FROM Users WHERE id IN (:1)", array());\necho $sql_empty; // Output: SELECT * FROM Users WHERE id IN (NULL)