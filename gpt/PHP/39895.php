<?php\nfunction contains_invalid_characters($text) {\n    // Decode HTML entities repeatedly\n    for ($i = 0; $i < 3; $i++) {\n        $text = html_entity_decode($text); // decode html entities\n    }\n\n    // Define pattern to match valid characters\n    $pattern = '/^[a-zA-Z0-9äöüß\s!§$%&\/()=\[\]\?.:,;\-_]*$/';\n\n    // Check if the text contains only valid characters\n    $found = !preg_match($pattern, $text);\n    return $found;\n}\n\n// Usage example\n$input_text = "Valid text 123!";\nif (contains_invalid_characters($input_text)) {\n    echo "Text contains invalid characters.";\n} else {\n    echo "Text is valid.";\n}\n?>