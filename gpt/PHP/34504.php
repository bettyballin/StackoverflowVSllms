class DbResultIterator implements Iterator {\n    private $result;\n    private $currentRow;\n    private $key;\n\n    public function __construct($queryResult) {\n        $this->result = $queryResult;\n        $this->rewind();\n    }\n\n    public function rewind() {\n        if ($this->result) {\n            mysql_data_seek($this->result, 0);\n            $this->currentRow = mysql_fetch_assoc($this->result);\n            $this->key = 0;\n        }\n    }\n\n    public function current() {\n        return $this->currentRow;\n    }\n\n    public function key() {\n        return $this->key;\n    }\n\n    public function next() {\n        $this->currentRow = mysql_fetch_assoc($this->result);\n        $this->key++;\n    }\n\n    public function valid() {\n        return $this->currentRow !== false;\n    }\n}\n\n// Usage example\n$result = mysql_query("SELECT * FROM clients WHERE ID > 500");\n$iterator = new DbResultIterator($result);\n\nforeach ($iterator as $row) {\n    // Process each row\n    echo $row['name'] . "\n";\n}