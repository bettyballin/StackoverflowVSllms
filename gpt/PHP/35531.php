function arrayToXml($data, &$xmlData) {\n    foreach($data as $key => $value) {\n        if(is_numeric($key)){\n            $key = 'item'.$key; // dealing with <0/>..<n/> issues\n        }\n        if(is_array($value)) {\n            $subnode = $xmlData->addChild($key);\n            arrayToXml($value, $subnode);\n        } else {\n            $xmlData->addChild("$key",htmlspecialchars("$value"));\n        }\n     }\n}\n\nfunction objectToXml($object, $rootElement = 'root') {\n    $xmlData = new SimpleXMLElement("<?xml version=\"1.0\"?><$rootElement></$rootElement>");\n    $arrayData = json_decode(json_encode($object), true);\n    arrayToXml($arrayData, $xmlData);\n    return $xmlData->asXML();\n}\n\n// Example usage\n$object = (object) [\n    'name' => 'John Doe',\n    'email' => 'john.doe@example.com',\n    'age' => 30,\n    'address' => [\n        'street' => '123 Main St',\n        'city' => 'Anytown'\n    ]\n];\n\n$xmlDocument = objectToXml($object, 'person');\necho $xmlDocument;