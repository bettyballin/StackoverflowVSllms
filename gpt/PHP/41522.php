// Step 1: Upload to S3\nuse Aws\S3\S3Client;\n\n$s3 = new S3Client([\n    'version' => 'latest',\n    'region'  => 'us-east-1'\n]);\n\n$bucket = 'your-bucket-name';\n$key = 'uploads/user123/image.jpeg';\n$file = '/path/to/local/image.jpeg';\n\ntry {\n    $result = $s3->putObject([\n        'Bucket' => $bucket,\n        'Key'    => $key,\n        'SourceFile' => $file,\n        'ACL'    => 'public-read'\n    ]);\n    $url = $result['ObjectURL'];\n} catch (Aws\Exception\S3Exception $e) {\n    echo "There was an error uploading the file.\n";\n}\n\n// Step 2: Store Metadata in Database\n$pdo = new PDO('mysql:host=your-db-host;dbname=your-db-name', 'your-db-user', 'your-db-password');\n$sql = "INSERT INTO images (user_id, image_url, upload_time) VALUES (:user_id, :image_url, NOW())";\n$stmt = $pdo->prepare($sql);\n$stmt->execute(['user_id' => 123, 'image_url' => $url]);\n\n// Step 3: Serve via CDN (assuming CDN is configured to pull from S3)\n$cdnUrl = 'https://your-cdn-domain.com/uploads/user123/image.jpeg';