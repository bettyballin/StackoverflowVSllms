<?php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    if (isset($_FILES['file']) && $_FILES['file']['error'] == UPLOAD_ERR_OK) {\n        $uploadDir = 'uploads/';\n        $uploadFile = $uploadDir . basename($_FILES['file']['name']);\n\n        // Check for valid file type and size\n        $fileType = pathinfo($uploadFile, PATHINFO_EXTENSION);\n        $allowedTypes = ['jpg', 'jpeg', 'png', 'gif', 'pdf', 'docx'];\n\n        if (in_array($fileType, $allowedTypes) && $_FILES['file']['size'] < 5000000) {\n            if (move_uploaded_file($_FILES['file']['tmp_name'], $uploadFile)) {\n                echo "File is valid, and was successfully uploaded.\n";\n            } else {\n                echo "Possible file upload attack!\n";\n            }\n        } else {\n            echo "Invalid file type or size too large.\n";\n        }\n    } else {\n        echo "No file uploaded or upload error.\n";\n    }\n} else {\n    echo "Invalid request method.\n";\n}\n?>