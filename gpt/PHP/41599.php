<?php\nnamespace App;\n\nuse Cake\Core\Configure;\nuse Cake\Event\EventManager;\nuse Cake\Http\BaseApplication;\nuse App\Event\AppInitializationListener;\nuse Cake\Routing\Middleware\RoutingMiddleware;\nuse Cake\Http\Middleware\BodyParserMiddleware;\n\nclass Application extends BaseApplication\n{\n    public function bootstrap(): void\n    {\n        parent::bootstrap();\n\n        // Load more plugins here\n\n        // Attach the event listener\n        $listener = new AppInitializationListener();\n        EventManager::instance()->on($listener);\n    }\n\n    public function middleware($middlewareQueue): \Cake\Http\MiddlewareQueue\n    {\n        $middlewareQueue\n            ->add(new RoutingMiddleware($this))\n            ->add(new BodyParserMiddleware());\n\n        return $middlewareQueue;\n    }\n}