function crypt_apr1_md5($plainpasswd) {\n    $salt = substr(str_shuffle("abcdefghijklmnopqrstuvwxyz0123456789"), 0, 8);\n    $len = strlen($plainpasswd);\n    $text = $plainpasswd . '$apr1$' . $salt;\n    $bin = pack("H32", md5($plainpasswd . $salt . $plainpasswd));\n\n    for ($i = $len; $i > 0; $i -= 16) {\n        $text .= substr($bin, 0, min(16, $i));\n    }\n\n    for ($i = $len; $i > 0; $i >>= 1) {\n        $text .= ($i & 1) ? chr(0) : $plainpasswd[0];\n    }\n\n    $bin = pack("H32", md5($text));\n\n    for ($i = 0; $i < 1000; $i++) {\n        $new = ($i & 1) ? $plainpasswd : $bin;\n        if ($i % 3) {\n            $new .= $salt;\n        }\n        if ($i % 7) {\n            $new .= $plainpasswd;\n        }\n        $new .= ($i & 1) ? $bin : $plainpasswd;\n        $bin = pack("H32", md5($new));\n    }\n\n    $tmp = '';\n    for ($i = 0; $i < 5; $i++) {\n        $k = $i + 6;\n        $j = $i + 12;\n        if ($j == 16) {\n            $j = 5;\n        }\n        $tmp = $bin[$i] . $bin[$k] . $bin[$j] . $tmp;\n    }\n\n    $tmp = chr(0) . chr(0) . $bin[11] . $tmp;\n    $tmp = strtr(strrev(substr(base64_encode($tmp), 2)), \n                 "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", \n                 "./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");\n\n    return "$" . "apr1" . "$" . $salt . "$" . $tmp;\n}\n\n// Example usage\n$password = "examplePassword";\n$hashed_password = crypt_apr1_md5($password);\necho $hashed_password;