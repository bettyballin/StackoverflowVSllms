<?php\n// Database connection\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\n// Check connection\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Prepare the SQL statement\n$sql = "SELECT * FROM (\n            SELECT * FROM $db_table WHERE live = 1 ORDER BY $datetime DESC LIMIT 100\n        ) AS subquery\n        ORDER BY RAND() LIMIT 1";\n\nif ($stmt = $mysqli->prepare($sql)) {\n    // Execute the statement\n    $stmt->execute();\n\n    // Get the result\n    $result = $stmt->get_result();\n\n    // Fetch the row\n    if ($row = $result->fetch_assoc()) {\n        echo htmlspecialchars($row['familyname']);\n    } else {\n        echo "No results found.";\n    }\n\n    // Close the statement\n    $stmt->close();\n} else {\n    echo "Error preparing statement: " . $mysqli->error;\n}\n\n// Close the database connection\n$mysqli->close();\n?>