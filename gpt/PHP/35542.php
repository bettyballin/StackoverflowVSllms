class StatementManager {\n    private $preparedStatements = array();\n\n    public function prepareStatement($connection, $stmtName, $query) {\n        // Check if the statement is already prepared\n        if (isset($this->preparedStatements[$stmtName])) {\n            return true;\n        }\n\n        // Prepare the statement\n        $prepare = pg_prepare($connection, $stmtName, $query);\n        if ($prepare) {\n            // Add the statement name to the array\n            $this->preparedStatements[$stmtName] = true;\n            return true;\n        } else {\n            throw new Exception('Prepared statement failed.');\n        }\n    }\n}\n\n// Usage example\ntry {\n    $conn = pg_connect("host=your_host dbname=your_db user=your_user password=your_password");\n    $stmtManager = new StatementManager();\n\n    // Prepare a statement\n    $stmtManager->prepareStatement($conn, 'my_stmt_name', "SELECT * FROM your_table WHERE id = $1");\n    // Attempt to prepare the same statement again\n    $stmtManager->prepareStatement($conn, 'my_stmt_name', "SELECT * FROM your_table WHERE id = $1");\n\n} catch (Exception $e) {\n    echo $e->getMessage();\n}