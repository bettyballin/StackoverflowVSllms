// Assuming you have the cookie hash stored in a variable\n$user_id = $_COOKIE['user_id'];\n\n// Create a new mysqli connection\n$mysqli = new mysqli("hostname", "username", "password", "database");\n\n// Check connection\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Prepare the query\n$query = "\n    SELECT \n        s.*, \n        UNIX_TIMESTAMP(s.date) AS date,\n        f.USERID,\n        (SELECT COUNT(*) FROM favorites WHERE FAVORITE = s.ID) AS favorite_count\n    FROM \n        songs s\n    LEFT JOIN \n        favorites f ON s.ID = f.FAVORITE AND f.USERID = ?\n    WHERE \n        s.date >= DATE_SUB(NOW(), INTERVAL 2 WEEK)\n    ORDER BY \n        s.date DESC\n";\n\n// Prepare and bind\n$stmt = $mysqli->prepare($query);\n$stmt->bind_param("s", $user_id);\n\n// Execute the query\n$stmt->execute();\n\n// Get the result\n$result = $stmt->get_result();\n\n// Fetch and process the results\nwhile ($row = $result->fetch_assoc()) {\n    // Process each row\n    echo "Song ID: " . $row['ID'] . " - Favorites: " . $row['favorite_count'] . "<br>";\n    // Add more code to display your data as needed\n}\n\n// Close the statement and connection\n$stmt->close();\n$mysqli->close();