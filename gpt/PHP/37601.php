function renameElement($doc, $element, $newName) {\n    // Create a new element with the desired name\n    $newElement = $doc->createElement($newName);\n\n    // Copy attributes\n    foreach ($element->attributes as $attr) {\n        $newElement->setAttribute($attr->nodeName, $attr->nodeValue);\n    }\n\n    // Copy child nodes\n    foreach ($element->childNodes as $child) {\n        $newElement->appendChild($child->cloneNode(true));\n    }\n\n    // Replace the old element with the new element\n    $element->parentNode->replaceChild($newElement, $element);\n\n    return $newElement;\n}\n\n// Example usage\n$doc = new DOMDocument();\n$doc->loadXML('<root><identity id="123"><name>John Doe</name></identity></root>');\n$element = $doc->getElementsByTagName('identity')->item(0);\n\nrenameElement($doc, $element, 'person');\n\necho $doc->saveXML();