<?php\n   // Load the Imagick library\n   $imagick = new Imagick();\n   \n   // Read the animated GIF\n   $imagick->readImage('input.gif');\n\n   // Watermark image\n   $watermark = new Imagick();\n   $watermark->readImage('watermark.png');\n\n   // Iterate through each frame\n   $frames = $imagick->coalesceImages();\n   $newGif = new Imagick();\n   $frameCount = 0;\n\n   foreach ($frames as $frame) {\n       // Apply watermark to each frame\n       $frame->compositeImage($watermark, Imagick::COMPOSITE_OVER, 0, 0);\n\n       // Cull frames (e.g., remove every 2nd frame)\n       if ($frameCount % 2 == 0) {\n           $newGif->addImage($frame);\n       }\n       $frameCount++;\n   }\n\n   // Optimize and write the new GIF\n   $newGif->optimizeImageLayers();\n   $newGif->writeImages('output.gif', true);\n\n   echo "Watermarked and culled GIF created successfully.";\n   ?>