libxml_use_internal_errors(true);\n\n$doc = new DOMDocument('1.0', 'UTF-8');\n\n// Load HTML while preserving the entities\n$doc->loadHTML(mb_convert_encoding($text, 'HTML-ENTITIES', 'UTF-8'));\n\n// Get all anchor tags\n$anchors = $doc->getElementsByTagName('a');\n\n// Modify the href attribute for each anchor tag\nforeach ($anchors as $a) {\n    $a->setAttribute('href', 'http://google.com');\n}\n\n// Save and return the HTML\n$html = $doc->saveHTML($doc->documentElement);\n\nlibxml_clear_errors();\n\nreturn $html;