<?php\n// Database connection\n$dsn = 'mysql:host=your_host;dbname=your_dbname';\n$username = 'your_username';\n$password = 'your_password';\n$options = [];\n\ntry {\n    $pdo = new PDO($dsn, $username, $password, $options);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e->getMessage();\n    exit;\n}\n\n// Prepare and execute the query\n$sql = "SELECT * \n        FROM your_table \n        WHERE purchased >= DATE_SUB(DATE(NOW()), INTERVAL (WEEKDAY(NOW()) + 1 + 7) DAY) \n        AND purchased < DATE_SUB(DATE(NOW()), INTERVAL (WEEKDAY(NOW()) + 1) DAY)";\n        \n$stmt = $pdo->prepare($sql);\n$stmt->execute();\n\n// Fetch results\n$results = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n// Process results as needed\nforeach ($results as $row) {\n    // Process each row\n}\n?>