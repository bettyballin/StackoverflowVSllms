<?php\n$mesg = '';\n\nif (isset($_POST['Upload'])) {\n    // Check if file was uploaded without errors\n    if (isset($_FILES['uploaded']) && $_FILES['uploaded']['error'] == 0) {\n        // Check file size\n        if ($_FILES['uploaded']['size'] <= 350000) {\n            // Define the allowed file types (optional, for security)\n            $allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\n            $fileType = mime_content_type($_FILES['uploaded']['tmp_name']);\n\n            if (in_array($fileType, $allowedTypes)) {\n                $uploadDir = 'upload/';\n                $uploadFile = $uploadDir . basename($_FILES['uploaded']['name']);\n\n                // Move file to the upload directory\n                if (move_uploaded_file($_FILES['uploaded']['tmp_name'], $uploadFile)) {\n                    $mesg = "The file " . htmlspecialchars(basename($_FILES['uploaded']['name'])) . " has been uploaded.";\n                } else {\n                    $mesg = "Sorry, there was a problem uploading your file.";\n                }\n            } else {\n                $mesg = "Invalid file type.";\n            }\n        } else {\n            $mesg = "Your file is too large.";\n        }\n    } else {\n        $mesg = "No file was uploaded or there was an upload error.";\n    }\n} else {\n    $mesg = "Select a file to upload.";\n}\n?>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>File Upload</title>\n</head>\n<body>\n    <?php echo htmlspecialchars($mesg); ?><br /><br />\n    <form enctype="multipart/form-data" action="" method="POST">\n        Please choose a file: <input name="uploaded" type="file" /><br />\n        <input type="submit" name="Upload" value="Upload" />\n    </form>\n</body>\n</html>