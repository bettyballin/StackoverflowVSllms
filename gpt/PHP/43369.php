$mysqli = new mysqli("hostname", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n$query = "\n    SELECT t.id, t.title\n    FROM threads t\n    LEFT JOIN comments c ON t.id = c.thread_id\n    GROUP BY t.id\n    ORDER BY MAX(c.date) DESC\n";\n\nif ($result = $mysqli->query($query)) {\n    while ($thread = $result->fetch_assoc()) {\n        echo $thread['title'];\n    }\n    $result->free();\n}\n\n$mysqli->close();