$result = $connector->query('SELECT ID, name, parentid FROM categories');\n\n// Get an array containing the results.\n$categories = array();\nwhile ($row = $connector->fetchArray($result)) {\n    $id = $row['ID'];\n    $categories[$id] = array('ID' => $row['ID'], 'name' => $row['name'], 'parentid' => $row['parentid']);\n}\n\n// Function to build the tree\nfunction buildTree($categories, $parentId = 0) {\n    $branch = array();\n\n    foreach ($categories as $category) {\n        if ($category['parentid'] == $parentId) {\n            $children = buildTree($categories, $category['ID']);\n            if ($children) {\n                $category['children'] = $children;\n            }\n            $branch[] = $category;\n        }\n    }\n\n    return $branch;\n}\n\n// Function to print the tree\nfunction printTree($tree, $prefix = '') {\n    foreach ($tree as $node) {\n        echo $prefix . $node['name'] . '<br>';\n        if (isset($node['children'])) {\n            printTree($node['children'], $prefix . ' -> ');\n        }\n    }\n}\n\n// Build and print the tree\n$tree = buildTree($categories);\nprintTree($tree);