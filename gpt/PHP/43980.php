if ( defined( 'MW_SUPPORTS_PARSERFIRSTCALLINIT' ) ) {\n     $wgHooks['ParserFirstCallInit'][] = 'tagregister';\n} else { // Otherwise do things the old fashioned way\n     $wgExtensionFunctions[] = 'tagregister';\n}\n\nfunction tagregister() {\n  global $wgParser;\n  $wgParser->setHook('tag1', 'tag1func');\n  $wgParser->setHook('tag2', 'tag2func');\n  return true;\n}\n\nfunction tag1func($input, $params, $parser) {\n  $output = htmlspecialchars("It called me");\n  return $parser->recursiveTagParse($output);\n}\n\nfunction tag2func($input, $params, $parser) {\n  $output = htmlspecialchars("It called me -- 2");\n  return $parser->recursiveTagParse($output);\n}