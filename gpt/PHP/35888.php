// The actual model\nclass Default_Model_Guestbook\n{\n    protected $_comment;\n    protected $_created;\n    protected $_poster;\n    // list continues with all columns\n}\n\n// DbTable for this model\nclass Default_Model_DbTable_Guestbook extends Zend_Db_Table_Abstract\n{\n    /** Table name */\n    protected $_name = 'guestbook';\n}\n\n// Mapper\nclass Default_Model_GuestbookMapper\n{\n    protected $_dbTable;\n\n    public function __construct()\n    {\n        $this->_dbTable = new Default_Model_DbTable_Guestbook();\n    }\n\n    public function save(Default_Model_Guestbook $guestbook)\n    {\n        // Mapping logic from model to table data\n        $data = [\n            'comment' => $guestbook->getComment(),\n            'created' => $guestbook->getCreated(),\n            'poster' => $guestbook->getPoster()\n        ];\n\n        if (null === ($id = $guestbook->getId())) {\n            unset($data['id']);\n            $this->_dbTable->insert($data);\n        } else {\n            $this->_dbTable->update($data, ['id = ?' => $id]);\n        }\n    }\n\n    public function find($id, Default_Model_Guestbook $guestbook)\n    {\n        $result = $this->_dbTable->find($id);\n        if (0 == count($result)) {\n            return;\n        }\n        $row = $result->current();\n        $guestbook->setId($row->id)\n                  ->setComment($row->comment)\n                  ->setCreated($row->created)\n                  ->setPoster($row->poster);\n    }\n\n    public function fetchAll()\n    {\n        $resultSet = $this->_dbTable->fetchAll();\n        $entries = [];\n        foreach ($resultSet as $row) {\n            $entry = new Default_Model_Guestbook();\n            $entry->setId($row->id)\n                  ->setComment($row->comment)\n                  ->setCreated($row->created)\n                  ->setPoster($row->poster);\n            $entries[] = $entry;\n        }\n        return $entries;\n    }\n}