// In your controller\npublic function upload()\n{\n    if ($this->request->is('post')) {\n        $file = $this->request->getData('file');\n        \n        // Check if file was uploaded\n        if (!empty($file['name'])) {\n            // Perform any necessary validation here, e.g., file size, type, etc.\n            \n            // Generate a unique name for the file before saving it\n            $filename = uniqid() . '-' . basename($file['name']);\n            $uploadPath = WWW_ROOT . 'files' . DS . $filename;\n            \n            // Move the uploaded file to the designated directory\n            if (move_uploaded_file($file['tmp_name'], $uploadPath)) {\n                // Save file information to the database, if necessary\n                // e.g. $this->Files->save($fileEntity);\n                \n                $this->Flash->success(__('File uploaded successfully.'));\n            } else {\n                $this->Flash->error(__('Unable to upload file. Please, try again.'));\n            }\n        } else {\n            $this->Flash->error(__('No file was uploaded.'));\n        }\n    }\n}