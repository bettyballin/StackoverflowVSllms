function prettyPrintHTML($html) {\n    $dom = new DOMDocument();\n    \n    // Load the HTML\n    @$dom->loadHTML($html, LIBXML_HTML_NOIMPLIED | LIBXML_HTML_NODEFDTD);\n    \n    // Remove unnecessary whitespace nodes\n    removeWhitespaceNodes($dom);\n    \n    // Enable formatting\n    $dom->preserveWhiteSpace = false;\n    $dom->formatOutput = true;\n    \n    // Save the formatted HTML\n    return $dom->saveHTML();\n}\n\nfunction removeWhitespaceNodes($dom) {\n    $xpath = new DOMXPath($dom);\n    foreach ($xpath->query('//text()') as $textNode) {\n        if (trim($textNode->wholeText) === '') {\n            $textNode->parentNode->removeChild($textNode);\n        }\n    }\n}\n\n// Example usage\n$html = '<div><p>Hello, World!</p><p>Another paragraph.</p></div>';\n$prettyHtml = prettyPrintHTML($html);\necho htmlspecialchars($prettyHtml); // Use htmlspecialchars to view the formatted HTML in a web context