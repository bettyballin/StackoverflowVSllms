class AuthService\n{\n    protected $auth;\n\n    public function __construct()\n    {\n        $this->auth = Zend_Auth::getInstance();\n    }\n\n    public function authenticate($username, $password)\n    {\n        $authAdapter = new Zend_Auth_Adapter_DbTable(\n            Zend_Db_Table_Abstract::getDefaultAdapter(),\n            'users',\n            'username',\n            'password',\n            'MD5(?)'\n        );\n\n        $authAdapter->setIdentity($username)\n                    ->setCredential($password);\n\n        $result = $this->auth->authenticate($authAdapter);\n        return $result->isValid();\n    }\n\n    public function hasIdentity()\n    {\n        return $this->auth->hasIdentity();\n    }\n\n    public function getIdentity()\n    {\n        return $this->auth->getIdentity();\n    }\n\n    public function clearIdentity()\n    {\n        $this->auth->clearIdentity();\n    }\n}