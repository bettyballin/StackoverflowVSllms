// Check if the viewer is a friend\n$stmt = $pdo->prepare("SELECT status FROM friendships WHERE (user_id = :user_id AND friend_id = :viewer_id) OR (user_id = :viewer_id AND friend_id = :user_id) AND status = 'accepted'");\n$stmt->execute(['user_id' => $profileUserId, 'viewer_id' => $viewerId]);\n\nif ($stmt->rowCount() > 0) {\n    // Viewer is a friend\n} else {\n    // Viewer is not a friend\n}