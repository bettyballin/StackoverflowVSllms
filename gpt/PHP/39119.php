<?php\n// upload.php\n\n$targetDir = "uploads/";\n$allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n$maxFileSize = 5 * 1024 * 1024; // 5 MB\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    if (isset($_FILES['qqfile'])) {\n        $file = $_FILES['qqfile'];\n        $fileType = mime_content_type($file['tmp_name']);\n        $fileSize = $file['size'];\n\n        if (in_array($fileType, $allowedTypes) && $fileSize <= $maxFileSize) {\n            $targetFilePath = $targetDir . basename($file['name']);\n\n            if (move_uploaded_file($file['tmp_name'], $targetFilePath)) {\n                echo json_encode(['success' => true]);\n            } else {\n                echo json_encode(['success' => false, 'error' => 'Failed to move the uploaded file.']);\n            }\n        } else {\n            echo json_encode(['success' => false, 'error' => 'Invalid file type or size.']);\n        }\n    } else {\n        echo json_encode(['success' => false, 'error' => 'No file uploaded.']);\n    }\n} else {\n    echo json_encode(['success' => false, 'error' => 'Invalid request method.']);\n}\n?>