<?php\n// The XML string with unencoded entities\n$xmlString = '<root><element>Here is a heart: <3</element></root>';\n\n// Function to escape problematic characters\nfunction escapeXmlEntities($string) {\n    // List of characters to escape\n    $search = ['<', '>', '&', '"', "'"];\n    // Corresponding XML entities\n    $replace = ['&lt;', '&gt;', '&amp;', '&quot;', '&apos;'];\n    \n    // Replace characters with their XML entities\n    return str_replace($search, $replace, $string);\n}\n\n// Escape the problematic entities in the XML string\n$escapedXmlString = escapeXmlEntities($xmlString);\n\n// Now parse the escaped XML string with SimpleXMLElement\ntry {\n    $xml = new SimpleXMLElement($escapedXmlString);\n    // Do something with the XML\n    echo $xml->element;\n} catch (Exception $e) {\n    // Handle the exception\n    echo 'Failed to parse XML: ',  $e->getMessage(), "\n";\n}\n?>