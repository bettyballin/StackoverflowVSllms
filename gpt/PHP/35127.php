function resizePngWithTransparency($filename, $newWidth, $newHeight) {\n    // Load the original image\n    $originalImage = imagecreatefrompng($filename);\n    imagesavealpha($originalImage, true);\n\n    // Create a new true color image\n    $newImage = imagecreatetruecolor($newWidth, $newHeight);\n\n    // Enable transparency\n    imagealphablending($newImage, false);\n    imagesavealpha($newImage, true);\n\n    // Fill the new image with transparent color\n    $transparentColor = imagecolorallocatealpha($newImage, 0, 0, 0, 127);\n    imagefill($newImage, 0, 0, $transparentColor);\n\n    // Copy and resize the old image into the new image\n    imagecopyresampled($newImage, $originalImage, 0, 0, 0, 0, $newWidth, $newHeight, imagesx($originalImage), imagesy($originalImage));\n\n    // Save the resized image\n    imagepng($newImage, $filename);\n\n    // Clean up\n    imagedestroy($originalImage);\n    imagedestroy($newImage);\n}\n\n// Usage example\nresizePngWithTransparency('path/to/your/image.png', 200, 150);