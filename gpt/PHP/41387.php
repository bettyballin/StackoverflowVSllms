public function login()\n{\n    $this->load->library('session');\n    $this->load->helper('cookie');\n    \n    $username = $this->input->post('username');\n    $password = $this->input->post('password');\n    $remember_me = $this->input->post('remember_me');\n\n    // Validate user credentials\n    if ($this->auth_model->validate_user($username, $password)) {\n        $user_data = array(\n            'username' => $username,\n            'logged_in' => TRUE\n        );\n\n        $this->session->set_userdata($user_data);\n\n        if ($remember_me) {\n            $this->input->set_cookie('remember_me', base64_encode($username), 86400*30); // 30 days\n        }\n\n        redirect('dashboard');\n    } else {\n        $this->session->set_flashdata('error', 'Invalid Username/Password');\n        redirect('login');\n    }\n}