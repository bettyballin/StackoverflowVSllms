function exportNamesCommentsCSV($table, $filename = 'volunteer_2009_comments.csv') {\n    $csv_terminated = "\n";\n    $csv_separator = ",";\n    $csv_enclosed = '"';\n    $csv_escaped = "\\";\n    $sql_query = "SELECT lname, fname, email, comments FROM volunteers_2009";\n\n    // Gets the data from the database\n    $result = mysql_query($sql_query);\n    $fields_cnt = mysql_num_fields($result);\n\n    // Manually set the desired headers\n    $headers = array("Last Name", "First Name", "Email", "Comments");\n    $schema_insert = '';\n\n    foreach ($headers as $header) {\n        $l = $csv_enclosed . str_replace($csv_enclosed, $csv_escaped . $csv_enclosed, stripslashes($header)) . $csv_enclosed;\n        $schema_insert .= $l;\n        $schema_insert .= $csv_separator;\n    }\n\n    $out = trim(substr($schema_insert, 0, -1));\n    $out .= $csv_terminated;\n\n    // Format the data\n    while ($row = mysql_fetch_array($result)) {\n        $schema_insert = '';\n        for ($j = 0; $j < $fields_cnt; $j++) {\n            if ($row[$j] == '0' || $row[$j] != '') {\n                if ($csv_enclosed == '') {\n                    $schema_insert .= $row[$j];\n                } else {\n                    $schema_insert .= $csv_enclosed . \n                    str_replace($csv_enclosed, $csv_escaped . $csv_enclosed, $row[$j]) . $csv_enclosed;\n                }\n            } else {\n                $schema_insert .= '';\n            }\n\n            if ($j < $fields_cnt - 1) {\n                $schema_insert .= $csv_separator;\n            }\n        }\n\n        $out .= $schema_insert;\n        $out .= $csv_terminated;\n    }\n\n    header("Cache-Control: must-revalidate, post-check=0, pre-check=0");\n    header("Content-Length: " . strlen($out));\n    header("Content-type: text/x-csv");\n    header("Content-Disposition: attachment; filename=$filename");\n    echo $out;\n    exit;\n}