function uploadNewFile($title, $abstract, $reference, $ownerUserId, $groupId, $fileTmpPath) {\n    // Insert into files table\n    $sql = "INSERT INTO files (title, abstract, reference, owner_user_id, group_id) VALUES (?, ?, ?, ?, ?)";\n    // Execute the query with the provided parameters...\n\n    $fileId = // Get the last inserted ID...\n\n    // Version number starts at 1 for a new file\n    $version = 1;\n    $filePath = "/storage/file_id_{$fileId}/version_{$version}/";\n    // Save the file to the server\n    if (!file_exists($filePath)) {\n        mkdir($filePath, 0777, true);\n    }\n    move_uploaded_file($fileTmpPath, $filePath . "file");\n\n    // Insert into file_versions table\n    $sql = "INSERT INTO file_versions (file_id, version, is_draft, is_final, file_path) VALUES (?, ?, ?, ?, ?)";\n    // Execute the query with the provided parameters...\n}