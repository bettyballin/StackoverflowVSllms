<?php\nfunction recordPageHit($page) {\n    $db = new SQLite3('page_hits.db');\n    \n    // Create table if it doesn't exist\n    $db->exec("CREATE TABLE IF NOT EXISTS hits (page TEXT PRIMARY KEY, count INTEGER)");\n\n    // Use a transaction to ensure atomicity\n    $db->exec('BEGIN');\n    $stmt = $db->prepare('INSERT INTO hits (page, count) VALUES (:page, 1) ON CONFLICT(page) DO UPDATE SET count = count + 1');\n    $stmt->bindValue(':page', $page, SQLITE3_TEXT);\n    $stmt->execute();\n    $db->exec('COMMIT');\n\n    // Close the connection\n    $db->close();\n}\n\n// Example usage\nrecordPageHit('homepage');\n?>