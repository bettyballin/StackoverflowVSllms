function processPlugin($plgFile, $db, $alias) {\n    include($plgFile);\n\n    if (!class_exists('PlginImpl', false)) {\n        throw new Exception("Class PlginImpl not found in $plgFile");\n    }\n\n    class_alias('PlginImpl', $alias);\n\n    $plgin = new $alias();\n    $plgin->setDb($db);\n    $ret = $plgin->process();\n    return $ret;\n}\n\n// Usage\n$db = /* your database connection */;\n$pluginFile1 = 'path/to/plugin1.php';\n$pluginFile2 = 'path/to/plugin2.php';\n\n$result1 = processPlugin($pluginFile1, $db, 'PlginImpl1');\n$result2 = processPlugin($pluginFile2, $db, 'PlginImpl2');