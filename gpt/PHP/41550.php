$sourcePath = 'images/'; // Path of original image\n$sourceName = 'photo1.jpg'; // Name of original image\n$thumbPath = 'thumbs/'; // Writeable thumb path\n$thumbName = "test_thumb.jpg"; // Tip: Name dynamically\n$thumbWidth = 100; // Intended dimension of thumb\n\n$sourceImage = imagecreatefromjpeg("$sourcePath/$sourceName");\n$sourceWidth = imagesx($sourceImage);\n$sourceHeight = imagesy($sourceImage);\n\n// Calculate the aspect ratio\n$aspectRatio = $sourceWidth / $sourceHeight;\n$thumbHeight = $thumbWidth / $aspectRatio;\n\n// Create a true color image with the new dimensions\n$targetImage = imagecreatetruecolor($thumbWidth, $thumbHeight);\n\n// Use imagecopyresampled for better quality\nimagecopyresampled($targetImage, $sourceImage, 0, 0, 0, 0, $thumbWidth, $thumbHeight, $sourceWidth, $sourceHeight);\n\n// Save the resized image\nimagejpeg($targetImage, "$thumbPath/$thumbName", 90); // 90 is the quality parameter\n\n// Free up memory\nimagedestroy($sourceImage);\nimagedestroy($targetImage);\n\n// Display the thumbnail\necho "<img src='$thumbPath$thumbName' alt='Thumbnail'>";