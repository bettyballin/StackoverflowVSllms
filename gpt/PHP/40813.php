<?php\n$id = intval($_GET['b']);\n$show = intval($_GET['p']);\n\nif($id && ($show == 1 || $show == 0)) {\n    $conn = new mysqli('hostname', 'username', 'password', 'database');\n    if ($conn->connect_error) {\n        die(json_encode(array('success' => false, 'message' => 'Database connection failed')));\n    }\n    $stmt = $conn->prepare("UPDATE listings SET show_online = ? WHERE id = ? LIMIT 1");\n    $stmt->bind_param('ii', $show, $id);\n    $result = $stmt->execute();\n    $stmt->close();\n    $conn->close();\n\n    if($result) {\n        echo json_encode(array('success' => true));\n    } else {\n        echo json_encode(array('success' => false, 'message' => 'Update failed'));\n    }\n} else {\n    echo json_encode(array('success' => false, 'message' => 'Invalid parameters'));\n}\n?>