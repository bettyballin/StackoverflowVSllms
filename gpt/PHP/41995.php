function submit_new(){\n    $config['upload_path'] = './images/';\n    $config['allowed_types'] = 'gif|jpg|png';\n    $config['max_size'] = '2000';\n    $config['max_width'] = '1024';\n    $config['max_height'] = '768';\n\n    $this->load->library('upload', $config);\n\n    if (!$this->upload->do_upload('image')) {\n        $error = array('error' => $this->upload->display_errors());\n        // Handle the error accordingly\n        // For example, you might redirect back to the form with an error message\n        redirect('bro'); // Adjust redirect as needed\n    } else {\n        $data = $this->upload->data();\n        $image_path = $data['full_path'];\n\n        // Prepare data to be inserted\n        $form_data = array(\n            'other_form_field' => $this->input->post('other_form_field'), // Add your other form fields here\n            'image' => $image_path\n        );\n\n        $this->db->insert('post', $form_data);\n\n        redirect('bro');\n    }\n}