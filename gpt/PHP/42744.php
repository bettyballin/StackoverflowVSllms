<?php\nfunction calculateSMA($data, $period) {\n    $sma = [];\n    $dataCount = count($data);\n\n    for ($i = 0; $i <= $dataCount - $period; $i++) {\n        $sum = 0;\n        for ($j = 0; $j < $period; $j++) {\n            $sum += $data[$i + $j];\n        }\n        $sma[] = $sum / $period;\n    }\n\n    return $sma;\n}\n\n// Example usage\n$historicalPrices = [100, 102, 101, 104, 107, 110, 108, 105, 103, 102];\n$period = 3;\n$sma = calculateSMA($historicalPrices, $period);\n\nprint_r($sma);\n?>