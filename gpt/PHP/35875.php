$text = "Some place\nSome place (often text in parenthesis)\nSome place (often text in parenthesis) [even text in brackets sometimes]";\n$pattern = '/^([^\(]+)\s*(?:\(([^)]+)\))?\s*(?:\[([^\]]+)\])?$/m';\n\npreg_match_all($pattern, $text, $matches, PREG_SET_ORDER);\n\nforeach ($matches as $match) {\n    echo "1: " . trim($match[1]) . "\n";\n    echo "2: " . (isset($match[2]) ? $match[2] : '') . "\n";\n    echo "3: " . (isset($match[3]) ? $match[3] : '') . "\n";\n    echo "\n";\n}