<?php\nfunction recordPageHit($page) {\n    $file = 'hits_' . $page . '.txt';\n\n    // Use file locking to prevent race conditions\n    $fp = fopen($file, 'c+');\n    if (flock($fp, LOCK_EX)) {\n        $hits = (int)fread($fp, filesize($file));\n        ftruncate($fp, 0);\n        rewind($fp);\n        fwrite($fp, ++$hits);\n        fflush($fp);\n        flock($fp, LOCK_UN);\n    }\n    fclose($fp);\n}\n\n// Example usage\nrecordPageHit('homepage');\n?>