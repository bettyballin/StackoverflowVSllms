<?php\n// Increase memory limit and max execution time\nini_set('memory_limit', '2G');\nset_time_limit(0);\n\n$Database = new PDO(\n    'mysql:host=localhost;port=3306;dbname=mydatabase',\n    'root',\n    '',\n    array(\n        PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n        PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true\n    )\n);\n\n$batchSize = 1000;\n$offset = 0;\n\nwhile (true) {\n    $rQuery = $Database->query("SELECT id FROM mytable LIMIT $batchSize OFFSET $offset");\n\n    $rowsFetched = false;\n    foreach ($rQuery as $aRow) {\n        $rowsFetched = true;\n        print_r($aRow);\n    }\n\n    if (!$rowsFetched) {\n        // No more rows to fetch, exit the loop\n        break;\n    }\n\n    $offset += $batchSize;\n}\n\necho 'Made it through.';\n?>