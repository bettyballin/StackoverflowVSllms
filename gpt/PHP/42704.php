$directory = new RecursiveDirectoryIterator('/path/to/your/codebase');\n   $iterator = new RecursiveIteratorIterator($directory);\n   $regex = new RegexIterator($iterator, '/^.+\.php$/i', RecursiveRegexIterator::GET_MATCH);\n\n   foreach($regex as $file) {\n       $contents = file_get_contents($file[0]);\n       // Example replacement, this should be customized as needed\n       $contents = str_replace('$username', '$_POST[\'username\']', $contents);\n       file_put_contents($file[0], $contents);\n   }