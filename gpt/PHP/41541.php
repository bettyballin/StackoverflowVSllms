// src/Model/Table/PersonsTable.php\n   namespace App\Model\Table;\n\n   use Cake\ORM\Table;\n   use Cake\Validation\Validator;\n\n   class PersonsTable extends Table {\n       public function initialize(array $config): void {\n           parent::initialize($config);\n\n           $this->setTable('persons');\n           $this->setPrimaryKey('id');\n           $this->setDisplayField('name');\n\n           // Setup HABTM relationship\n           $this->belongsToMany('Relations', [\n               'className' => 'Persons',\n               'joinTable' => 'persons_persons',\n               'foreignKey' => 'person_id_parent',\n               'targetForeignKey' => 'person_id_child'\n           ]);\n       }\n\n       public function validationDefault(Validator $validator): Validator {\n           $validator\n               ->integer('id')\n               ->allowEmptyString('id', null, 'create');\n\n           $validator\n               ->scalar('name')\n               ->maxLength('name', 255)\n               ->requirePresence('name', 'create')\n               ->notEmptyString('name');\n\n           $validator\n               ->email('email')\n               ->requirePresence('email', 'create')\n               ->notEmptyString('email');\n\n           return $validator;\n       }\n   }