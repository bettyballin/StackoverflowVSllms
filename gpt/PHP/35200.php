$mysqli = new mysqli("hostname", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n$sql = "SELECT products.id AS product_id, products.name AS product_name, product_groups.id AS group_id, product_groups.name AS group_name\n        FROM products\n        INNER JOIN product_groups ON products.group_id = product_groups.id\n        WHERE products.name LIKE '%foobar%'\n        ORDER BY product_groups.id ASC";\n\n$result = $mysqli->query($sql);\n\nif ($result->num_rows > 0) {\n    $last_group_id = null;\n    while ($data = $result->fetch_assoc()) {\n        if ($data['group_id'] !== $last_group_id) {\n            echo "<h2>" . htmlspecialchars($data['group_name']) . "</h2>";\n            $last_group_id = $data['group_id'];\n        }\n        echo "<p>" . htmlspecialchars($data['product_name']) . "</p>";\n    }\n} else {\n    echo "No results found.";\n}\n\n$mysqli->close();