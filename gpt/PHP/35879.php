<?php\n$myid = intval($myid); // Make sure $myid is an integer to prevent SQL injection\n\n// Establish a database connection\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\n// Check connection\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Use prepared statements to safely execute SQL queries\n$stmt = $mysqli->prepare("SELECT friends FROM users WHERE id = ?");\n$stmt->bind_param("i", $myid);\n$stmt->execute();\n$result = $stmt->get_result();\n$friends = $result->fetch_assoc();\n\n$friends2 = unserialize($friends['friends']);\nif ($friends2 === false) {\n    // Initialize $friends2 as an empty array if unserialize fails\n    $friends2 = array();\n}\n\nif (count($friends2) == 0) {\n    // Option 1\n    $friends2 = array($id);\n} else {\n    // Option 2\n    array_push($friends2, $id);\n}\n\n$friendsUpdated = serialize($friends2);\n\n$stmt = $mysqli->prepare("UPDATE users SET friends = ? WHERE id = ?");\n$stmt->bind_param("si", $friendsUpdated, $myid);\n$stmt->execute();\n\n$stmt->close();\n$mysqli->close();\n?>