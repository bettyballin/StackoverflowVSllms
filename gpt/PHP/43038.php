$to = 'recipient@example.com';\n$subject = 'Your Subject';\n$txt_body = file_get_contents('path/to/textfile.txt');\n$html_body = file_get_contents('path/to/htmlfile.html');\n\n$txt_body = str_replace('...', utf8_encode('...'), $txt_body); // Replace with actual IPN info\n$html_body = str_replace('...', utf8_encode('...'), $html_body); // Replace with actual IPN info\n\n$alt_boundary = md5(time());\n$mixed_boundary = md5(time() + 1);\n\n$header = "From: sender@example.com\r\n";\n$header .= "Reply-To: sender@example.com\r\n";\n$header .= "Content-Type: multipart/alternative; boundary=\"$alt_boundary\"\r\n";\n$header .= "MIME-Version: 1.0\r\n";\n$header .= "X-Mailer: PHP/" . phpversion() . "\r\n";\n\n$body = "--$alt_boundary\r\n";\n$body .= "Content-Type: text/plain; charset=utf-8\r\n";\n$body .= "Content-Transfer-Encoding: quoted-printable\r\n\r\n";\n$body .= quoted_printable_encode($txt_body) . "\r\n\r\n";\n\n$body .= "--$alt_boundary\r\n";\n$body .= "Content-Type: text/html; charset=utf-8\r\n";\n$body .= "Content-Transfer-Encoding: quoted-printable\r\n\r\n";\n$body .= quoted_printable_encode($html_body) . "\r\n\r\n";\n\n$body .= "--$alt_boundary--\r\n";\n\nmail($to, $subject, $body, $header);\n\nfunction quoted_printable_encode($input) {\n    return preg_replace_callback(\n        '/[^\x21-\x3C\x3E-\x7E\x09\x20]/',\n        function ($matches) {\n            return sprintf('=%02X', ord($matches[0]));\n        },\n        $input\n    );\n}