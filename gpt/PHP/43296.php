<?php\n$page = $_GET['page'];\n$style = $_GET['style'];\n\n// Check if cache is uptodate\n$conn = new mysqli('hostname', 'username', 'password', 'database');\n$stmt = $conn->prepare("SELECT cache_file, uptodate FROM cache WHERE page = ?");\n$stmt->bind_param("s", $page);\n$stmt->execute();\n$result = $stmt->get_result();\n$row = $result->fetch_assoc();\n\nif ($row && $row['uptodate']) {\n    // Load cached file\n    $cache_file = $row['cache_file'];\n} else {\n    // Generate cache file\n    ob_start();\n    include('generate_static_content.php'); // Your script to generate static content\n    $static_content = ob_get_clean();\n    \n    $cache_file = 'cache/' . md5($page . $style) . '.php';\n    file_put_contents($cache_file, $static_content);\n    \n    // Update database\n    if ($row) {\n        $stmt = $conn->prepare("UPDATE cache SET cache_file = ?, uptodate = 1 WHERE page = ?");\n    } else {\n        $stmt = $conn->prepare("INSERT INTO cache (page, cache_file, uptodate) VALUES (?, ?, 1)");\n    }\n    $stmt->bind_param("ss", $cache_file, $page);\n    $stmt->execute();\n}\n\n$conn->close();\ninclude($cache_file);\n?>