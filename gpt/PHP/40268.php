<?php\nclass Image_merge extends CI_Controller {\n\n    public function __construct() {\n        parent::__construct();\n        $this->load->library('image_lib');\n    }\n\n    public function merge_images() {\n        // Path to the frame image\n        $frame_path = 'path/to/frame.jpg';\n\n        // Path to the uploaded image\n        $upload_path = 'path/to/uploaded_image.jpg';\n\n        // Path to save the merged image\n        $merged_path = 'path/to/merged_image.jpg';\n\n        // Resize the uploaded image to fit the frame, if necessary\n        $resize_config['image_library'] = 'gd2';\n        $resize_config['source_image'] = $upload_path;\n        $resize_config['maintain_ratio'] = TRUE;\n        $resize_config['width'] = 800; // Adjust width as needed\n        $resize_config['height'] = 600; // Adjust height as needed\n\n        $this->image_lib->initialize($resize_config);\n        if (!$this->image_lib->resize()) {\n            echo $this->image_lib->display_errors();\n        }\n        $this->image_lib->clear();\n\n        // Overlay the frame onto the uploaded image\n        $frame = imagecreatefromjpeg($frame_path);\n        $uploaded_image = imagecreatefromjpeg($upload_path);\n\n        // Get dimensions of the frame\n        $frame_width = imagesx($frame);\n        $frame_height = imagesy($frame);\n\n        // Create a new image with the same dimensions as the frame\n        $merged_image = imagecreatetruecolor($frame_width, $frame_height);\n\n        // Copy the frame onto the new image\n        imagecopy($merged_image, $frame, 0, 0, 0, 0, $frame_width, $frame_height);\n\n        // Copy the uploaded image onto the new image\n        imagecopy($merged_image, $uploaded_image, 0, 0, 0, 0, $frame_width, $frame_height);\n\n        // Save the merged image\n        imagejpeg($merged_image, $merged_path);\n\n        // Free up memory\n        imagedestroy($frame);\n        imagedestroy($uploaded_image);\n        imagedestroy($merged_image);\n\n        echo 'Images merged successfully!';\n    }\n}