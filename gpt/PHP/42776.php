// Check if user is logged in\nif ($modx->user->isAuthenticated('web')) {\n    // Get user information\n    $userId = $modx->user->get('id');\n    $username = $modx->user->get('username');\n    $email = $modx->user->get('email');\n    \n    // Pass user information to your PHP application\n    // You can use session variables, global variables, or directly use this data in your snippet\n    $_SESSION['user_id'] = $userId;\n    $_SESSION['username'] = $username;\n    $_SESSION['email'] = $email;\n    \n    // Example of using user data in your application\n    echo "Welcome, " . $username . "!";\n    \n    // You can further integrate this data into your existing PHP logic as needed\n} else {\n    // Redirect to login page if not authenticated\n    $modx->sendRedirect($modx->makeUrl($modx->getOption('site_start')));\n}