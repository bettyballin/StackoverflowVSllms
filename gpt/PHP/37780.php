class ImageController extends Zend_Controller_Action\n   {\n       public function viewAction()\n       {\n           // Get the image path from the request\n           $imagePath = $this->_getParam('path');\n\n           // Sanitize and validate the path\n           $imagePath = realpath('../filespool/' . $imagePath);\n           if (strpos($imagePath, realpath('../filespool/')) !== 0 || !file_exists($imagePath)) {\n               throw new Zend_Controller_Action_Exception('File not found', 404);\n           }\n\n           // Get the file's mime type\n           $finfo = new finfo(FILEINFO_MIME_TYPE);\n           $mimeType = $finfo->file($imagePath);\n\n           // Set the response headers\n           $this->getResponse()\n               ->setHeader('Content-Type', $mimeType)\n               ->setHeader('Content-Length', filesize($imagePath));\n\n           // Disable view rendering and layout\n           $this->_helper->viewRenderer->setNoRender();\n           $this->_helper->layout->disableLayout();\n\n           // Output the image content\n           readfile($imagePath);\n       }\n   }