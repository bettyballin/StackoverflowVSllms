// First query to get the total count\n$countResult = $handle->select()\n                      ->from('store_products_id', array('count' => 'COUNT(store_products_id.product_id)'))\n                      ->where('store_products_id.store_id=?', $this->store_id)\n                      ->join('product_quickinfo', 'store_products_id.product_id = product_quickinfo.product_id')\n                      ->join('image_paths', 'product_quickinfo.image_id = image_paths.image_id')\n                      ->query(ZEND_DB::FETCH_OBJ);\n\n$totalCount = $countResult[0]->count;\n\n// Second query to get the actual data with limit\n$dataResult = $handle->select()\n                     ->from('store_products_id', $selectColumns)\n                     ->where('store_products_id.store_id=?', $this->store_id)\n                     ->join('product_quickinfo', 'store_products_id.product_id = product_quickinfo.product_id')\n                     ->join('image_paths', 'product_quickinfo.image_id = image_paths.image_id')\n                     ->order('product_quickinfo.date_created DESC')\n                     ->limitPage($this->page_number, $this->sum_each_page)\n                     ->query(ZEND_DB::FETCH_OBJ);\n\n// Combine the count and data results\n$result = array(\n    'total_count' => $totalCount,\n    'data' => $dataResult\n);\n\n// Print the result\nprint_r($result);