// Define the multiple values for the same key\n$tags = array('tag=foo', 'tag=bar', 'tag=baz');\n\n// Construct the URL-encoded string for these values\n$fields_string = implode('&', $tags);\n\n// Add file upload field\n$file_upload = array(\n    'file' => new CURLFile('/path/to/file.txt')\n);\n\n// Initialize cURL\n$ch = curl_init();\n\n// Set the URL and other options\ncurl_setopt($ch, CURLOPT_URL, 'http://your-upload-url.com');\ncurl_setopt($ch, CURLOPT_POST, true);\n\n// Set the post fields\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $fields_string . '&' . http_build_query($file_upload));\n\n// Execute the request\n$response = curl_exec($ch);\n\n// Check for errors\nif ($response === false) {\n    echo 'Curl error: ' . curl_error($ch);\n} else {\n    echo 'Response: ' . $response;\n}\n\n// Close the cURL handle\ncurl_close($ch);