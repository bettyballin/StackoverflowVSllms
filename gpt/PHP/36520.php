<?php\ndefined('BASEPATH') OR exit('No direct script access allowed');\n\nclass MyController extends CI_Controller {\n\n    public function my_form() {\n        // Load the form validation library\n        $this->load->library('form_validation');\n\n        // Check if the form has been submitted\n        if ($this->input->post()) {\n            // Always apply some basic validation\n            $this->form_validation->set_rules('name', 'Name', 'required');\n\n            // Conditionally apply additional validation if checkbox is checked\n            if ($this->input->post('my_checkbox')) {\n                $this->form_validation->set_rules('email', 'Email', 'required|valid_email');\n                $this->form_validation->set_rules('phone', 'Phone', 'required|numeric');\n            }\n\n            // Run the validation\n            if ($this->form_validation->run() == FALSE) {\n                // Validation failed - reload the form with errors\n                $this->load->view('my_form');\n            } else {\n                // Validation passed - process the form data\n                // Your form processing logic here\n                echo "Form submitted successfully!";\n            }\n        } else {\n            // Initial page load - just load the form\n            $this->load->view('my_form');\n        }\n    }\n}\n?>