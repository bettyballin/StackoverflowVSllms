<?php\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $uploadDir = 'uploads/';\n    $uploadFile = $uploadDir . basename($_FILES['userfile']['name']);\n\n    // Check if the directory is writable\n    if (!is_writable($uploadDir)) {\n        die("Upload directory is not writable.");\n    }\n\n    // Attempt to move the uploaded file\n    if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadFile)) {\n        echo "File is valid and was successfully uploaded.\n";\n    } else {\n        echo "Possible file upload attack!\n";\n        // Print any error message\n        echo 'Here is some more debugging info:';\n        print_r($_FILES);\n    }\n} else {\n    echo "Invalid request method.";\n}\n?>\n\n<!-- HTML Form -->\n<form enctype="multipart/form-data" action="" method="POST">\n    <input type="hidden" name="MAX_FILE_SIZE" value="30000" />\n    Choose a file to upload: <input name="userfile" type="file" />\n    <input type="submit" value="Upload File" />\n</form>