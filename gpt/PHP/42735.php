function reportThread($mysqli, $id) {\n    // Prepare and bind parameters to prevent SQL injection\n    $stmt = $mysqli->prepare("SELECT is_checked FROM reports WHERE url = CONCAT('?threadID=', ?)");\n    $stmt->bind_param('i', $id);\n    $stmt->execute();\n    $stmt->bind_result($is_checked);\n    $stmt->fetch();\n    $stmt->close();\n\n    if ($is_checked === null || $is_checked == 1) {\n        // Insert a new report if no report exists or the existing report is checked\n        $stmt = $mysqli->prepare("INSERT INTO reports (url, userID) VALUES (CONCAT('?threadID=', ?), 1)");\n        $stmt->bind_param('i', $id);\n        $stmt->execute();\n        $stmt->close();\n        echo "<script type=\"text/javascript\">alert(\"A moderator has been notified.\");</script>";\n    } else {\n        // Notify the user if there is already a pending report\n        echo "<script type=\"text/javascript\">alert(\"There's already a pending report on this thread.\");</script>";\n    }\n}