function getFirstXCharsWithoutCuttingWord($string, $length) {\n    if (strlen($string) <= $length) {\n        return $string;\n    }\n\n    // Cut the string to the desired length\n    $string = substr($string, 0, $length);\n\n    // If the last character is not a space, find the last space\n    if (substr($string, -1) != ' ') {\n        $lastSpace = strrpos($string, ' ');\n        if ($lastSpace !== false) {\n            $string = substr($string, 0, $lastSpace);\n        }\n    }\n\n    return $string . '...';\n}\n\n$string = "Stack Overflow is as frictionless and painless to use as we could make it.";\necho getFirstXCharsWithoutCuttingWord($string, 28);