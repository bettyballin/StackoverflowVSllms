class Custom_Walker_Page extends Walker_Page {\n    function start_lvl(&$output, $depth = 0, $args = array()) {\n        $indent = str_repeat("\t", $depth);\n        $output .= "\n$indent<ul class='sub-menu'>\n";\n    }\n\n    function end_lvl(&$output, $depth = 0, $args = array()) {\n        $indent = str_repeat("\t", $depth);\n        $output .= "$indent</ul>\n";\n    }\n\n    function start_el(&$output, $page, $depth = 0, $args = array(), $current_page = 0) {\n        $indent = ($depth) ? str_repeat("\t", $depth) : '';\n\n        $css_class = array('page_item', 'page-item-' . $page->ID);\n        if (!empty($current_page)) {\n            $_current_page = get_post($current_page);\n            if (in_array($page->ID, $_current_page->ancestors))\n                $css_class[] = 'current_page_ancestor';\n            if ($page->ID == $current_page)\n                $css_class[] = 'current_page_item';\n            elseif ($_current_page && $page->ID == $_current_page->post_parent)\n                $css_class[] = 'current_page_parent';\n        } elseif ($page->ID == get_option('page_for_posts')) {\n            $css_class[] = 'current_page_parent';\n        }\n\n        $css_class = implode(' ', $css_class);\n\n        $output .= $indent . sprintf(\n            '<li class="%s"><a href="%s">%s</a>',\n            $css_class,\n            get_permalink($page->ID),\n            $page->post_title\n        );\n\n        if (!empty($args['show_date'])) {\n            $time = ('modified' == $args['show_date']) ? $page->post_modified : $page->post_date;\n            $output .= " " . mysql2date($args['date_format'], $time);\n        }\n    }\n\n    function end_el(&$output, $page, $depth = 0, $args = array()) {\n        $output .= "</li>\n";\n    }\n}