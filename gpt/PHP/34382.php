global $wpdb;\n\ntry {\n    // Start transaction\n    $wpdb->query('START TRANSACTION');\n    \n    // Perform your database operations\n    $wpdb->query("INSERT INTO wp_table1 (column1) VALUES ('value1')");\n    $wpdb->query("INSERT INTO wp_table2 (column2) VALUES ('value2')");\n    \n    // If all operations were successful, commit the transaction\n    $wpdb->query('COMMIT');\n} catch (Exception $e) {\n    // If any operation fails, rollback the transaction\n    $wpdb->query('ROLLBACK');\n    // Optionally, log or handle the error\n    error_log($e->getMessage());\n}