// app/Http/Middleware/LogHttpRequests.php\n\nnamespace App\Http\Middleware;\n\nuse Closure;\nuse Illuminate\Support\Facades\Log;\n\nclass LogHttpRequests\n{\n    public function handle($request, Closure $next)\n    {\n        $response = $next($request);\n\n        if ($response->getStatusCode() == 500) {\n            Log::error('HTTP 500 Error', [\n                'request' => $request->all(),\n                'headers' => $request->headers->all()\n            ]);\n        }\n\n        return $response;\n    }\n}