echo "I'm in _getMemberDemographicAttrs\n";\nif (!empty($member_id)) {\n    $query .= ' AND member_id = ' . $member_id;\n}\n\n$result = mysql_query($query, $this->_db);\nif ($result) {\n    $rules = [];\n    while ($rule = mysql_fetch_assoc($result)) {\n        $rules[] = $rule;\n\n        // Free memory for large datasets\n        if (count($rules) >= 1000) {\n            // Process the rules here or save them to a file\n            $rules = [];\n        }\n    }\n    mysql_free_result($result);\n\n    if (!empty($rules)) {\n        echo "I'm leaving _getMemberDemographicAttrs\n";\n        return $rules;\n    }\n}