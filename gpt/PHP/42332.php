class SessionHandler {\n  private $db;\n\n  public function __construct($db) {\n    $this->db = $db;\n  }\n\n  public function sessionWriter($id, $vars) {\n    echo "db defined here: " . is_object($this->db);\n    // Perform necessary session write operations with $this->db\n  }\n}\n\n$g1 = SomeObject(); // which is the DB connection for the session writer\n$handler = new SessionHandler($g1);\n\nsession_set_save_handler(\n  [$handler, 'open'],\n  [$handler, 'close'],\n  [$handler, 'read'],\n  [$handler, 'sessionWriter'],\n  [$handler, 'destroy'],\n  [$handler, 'gc']\n);\nsession_start();