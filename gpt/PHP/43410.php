/// Turn the string into an array\n$rows = explode("\n", $this->raw_data);\n\n/// First row includes headers\n$headers = $rows[0];\n$headers = explode($this->delimiter, $headers);\n\n/// Trim spaces from $headers\n$headers = array_map('trim', $headers);\n\n/// Check that there are no empty headers. This can happen if there are delimiters at the end of the file\n$headers2 = [];\nforeach($headers as $header){\n    if(!empty($header)){\n        $headers2[] = $header;\n    }\n}\n$headers = $headers2;\n\nif(!in_array('password', $headers)){\n    /// Add password column for generated passwords\n    $headers[] = 'password';\n}\n\n/// Add status column to the headers\n$headers[] = 'status';\n\n$this->headers = $headers;\n\n/// Check that at least username, name and email are provided in the headers\nif(!in_array('username', $headers) ||\n   !in_array('name', $headers) ||\n   !in_array('email', $headers)){\n\n   echo "error\n";   \n   return false;\n}