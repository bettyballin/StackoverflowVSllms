<?php\n// Path to the image directory outside the webroot\n$imageDir = '/path/to/your/images/outside/webroot/';\n\n// Validate and sanitize the image request parameter\n$image = isset($_GET['image']) ? basename($_GET['image']) : '';\n\nif ($image && file_exists($imageDir . $image)) {\n    // Get the file extension to determine the MIME type\n    $fileExtension = strtolower(pathinfo($image, PATHINFO_EXTENSION));\n    $mimeType = '';\n\n    switch ($fileExtension) {\n        case 'jpg':\n        case 'jpeg':\n            $mimeType = 'image/jpeg';\n            break;\n        case 'png':\n            $mimeType = 'image/png';\n            break;\n        case 'gif':\n            $mimeType = 'image/gif';\n            break;\n        default:\n            // Handle unsupported file types\n            header('HTTP/1.1 400 Bad Request');\n            exit('Unsupported file type.');\n    }\n\n    // Set the appropriate headers\n    header('Content-Type: ' . $mimeType);\n    header('Content-Length: ' . filesize($imageDir . $image));\n\n    // Output the file\n    readfile($imageDir . $image);\n    exit;\n} else {\n    // Handle file not found\n    header('HTTP/1.1 404 Not Found');\n    exit('File not found.');\n}\n?>