class Article extends Model {\n    // Other properties and methods here...\n\n    public function vote($userId) {\n        // Check if user has already voted\n        $db = Database::getInstance();\n        $stmt = $db->prepare("SELECT COUNT(*) FROM votes WHERE article_id = ? AND user_id = ?");\n        $stmt->execute([$this->id, $userId]);\n        $alreadyVoted = $stmt->fetchColumn();\n\n        if ($alreadyVoted) {\n            throw new Exception('User has already voted for this article.');\n        }\n\n        // Record the vote\n        $stmt = $db->prepare("INSERT INTO votes (article_id, user_id) VALUES (?, ?)");\n        $stmt->execute([$this->id, $userId]);\n\n        // Update the article's points and ranking\n        $this->points += 1;\n        $this->calculateRanking();\n\n        // Save the updated article\n        $stmt = $db->prepare("UPDATE articles SET points = ?, ranking = ? WHERE id = ?");\n        $stmt->execute([$this->points, $this->ranking, $this->id]);\n    }\n\n    // Other methods here...\n}