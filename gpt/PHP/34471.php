<?php\n$to = 'recipient@example.com';\n$subject = 'Email with Embedded Images';\n$boundary = md5(uniqid(time()));\n\n// Define the headers\n$headers = "MIME-Version: 1.0\r\n";\n$headers .= "Content-Type: multipart/related; boundary=\"$boundary\"\r\n";\n$headers .= "From: sender@example.com\r\n";\n\n// Define the email body\n$message = "--$boundary\r\n";\n$message .= "Content-Type: text/html; charset=UTF-8\r\n";\n$message .= "Content-Transfer-Encoding: 7bit\r\n\r\n";\n$message .= "<html><body>";\n$message .= "<p>This is an email with an embedded image.</p>";\n$message .= "<img src=\"cid:image1\" alt=\"Embedded Image\">";\n$message .= "</body></html>\r\n";\n\n// Add the image as an attachment\n$image_path = 'path/to/your/image.jpg';\n$image_content = file_get_contents($image_path);\n$image_content = chunk_split(base64_encode($image_content));\n\n$message .= "--$boundary\r\n";\n$message .= "Content-Type: image/jpeg; name=\"image.jpg\"\r\n";\n$message .= "Content-Transfer-Encoding: base64\r\n";\n$message .= "Content-ID: <image1>\r\n";\n$message .= "Content-Disposition: inline; filename=\"image.jpg\"\r\n\r\n";\n$message .= "$image_content\r\n";\n$message .= "--$boundary--";\n\n// Send the email\nif (mail($to, $subject, $message, $headers)) {\n    echo "Email sent successfully.";\n} else {\n    echo "Failed to send email.";\n}\n?>