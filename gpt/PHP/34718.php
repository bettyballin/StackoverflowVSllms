<?php\nfunction createTarGz($sourceDir, $outputFile) {\n    // Ensure the source directory exists\n    if (!is_dir($sourceDir)) {\n        throw new Exception("Source directory does not exist.");\n    }\n\n    // Create a new PharData object\n    $tar = new PharData($outputFile . '.tar');\n\n    // Start adding files and directories recursively\n    $tar->buildFromDirectory($sourceDir);\n\n    // Compress the .tar file to .tar.gz\n    $tar->compress(Phar::GZ);\n\n    // Clean up by removing the uncompressed .tar file\n    unlink($outputFile . '.tar');\n}\n\ntry {\n    $sourceDir = '/path/to/your/images';\n    $outputFile = '/path/to/your/output/archive'; // without extension\n\n    createTarGz($sourceDir, $outputFile);\n    echo "Compression successful.";\n} catch (Exception $e) {\n    echo "An error occurred: " . $e->getMessage();\n}\n?>