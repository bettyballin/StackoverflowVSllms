<?php\nrequire 'vendor/autoload.php';\n\nuse Aws\S3\S3Client;\nuse Aws\Exception\AwsException;\n\n// AWS credentials and S3 bucket configuration\n$bucket = 'your-bucket-name';\n$region = 'your-region';\n$key = 'your-access-key-id';\n$secret = 'your-secret-access-key';\n\n// Instantiate the S3 client\n$s3 = new S3Client([\n    'region'  => $region,\n    'version' => 'latest',\n    'credentials' => [\n        'key'    => $key,\n        'secret' => $secret,\n    ],\n]);\n\n// Handle file upload\nif ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_FILES['file'])) {\n    $file = $_FILES['file'];\n    $filePath = $file['tmp_name'];\n    $fileName = basename($file['name']);\n\n    try {\n        $result = $s3->putObject([\n            'Bucket' => $bucket,\n            'Key'    => $fileName,\n            'SourceFile' => $filePath,\n            'ACL'    => 'public-read', // Make file publicly accessible\n        ]);\n\n        echo "File uploaded successfully. URL: " . $result['ObjectURL'] . "\n";\n    } catch (AwsException $e) {\n        echo "Error uploading file: " . $e->getMessage() . "\n";\n    }\n}\n\n// List files in the bucket\ntry {\n    $objects = $s3->listObjectsV2(['Bucket' => $bucket]);\n    echo "<h3>Files in bucket:</h3>";\n    foreach ($objects['Contents'] as $object) {\n        echo $object['Key'] . "<br>";\n    }\n} catch (AwsException $e) {\n    echo "Error listing files: " . $e->getMessage() . "\n";\n}\n?>\n\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Upload to S3</title>\n</head>\n<body>\n    <h1>Upload a file to S3</h1>\n    <form method="post" enctype="multipart/form-data">\n        <input type="file" name="file" required>\n        <button type="submit">Upload</button>\n    </form>\n</body>\n</html>