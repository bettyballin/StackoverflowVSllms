if ($handle = opendir($absolute_dir)) {\n    $image_array = array();\n\n    while (($file = readdir($handle)) !== false) {\n        if ($file != "." && $file != ".." && $file != ".svn" && $file != 'img' && is_file($absolute_dir . '/' . $file)) {\n            $image_array[] = array(\n                'url' => $relative_dir . $file,\n                'last_modified' => filemtime($absolute_dir . '/' . $file)\n            );\n        }\n    }\n    closedir($handle);\n\n    // Sort the array by last_modified in descending order\n    usort($image_array, function($a, $b) {\n        return $b['last_modified'] - $a['last_modified'];\n    });\n\n    // Get the top 5 newest files\n    $image_array = array_slice($image_array, 0, 5);\n\n    // Format the last modified date for the top 5 files\n    foreach ($image_array as $key => $image) {\n        $image_array[$key]['last_modified'] = date("F d Y H:i:s", $image['last_modified']);\n    }\n}