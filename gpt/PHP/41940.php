<?php\n// Assuming you have a connection to the database in $conn\n\n// Example data from the form\n$filmtitle = 'Inception';\n$runningtime = 148;\n$description = 'A thief who steals corporate secrets through the use of dream-sharing technology.';\n$year = 2010;\n$genre = 'Sci-Fi';\n$director = 'Christopher Nolan';\n$actors = ['Leonardo DiCaprio', 'Joseph Gordon-Levitt', 'Elliot Page'];\n\n// Insert Year\n$year_id = insertIfNotExists($conn, 'Years', 'year', $year);\n\n// Insert Genre\n$genre_id = insertIfNotExists($conn, 'Genres', 'genre', $genre);\n\n// Insert Director\n$director_id = insertIfNotExists($conn, 'Directors', 'director_name', $director);\n\n// Insert Film\n$stmt = $conn->prepare("INSERT INTO Films (filmtitle, runningtime, description, year_id, genre_id, director_id) VALUES (?, ?, ?, ?, ?, ?)");\n$stmt->bind_param('sisiii', $filmtitle, $runningtime, $description, $year_id, $genre_id, $director_id);\n$stmt->execute();\n$filmid = $stmt->insert_id;\n\n// Insert Actors and FilmActors\nforeach ($actors as $actor_name) {\n    $actor_id = insertIfNotExists($conn, 'Actors', 'actor_name', $actor_name);\n    $stmt = $conn->prepare("INSERT INTO FilmActors (filmid, actor_id) VALUES (?, ?)");\n    $stmt->bind_param('ii', $filmid, $actor_id);\n    $stmt->execute();\n}\n\nfunction insertIfNotExists($conn, $table, $column, $value) {\n    $stmt = $conn->prepare("SELECT {$table}_id FROM $table WHERE $column = ?");\n    $stmt->bind_param('s', $value);\n    $stmt->execute();\n    $stmt->store_result();\n    if ($stmt->num_rows > 0) {\n        $stmt->bind_result($id);\n        $stmt->fetch();\n        return $id;\n    } else {\n        $stmt = $conn->prepare("INSERT INTO $table ($column) VALUES (?)");\n        $stmt->bind_param('s', $value);\n        $stmt->execute();\n        return $stmt->insert_id;\n    }\n}\n\n?>