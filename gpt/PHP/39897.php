<?php\nfunction getShortestPath($startUser, $endUser, $mysqli) {\n    $queue = new SplQueue();\n    $visited = [];\n    $previous = [];\n\n    // Initialize the queue with the start user\n    $queue->enqueue($startUser);\n    $visited[$startUser] = true;\n    $previous[$startUser] = null;\n\n    // Perform BFS\n    while (!$queue->isEmpty()) {\n        $currentUser = $queue->dequeue();\n\n        if ($currentUser == $endUser) {\n            // Reconstruct the path\n            $path = [];\n            for ($at = $endUser; $at !== null; $at = $previous[$at]) {\n                array_unshift($path, $at);\n            }\n            return $path;\n        }\n\n        // Get friends of the current user\n        $stmt = $mysqli->prepare("\n            SELECT user_id2 AS friend\n            FROM friendships\n            WHERE user_id1 = ?\n            UNION\n            SELECT user_id1 AS friend\n            FROM friendships\n            WHERE user_id2 = ?\n        ");\n        $stmt->bind_param("ii", $currentUser, $currentUser);\n        $stmt->execute();\n        $result = $stmt->get_result();\n\n        while ($row = $result->fetch_assoc()) {\n            $friend = $row['friend'];\n\n            if (!isset($visited[$friend])) {\n                $queue->enqueue($friend);\n                $visited[$friend] = true;\n                $previous[$friend] = $currentUser;\n            }\n        }\n    }\n\n    return null; // No path found\n}\n\n// Example usage:\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\n$startUser = 1; // Start user ID\n$endUser = 5;   // End user ID\n\n$path = getShortestPath($startUser, $endUser, $mysqli);\n\nif ($path) {\n    echo "Shortest path: " . implode(" -> ", $path);\n} else {\n    echo "No path found between users $startUser and $endUser.";\n}\n?>