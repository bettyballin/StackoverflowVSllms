<?php\n$mysqli = new mysqli("localhost", "user", "password", "database");\n\n$query = "\nSELECT pl.id AS productLineID, pl.name AS productLineName, i.imageFileLocation, i.name AS imageName\nFROM ProductLines pl\nJOIN SpecificProducts sp ON pl.id = sp.productLineID\nJOIN ProductImageLinks pil ON sp.id = pil.specificProductID\nJOIN Images i ON pil.imageID = i.id\nGROUP BY pl.id\nORDER BY RAND()\n";\n\n$result = $mysqli->query($query);\n\n$productLines = [];\nwhile ($row = $result->fetch_assoc()) {\n    $productLines[] = $row;\n}\n\n$mysqli->close();\n\n// Now $productLines contains all the product lines with a random image for each\nforeach ($productLines as $productLine) {\n    echo "Product Line: " . $productLine['productLineName'] . "<br>";\n    echo "Image: " . $productLine['imageName'] . " (" . $productLine['imageFileLocation'] . ")<br>";\n}\n?>