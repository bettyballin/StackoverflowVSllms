$sql = "SELECT p.pollID, p.pollQuestion, pa.pollAnswerID, pa.pollAnswerText\n        FROM poll p\n        INNER JOIN poll_answers pa ON p.pollID = pa.pollID\n        ORDER BY p.pollID, pa.pollAnswerID";\n\n$results = $db->get_results($sql, ARRAY_A);\n\n$polls = [];\nforeach ($results as $row) {\n    $pollID = $row['pollID'];\n    if (!isset($polls[$pollID])) {\n        $polls[$pollID] = [\n            'id' => $pollID,\n            'question' => $row['pollQuestion'],\n            'answers' => []\n        ];\n    }\n    $polls[$pollID]['answers'][] = [\n        'id' => $row['pollAnswerID'],\n        'text' => $row['pollAnswerText']\n    ];\n}\n\nprint_r($polls);