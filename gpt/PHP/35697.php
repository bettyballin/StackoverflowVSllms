<?php\n\n// Settings for Database Connection\ninclude_once($root_folder_path . "includes/common.php");\ninclude_once("./admin_common.php");\ninclude_once("./ofc_chart_library/open-flash-chart.php");\n\n// Group orders by date and calculate the total order amount per day\n$sql = "SELECT DATE(order_placed_date) as order_date, SUM(order_total) as total_amount \n        FROM orders \n        GROUP BY order_date \n        ORDER BY order_date";\n\n$result = mysql_query($sql);\nif (!$result) {\n    die('Invalid query: ' . mysql_error());\n}\n\n$data = array();\n$labels = array();\n\nwhile($row = mysql_fetch_array($result)) {\n    $data[] = intval($row['total_amount']);\n    $labels[] = $row['order_date']; // Collect dates for the X-axis labels\n}\n\n/*\n * Create a title object and set the text to present month.\n */\n$title = new title( 'Daily Sales Statistics for ' . date("F Y") . ' (US Dollar)' );\n$title->set_style( "{font-size: 18px; font-family: Calibri; color: #808000; text-align: center;}" );\n\n//Make our Bar Chart\n$bar = new bar_filled('#f99bd6', '#ee0099');\n$bar->set_values($data);\n\n//Create a new Chart object\n$chart = new open_flash_chart();\n\n// add the title to the chart:\n$chart->set_title( $title );\n$chart->set_bg_colour("#FFFFFF");\n\n// Display the bar object on the chart\n$chart->add_element($bar);\n\n/*\n * Create a Y Axis object\n */\n$y_axis = new y_axis();\n$y_axis->set_range(0, max($data) + 1000, 1000);\n\n// Add the y-axis object to the chart\n$chart->add_y_axis($y_axis);\n\n/*\n * Create an X Axis object\n */\n$x_axis = new x_axis();\n$x_axis_labels = new x_axis_labels();\n$x_axis_labels->set_vertical(); // Make labels vertical for better readability\n$x_axis_labels->set_labels($labels);\n$x_axis->set_labels($x_axis_labels);\n\n// Add the x-axis object to the chart\n$chart->set_x_axis($x_axis);\n\necho $chart->toPrettyString();\n?>