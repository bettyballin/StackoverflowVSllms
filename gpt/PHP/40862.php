function appendCountRecursive(&$array, &$counter = 0, $depth = 0, $currentDepth = 0) {\n    foreach ($array as $key => &$value) {\n        if ($currentDepth === $depth) {\n            $value['count'] = $counter++;\n        }\n        if (isset($value['children']) && is_array($value['children'])) {\n            appendCountRecursive($value['children'], $counter, $depth, $currentDepth + 1);\n        }\n    }\n}\n\n// Sample array\n$array = [\n    52 => [\n        'title' => 'Website Navigation',\n        'path' => '',\n        'type' => '115',\n        'pid' => 0,\n        'hasChildren' => 1,\n        'children' => [\n            53 => [\n                'title' => 'Home',\n                'path' => '',\n                'type' => '118',\n                'pid' => 52,\n                'hasChildren' => 0,\n            ],\n            54 => [\n                'title' => 'Features',\n                'path' => 'features',\n                'type' => '374',\n                'pid' => 52,\n                'hasChildren' => 1,\n                'children' => [\n                    59 => [\n                        'title' => 'artistic',\n                        'path' => 'features/artistic',\n                        'type' => '374',\n                        'pid' => 54,\n                        'hasChildren' => 1,\n                        'children' => [\n                            63 => [\n                                'title' => 'galleries',\n                                'path' => 'features/artistic/galleries',\n                                'type' => '374',\n                                'pid' => 59,\n                                'hasChildren' => 1,\n                                'children' => [\n                                    65 => [\n                                        'title' => 'graphics',\n                                        'path' => 'features/artistic/galleries/graphics',\n                                        'type' => '118',\n                                        'pid' => 63,\n                                        'hasChildren' => 0,\n                                    ],\n                                    67 => [\n                                        'title' => 'mixed',\n                                        'path' => 'features/artistic/galleries/mixed',\n                                        'type' => '118',\n                                        'pid' => 63,\n                                        'hasChildren' => 0,\n                                    ],\n                                ],\n                            ],\n                        ],\n                    ],\n                ],\n            ],\n        ],\n    ],\n];\n\n$counter = 0;\n$depth = 2; // Change this to the desired depth\nappendCountRecursive($array, $counter, $depth);\n\nprint_r($array);