// src/Controller/CategoryController.php\n   namespace App\Controller;\n\n   use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;\n   use Symfony\Component\HttpFoundation\Request;\n   use Symfony\Component\Routing\Annotation\Route;\n   use App\Form\CartType;\n\n   class CategoryController extends AbstractController\n   {\n       /**\n        * @Route("/categories/list/id/{id}", name="list_products_by_category")\n        */\n       public function listProductsByCategory($id, Request $request)\n       {\n           // Retrieve products by category ID\n           $products = /* Fetch products by category ID logic here */;\n           \n           // Create an array of forms\n           $forms = [];\n           foreach ($products as $product) {\n               $form = $this->createForm(CartType::class, null, [\n                   'action' => $this->generateUrl('add_to_cart', ['productId' => $product->getId()]),\n               ]);\n               $forms[$product->getId()] = $form->createView();\n           }\n\n           return $this->render('category/listProductsByCategory.html.twig', [\n               'products' => $products,\n               'forms' => $forms,\n           ]);\n       }\n\n       /**\n        * @Route("/cart/add", name="add_to_cart")\n        */\n       public function addToCart(Request $request)\n       {\n           $form = $this->createForm(CartType::class);\n           $form->handleRequest($request);\n\n           if ($form->isSubmitted() && $form->isValid()) {\n               $data = $form->getData();\n               // Add product to cart logic here\n               // For example: $cartService->addProduct($data['productId'], $data['quantity']);\n           }\n\n           // Redirect back to the category page or another appropriate page\n           return $this->redirectToRoute('list_products_by_category');\n       }\n   }