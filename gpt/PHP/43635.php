<?php\n// Assuming you have a PDO connection $pdo\n$query = "\n    SELECT p.id AS person_id, p.name, ph.id AS photo_id, ph.path, ph.title\n    FROM persons p\n    LEFT JOIN photos ph ON p.id = ph.person_id\n    ORDER BY ph.title;\n";\n\n$stmt = $pdo->query($query);\n$results = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n$persons = [];\nforeach ($results as $row) {\n    $person_id = $row['person_id'];\n    if (!isset($persons[$person_id])) {\n        $persons[$person_id] = [\n            'id' => $person_id,\n            'name' => $row['name'],\n            'Photo' => []\n        ];\n    }\n    \n    if ($row['photo_id']) {\n        $persons[$person_id]['Photo'][] = [\n            'id' => $row['photo_id'],\n            'person_id' => $person_id,\n            'path' => $row['path'],\n            'title' => $row['title']\n        ];\n    }\n}\n\n// Reindex the array to ensure numeric indexing\n$persons = array_values($persons);\n\n// Output the result\nprint_r($persons);\n?>