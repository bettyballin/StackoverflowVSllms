function validlogin($url) {\n    if (!isset($_SESSION['auto_id']) || ($_SESSION['auto_id'] == '')) {\n        $_SESSION['sess_login_msg'] = 'Please login';\n        $_SESSION['backurl'] = $url;\n        if (headers_sent() === false) {\n            header("Location: /");\n            exit();\n        } else {\n            // Header is already sent, use JavaScript for redirection\n            echo '<script type="text/javascript">window.location.href="/";</script>';\n            // Optionally, you can also include a meta tag as a fallback\n            echo '<noscript><meta http-equiv="refresh" content="0;url=/"></noscript>';\n            exit();\n        }\n    }\n}