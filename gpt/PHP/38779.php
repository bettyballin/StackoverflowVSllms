<?php\n// Example URL\n$url = "ctx_ver=Z39.88-2004&rft_id=info:oclcnum/1903126&rft_id=http://www.biodiversitylibrary.org/bibliography/4323&rft_val_fmt=info:ofi/fmt:kev:mtx:book&rft.genre=book&rft.btitle=At last: a Christmas in the West Indies.&rft.place=London,&rft.pub=Macmillan and co.,&rft.aufirst=Charles&rft.aulast=Kingsley&rft.au=Kingsley, Charles,&rft.pages=1-352&rft.tpages=352&rft.date=1871";\n\n// Extract the query string from the URL\n$query_string = parse_url($url, PHP_URL_QUERY);\n\n// Parse the query string manually\nparse_str($query_string, $params);\n\n// Initialize an array to hold multiple values\n$rft_ids = [];\n\n// Find all rft_id values\nparse_str($query_string, $output);\nforeach ($output as $key => $value) {\n    if ($key == 'rft_id') {\n        if (is_array($value)) {\n            $rft_ids = array_merge($rft_ids, $value);\n        } else {\n            $rft_ids[] = $value;\n        }\n    }\n}\n\n// Output the values\nforeach ($rft_ids as $rft_id) {\n    echo $rft_id . "<br>";\n}\n?>