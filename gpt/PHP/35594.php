function objSlash( &$obj, $add=true )\n{\n    foreach ( $obj as $key=>$field )\n    {\n        if ( is_object( $field ) )\n            objSlash( $field, $add );\n        else if ( is_array( $field ) )\n            arrSlash( $field, $add );\n        else if ( $add )\n            $obj->$key = addslashes( $field );\n        else\n            $obj->$key = stripslashes( $field );\n    }\n}\n\nfunction arrSlash( &$arr, $add=true )\n{\n    foreach ( $arr as $key=>&$field )  // Notice the & here for reference\n    {\n        if ( is_object( $field ) )\n            objSlash( $field, $add );\n        else if ( is_array( $field ) )\n            arrSlash( $field, $add );\n        else if ( $add )\n            $field = addslashes( $field );\n        else\n            $field = stripslashes( $field );\n    }\n}