function preg_magic_coalesce($delimiter, ...$regexes) {\n    $patterns = [];\n    $modifiers = '';\n    \n    foreach ($regexes as $regex) {\n        if (preg_match('~^(.)(.*)\\1([a-zA-Z]*)$~', $regex, $matches)) {\n            $patterns[] = $matches[2];\n            $modifiers .= $matches[3];\n        }\n    }\n\n    // Remove duplicate modifiers\n    $modifiers = count_chars($modifiers, 3);\n\n    $combinedPattern = implode('|', $patterns);\n    \n    return $delimiter . $combinedPattern . $delimiter . $modifiers;\n}\n\n$a = '#[a-z]#i';\n$b = '/Moo/x';\n\n$c = preg_magic_coalesce('/', $a, $b);\necho $c;  // Output: /[a-z]|Moo/ix