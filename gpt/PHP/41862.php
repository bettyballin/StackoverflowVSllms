$celkova_suma = mysql_result($c_res, 0, 0) + mysql_result($d_res, 0, 0) - $zlava_suma + $arr[$_POST['sp_platby']];\n\n// Ensure all variables are numeric\n$c_res_value = is_numeric(mysql_result($c_res, 0, 0)) ? (float)mysql_result($c_res, 0, 0) : 0;\n$d_res_value = is_numeric(mysql_result($d_res, 0, 0)) ? (float)mysql_result($d_res, 0, 0) : 0;\n$zlava_suma = is_numeric($zlava_suma) ? (float)$zlava_suma : 0;\n$arr_value = isset($_POST['sp_platby']) && is_numeric($arr[$_POST['sp_platby']]) ? (float)$arr[$_POST['sp_platby']] : 0;\n\n$celkova_suma = $c_res_value + $d_res_value - $zlava_suma + $arr_value;