class XMLDataLayer {\n    private $xml_reader;\n    private $results = [];\n\n    public function __construct($filePath) {\n        $this->xml_reader = new XMLReader();\n        $this->xml_reader->open($filePath, null, LIBXML_NOENT | LIBXML_DTDLOAD);\n    }\n\n    public function __destruct() {\n        $this->xml_reader->close();\n    }\n\n    public function find($xpath) {\n        while ($this->xml_reader->read()) {\n            if ($this->xml_reader->nodeType === XMLReader::ELEMENT && $this->xml_reader->localName == 'book') {\n                $node = $this->xml_reader->expand();\n                $dom = new DOMDocument();\n                $n = $dom->importNode($node, true);\n                $dom->appendChild($n);\n                $sx = simplexml_import_dom($n);\n\n                // Disable external entity loading for security\n                libxml_disable_entity_loader(true);\n\n                // XPath query\n                $res = $sx->xpath($xpath);\n\n                if (isset($res[0]) && $res[0]) {\n                    $this->results[] = $res;\n                }\n            }\n        }\n        return $this->results;\n    }\n}