function has_voted($user) {\n    try {\n        $db = parent::getConnection();\n        $query = "SELECT id FROM votes WHERE username = ? AND article_id = ?";\n        $stmt = $db->prepare($query);\n        $stmt->bind_param('si', $user, $this->id);\n        $stmt->execute();\n        $stmt->store_result();\n        $hasVoted = $stmt->num_rows === 1;\n        $stmt->close();\n        parent::closeConnection($db);\n        return $hasVoted;\n    } catch (Exception $e) {\n        throw $e;\n    }\n}