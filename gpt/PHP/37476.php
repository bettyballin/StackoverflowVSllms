$current_ip = $_SERVER['REMOTE_ADDR'];\n    $user_id = $_SESSION['user_id'];\n\n    // Store the IP address in the database\n    $db->query("UPDATE users SET last_ip = '$current_ip' WHERE id = $user_id");\n\n    // Check if the IP address in the database matches the current IP address\n    $result = $db->query("SELECT last_ip FROM users WHERE id = $user_id");\n    $row = $result->fetch_assoc();\n\n    if ($row['last_ip'] !== $current_ip) {\n        // If IP address doesn't match, flag the account or take some action\n        // e.g., send an alert email, require re-authentication, etc.\n    }