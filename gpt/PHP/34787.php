<?php\nfunction cidr_match($ip, $cidr) {\n    list($subnet, $mask) = explode('/', $cidr);\n    $ip = ip2long($ip);\n    $subnet = ip2long($subnet);\n    $mask = ~((1 << (32 - $mask)) - 1);\n    return ($ip & $mask) == ($subnet & $mask);\n}\n\n$ips = array('10.2.1.100', '10.2.1.101', '10.5.1.100', '1.2.3.4');\n\nforeach ($ips as $IP) {\n    if (cidr_match($IP, '10.2.0.0/16')) {\n        print "you're in the 10.2 subnet\n";\n    }\n}\n?>