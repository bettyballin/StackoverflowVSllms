// Assuming you have the Redis PHP extension installed\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// Function to get friend list from cache or database\nfunction getFriendList($userId) {\n    global $redis;\n    $cacheKey = "user:{$userId}:friend_list";\n\n    // Check if friend list is cached\n    if ($redis->exists($cacheKey)) {\n        return json_decode($redis->get($cacheKey), true);\n    }\n\n    // If not cached, fetch from database\n    $friendList = [];\n    $query = "SELECT friendid FROM friend_friend WHERE userid = ? AND status = 1";\n    $stmt = $pdo->prepare($query);\n    $stmt->execute([$userId]);\n\n    while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n        $friendList[] = $row['friendid'];\n    }\n\n    // Cache the friend list in Redis for 10 minutes\n    $redis->set($cacheKey, json_encode($friendList), 600);\n\n    return $friendList;\n}\n\n// Usage\n$userId = 1; // Example user ID\n$friendList = getFriendList($userId);