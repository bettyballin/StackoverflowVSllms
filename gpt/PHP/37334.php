$mysqli = new mysqli("hostname", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n$sql = "SELECT id, name, code FROM products";\n$result = $mysqli->query($sql);\n\n$products = array();\n\nwhile ($row = $result->fetch_assoc()) {\n    $products[$row['id']] = array(\n        'name' => $row['name'],\n        'code' => $row['code']\n    );\n}\n\n$mysqli->close();