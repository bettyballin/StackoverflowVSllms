function isAjaxRequest() {\n    if (!empty($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') {\n        return true;\n    }\n\n    $headers = function_exists('getallheaders') ? getallheaders() : apache_request_headers();\n    if (isset($headers['X-Requested-With']) && strtolower($headers['X-Requested-With']) == 'xmlhttprequest') {\n        return true;\n    }\n\n    return false;\n}\n\nif (isAjaxRequest()) {\n    echo "This is an AJAX request.";\n} else {\n    echo "This is not an AJAX request.";\n}