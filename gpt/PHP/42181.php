$data = mysql_query("\nSELECT tblpm.*\nFROM tblpm\nJOIN (\n    SELECT thread_id, MAX(date_sent) as max_date\n    FROM tblpm\n    WHERE receiver_id = '$usrID' OR sender_id = '$usrID'\n    GROUP BY thread_id\n) as latest_msg ON tblpm.thread_id = latest_msg.thread_id AND tblpm.date_sent = latest_msg.max_date\nWHERE tblpm.receiver_id = '$usrID'\nORDER BY tblpm.date_sent DESC\n") or die(mysql_error());