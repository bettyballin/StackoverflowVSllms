<?php\nfunction strip_comments_and_empty_lines($input) {\n    // Remove multi-line comments\n    $output = preg_replace('/\/\*.*?\*\//s', '', $input);\n\n    // Remove single-line comments\n    $output = preg_replace('/\/\/.*$/m', '', $output);\n\n    // Remove empty lines\n    $output = preg_replace('/^\s*[\r\n]/m', '', $output);\n\n    return $output;\n}\n\n// Example usage\n$input = <<<EOD\n// This is a single line comment\n\n/* This is a\nmulti-line comment */\n\nSome code here\n\n// Another comment\nMore code\n\n/* Another\nmulti-line comment */\nEOD;\n\necho strip_comments_and_empty_lines($input);\n?>