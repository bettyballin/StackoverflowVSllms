function sendEmail($name, $from, $to, $subject, $message, $bcc = null, $attachments = null)\n{\n    $name = filter_var($name, FILTER_SANITIZE_STRING);\n    $from = filter_var($from, FILTER_SANITIZE_EMAIL);\n    $subject = filter_var($subject, FILTER_SANITIZE_STRING);\n    $to = filter_var($to, FILTER_SANITIZE_EMAIL);\n    $bcc = filter_var($bcc, FILTER_SANITIZE_EMAIL);\n\n    $boundary = "----=_Part_" . md5(time());\n    $headers = "MIME-Version: 1.0\r\n";\n    $headers .= "Content-Type: multipart/mixed; boundary=\"$boundary\"\r\n";\n    $headers .= "From: \"$name\" <$from>\r\n";\n    if ($bcc) {\n        $headers .= "Bcc: $bcc\r\n";\n    }\n\n    $body = "--$boundary\r\n";\n    $body .= "Content-Type: text/plain; charset=UTF-8\r\n";\n    $body .= "Content-Transfer-Encoding: 8bit\r\n\r\n";\n    $body .= "$message\r\n";\n\n    if ($attachments) {\n        foreach ($attachments as $filename => $filecontent) {\n            $body .= "--$boundary\r\n";\n            $body .= "Content-Type: application/octet-stream; name=\"$filename\"\r\n";\n            $body .= "Content-Transfer-Encoding: base64\r\n";\n            $body .= "Content-Disposition: attachment; filename=\"$filename\"\r\n\r\n";\n            $body .= chunk_split(base64_encode($filecontent)) . "\r\n";\n        }\n    }\n\n    $body .= "--$boundary--";\n\n    return mail($to, $subject, $body, $headers);\n}\n\n// Example usage\n$name = "Your Name";\n$from = "your-email@example.com";\n$to = "recipient@example.com";\n$subject = "Test Email";\n$message = "This is a test email.";\n$attachments = array(\n    "test.txt" => "Attachment content here"\n);\n\nsendEmail($name, $from, $to, $subject, $message, null, $attachments);