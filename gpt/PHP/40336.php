<?php\n\nfunction merge_arrays($arr1, $arr2) {\n    $merged = array_intersect_key($arr1, $arr2);\n    \n    foreach ($merged as $key => $val) {\n        if (is_array($val) && isset($arr2[$key])) {\n            if (is_array($arr2[$key])) {\n                $merged[$key] = merge_arrays($val, $arr2[$key]);\n            } else {\n                $merged[$key] = $arr2[$key];\n            }\n        }\n    }\n    \n    foreach ($arr2 as $key => $val) {\n        if (!array_key_exists($key, $merged)) {\n            $merged[$key] = $val;\n        }\n    }\n\n    return $merged;\n}\n\n$arr1 = array(\n    'name',\n    'date' => array('default' => '2009-06-13', 'format' => 'short'),\n    'address',\n    'zipcode' => array('default' => 12345, 'hidden' => true)\n);\n\n$arr2 = array(\n    'name',\n    'language',\n    'date' => array('format' => 'long', 'hidden' => true),\n    'zipcode' => array('hidden' => false)\n);\n\n$final = merge_arrays($arr1, $arr2);\n\nprint_r($final);\n?>