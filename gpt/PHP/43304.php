function haversineGreatCircleDistance($latitudeFrom, $longitudeFrom, $latitudeTo, $longitudeTo, $earthRadius = 6371)\n{\n  // convert from degrees to radians\n  $latFrom = deg2rad($latitudeFrom);\n  $lonFrom = deg2rad($longitudeFrom);\n  $latTo = deg2rad($latitudeTo);\n  $lonTo = deg2rad($longitudeTo);\n\n  $latDelta = $latTo - $latFrom;\n  $lonDelta = $lonTo - $lonFrom;\n\n  $angle = 2 * asin(sqrt(pow(sin($latDelta / 2), 2) +\n    cos($latFrom) * cos($latTo) * pow(sin($lonDelta / 2), 2)));\n  return $angle * $earthRadius;\n}\n\n// Example usage\n$distance = haversineGreatCircleDistance(36.12, -86.67, 33.94, -118.40);\necho $distance; // Outputs the distance in kilometers