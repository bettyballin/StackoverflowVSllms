<?php\n$user_id = $_GET['user_id']; // Or however you are getting the user ID\n\n// Create a new MySQLi connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check the connection\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Prepare the SQL statement\n$stmt = $conn->prepare("\n    SELECT \n        user_id,\n        DATE_FORMAT(DATE(shift_start), '%m/%d/%Y') AS shift_start_date, \n        TIME_FORMAT(TIME(shift_start), '%h:%i %p') AS shift_start_time,\n        TIME_FORMAT(TIME(shift_end), '%h:%i %p') AS shift_end_time,\n        title\n    FROM \n        shifts\n    WHERE \n        user_id = ? AND \n        DATE(shift_start) BETWEEN \n            DATE_SUB(DATE(NOW()), INTERVAL WEEKDAY(NOW()) DAY) AND \n            DATE_ADD(\n                DATE(NOW()), INTERVAL (\n                    SELECT \n                        IF(COUNT(*), 6, 4)\n                    FROM \n                        shifts\n                    WHERE \n                        DATE(shift_start) BETWEEN \n                            DATE_ADD(DATE(NOW()), INTERVAL 5 - WEEKDAY(NOW()) DAY) AND \n                            DATE_ADD(DATE(NOW()), INTERVAL 6 - WEEKDAY(NOW()) DAY)\n                ) - WEEKDAY(NOW()) DAY\n            )\n    ORDER BY \n        shift_start\n");\n\n// Bind the parameters\n$stmt->bind_param("i", $user_id);\n\n// Execute the statement\n$stmt->execute();\n\n// Get the result\n$result = $stmt->get_result();\n\n// Fetch the data\nwhile ($row = $result->fetch_assoc()) {\n    // Process the row\n    echo "User ID: " . $row['user_id'] . "<br>";\n    echo "Shift Start Date: " . $row['shift_start_date'] . "<br>";\n    echo "Shift Start Time: " . $row['shift_start_time'] . "<br>";\n    echo "Shift End Time: " . $row['shift_end_time'] . "<br>";\n    echo "Title: " . $row['title'] . "<br><br>";\n}\n\n// Close the statement and connection\n$stmt->close();\n$conn->close();\n?>