public function class()\n{\n    $this->load->library('form_validation');    \n\n    $this->form_validation->set_rules('name', 'Name', 'required|trim');\n    $this->form_validation->set_rules('email', 'Email Address', 'required|trim|valid_email');\n\n    if ($this->form_validation->run() == FALSE) \n    {\n        // Validation failed, set flashdata for the errors and input data\n        $this->session->set_flashdata('errors', validation_errors());\n        $this->session->set_flashdata('name', set_value('name'));\n        $this->session->set_flashdata('email', set_value('email'));\n\n        // Redirect back to the form page\n        redirect('property/rentals/' . $rec_id);\n    } \n    else \n    {\n        // Validation passed, process the data and set a success message\n        $data = array(\n            'name' => $this->input->post('name'),\n            'email' => $this->input->post('email')\n        );\n\n        // Insert data into database (assuming you have a model to handle this)\n        $this->your_model->insert_data($data);\n\n        // Set success message\n        $this->session->set_flashdata('success', 'Data successfully inserted.');\n\n        // Redirect back to the form page\n        redirect('property/rentals/' . $rec_id);\n    }\n}