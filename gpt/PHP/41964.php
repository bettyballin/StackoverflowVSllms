<?php\n// Database connection\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\n// Check connection\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Start transaction\n$mysqli->begin_transaction();\n\ntry {\n    // Insert into Table1\n    $mysqli->query("INSERT INTO Table1 (column1, column2) VALUES ('value1', 'value2')");\n    $table1_id = $mysqli->insert_id;\n    \n    // Insert into Table2\n    $mysqli->query("INSERT INTO Table2 (column3, column4) VALUES ('value3', 'value4')");\n    $table2_id = $mysqli->insert_id;\n    \n    // Insert into LinkTable\n    $mysqli->query("INSERT INTO LinkTable (table1_id, table2_id) VALUES ($table1_id, $table2_id)");\n    \n    // Commit transaction\n    $mysqli->commit();\n    \n    echo "Data inserted and linked successfully.";\n} catch (Exception $e) {\n    // Rollback transaction in case of error\n    $mysqli->rollback();\n    echo "Failed to insert data: " . $e->getMessage();\n}\n\n// Close connection\n$mysqli->close();\n?>