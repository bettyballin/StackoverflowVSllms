$threads = mysql_query("SELECT t.id, t.title, MAX(c.date) as last_comment_date\n                        FROM threads t \n                        LEFT JOIN comments c ON t.id = c.parentID\n                        GROUP BY t.id, t.title\n                        ORDER BY last_comment_date DESC");\n\nwhile ($thread = mysql_fetch_assoc($threads)) {\n    echo "<li><a href=\"?threadID=" . htmlspecialchars($thread['id']) . "\">" . htmlspecialchars($thread['title']) . "</a></li>\n";\n}