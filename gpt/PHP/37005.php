session_start();\n\n// Define item IDs and discount amount\n$item1_id = 'item1';\n$item2_id = 'item2';\n$discount_amount = 50;\n\n// Function to check if both items are in the cart\nfunction checkBothItemsInCart($cart) {\n    global $item1_id, $item2_id;\n    return isset($cart[$item1_id]) && isset($cart[$item2_id]);\n}\n\n// Simulate adding items to the cart (normally this would come from user actions)\n$cart = [\n    'item1' => 1, // Item1 quantity\n    'item2' => 1  // Item2 quantity\n];\n\n// Store cart in session\n$_SESSION['cart'] = $cart;\n\n// Function to calculate total price with discount if applicable\nfunction calculateTotalPrice($cart) {\n    global $item1_id, $item2_id, $discount_amount;\n\n    // Simulate prices\n    $prices = [\n        'item1' => 100,\n        'item2' => 150\n    ];\n\n    $total_price = 0;\n\n    foreach ($cart as $item_id => $quantity) {\n        if (isset($prices[$item_id])) {\n            $total_price += $prices[$item_id] * $quantity;\n        }\n    }\n\n    // Apply discount if both items are in the cart\n    if (checkBothItemsInCart($cart)) {\n        $total_price -= $discount_amount;\n    }\n\n    return $total_price;\n}\n\n// Checkout process\nfunction checkout() {\n    if (isset($_SESSION['cart'])) {\n        $cart = $_SESSION['cart'];\n        \n        // Revalidate items in the cart\n        if (checkBothItemsInCart($cart)) {\n            $total_price = calculateTotalPrice($cart);\n            echo "Total price after discount: $" . number_format($total_price, 2);\n        } else {\n            echo "Both items are required for the discount.";\n        }\n    } else {\n        echo "Cart is empty.";\n    }\n}\n\n// Initiate checkout\ncheckout();