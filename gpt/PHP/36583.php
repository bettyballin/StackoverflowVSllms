<?php\nif ($db = new PDO('sqlite:./db/blog.sqlite3')) {\n    $stmt = $db->prepare("SELECT * FROM news ORDER BY date DESC");\n    if ($stmt->execute()) {\n        $last_year = '';\n        $last_month = '';\n        \n        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n            $current_year = date("Y", $row['date']);\n            $current_month = date("F", $row['date']); // Full textual representation of the month\n\n            // Check if the year has changed\n            if ($current_year != $last_year) {\n                echo "<h1>" . $current_year . "</h1>";\n                $last_year = $current_year;\n                $last_month = ''; // Reset last month when year changes\n            }\n            // Check if the month has changed\n            if ($current_month != $last_month) {\n                echo "<h2>" . $current_month . "</h2>";\n                $last_month = $current_month;\n            }\n\n            // Print the post title and date\n            echo "<p>" . htmlspecialchars($row['title']) . " - " . date("Y-m-d, H:i:s", $row['date']) . "<br /></p>";\n        }\n    } else {\n        die("Execute failed: " . implode(", ", $stmt->errorInfo()));\n    }\n} else {\n    die("Connection failed: " . implode(", ", $db->errorInfo()));\n}\n?>