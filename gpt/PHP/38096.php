<?php\n\n// List of image paths to combine\n$images = ['image1.png', 'image2.png', 'image3.png'];\n\n// Load images and get their dimensions\n$loaded_images = [];\n$total_width = 0;\n$max_height = 0;\nforeach ($images as $image) {\n    $img = imagecreatefrompng($image);\n    $width = imagesx($img);\n    $height = imagesy($img);\n    \n    $loaded_images[] = ['resource' => $img, 'width' => $width, 'height' => $height];\n    \n    $total_width += $width;\n    if ($height > $max_height) {\n        $max_height = $height;\n    }\n}\n\n// Create a new blank image with the total width and max height\n$sprite = imagecreatetruecolor($total_width, $max_height);\n$background = imagecolorallocatealpha($sprite, 0, 0, 0, 127);\nimagefill($sprite, 0, 0, $background);\nimagesavealpha($sprite, true);\n\n// Copy each image into the sprite\n$x_offset = 0;\nforeach ($loaded_images as $img) {\n    imagecopy($sprite, $img['resource'], $x_offset, 0, 0, 0, $img['width'], $img['height']);\n    $x_offset += $img['width'];\n}\n\n// Save the final sprite image\nimagepng($sprite, 'sprite.png');\n\n// Generate the CSS file\n$css = ".sprite {\n    background: url('sprite.png') no-repeat;\n}\n";\n\n$x_offset = 0;\nforeach ($images as $index => $image) {\n    $css .= ".sprite-{$index} {\n";\n    $css .= "    width: {$loaded_images[$index]['width']}px;\n";\n    $css .= "    height: {$loaded_images[$index]['height']}px;\n";\n    $css .= "    background-position: -{$x_offset}px 0;\n";\n    $css .= "}\n";\n    $x_offset += $loaded_images[$index]['width'];\n}\n\nfile_put_contents('sprite.css', $css);\n\n// Clean up\nimagedestroy($sprite);\nforeach ($loaded_images as $img) {\n    imagedestroy($img['resource']);\n}\n\necho "Sprite and CSS generated successfully.";\n?>