<?php\n// Add this line at the top of your header.php to make sure $post is available\nglobal $post;\n\n// Debugging: Check if $post is defined\nif (!isset($post)) {\n    echo "Warning: \$post is not set.<br>";\n} else {\n    echo "Debug: \$post is set.<br>";\n}\n\n// Debugging: Print the $post variable\nvar_dump($post);\n\n// Your original code with added checks\n$str = $post->post_content;\nassert(isset($str)); // This checks if $str is set\nassert(is_string($str)); // This checks if $str is a string\necho $str;\n$str = 'before <img src="/path/to/nonexistant.gif" /> after';\nassert(isset($str));\necho $str;\n?>