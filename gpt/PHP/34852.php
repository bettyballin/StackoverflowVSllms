<?php\n\nfunction generateOccurrences($startDate, $recurrenceRule) {\n    $occurrences = [];\n    $currentDate = new DateTime($startDate);\n    $interval = new DateInterval('P' . $recurrenceRule['interval'] . strtoupper(substr($recurrenceRule['frequency'], 0, 1)));\n    $count = 0;\n\n    while (true) {\n        if (!empty($recurrenceRule['until']) && $currentDate > new DateTime($recurrenceRule['until'])) {\n            break;\n        }\n        if (!empty($recurrenceRule['count']) && $count >= $recurrenceRule['count']) {\n            break;\n        }\n\n        $occurrences[] = $currentDate->format('Y-m-d');\n        $currentDate->add($interval);\n        $count++;\n    }\n\n    return $occurrences;\n}\n\n// Example usage:\n$event = [\n    'title' => 'Meeting',\n    'start_date' => '2023-01-01',\n    'recurrence_rule' => [\n        'frequency' => 'weekly',\n        'interval' => 1,\n        'count' => 10,\n        'until' => '2023-12-31'\n    ]\n];\n\n$occurrences = generateOccurrences($event['start_date'], $event['recurrence_rule']);\nprint_r($occurrences);\n?>