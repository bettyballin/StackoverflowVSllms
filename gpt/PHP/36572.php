<?php\n// Assuming $data is the array fetched from the database\n$data = [\n    ['category' => 'Category 1', 'value' => 10],\n    ['category' => 'Category 2', 'value' => 20],\n    ['category' => 'Category 3', 'value' => 30],\n];\n\n$width = 500;\n$height = 300;\n$barWidth = 40;\n$barSpacing = 20;\n$leftMargin = 50;\n$bottomMargin = 50;\n\n// Create the image\n$image = imagecreate($width, $height);\n\n// Allocate colors\n$white = imagecolorallocate($image, 255, 255, 255);\n$black = imagecolorallocate($image, 0, 0, 0);\n$blue = imagecolorallocate($image, 0, 0, 255);\n\n// Fill the background\nimagefill($image, 0, 0, $white);\n\n// Draw the bars\n$x = $leftMargin;\nforeach ($data as $item) {\n    $barHeight = ($height - $bottomMargin) * ($item['value'] / 100);\n    imagefilledrectangle($image, $x, $height - $bottomMargin - $barHeight, $x + $barWidth, $height - $bottomMargin, $blue);\n    imagestring($image, 3, $x + ($barWidth / 4), $height - $bottomMargin + 5, $item['category'], $black);\n    $x += $barWidth + $barSpacing;\n}\n\n// Draw axes\nimageline($image, $leftMargin, $height - $bottomMargin, $width, $height - $bottomMargin, $black);\nimageline($image, $leftMargin, $height - $bottomMargin, $leftMargin, 0, $black);\n\n// Output the image\nheader('Content-Type: image/png');\nimagepng($image);\n\n// Clean up\nimagedestroy($image);\n?>