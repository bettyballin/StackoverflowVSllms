<?php\nfunction getUserIP() {\n    if (!empty($_SERVER['HTTP_CLIENT_IP'])) {\n        // Check for IP from shared internet\n        $ip = $_SERVER['HTTP_CLIENT_IP'];\n    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n        // Check for IP passed from proxy\n        $ip = $_SERVER['HTTP_X_FORWARDED_FOR'];\n    } else {\n        // Get the remote IP address\n        $ip = $_SERVER['REMOTE_ADDR'];\n    }\n    return $ip;\n}\n\necho getUserIP();\n?>