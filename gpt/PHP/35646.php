<?php\n\n   use Drupal\node\Entity\Node;\n   use Drupal\Core\Block\BlockBase;\n   use GuzzleHttp\ClientInterface;\n\n   /**\n    * Implements hook_help().\n    */\n   function my_module_help($route_name, $route_match) {\n     switch ($route_name) {\n       case 'help.page.my_module':\n         return t('This is a custom module to access an external API.');\n     }\n   }\n\n   /**\n    * Fetch data from the external API.\n    */\n   function my_module_fetch_data() {\n     $client = \Drupal::httpClient();\n     $response = $client->get('https://api.example.com/data');\n     $data = json_decode($response->getBody(), TRUE);\n\n     return $data;\n   }\n\n   /**\n    * Create a node from the fetched data.\n    */\n   function my_module_create_node($data) {\n     $node = Node::create([\n       'type' => 'article',\n       'title' => $data['title'],\n       'body' => [\n         'value' => $data['description'],\n         'format' => 'basic_html',\n       ],\n     ]);\n     $node->save();\n   }\n\n   /**\n    * Implements hook_block_info().\n    */\n   function my_module_block_info() {\n     $blocks['my_custom_block'] = [\n       'info' => t('My Custom Block'),\n     ];\n     return $blocks;\n   }\n\n   /**\n    * Implements hook_block_view().\n    */\n   function my_module_block_view($delta = '') {\n     $block = [];\n     switch ($delta) {\n       case 'my_custom_block':\n         $data = my_module_fetch_data();\n         $block['subject'] = t('API Data');\n         $block['content'] = [\n           '#markup' => t('Title: @title', ['@title' => $data['title']]),\n         ];\n         break;\n     }\n     return $block;\n   }