<?php\n// Connect to your database\ninclude('db_connection.php');\n\nif (isset($_GET['token'])) {\n    $token = $_GET['token'];\n    \n    // Prepare and execute a query to find the user by token\n    $stmt = $conn->prepare('SELECT email FROM users WHERE unsubscribe_token = ?');\n    $stmt->bind_param('s', $token);\n    $stmt->execute();\n    $result = $stmt->get_result();\n    \n    if ($result->num_rows > 0) {\n        // User found, proceed with unsubscription\n        $user = $result->fetch_assoc();\n        $email = $user['email'];\n        \n        // Update the user's subscription status\n        $stmt = $conn->prepare('UPDATE users SET subscribed = 0 WHERE email = ?');\n        $stmt->bind_param('s', $email);\n        if ($stmt->execute()) {\n            echo 'You have been unsubscribed successfully.';\n        } else {\n            echo 'An error occurred while trying to unsubscribe you.';\n        }\n    } else {\n        // Invalid token\n        echo 'Invalid unsubscribe request.';\n    }\n} else {\n    // No token provided\n    echo 'Invalid request.';\n}\n?>