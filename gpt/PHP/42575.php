<?php\nfunction getPrimes($limit) {\n    if ($limit < 2) {\n        return [];\n    }\n    \n    // Adjust limit for odd numbers only\n    $limit = ($limit % 2 == 0) ? $limit - 1 : $limit;\n    $sieveBound = ($limit - 1) / 2;\n    $sieve = array_fill(0, $sieveBound + 1, true);\n    $crossLimit = (int)(sqrt($limit) - 1) / 2;\n\n    for ($i = 1; $i <= $crossLimit; $i++) {\n        if ($sieve[$i]) {\n            for ($j = 2 * $i * ($i + 1); $j <= $sieveBound; $j += 2 * $i + 1) {\n                $sieve[$j] = false;\n            }\n        }\n    }\n\n    $primes = [2];\n    for ($i = 1; $i <= $sieveBound; $i++) {\n        if ($sieve[$i]) {\n            $primes[] = 2 * $i + 1;\n        }\n    }\n\n    return $primes;\n}\n\n$limit = 2000000; // Set the limit here\n$primes = getPrimes($limit);\necho "Number of primes up to $limit: " . count($primes) . "\n";