class AppController extends Controller {\n    public $components = array(\n        'Auth' => array(\n            'loginRedirect' => array('controller' => 'users', 'action' => 'index'),\n            'logoutRedirect' => array('controller' => 'pages', 'action' => 'display', 'home'),\n            'authError' => 'You are not authorized to view that page.',\n            'authorize' => array('Controller'),\n            'autoRedirect' => false, // Ensure autoRedirect is set to false\n        ),\n        'Session'\n    );\n\n    public function beforeFilter() {\n        $this->Auth->allow('index', 'view', 'display', 'login'); // Ensure login is allowed\n    }\n}