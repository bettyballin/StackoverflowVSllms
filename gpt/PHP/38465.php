function make_url($path, $secure = false){\n    // Check if the file exists and is a valid file\n    if (!file_exists($path) || !is_file($path)) {\n        throw new InvalidArgumentException("The path provided does not exist or is not a valid file.");\n    }\n\n    // Ensure DOCUMENT_ROOT and HTTP_HOST are set\n    if (!isset($_SERVER['DOCUMENT_ROOT']) || !isset($_SERVER['HTTP_HOST'])) {\n        throw new RuntimeException("Required server variables are not set.");\n    }\n\n    // Sanitize the host\n    $host = filter_var($_SERVER['HTTP_HOST'], FILTER_SANITIZE_URL);\n    if ($host === false) {\n        throw new RuntimeException("Invalid HTTP_HOST.");\n    }\n\n    // Convert the path to a URL\n    $url = str_replace($_SERVER['DOCUMENT_ROOT'], '', $path);\n    $protocol = $secure ? 'https://' : 'http://';\n\n    // Ensure the URL does not contain dangerous characters\n    $url = filter_var($url, FILTER_SANITIZE_URL);\n    if ($url === false) {\n        throw new RuntimeException("Invalid URL path.");\n    }\n\n    return $protocol . $host . $url;\n}