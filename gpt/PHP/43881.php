<?php\n$xml = <<<XML\n<result>\n    <uf x="20" y="0"/>\n    <uf x="22" y="22"/>\n    <uf x="4" y="3"/>\n    <uf x="15" y="15"/>\n</result>\nXML;\n\n$xsl = <<<XSL\n<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n    <xsl:output method="text"/>\n    \n    <xsl:template match="/">\n        <xsl:variable name="count" select="count(/result/uf[@x = @y])"/>\n        <xsl:value-of select="$count"/>\n    </xsl:template>\n    \n</xsl:stylesheet>\nXSL;\n\n$xmlDoc = new DOMDocument();\n$xmlDoc->loadXML($xml);\n\n$xslDoc = new DOMDocument();\n$xslDoc->loadXML($xsl);\n\n$proc = new XSLTProcessor();\n$proc->importStylesheet($xslDoc);\n\necho $proc->transformToXML($xmlDoc);\n?>