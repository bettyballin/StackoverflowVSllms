class DB {\n    private $conn;\n    private $dbhost;\n    private $dbname;\n    private $dbuser;\n    private $dbpass;\n\n    public function __construct($dbhost, $dbname, $dbuser, $dbpass) {\n        $this->dbhost = $dbhost;\n        $this->dbname = $dbname;\n        $this->dbuser = $dbuser;\n        $this->dbpass = $dbpass;\n        $this->open();\n    }\n\n    private function open() {\n        $this->conn = new mysqli($this->dbhost, $this->dbuser, $this->dbpass, $this->dbname);\n        if ($this->conn->connect_error) {\n            die("Connection failed: " . $this->conn->connect_error);\n        }\n    }\n\n    private function close() {\n        $this->conn->close();\n    }\n\n    public function query($query) {\n        $result = $this->conn->query($query);\n        if ($this->conn->error) {\n            die("Error executing query: " . $this->conn->error);\n        }\n        return $result;\n    }\n\n    public function prepare($query) {\n        $stmt = $this->conn->prepare($query);\n        if ($stmt === false) {\n            die("Error preparing statement: " . $this->conn->error);\n        }\n        return $stmt;\n    }\n\n    public function __destruct() {\n        $this->close();\n    }\n}