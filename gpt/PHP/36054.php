<?php\n     require_once __DIR__ . '/vendor/autoload.php';\n\n     use PhpAmqpLib\Connection\AMQPStreamConnection;\n     use PhpAmqpLib\Message\AMQPMessage;\n\n     $connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n     $channel = $connection->channel();\n\n     $channel->queue_declare('task_queue', false, true, false, false);\n\n     echo ' [*] Waiting for messages. To exit press CTRL+C', "\n";\n\n     $callback = function ($msg) {\n         echo ' [x] Received ', $msg->body, "\n";\n         // Process the job here\n         $msg->ack();\n     };\n\n     $channel->basic_qos(null, 1, null);\n     $channel->basic_consume('task_queue', '', false, false, false, false, $callback);\n\n     while ($channel->is_consuming()) {\n         $channel->wait();\n     }\n\n     $channel->close();\n     $connection->close();