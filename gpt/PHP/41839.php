<?php\nsession_start();\n\n// Verify token if provided\nif (isset($_GET['token'])) {\n    // Validate the token (for simplicity, assume it's valid if session exists)\n    session_id($_GET['token']);\n    session_start();\n    \n    if (isset($_SESSION['authenticated']) && $_SESSION['authenticated']) {\n        echo 'Welcome, ' . $_SESSION['username'];\n        exit();\n    }\n}\n\n// Redirect to authentication server if not authenticated\nif (!isset($_SESSION['authenticated'])) {\n    $auth_server_url = 'https://auth.example.com/auth-server.php';\n    $current_url = 'https://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];\n    header("Location: $auth_server_url?redirect_url=" . urlencode($current_url));\n    exit();\n}\n\n// Display protected content if authenticated\necho 'Welcome, ' . $_SESSION['username'];\n?>