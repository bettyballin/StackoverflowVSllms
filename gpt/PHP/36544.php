class PremiumSite extends AppModel {\n    var $name = 'PremiumSite';\n\n    public function prepareData($data, $cost) {\n        if ($data['type'] == "1") {\n            $length = (int) $data['length'];\n            $length++;\n            $data['upfront_weeks'] = $length;\n            $data['upfront_expiration'] = date('Y-m-d H:i:s', strtotime(sprintf('+%s weeks', $length)));\n            $data['cost'] = $cost * $length;\n        } else {\n            $data['cost'] = $cost;\n        }\n        return $data;\n    }\n}