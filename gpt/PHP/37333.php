class My_Controller_Plugin_Auth extends Zend_Controller_Plugin_Abstract\n{\n    public function preDispatch(Zend_Controller_Request_Abstract $request)\n    {\n        // Get the Zend_Auth instance\n        $auth = Zend_Auth::getInstance();\n\n        // Check if the user is not authenticated\n        if (!$auth->hasIdentity()) {\n            // Redirect to the login page if not authenticated\n            $request->setControllerName('auth')\n                    ->setActionName('login')\n                    ->setDispatched(false);\n        }\n    }\n}