<?php\n\nfunction resizeImage($url, $maxWidth, $maxHeight) {\n    // Download the image\n    $imageContent = file_get_contents($url);\n    $sourceImage = imagecreatefromstring($imageContent);\n\n    if ($sourceImage === false) {\n        return false;\n    }\n\n    // Get original dimensions\n    list($originalWidth, $originalHeight) = getimagesizefromstring($imageContent);\n\n    // Calculate the new dimensions while maintaining the aspect ratio\n    $ratio = min($maxWidth / $originalWidth, $maxHeight / $originalHeight);\n    $newWidth = (int)($originalWidth * $ratio);\n    $newHeight = (int)($originalHeight * $ratio);\n\n    // Create a new blank image with the new dimensions\n    $resizedImage = imagecreatetruecolor($newWidth, $newHeight);\n\n    // Resize the original image into the new image\n    imagecopyresampled($resizedImage, $sourceImage, 0, 0, 0, 0, $newWidth, $newHeight, $originalWidth, $originalHeight);\n\n    // Output the resized image\n    header('Content-Type: image/jpeg');\n    imagejpeg($resizedImage);\n\n    // Free up memory\n    imagedestroy($sourceImage);\n    imagedestroy($resizedImage);\n}\n\n// Example usage\n$url = 'http://example.com/path/to/image.jpg';\nresizeImage($url, 250, 300);\n\n?>