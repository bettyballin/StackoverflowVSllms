<?php\nfunction uploadCSVtoTable($filePath) {\n    if (($handle = fopen($filePath, "r")) !== FALSE) {\n        echo "<table border='1'>";\n        while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {\n            echo "<tr>";\n            foreach ($data as $cell) {\n                echo "<td>" . htmlspecialchars($cell) . "</td>";\n            }\n            echo "</tr>";\n        }\n        echo "</table>";\n        fclose($handle);\n    } else {\n        echo "Error opening the file.";\n    }\n}\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_FILES['userfile'])) {\n    $filePath = $_FILES['userfile']['tmp_name'];\n    uploadCSVtoTable($filePath);\n}\n?>