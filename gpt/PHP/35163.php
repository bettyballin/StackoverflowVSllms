<?php\nsession_start();\n\n// Set the content type\nheader('Content-type: image/png');\n\n// Create the image\n$image = imagecreatetruecolor(200, 50);\n\n// Create some colors\n$bgColor = imagecolorallocate($image, 255, 255, 255);\n$textColor = imagecolorallocate($image, 0, 0, 0);\n\n// Fill the background\nimagefilledrectangle($image, 0, 0, 200, 50, $bgColor);\n\n// The text to draw\n$captchaText = substr(md5(rand()), 0, 6);\n$_SESSION['captcha'] = $captchaText;\n\n// Replace path with your font file\n$font = './path/to/small-font.ttf';\n\n// Add the text\nimagettftext($image, 20, 0, 30, 30, $textColor, $font, $captchaText);\n\n// Using imagepng() results in clearer text compared with imagejpeg()\nimagepng($image);\nimagedestroy($image);\n?>