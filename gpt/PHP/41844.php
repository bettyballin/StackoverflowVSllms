protected function PreRenderTextarea(WebPage $sender) {\n    // Create a new textarea element\n    $textarea = $sender->createElement('textarea');\n    \n    // Copy attributes from the old element to the new one\n    foreach ($this->attributes as $attribute) {\n        if ($attribute->name == 'value') {\n            $textarea->nodeValue = $attribute->value;\n        } else {\n            $textarea->setAttribute($attribute->name, $attribute->value);\n        }\n    }\n\n    // Preserve any crucial properties or logic\n    // Example: if there are custom properties, you can transfer them here\n    if (property_exists($this, 'customProperty')) {\n        $textarea->customProperty = $this->customProperty;\n    }\n\n    // Replace the old element with the new one\n    $this->parentNode->replaceChild($textarea, $this);\n\n    // Reference the new element in the logic if needed\n    $this->referenceToNewElement = $textarea;\n}\n\npublic function OnPreRender(WebPage $sender) {\n    parent::OnPreRender();\n    $this->setAttribute('value', $this->Value);\n\n    switch ($this->Mode) {\n        case 'normal':\n            $this->setAttribute('type', 'text');\n            break;\n        case 'password':\n            $this->setAttribute('type', 'password');\n            break;\n        case 'multiline':\n            $this->PreRenderTextarea($sender);\n            return;\n            break;\n    }\n}