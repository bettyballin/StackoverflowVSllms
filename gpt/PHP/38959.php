$myArray = array(\n    array("time" => "12:15", "date" => "2009-03-24"),\n    array("time" => "12:10", "date" => "2009-03-23"),\n    array("time" => "12:00", "date" => "2009-03-24"),\n    array("time" => "11:30", "date" => "2009-03-24")\n);\n\nusort($myArray, "sortThirties");\n\nfunction sortThirties($a, $b) {\n    // Get the two times as timestamps relative to today\n    $one = strtotime($a['time']);\n    $two = strtotime($b['time']);\n\n    // Round them down to the nearest half-hour time\n    $one = $one - ($one % 1800);\n    $two = $two - ($two % 1800);\n\n    // Return the difference if times are unequal\n    // If times are equal, return the difference between dates.\n    if ($one == $two) {\n        return strcmp($a['date'], $b['date']);\n    }\n    return $one - $two;\n}\n\n// Print the sorted array\nprint_r($myArray);