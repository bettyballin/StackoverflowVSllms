<?php\nsession_start();\nini_set('display_errors', 1);\nerror_reporting(E_ALL | E_NOTICE);\ninclude("config.inc.php");\ninclude("jsonEncode.php");\n\ntry {\n    $pdo = new PDO($dsn, $db_username, $db_password);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    // username and password sent from form\n    $username = filter_input(INPUT_GET, 'username', FILTER_SANITIZE_STRING);\n    $password = filter_input(INPUT_GET, 'password', FILTER_SANITIZE_STRING);\n\n    if ($username && $password) {\n        $stmt = $pdo->prepare("SELECT * FROM clients WHERE username = :username AND password = :password LIMIT 1");\n        $stmt->execute([':username' => $username, ':password' => $password]);\n\n        if ($user = $stmt->fetch(PDO::FETCH_ASSOC)) {\n            $_SESSION['username'] = $username;\n            $_SESSION['client_id'] = $user['c_id'];\n            $_SESSION['loggedin'] = "1234";\n\n            $response = ['valid' => 1, 'username' => $username, 'password' => $password];\n        } else {\n            $response = ['valid' => 0, 'username' => $username, 'password' => $password];\n        }\n    } else {\n        $response = ['valid' => 0, 'username' => $username, 'password' => $password];\n    }\n} catch (PDOException $e) {\n    $response = ['valid' => 0, 'error' => $e->getMessage()];\n}\n\necho php_json_encode($response);\n?>