$ids = '123,535,345,567,878';\n$idArray = explode(',', $ids);\n$placeholders = implode(',', array_fill(0, count($idArray), '?'));\n\n$sql = "SELECT foo, blar FROM table WHERE id IN ($placeholders)";\n$stmt = $mysqli->prepare($sql);\n\nif ($stmt === false) {\n    die('Prepare failed: ' . $mysqli->error);\n}\n\n// Dynamically bind the parameters\n$types = str_repeat('i', count($idArray)); // Assuming all ids are integers\n$bind_names[] = & $types;\nfor ($i = 0; $i < count($idArray); $i++) {\n    $bind_name = 'bind' . $i;\n    $$bind_name = $idArray[$i];\n    $bind_names[] = & $$bind_name;\n}\n\n// Call the bind_param function with dynamic parameters\ncall_user_func_array(array($stmt, 'bind_param'), $bind_names);\n\n$stmt->execute();\n$result = $stmt->get_result();\n\nwhile ($row = $result->fetch_assoc()) {\n    // Process each row\n    print_r($row);\n}\n\n$stmt->close();\n$mysqli->close();