$xmlstr = <<<XML\n<?xml version='1.0' standalone='yes'?>\n<movies></movies>\nXML;\n\n$sxe = new SimpleXMLElement($xmlstr);\n\n$sxe->addAttribute('type', 'documentary');\n\n$movie = $sxe->addChild('movie');\n$movie->addChild('title', 'PHP2: More Parser Stories');\n$movie->addChild('plot', 'This is all about the people who make it work.');\n\n$characters = $movie->addChild('characters');\n$character  = $characters->addChild('character');\n$character->addChild('name', 'Mr. Parser');\n$character->addChild('actor', 'John Doe');\n\n$rating = $movie->addChild('rating', '5');\n$rating->addAttribute('type', 'stars');\n\n// Convert SimpleXMLElement to DOMDocument for pretty printing\n$dom = new DOMDocument('1.0');\n$dom->preserveWhiteSpace = false;\n$dom->formatOutput = true;\n$dom->loadXML($sxe->asXML());\n\n// Output the formatted XML\necho "<pre>" . htmlspecialchars($dom->saveXML()) . "</pre>";