<?php\nrequire 'vendor/autoload.php';\n\nuse PhpPSDReader\PSDRawCode;\nuse PhpPSDReader\Reader\ImageReader;\n\n// Load the PSD file\n$psdFile = 'path/to/your/file.psd';\n$psd = new ImageReader($psdFile);\n\n// Iterate over each layer\nforeach ($psd->getLayers() as $index => $layer) {\n    // Skip layers that are not visible\n    if (!$layer->isVisible()) {\n        continue;\n    }\n\n    // Get the image data of the layer\n    $image = $layer->getImage();\n\n    // Create the output filename\n    $outputFilename = 'layer_' . $index . '.png';\n\n    // Save the layer as a PNG file\n    imagepng($image, $outputFilename);\n    imagedestroy($image);\n\n    echo "Saved layer $index as $outputFilename\n";\n}\n?>