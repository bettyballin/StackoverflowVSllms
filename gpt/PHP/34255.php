$handle = popen('/usr/bin/python '.YOUTUBEDL.'youtube-dl.py -o '.VIDEOPATH.$fileName.'.flv '.$url.' 2>&1', 'rb');\n\nwhile(!feof($handle)) {\n    $progress = fread($handle, 8192);\n    $pattern = '/(?<percent>[0-9]{1,3}\.[0-9]{1,2})%\s+of\s+(?<filesize>[\d\.]+[KMGT]?B?)\s+at/';\n    \n    // Debugging: Print the output and the result of the regex match\n    echo "Output: " . $progress . "\n";\n    \n    if (preg_match_all($pattern, $progress, $matches)) {\n        fwrite($fh, $matches[0][0]."\r\n");\n        // Debugging: Print the matched pattern\n        echo "Matched: " . print_r($matches, true) . "\n";\n    } else {\n        // Debugging: Notify no matches found\n        echo "No match found.\n";\n    }\n}\n\npclose($handle);