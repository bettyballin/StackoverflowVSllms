<?php\nrequire 'vendor/autoload.php';\n\nuse Auth\OpenID\Consumer;\nuse Auth\OpenID\FileStore;\nuse Auth\OpenID\SRegRequest;\nuse Auth\OpenID\SRegResponse;\n\n$store = new FileStore('/tmp/_php_consumer_test');\n$consumer = new Consumer($store);\n\n$auth_request = $consumer->begin('https://example-openid-provider.com');\n$sreg_request = SRegRequest::build(\n    array('nickname', 'email'), // Required fields\n    array('fullname', 'dob')    // Optional fields\n);\n\nif ($sreg_request) {\n    $auth_request->addExtension($sreg_request);\n}\n\n$redirect_url = $auth_request->redirectUrl('http://your-site.com', 'http://your-site.com/finish-auth');\nheader('Location: ' . $redirect_url);\nexit;\n?>