<?php\n// Database connection\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\n// Check connection\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// Query to fetch scales and their related items\n$query = "\n    SELECT scales.*, items.*\n    FROM scales\n    LEFT JOIN items ON scales.id = items.scaleID\n";\n\n$result = $mysqli->query($query);\n\n$data = [];\nif ($result->num_rows > 0) {\n    while ($row = $result->fetch_assoc()) {\n        $scaleID = $row['id'];\n        if (!isset($data[$scaleID])) {\n            // Initialize scale data\n            $data[$scaleID] = [\n                'scaleID' => $row['id'],\n                'scaleParam1' => $row['scaleParam1'],\n                'scaleParam2' => $row['scaleParam2'],\n                'items' => []\n            ];\n        }\n        if ($row['itemID'] !== null) {\n            // Add item data to the current scale\n            $data[$scaleID]['items'][] = [\n                'itemID' => $row['itemID'],\n                'itemParam1' => $row['itemParam1'],\n                'itemParam2' => $row['itemParam2']\n            ];\n        }\n    }\n}\n\n// Close connection\n$mysqli->close();\n\n// Output the data\necho "<pre>";\nprint_r($data);\necho "</pre>";\n?>