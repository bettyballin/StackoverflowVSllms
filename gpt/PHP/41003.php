class BlogController extends Zend_Controller_Action\n{\n    public function entryAction()\n    {\n        $entryId = $this->_getParam('id');\n        $entryModel = new Application_Model_Entry();\n        $entry = $entryModel->fetchEntry($entryId);\n\n        $this->view->entry = $entry;\n        \n        // Detect if the request is from a mobile device\n        if ($this->isMobile()) {\n            $this->_helper->viewRenderer('entry-mobile');\n        } else {\n            $commentsModel = new Application_Model_Comments();\n            $comments = $commentsModel->fetchCommentsByEntry($entryId);\n            $this->view->comments = $comments;\n        }\n    }\n\n    private function isMobile()\n    {\n        $userAgent = new Zend_Http_UserAgent();\n        return $userAgent->getDevice()->getType() === 'mobile';\n    }\n    \n    public function loadCommentsAction()\n    {\n        $entryId = $this->_getParam('id');\n        $commentsModel = new Application_Model_Comments();\n        $comments = $commentsModel->fetchCommentsByEntry($entryId);\n        \n        $this->view->comments = $comments;\n        $this->_helper->json($comments);\n    }\n}