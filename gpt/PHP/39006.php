public function countDaysWithoutEvents() {\n    $sql = "SELECT 7 - COUNT(*) AS NumDaysWithoutEvents\n            FROM    \n            (SELECT d.date \n                FROM cali_events e\n                LEFT JOIN cali_dates d\n                ON e.event_id = d.event_id\n                WHERE YEARWEEK(d.date) = YEARWEEK(CURRENT_DATE())\n                AND d.category_id = ?\n                GROUP BY DAY(d.date)\n            ) AS UniqueDates";\n    \n    // Check if the connection is valid\n    if ($this->link === null) {\n        die('Database connection not established.');\n    }\n    \n    $stmt = $this->link->prepare($sql);\n\n    // Check if the prepare() call was successful\n    if ($stmt === false) {\n        die('Prepare failed: ' . $this->link->error);\n    }\n\n    $stmt->bind_param('i', $this->locationID);\n\n    // Execute the statement and check for errors\n    if (!$stmt->execute()) {\n        die('Execute failed: ' . $stmt->error);\n    }\n\n    $stmt->bind_result($count);\n    $stmt->fetch();\n    $stmt->close();\n\n    return $count;\n}