<?php\n\n// dbinterface.php\n\nclass db {\n    private $con;\n    private $host;\n    private $user;\n    private $pass;\n    private $database;\n    private $error;\n\n    function __construct($host, $user, $pass, $database) {\n        $this->host = $host;\n        $this->user = $user;\n        $this->pass = $pass;\n        $this->database = $database;\n        $this->con = new mysqli($host, $user, $pass, $database);\n\n        if ($this->con->connect_error) {\n            $this->error = "Connection failed: " . $this->con->connect_error;\n        }\n    }\n\n    function escape($text) {\n        return $this->con->real_escape_string($text);\n    }\n\n    function run($query) {\n        $q = $this->con->query($query);\n        if ($q === false) {\n            $this->error = "Error " . $this->con->errno . ": " . $this->con->error;\n            return false;\n        } elseif ($q === true) {\n            return true;\n        } else {\n            $result = array();\n            while ($row = $q->fetch_assoc()) {\n                array_push($result, $row);\n            }\n            return $result;\n        }\n    }\n\n    function get_error() {\n        return $this->error;\n    }\n\n    function close() {\n        $this->con->close();\n    }\n}\n\n?>