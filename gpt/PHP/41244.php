$blacklist = [\n    // Add known proxy IPs or CIDR blocks\n    '123.123.123.123',\n    '234.234.234.0/24',\n    // You can fetch lists from services like https://check.torproject.org/exit-addresses\n];\n\nfunction ipInBlacklist($ip, $blacklist) {\n    foreach ($blacklist as $blocked) {\n        if (strpos($blocked, '/') === false) {\n            if ($ip == $blocked) {\n                return true;\n            }\n        } else {\n            list($subnet, $bits) = explode('/', $blocked);\n            if ((ip2long($ip) & ~((1 << (32 - $bits)) - 1)) == ip2long($subnet)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n$user_ip = $_SERVER['REMOTE_ADDR'];\nif (ipInBlacklist($user_ip, $blacklist)) {\n    echo "Proxy detected";\n} else {\n    echo "No proxy detected";\n}