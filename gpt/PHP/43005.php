<?php\n\nfunction rememberDevice($userId) {\n    // Generate a unique token\n    $token = bin2hex(random_bytes(32));\n    \n    // Store the token in the database associated with the user\n    // Assuming you have a function `saveToken($userId, $token)` to do this\n    saveToken($userId, $token);\n    \n    // Set a secure, HttpOnly cookie with the token\n    setcookie('remember_me', $token, time() + (86400 * 30), "/", "", true, true);\n}\n\nfunction checkRememberedDevice() {\n    if (isset($_COOKIE['remember_me'])) {\n        $token = $_COOKIE['remember_me'];\n        \n        // Verify the token from the database\n        // Assuming you have a function `isValidToken($token)` to do this\n        return isValidToken($token);\n    }\n    return false;\n}\n\n// Example usage\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // After successful login\n    $userId = loginUser($_POST['username'], $_POST['password']);\n    if ($userId) {\n        if (isset($_POST['remember_me'])) {\n            rememberDevice($userId);\n        }\n        // Redirect or display user dashboard\n    } else {\n        // Handle invalid login\n    }\n} else if (checkRememberedDevice()) {\n    // User is remembered, proceed to authenticated area\n} else {\n    // Show login form\n}\n?>