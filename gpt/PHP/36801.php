class My_Controller_Action_Helper_AjaxResponse extends Zend_Controller_Action_Helper_Abstract\n{\n    public function direct($data, $format = 'json')\n    {\n        $response = $this->getResponse();\n        $response->setHeader('Content-Type', 'application/' . $format);\n        \n        switch ($format) {\n            case 'json':\n                $response->setBody(json_encode($data));\n                break;\n            case 'html':\n            default:\n                $response->setBody($data);\n                break;\n        }\n        \n        $response->sendResponse();\n        exit;\n    }\n}