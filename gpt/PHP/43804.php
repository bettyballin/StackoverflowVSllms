function set_post_pending($data, $postarr) {\n    // If it's not valid...\n    $category_id = 123; // Replace with your specific category ID\n    if (in_array($category_id, $postarr['post_category']) && empty($postarr['meta_input']['required_custom_field'])) {\n        $error = "You are missing some Custom Fields.";\n        set_transient('admin_post_error', $error, 45); // Store for 45 seconds\n        $data['post_status'] = 'pending';\n    }\n    return $data;\n}\nadd_filter('wp_insert_post_data', 'set_post_pending', 10, 2);\n\nfunction display_admin_notice() {\n    if ($error = get_transient('admin_post_error')) {\n        delete_transient('admin_post_error'); // Clean up the transient\n        echo '<div class="error notice is-dismissible"><p>' . esc_html($error) . '</p></div>';\n    }\n}\nadd_action('admin_notices', 'display_admin_notice');