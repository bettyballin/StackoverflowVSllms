<?php\n// Create a blank image\n$width = 800;\n$height = 600;\n$image = imagecreatetruecolor($width, $height);\n\n// Set colors\n$white = imagecolorallocate($image, 255, 255, 255);\n$black = imagecolorallocate($image, 0, 0, 0);\n$red = imagecolorallocate($image, 255, 0, 0);\n\n// Fill the background with white\nimagefilledrectangle($image, 0, 0, $width, $height, $white);\n\n// Draw nodes\n$nodes = [\n    ['x' => 100, 'y' => 100, 'label' => 'A'],\n    ['x' => 300, 'y' => 100, 'label' => 'B'],\n    ['x' => 500, 'y' => 300, 'label' => 'C'],\n    ['x' => 100, 'y' => 400, 'label' => 'D']\n];\n\nforeach ($nodes as $node) {\n    imagefilledellipse($image, $node['x'], $node['y'], 30, 30, $black);\n    imagestring($image, 5, $node['x'] - 5, $node['y'] - 28, $node['label'], $white);\n}\n\n// Draw edges with arrows\n$edges = [\n    [0, 1],\n    [1, 2],\n    [2, 3],\n    [3, 0]\n];\n\nforeach ($edges as $edge) {\n    $start = $nodes[$edge[0]];\n    $end = $nodes[$edge[1]];\n\n    // Draw the line\n    imageline($image, $start['x'], $start['y'], $end['x'], $end['y'], $black);\n\n    // Draw the arrowhead\n    $angle = atan2($end['y'] - $start['y'], $end['x'] - $start['x']);\n    $arrow_length = 10;\n    $arrow_angle = deg2rad(25);\n\n    // Calculate the arrowhead points\n    $x1 = $end['x'] - $arrow_length * cos($angle - $arrow_angle);\n    $y1 = $end['y'] - $arrow_length * sin($angle - $arrow_angle);\n    $x2 = $end['x'] - $arrow_length * cos($angle + $arrow_angle);\n    $y2 = $end['y'] - $arrow_length * sin($angle + $arrow_angle);\n\n    // Draw the arrowhead\n    imageline($image, $end['x'], $end['y'], $x1, $y1, $black);\n    imageline($image, $end['x'], $end['y'], $x2, $y2, $black);\n}\n\n// Output the image\nheader('Content-Type: image/png');\nimagepng($image);\n\n// Free up memory\nimagedestroy($image);\n?>