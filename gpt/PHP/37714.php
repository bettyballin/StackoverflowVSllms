<?php\nrequire_once('nusoap.php');\n\n// Enable debugging *before* creating server instance\n$debug = true;\n\n// Create the server instance\n$server = new soap_server();\n$server->configureWSDL('helloworld', 'urn:helloworld');\n\n// Register the method to expose\n$server->register('hello', \n    array('name' => 'xsd:string'),          // input parameters\n    array('return' => 'xsd:string'),        // output parameters\n    'urn:helloworld',                      // namespace\n    'urn:helloworld#hello',                // soapaction\n    'rpc',                                 // style\n    'encoded',                             // use\n    'Says hello to the caller'             // documentation\n);\n\n// Define the method as a PHP function\nfunction hello($name) {\n    $dbhost = 'blah';\n    $dbuser = 'blub';\n    $dbpass = 'booboo';\n    $dbname = 'soaperina';\n\n    try {\n        $conn = mysql_connect($dbhost, $dbuser, $dbpass);\n        if (!$conn) {\n            return 'Hello, '.$name.' ... too bad, I cannot connect to the db!';\n        } else {\n            mysql_select_db($dbname) or die('Error connecting to '.$dbname);\n            $queryres = mysql_query('SELECT * FROM farben');\n            $response = 'RESPONSE: ';\n            while ($arr = mysql_fetch_array($queryres)) {\n                $response .= $arr["ID"]." - ".$arr["Farben"]." - ".$arr["Rating"]."\n";\n            }\n            return $response;\n        }\n    } catch (Exception $e) {\n        return 'Sorry, '.$name.', but that did not work at all!';\n    }\n}\n\n// Use the request to (try to) invoke the service\n$HTTP_RAW_POST_DATA = isset($HTTP_RAW_POST_DATA) ? $HTTP_RAW_POST_DATA : file_get_contents('php://input');\n$server->service($HTTP_RAW_POST_DATA);\n?>