<?php\n     namespace YourCompany\AffiliateTracking\Observer;\n\n     use Magento\Framework\Event\Observer;\n     use Magento\Framework\Event\ObserverInterface;\n     use Magento\Framework\Session\SessionManager;\n\n     class AffiliateTrackingObserver implements ObserverInterface\n     {\n         protected $sessionManager;\n\n         public function __construct(SessionManager $sessionManager)\n         {\n             $this->sessionManager = $sessionManager;\n         }\n\n         public function execute(Observer $observer)\n         {\n             $request = $observer->getEvent()->getRequest();\n             $afid = $request->getParam('afid');\n\n             if ($afid) {\n                 $this->sessionManager->setAffiliateId($afid);\n             }\n\n             return $this;\n         }\n     }