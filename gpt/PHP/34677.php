<?php\n    session_start();\n    $userId = $_SESSION['user_id']; // Assuming you store the user ID in session\n\n    $positions = $_POST['positions'];\n    $db = new PDO('mysql:host=localhost;dbname=your_database', 'username', 'password');\n\n    foreach ($positions as $position) {\n        $widgetId = $position['widget_id'];\n        $pos = $position['position'];\n\n        $stmt = $db->prepare("REPLACE INTO widget_positions (user_id, widget_id, position) VALUES (:user_id, :widget_id, :position)");\n        $stmt->execute([\n            ':user_id' => $userId,\n            ':widget_id' => $widgetId,\n            ':position' => $pos\n        ]);\n    }\n\n    echo json_encode(['status' => 'success']);\n    ?>