<?php\n// Initialize the deflate context\n$context = deflate_init(ZLIB_ENCODING_DEFLATE);\n\n// Data to be compressed\n$dataChunks = [\n    "First part of the data.",\n    "Second part of the data.",\n    "Third part of the data."\n];\n\n// Open a file for writing\n$outputFile = fopen('output.z', 'wb');\n\n// Check if the file opened successfully\nif (!$outputFile) {\n    die('Failed to open the file for writing');\n}\n\n// Compress and write each chunk of data to the file\nforeach ($dataChunks as $chunk) {\n    $compressed = deflate_add($context, $chunk, ZLIB_NO_FLUSH);\n    fwrite($outputFile, $compressed);\n}\n\n// Finish the compression\n$compressed = deflate_add($context, '', ZLIB_FINISH);\nfwrite($outputFile, $compressed);\n\n// Close the file\nfclose($outputFile);\n\n// Verify the file\necho "ZLIB-compressed file created successfully.";\n?>