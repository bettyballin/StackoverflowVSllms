class Tests_User extends PHPUnit\Framework\TestCase\n{\n    protected $entityManager;\n\n    public function setUp(): void\n    {\n        // Bootstrap Doctrine (assuming you have a bootstrap file)\n        require_once 'bootstrap.php';\n        $this->entityManager = getEntityManager();\n\n        // Start a transaction\n        $this->entityManager->beginTransaction();\n    }\n\n    public function testSavingWorks(): void\n    {\n        $user = new User();\n        $this->entityManager->persist($user);\n        $this->entityManager->flush();\n\n        $this->assertNotNull($user->getId());\n    }\n\n    public function testSavingWorksAgain(): void\n    {\n        $user = new User();\n        $this->entityManager->persist($user);\n        $this->entityManager->flush();\n\n        $this->assertNotNull($user->getId());\n    }\n\n    public function tearDown(): void\n    {\n        // Rollback the transaction to reset the database state\n        $this->entityManager->rollback();\n        $this->entityManager->close();\n    }\n}