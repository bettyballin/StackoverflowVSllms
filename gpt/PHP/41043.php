<?php\nfunction rateLimit($userId, $maxRequests, $timeWindow) {\n    $redis = new Redis();\n    $redis->connect('127.0.0.1', 6379);\n\n    $key = "rate_limit:" . $userId;\n    $currentRequests = $redis->get($key);\n\n    if ($currentRequests === false) {\n        $redis->set($key, 1, $timeWindow);\n        return true;\n    } else if ($currentRequests < $maxRequests) {\n        $redis->incr($key);\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction login($userId) {\n    if (rateLimit($userId, 5, 60)) {\n        // enter login code here\n        echo "Login successful";\n    } else {\n        echo "Too many requests. Please try again later.";\n    }\n}\n\nfunction logout($userId) {\n    if (rateLimit($userId, 5, 60)) {\n        // enter logout code here\n        echo "Logout successful";\n    } else {\n        echo "Too many requests. Please try again later.";\n    }\n}\n\n// Example usage\n$userId = 'user123';\nlogin($userId);\nlogout($userId);\n?>