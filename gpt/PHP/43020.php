<?php\n// Define the maximum width and height\ndefine('MAX_WIDTH', 200);\ndefine('MAX_HEIGHT', 200);\n\nfunction resizeAndConvertToPNG($filePath, $outputPath) {\n    // Get image info\n    list($width, $height, $type) = getimagesize($filePath);\n\n    // Calculate the scaling factor\n    $scale = min(MAX_WIDTH / $width, MAX_HEIGHT / $height);\n\n    // Calculate the new width and height\n    $newWidth = ceil($scale * $width);\n    $newHeight = ceil($scale * $height);\n\n    // Create a new true color image\n    $newImage = imagecreatetruecolor($newWidth, $newHeight);\n\n    // Load the image based on its type\n    switch ($type) {\n        case IMAGETYPE_GIF:\n            $source = imagecreatefromgif($filePath);\n            break;\n        case IMAGETYPE_JPEG:\n            $source = imagecreatefromjpeg($filePath);\n            break;\n        case IMAGETYPE_PNG:\n            $source = imagecreatefrompng($filePath);\n            break;\n        default:\n            throw new Exception('Unsupported image type');\n    }\n\n    // Resize the image\n    imagecopyresampled($newImage, $source, 0, 0, 0, 0, $newWidth, $newHeight, $width, $height);\n\n    // Save the resized image as PNG\n    imagepng($newImage, $outputPath);\n\n    // Free up memory\n    imagedestroy($newImage);\n    imagedestroy($source);\n}\n\n// Example usage\ntry {\n    $uploadedFilePath = 'path/to/uploaded/image.jpg'; // Replace with actual uploaded file path\n    $outputFilePath = 'path/to/output/image.png';     // Replace with desired output file path\n\n    resizeAndConvertToPNG($uploadedFilePath, $outputFilePath);\n    echo "Image resized and converted to PNG successfully.";\n} catch (Exception $e) {\n    echo "Error: " . $e->getMessage();\n}\n?>