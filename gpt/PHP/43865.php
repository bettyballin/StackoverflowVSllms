<?php\n/**\n * FlvThumbnail\n *\n * @author Richard Knop\n */\nclass My_Controller_Action_Helper_FlvThumbnail extends Zend_Controller_Action_Helper_Abstract\n{\n    public function direct($flv, $thumbnail) {\n        // Sanitize input paths\n        $flv = escapeshellarg($flv);\n        $thumbnail = escapeshellarg($thumbnail);\n\n        // Construct the ffmpeg command\n        $command = "ffmpeg -v 0 -y -i $flv -vframes 1 -ss 10 -vcodec mjpeg -f rawvideo -s 210x140 -aspect 16:9 $thumbnail";\n\n        // Execute the command and capture output\n        $output = shell_exec($command);\n\n        // Check if the thumbnail was created successfully\n        if (file_exists($thumbnail)) {\n            return true;\n        } else {\n            // Log the error or handle it accordingly\n            error_log("FFmpeg command failed: $command. Output: $output");\n            return false;\n        }\n    }\n}