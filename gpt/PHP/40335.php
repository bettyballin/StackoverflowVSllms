$config = array('ssl' => 'tls', 'port' => 587, 'auth' => 'login', 'username' => 'username', 'password' => 'password');\n$smtpConnection = new Zend_Mail_Transport_Smtp('smtp.gmail.com', $config);\n\n// Load attachment content once\n$attachmentContent = file_get_contents($filepath);\n$attachmentType = 'application/pdf';\n$attachmentFilename = $filename;\n\nforeach ($subscribers as $subscriber) {\n    $message = new Zend_Mail('utf-8');\n    $message->setFrom('my@mailinglist.com', 'Mailing List')\n            ->addTo($subscriber->email)\n            ->setSubject($subject)\n            ->setBodyText($body);\n\n    // Create attachment for each email\n    $attachment = $message->createAttachment($attachmentContent);\n    $attachment->type = $attachmentType;\n    $attachment->filename = $attachmentFilename;\n\n    $message->send($smtpConnection);\n}