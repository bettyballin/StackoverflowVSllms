<?php\nfunction checkEmail($email) {\n    // Extract the domain from the email\n    list($user, $domain) = explode('@', $email);\n    \n    // Get MX records for the domain\n    if (getmxrr($domain, $mxhosts, $mxweight)) {\n        $mxhost = $mxhosts[array_search(min($mxweight), $mxweight)];\n    } else {\n        $mxhost = $domain;\n    }\n    \n    // Open an SMTP connection\n    $connect = fsockopen($mxhost, 25);\n    if ($connect) {\n        // Initiate the conversation\n        fwrite($connect, "HELO example.com\r\n");\n        $response = fgets($connect);\n        \n        // Introduce the sender\n        fwrite($connect, "MAIL FROM: <info@example.com>\r\n");\n        $response = fgets($connect);\n        \n        // Verify the recipient\n        fwrite($connect, "RCPT TO: <$email>\r\n");\n        $response = fgets($connect);\n        \n        // Close the connection\n        fwrite($connect, "QUIT\r\n");\n        fclose($connect);\n        \n        // Check the response code\n        if (strpos($response, '250') === 0) {\n            return true;\n        }\n    }\n    \n    return false;\n}\n\n// Usage\n$email = "test@example.com";\nif (checkEmail($email)) {\n    echo "Email address exists.";\n} else {\n    echo "Email address does not exist.";\n}\n?>