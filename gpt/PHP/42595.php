function do_http_request($url, $data, $method = 'POST', $optional_headers = null) {\n    $params = array(\n        'http' => array(\n            'method' => $method,\n            'content' => $data,\n            'header' => 'Content-Type: application/xml' // Adjust header according to API requirements\n        )\n    );\n\n    if ($optional_headers !== null) {\n        $params['http']['header'] .= "\r\n" . $optional_headers;\n    }\n\n    $ctx = stream_context_create($params);\n    $fp = @fopen($url, 'rb', false, $ctx);\n    if (!$fp) {\n        $error = error_get_last();\n        throw new Exception("Problem with $url: " . $error['message']);\n    }\n\n    $response = @stream_get_contents($fp);\n    if ($response === false) {\n        $error = error_get_last();\n        throw new Exception("Problem reading data from $url: " . $error['message']);\n    }\n\n    $metaData = stream_get_meta_data($fp);\n    fclose($fp);\n\n    if (!preg_match('~^HTTP.*([0-9]{3})~', $metaData['wrapper_data'][0], $matches)) {\n        throw new Exception('Malformed response - could not understand HTTP code');\n    }\n    if (substr($matches[1], 0, 1) != '2') {\n        throw new Exception('Server reported HTTP error ' . $matches[1]);\n    }\n    return $response;\n}\n\n$data = '<your_xml_data_here>'; // Replace with the actual XML data\ntry {\n    $response = do_http_request('http://apitestserver.co.uk:9000/Service.svc/Items', $data);\n    echo $response;\n} catch (Exception $e) {\n    echo 'Error: ',  $e->getMessage(), "\n";\n}