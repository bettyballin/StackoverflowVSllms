<?php\n$uploadDir = '/path/to/secure/uploads/';\n$allowedTypes = ['image/jpeg', 'image/png', 'application/pdf', 'text/plain'];\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    if (isset($_FILES['file']) && $_FILES['file']['error'] === UPLOAD_ERR_OK) {\n        $fileTmpPath = $_FILES['file']['tmp_name'];\n        $fileType = mime_content_type($fileTmpPath);\n        $fileSize = $_FILES['file']['size'];\n\n        if (in_array($fileType, $allowedTypes)) {\n            $newFileName = uniqid() . '-' . basename($_FILES['file']['name']);\n            $destination = $uploadDir . $newFileName;\n\n            if (move_uploaded_file($fileTmpPath, $destination)) {\n                echo "File uploaded successfully.";\n            } else {\n                echo "There was an error moving the uploaded file.";\n            }\n        } else {\n            echo "Invalid file type.";\n        }\n    } else {\n        echo "No file uploaded or there was an error during upload.";\n    }\n} else {\n    echo "Invalid request method.";\n}\n?>