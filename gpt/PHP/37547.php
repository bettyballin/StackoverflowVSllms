<?php\n\ninclude '../connection.php';\n\n$ID = intval($_GET['id']); // Securely cast the ID to an integer\n\n$query = "SELECT * FROM `images` WHERE `image_id` = ?";\n$stmt = $conn->prepare($query);\n$stmt->bind_param('i', $ID);\n$stmt->execute();\n$result = $stmt->get_result();\n\nif ($result->num_rows === 1) {\n    $row = $result->fetch_assoc();\n\n    $image = $row['image'];\n    $image_type = $row['image_type'];\n\n    header("Content-Type: $image_type");\n    echo $image;\n} else {\n    // Handle case when the image is not found\n    header("HTTP/1.0 404 Not Found");\n    echo "Image not found";\n}\n\n$stmt->close();\n$conn->close();\n\nexit;\n\n?>