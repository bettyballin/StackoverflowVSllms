<?php\n$batchSize = 10000; // Number of rows to insert per batch\n$sourceTable = 'source_table';\n$destinationTable = 'destination_table';\n\n$conn = new mysqli('localhost', 'username', 'password', 'database');\n\n// Check connection\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Get the total number of rows in the source table\n$result = $conn->query("SELECT COUNT(*) as total FROM $sourceTable");\n$row = $result->fetch_assoc();\n$totalRows = $row['total'];\n\nfor ($offset = 0; $offset < $totalRows; $offset += $batchSize) {\n    $sql = "INSERT INTO $destinationTable (columns) SELECT columns FROM $sourceTable LIMIT $offset, $batchSize";\n    if ($conn->query($sql) !== TRUE) {\n        echo "Error: " . $sql . "<br>" . $conn->error;\n        break;\n    }\n    \n    // Sleep for a short time to simulate processing and allow AJAX to fetch count\n    sleep(1);\n}\n\n$conn->close();\n?>