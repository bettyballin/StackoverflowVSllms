function insert_interests($uid, $interests) {\n    // First, we'll delete any entries this user already has in the table\n    purge_lookup("jss_users_interests_table", $uid);\n    // Now create the SQL insert query for jss_users_interests_table\n    global $db;\n    $db->query(create_checkbox_query($interests, "jss_users_interests_table", $uid));\n    \n    // Insert data into jss_info_requests_table\n    foreach ($interests as $subcategories_id) {\n        $provider_id = get_provider_id($subcategories_id);\n        if ($provider_id !== null) {\n            $db->query(create_info_request_query($uid, $provider_id, $subcategories_id));\n        }\n    }\n}\n\n// Helper function for insert_interests(). Removes all rows in $table with $uid\nfunction purge_lookup($table, $uid) {\n    global $db;\n    $db->query("DELETE FROM $table WHERE users_id = '".$db->escape($uid)."'");\n}\n\n// Helper function to generate the actual SQL query for jss_users_interests_table\nfunction create_checkbox_query($arr, $table, $uid) {\n    $q = "INSERT INTO $table (users_id, subcategories_id) VALUES";\n    foreach ($arr as $check) {\n        $q .= " ('$uid', $check),";\n    }\n    // Remove the last comma and return\n    return substr($q, 0, -1);\n}\n\n// Helper function to get provider_id based on subcategories_id\nfunction get_provider_id($subcategories_id) {\n    global $db;\n    $result = $db->query("SELECT provider_id FROM jss_providers_assignments_table WHERE subcategories_id = '".$db->escape($subcategories_id)."'");\n    if ($result && $result->num_rows > 0) {\n        $row = $result->fetch_assoc();\n        return $row['provider_id'];\n    }\n    return null;\n}\n\n// Helper function to generate the actual SQL query for jss_info_requests_table\nfunction create_info_request_query($uid, $provider_id, $subcategories_id) {\n    return "INSERT INTO jss_info_requests_table (users_id, provider_id, subcategories_id) VALUES ('$uid', '$provider_id', '$subcategories_id')";\n}