class Model {\n\n    private $created;\n    private $modified;\n\n    static function getConnection() {\n        $db = new mysqli (DB_HOST, DB_USER, DB_PASS, DB_NAME);\n        if(!$db) {\n            echo mysql_error();\n            throw new Exception('Could not connect to database', EX_NO_DATABASE_CONNECTION);\n        }\n        return $db;\n    }\n\n    static function execSQL($query) {\n        $db = null;\n        $results = null;\n\n        try {\n            $db = Model::getConnection();\n            $results = $db->query($query);\n            if(!$results) {\n                throw new Exception('Query failed', EX_QUERY_FAILED);\n            }\n        } catch(Exception $e) {\n            throw $e;\n        } finally {\n            if ($db !== null) {\n                Model::closeConnection($db);\n            }\n        }\n\n        return $results;\n    }\n\n    static function execSQL2($query) {\n        $db = null;\n        $lastid = null;\n\n        try {\n            $db = Model::getConnection();\n            $results = $db->query($query);\n            if(!$results) {\n                throw new Exception('Query failed', EX_QUERY_FAILED);\n            }\n            $lastid = $db->insert_id;\n        } catch(Exception $e) {\n            throw $e;\n        } finally {\n            if ($db !== null) {\n                Model::closeConnection($db);\n            }\n        }\n\n        return $lastid;\n    }\n\n    function delete($table, $id, $conditions = '') {\n        $query = "delete from $table where id = $id";\n        try {\n            $db = Model::getConnection();\n            $results = Model::execSQL($query);\n            if(!$results){\n                throw new Exception('Could not delete this object', EX_DELETE_ERROR);\n            }\n            return $results->num_rows;\n        } catch(Exception $e) {\n            throw $e;\n        }\n    }\n\n    static function closeConnection($db) {\n        $db->close();\n    }\n\n    function getCreated() {\n        return $this->created;\n    }\n\n    function setCreated($value) {\n        $this->created = $value;\n    }\n\n    function getModified() {\n        return $this->modified;\n    }\n\n    function setModified($value) {\n        $this->modified = $value;\n    }\n}