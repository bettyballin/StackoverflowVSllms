<?php\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n    // Directory where files will be uploaded\n    $targetDir = "uploads/";\n    $targetFile = $targetDir . basename($_FILES["file"]["name"]);\n    $uploadOk = 1;\n    $fileType = strtolower(pathinfo($targetFile, PATHINFO_EXTENSION));\n\n    // Check if file is a real file\n    if(isset($_POST["submit"])) {\n        $check = getimagesize($_FILES["file"]["tmp_name"]);\n        if($check !== false) {\n            echo "File is an image - " . $check["mime"] . ".";\n            $uploadOk = 1;\n        } else {\n            echo "File is not an image.";\n            $uploadOk = 0;\n        }\n    }\n\n    // Check file size (limit to 100MB)\n    if ($_FILES["file"]["size"] > 100 * 1024 * 1024) {\n        echo "Sorry, your file is too large.";\n        $uploadOk = 0;\n    }\n\n    // Allow certain file formats\n    $allowedExtensions = array("jpg", "jpeg", "png", "pdf");\n    if (!in_array($fileType, $allowedExtensions)) {\n        echo "Sorry, only JPG, JPEG, PNG & PDF files are allowed.";\n        $uploadOk = 0;\n    }\n\n    // Check if $uploadOk is set to 0 by an error\n    if ($uploadOk == 0) {\n        echo "Sorry, your file was not uploaded.";\n    // If everything is ok, try to upload file\n    } else {\n        if (move_uploaded_file($_FILES["file"]["tmp_name"], $targetFile)) {\n            echo "The file ". basename( $_FILES["file"]["name"]). " has been uploaded.";\n        } else {\n            echo "Sorry, there was an error uploading your file.";\n        }\n    }\n}\n?>