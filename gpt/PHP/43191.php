// Validate email address\nif (!filter_var($_POST['email'], FILTER_VALIDATE_EMAIL)) {\n    header("Location: index.php");\n    die("Wrong email address");\n}\n\n// Prepare and execute the query\n$result = pg_prepare($dbconn, "query2", 'SELECT email, passhash_md5 FROM users WHERE email = $1 AND passhash_md5 = $2;');\n$result = pg_execute($dbconn, "query2", array($_POST['email'], $_POST['password']));\n\nif (!$result) {\n    echo "An error occurred";\n    exit;\n}