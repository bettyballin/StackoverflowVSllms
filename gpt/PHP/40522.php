<?php\nfunction getUniqueFilename($targetDir, $filename) {\n    // Extract the file's extension\n    $fileInfo = pathinfo($filename);\n    $basename = $fileInfo['filename']; // Filename without extension\n    $extension = isset($fileInfo['extension']) ? '.' . $fileInfo['extension'] : '';\n\n    // Initialize a counter to append to the filename\n    $counter = 1;\n    $newFilename = $filename;\n\n    // Check if file exists and modify the filename until it is unique\n    while (file_exists($targetDir . '/' . $newFilename)) {\n        $newFilename = $basename . '-' . $counter . $extension;\n        $counter++;\n    }\n\n    return $newFilename;\n}\n\n// Example of handling file upload\nif ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_FILES['uploaded_file'])) {\n    $targetDir = 'uploads';\n    $originalFilename = basename($_FILES['uploaded_file']['name']);\n    $uniqueFilename = getUniqueFilename($targetDir, $originalFilename);\n    $targetFilePath = $targetDir . '/' . $uniqueFilename;\n\n    if (move_uploaded_file($_FILES['uploaded_file']['tmp_name'], $targetFilePath)) {\n        echo "The file has been uploaded successfully as " . $uniqueFilename;\n    } else {\n        echo "Sorry, there was an error uploading your file.";\n    }\n}\n?>