require_once 'vendor/autoload.php';\n\nsession_start();\n\n$client = new Google_Client();\n$client->setAuthConfig('path/to/client_credentials.json');\n$client->setRedirectUri('http://your-site.com/redirect-path');\n$client->addScope(Google_Service_Oauth2::USERINFO_EMAIL);\n\nif (!isset($_GET['code'])) {\n    $auth_url = $client->createAuthUrl();\n    header('Location: ' . filter_var($auth_url, FILTER_SANITIZE_URL));\n} else {\n    $client->authenticate($_GET['code']);\n    $_SESSION['access_token'] = $client->getAccessToken();\n    $redirect_uri = 'http://your-site.com/';\n    header('Location: ' . filter_var($redirect_uri, FILTER_SANITIZE_URL));\n}