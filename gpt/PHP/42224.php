$mysqli = new mysqli("host", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n$awards_sql_1 = $mysqli->query('SELECT * FROM categories WHERE section_id = 1');\n$awards_sql_2 = $mysqli->query('SELECT * FROM categories WHERE section_id = 2');\n$awards_sql_3 = $mysqli->query('SELECT * FROM categories WHERE section_id = 3');\n$awards_sql_4 = $mysqli->query('SELECT * FROM categories WHERE section_id = 4');\n\n$sections_query = $mysqli->query('SELECT * FROM sections'); // Assuming you have a sections table\n$loop = 1;\n\nwhile ($row_sections = $sections_query->fetch_assoc()) {\n    $category = 1;\n    echo "<h3>" . $row_sections['section_name'] . " (Loop# $loop)</h3>";\n\n    $categories_result = ${"awards_sql_{$loop}"};\n    while ($categories = $categories_result->fetch_assoc()) {\n        $winners_sql = $mysqli->query("SELECT * FROM 2009_RKR_bestof WHERE section = $loop AND category = $category ORDER BY result_level ASC");\n        echo "<h4><strong>{$categories['category_name']}</strong></h4>";\n        echo "<ul class=\"winners\">";\n        while ($winners = $winners_sql->fetch_assoc()) {\n            switch ($winners['result_level']) {\n                case 1: $result_level = "Platinum"; break;\n                case 2: $result_level = "Gold"; break;\n                case 3: $result_level = "Silver"; break;\n            }\n            if (isset($winners['url'])) {\n                $anchor = "<a href=\"http://{$winners['url']}\" target=\"_blank\">";\n                $close = "</a>";\n            } else {\n                $anchor = '';\n                $close = '';\n            }\n            echo "<li>$anchor{$winners['winner']}$close ($result_level)</li>";\n        }\n        echo "</ul>";\n        $category++;\n    }\n    $loop++;\n}\n\n$mysqli->close();