<?php\nrequire_once "../../includes/constants.php";\n\ntry {\n    $dbh = new PDO('mysql:host=' . DB_SERVER . ';dbname=' . DB_NAME, DB_USER, DB_PASSWORD);\n    $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    $action = $_POST['action'] ?? null;\n    $name = $_POST['name'] ?? null;\n    $id = $_POST['id'] ?? null;\n\n    if ($action == "new" && $name) {\n        $stmt = $dbh->prepare("INSERT INTO place (name) VALUES (:name)");\n        $stmt->bindParam(':name', $name);\n        $stmt->execute();\n    } elseif ($action == "edit" && $name && $id) {\n        $stmt = $dbh->prepare("UPDATE place SET name = :name WHERE id = :id");\n        $stmt->bindParam(':name', $name);\n        $stmt->bindParam(':id', $id);\n        $stmt->execute();\n    } elseif ($action == "delete" && $id) {\n        $stmt = $dbh->prepare("DELETE FROM place WHERE id = :id");\n        $stmt->bindParam(':id', $id);\n        $stmt->execute();\n    }\n\n    $result = $dbh->query("SELECT * FROM place");\n    echo '<table>';\n    while ($row = $result->fetch(PDO::FETCH_ASSOC)) {\n        echo '<tr>';\n        echo '<td class="place_name">' . htmlspecialchars($row["name"]) . '</td>';\n        echo '<td class="inputfield_td" style="display:none;"><input type="text" value="' . htmlspecialchars($row["name"]) . '"></td>';\n        echo '<td class="id_td" style="display:none;" id="' . intval($row["id"]) . '"></td>';\n        echo '<td><button class="edit">edit</button></td>';\n        echo '<td><button class="cancel" style="display:none;">cancel</button></td>';\n        echo '<td><button class="save" style="display:none;">SAVE</button></td>';\n        echo '<td><button class="delete">delete</button></td>';\n        echo '</tr>';\n    }\n    echo '<tr><td><input type="text"></td><td><button class="new">New</button></td></tr>';\n    echo '</table>';\n} catch (PDOException $e) {\n    echo 'Connection failed: ' . $e->getMessage();\n}\n?>