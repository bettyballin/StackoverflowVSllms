<?php\nfunction whoisQuery($domain) {\n    $whoisServers = [\n        ".com" => "whois.verisign-grs.com",\n        ".net" => "whois.verisign-grs.com",\n        ".org" => "whois.pir.org",\n        ".info" => "whois.afilias.net",\n        ".biz" => "whois.neulevel.biz",\n        // Add more TLDs and their respective WHOIS servers here\n    ];\n\n    $domainParts = explode('.', $domain);\n    $tld = '.' . end($domainParts);\n\n    if (!isset($whoisServers[$tld])) {\n        return "Error: No WHOIS server found for TLD " . $tld;\n    }\n\n    $whoisServer = $whoisServers[$tld];\n    $port = 43;\n    $timeout = 10; // Timeout for the connection in seconds\n\n    $socket = fsockopen($whoisServer, $port, $errno, $errstr, $timeout);\n    if (!$socket) {\n        return "Error: $errstr ($errno)";\n    }\n\n    fputs($socket, $domain . "\r\n");\n\n    $response = '';\n    while (!feof($socket)) {\n        $response .= fgets($socket, 128);\n    }\n\n    fclose($socket);\n\n    return $response;\n}\n\n// Example usage\n$domain = "example.com";\necho whoisQuery($domain);\n?>