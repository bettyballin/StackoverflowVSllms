// Instantiate the DBSession without LogManager first\n$dbStub = new class implements DBInterface {\n    public function query($sql) {\n        // Stub implementation\n    }\n};\n\n// Create the LogManager with the DBSession stub\n$logManager = new LogManager($dbStub);\n\n// Now create the actual DBSession with the LogManager\n$dbSession = new DBSession($logManager);\n\n// Replace the stub in LogManager with the real DBSession\n$reflection = new ReflectionClass($logManager);\n$property = $reflection->getProperty('db');\n$property->setAccessible(true);\n$property->setValue($logManager, $dbSession);\n$property->setAccessible(false);