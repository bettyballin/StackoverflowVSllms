$json = '{\n    "row": [\n        {\n            "sort": 3,\n            "type": "fat",\n            "widgets": [\n                {"values": [3,9]},\n                {"values": [8,4]}\n            ]\n        },\n        {\n            "sort": 2,\n            "type": "three",\n            "widgets": [\n                {"values": [3,4]},\n                {"values": [12,7]},\n                {"values": [12,7]}\n            ]\n        }\n    ]\n}';\n\n// Decode the JSON into a PHP array\n$data = json_decode($json, true);\n\n// Sort the array based on the 'sort' value\nusort($data['row'], function($a, $b) {\n    return $a['sort'] <=> $b['sort'];\n});\n\n// Iterate through the sorted array and output the HTML\nforeach ($data['row'] as $therow) {\n    echo "<div class='row ".$therow['type']."'>";\n    foreach ($therow['widgets'] as $thewidgets) {\n        echo "<div class='widget'>";\n        echo $thewidgets['values'][0];\n        echo "</div>";\n    }\n    echo "</div>";\n}