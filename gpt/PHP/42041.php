<?php\n$xmlString = '<?xml version="1.0" encoding="utf-8"?>\n<messages>\n    <message time="1248083538">\n        <name>Ben</name>\n        <email>Ben\'s Email</email>\n        <msg>Bens message</msg>\n    </message>\n    <message time="1248083838">\n        <name>John Smith</name>\n        <email>john@smith.com</email>\n        <msg>Can you do this for me?</msg>\n    </message>\n</messages>';\n\n// Load the XML string into a DOMDocument\n$dom = new DOMDocument();\n$dom->loadXML($xmlString);\n\n// Get the root element\n$root = $dom->documentElement;\n\n// Find the message element with the specified time attribute\n$xpath = new DOMXPath($dom);\n$timeToDelete = '1248083838';\n$query = "//message[@time='$timeToDelete']";\n$nodes = $xpath->query($query);\n\nforeach ($nodes as $node) {\n    $root->removeChild($node);\n}\n\n// Save the updated XML\n$newXmlString = $dom->saveXML();\necho $newXmlString;\n?>