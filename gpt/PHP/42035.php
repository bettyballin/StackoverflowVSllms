<?php\nfunction deleteMatchingDirectories($ftp_conn, $directory, $targetDirName) {\n    $file_list = ftp_nlist($ftp_conn, $directory);\n\n    foreach ($file_list as $file) {\n        // Skip if the item is '.' or '..'\n        if ($file == '.' || $file == '..') {\n            continue;\n        }\n\n        // Get the full path of the file\n        $full_path = $directory . '/' . $file;\n\n        // Check if the item is a directory\n        if (@ftp_chdir($ftp_conn, $full_path)) {\n            // If directory name matches the target, delete it\n            if (basename($full_path) === $targetDirName) {\n                ftp_chdir($ftp_conn, '..'); // Move up to parent directory\n                deleteDirectory($ftp_conn, $full_path); // Delete the directory\n            } else {\n                // Recursively search this directory\n                deleteMatchingDirectories($ftp_conn, $full_path, $targetDirName);\n                // Move back to the original directory\n                ftp_chdir($ftp_conn, $directory);\n            }\n        }\n    }\n}\n\nfunction deleteDirectory($ftp_conn, $directory) {\n    // Get the file list for the directory\n    $file_list = ftp_nlist($ftp_conn, $directory);\n\n    // Iterate over each file and delete it\n    foreach ($file_list as $file) {\n        if ($file == '.' || $file == '..') {\n            continue;\n        }\n\n        $full_path = $directory . '/' . $file;\n\n        // If it's a directory, delete its contents first\n        if (@ftp_chdir($ftp_conn, $full_path)) {\n            deleteDirectory($ftp_conn, $full_path);\n            ftp_chdir($ftp_conn, '..');\n        } else {\n            // It's a file, delete it\n            ftp_delete($ftp_conn, $full_path);\n        }\n    }\n\n    // Finally delete the directory itself\n    ftp_rmdir($ftp_conn, $directory);\n}\n\n// FTP connection details\n$ftp_server = "your_ftp_server";\n$ftp_username = "your_username";\n$ftp_userpass = "your_password";\n\n// Establish connection\n$ftp_conn = ftp_connect($ftp_server) or die("Could not connect to $ftp_server");\nftp_login($ftp_conn, $ftp_username, $ftp_userpass);\n\n// Set the initial directory and target directory name\n$start_directory = "/path/to/start/directory";\n$target_directory_name = "target_directory_name";\n\n// Start deleting matching directories\ndeleteMatchingDirectories($ftp_conn, $start_directory, $target_directory_name);\n\n// Close the FTP connection\nftp_close($ftp_conn);\n?>