<?php\nfunction heapSort($a, $count){\n    $a = heapify($a, $count);\n\n    $end = $count - 1;\n    while ($end > 0){\n        $temp = $a[$end];\n        $a[$end] = $a[0];\n        $a[0]= $temp;\n        $end = $end - 1;\n        $a = siftDown($a, 0, $end);\n    }\n    return $a;\n}\n\nfunction heapify($a, $count){\n    $start = intval(($count - 2) / 2);\n\n    while ($start >= 0){\n        $a = siftDown($a, $start, $count - 1);\n        $start = $start - 1;\n    }\n    return $a;\n}\n\nfunction siftDown($a, $start, $end){\n    $root = $start;\n\n    while ($root * 2 + 1 <= $end){\n        $child = $root * 2 + 1;\n        if ($child + 1 <= $end && $a[$child] < $a[$child + 1]){\n            $child = $child + 1;\n        }\n        if ($a[$root] < $a[$child]){\n            list($a[$child], $a[$root]) = array($a[$root], $a[$child]);\n            $root = $child;\n        } else {\n            return $a;\n        }\n    }\n    return $a;\n}\n\n$a = array(3, 1, 5, 2);\n$b = heapSort($a, count($a));\nprint_r($b);\n?>