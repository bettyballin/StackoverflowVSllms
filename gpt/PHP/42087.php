function foldersize($path) {\n    $total_size = 0;\n\n    $iterator = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path, FilesystemIterator::SKIP_DOTS));\n\n    foreach ($iterator as $file) {\n        $total_size += $file->getSize();\n    }\n\n    return $total_size;\n}\n\nfunction format_size($size) {\n    $mod = 1024;\n    $units = explode(' ', 'B KB MB GB TB PB');\n    for ($i = 0; $size > $mod; $i++) {\n        $size /= $mod;\n    }\n\n    return round($size, 2) . ' ' . $units[$i];\n}\n\n$SIZE_LIMIT = 5368709120; // 5 GB\n\n// Use mysqli or PDO instead of the deprecated mysql functions\n$mysqli = new mysqli("localhost", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n$sql = "SELECT * FROM users ORDER BY id";\n$result = $mysqli->query($sql);\n\nwhile ($row = $result->fetch_assoc()) {\n    $disk_used = foldersize("C:/xampp/htdocs/freehosting/" . $row['name']);\n    $disk_remaining = $SIZE_LIMIT - $disk_used;\n\n    echo 'Name: ' . $row['name'] . '<br>';\n    echo 'Disk space used: ' . format_size($disk_used) . '<br>';\n    echo 'Disk space left: ' . format_size($disk_remaining) . '<br><hr>';\n}\n\n$mysqli->close();