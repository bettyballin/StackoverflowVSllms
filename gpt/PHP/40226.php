class NoticeToException extends \Exception {}\n\nfunction noticeToExceptionErrorHandler($severity, $message, $file, $line) {\n    if (!(error_reporting() & $severity)) {\n        return;\n    }\n    if ($severity === E_NOTICE) {\n        throw new NoticeToException($message, 0, $severity, $file, $line);\n    }\n}\n\nset_error_handler('noticeToExceptionErrorHandler');\n\n// Now, within your PHPUnit tests, any notice will be converted to an exception\nclass MyTest extends PHPUnit\Framework\TestCase\n{\n    public function testSomething()\n    {\n        $this->expectException(NoticeToException::class);\n\n        // Your code that may cause a notice here\n    }\n}