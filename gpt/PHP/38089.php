$source = "Some text with ampersands & Chinese characters 汉字";\n$output = htmlentities($source, ENT_QUOTES, 'UTF-8');