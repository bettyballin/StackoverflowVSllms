$data = 'path/to/xmldoc.xml';\n$xmlDoc = new DOMDocument();\n$xmlDoc->load($data);\n$xmlRoot = $xmlDoc->documentElement;\n\nfunction xml2array($node) {\n    $result = [];\n\n    if ($node->hasAttributes()) {\n        foreach ($node->attributes as $attr) {\n            $result['@attributes'][$attr->nodeName] = $attr->nodeValue;\n        }\n    }\n\n    if ($node->hasChildNodes()) {\n        $children = [];\n        foreach ($node->childNodes as $childNode) {\n            if ($childNode->nodeType == XML_TEXT_NODE) {\n                $text = trim($childNode->nodeValue);\n                if (!empty($text)) {\n                    $result['@value'] = $text;\n                }\n            } else {\n                $children[] = xml2array($childNode);\n            }\n        }\n\n        foreach ($children as $child) {\n            foreach ($child as $tagName => $value) {\n                if (!isset($result[$tagName])) {\n                    $result[$tagName] = $value;\n                } else {\n                    if (is_array($result[$tagName]) && isset($result[$tagName][0])) {\n                        $result[$tagName][] = $value;\n                    } else {\n                        $result[$tagName] = [$result[$tagName], $value];\n                    }\n                }\n            }\n        }\n    }\n\n    return [$node->nodeName => $result];\n}\n\n$xmlarray = xml2array($xmlRoot);\n\n// Print the output for debugging\necho '<pre>';\nprint_r($xmlarray);\necho '</pre>';