function profile($id = null) {\n    if (empty($this->data['Customer'])) {\n        // Fetch customer data if not a POST request\n        $this->Customer->id = $id;\n        $this->data = $this->Customer->read();\n    } else {\n        // Set the Customer ID and save Customer data\n        $this->Customer->id = $this->data['Customer']['id'];\n        $this->Customer->save($this->data['Customer']);\n\n        // Set the Address ID and save Address data\n        if (!empty($this->data['Address']['id'])) {\n            $this->Customer->Address->id = $this->data['Address']['id'];\n        }\n        $this->Customer->Address->save($this->data['Address']);\n    }\n}