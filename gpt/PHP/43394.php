<?php\n\n// Check if the request method is POST\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // This will store the parsed data\n    $parsedData = [];\n\n    // Read the raw POST data\n    $rawData = file_get_contents('php://input');\n\n    // Define the boundary from the content-type header\n    $boundary = substr($_SERVER['CONTENT_TYPE'], strpos($_SERVER['CONTENT_TYPE'], "boundary=") + 9);\n\n    // Split the raw data using the boundary\n    $parts = array_slice(explode("--" . $boundary, $rawData), 1, -1);\n\n    foreach ($parts as $part) {\n        // Separate headers and content\n        list($rawHeaders, $content) = explode("\r\n\r\n", $part, 2);\n\n        // Parse headers\n        $headers = [];\n        foreach (explode("\r\n", $rawHeaders) as $header) {\n            list($headerName, $headerValue) = explode(":", $header, 2);\n            $headers[strtolower(trim($headerName))] = trim($headerValue);\n        }\n\n        // Handle the part based on content type\n        if (isset($headers['content-type'])) {\n            if (strpos($headers['content-type'], 'text/xml') !== false) {\n                // This is the XML content part\n                $parsedData['xml'] = trim($content);\n            } elseif (strpos($headers['content-type'], 'multipart/mixed') !== false) {\n                // This is the multipart/mixed part, handle sub-boundaries\n                $subBoundary = substr($headers['content-type'], strpos($headers['content-type'], "boundary=") + 9);\n                $subParts = array_slice(explode("--" . $subBoundary, $content), 1, -1);\n\n                foreach ($subParts as $subPart) {\n                    list($subRawHeaders, $subContent) = explode("\r\n\r\n", $subPart, 2);\n\n                    // Parse sub-headers\n                    $subHeaders = [];\n                    foreach (explode("\r\n", $subRawHeaders) as $subHeader) {\n                        list($subHeaderName, $subHeaderValue) = explode(":", $subHeader, 2);\n                        $subHeaders[strtolower(trim($subHeaderName))] = trim($subHeaderValue);\n                    }\n\n                    if (isset($subHeaders['content-type']) && strpos($subHeaders['content-type'], 'application/octet-stream') !== false) {\n                        // This is the octet-stream part (binary file content)\n                        $parsedData['files'][] = trim($subContent);\n                    }\n                }\n            }\n        }\n    }\n\n    // Process the parsed data as needed\n    header('Content-Type: application/json');\n    echo json_encode($parsedData);\n} else {\n    echo "Only POST requests are supported.";\n}\n?>