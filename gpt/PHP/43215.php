<?php\n   defined('BASEPATH') OR exit('No direct script access allowed');\n\n   class Profile extends CI_Controller {\n\n       public function __construct() {\n           parent::__construct();\n           // Ensure the user is an admin\n           $this->load->library('auth');\n           $this->auth->check_admin();\n       }\n\n       public function view($username) {\n           // Load the user model\n           $this->load->model('User_model');\n\n           // Fetch user data\n           $data['user'] = $this->User_model->get_user($username);\n\n           // Load the admin profile view\n           $this->load->view('admin/profile_view', $data);\n       }\n\n       public function create() {\n           // Load the form helper\n           $this->load->helper('form');\n\n           // Load the form validation library\n           $this->load->library('form_validation');\n\n           // Set validation rules\n           $this->form_validation->set_rules('username', 'Username', 'required');\n           $this->form_validation->set_rules('password', 'Password', 'required');\n\n           if ($this->form_validation->run() === FALSE) {\n               // Load the create view\n               $this->load->view('admin/profile_create');\n           } else {\n               // Save the new user (implement this in your User_model)\n               $this->load->model('User_model');\n               $this->User_model->create_user();\n\n               // Redirect to admin profile list or some other page\n               redirect('admin/profile/list');\n           }\n       }\n\n       public function edit($username) {\n           // Load the user model\n           $this->load->model('User_model');\n\n           // Fetch user data\n           $data['user'] = $this->User_model->get_user($username);\n\n           // Load the form helper\n           $this->load->helper('form');\n\n           // Load the form validation library\n           $this->load->library('form_validation');\n\n           // Set validation rules\n           $this->form_validation->set_rules('username', 'Username', 'required');\n           $this->form_validation->set_rules('password', 'Password', 'required');\n\n           if ($this->form_validation->run() === FALSE) {\n               // Load the edit view\n               $this->load->view('admin/profile_edit', $data);\n           } else {\n               // Update the user (implement this in your User_model)\n               $this->User_model->update_user($username);\n\n               // Redirect to admin profile list or some other page\n               redirect('admin/profile/list');\n           }\n       }\n   }\n   ?>