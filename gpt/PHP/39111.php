function create_YTD_XML()\n{\n    global $month;\n    global $year;\n\n    $last_year = $year - 1;\n\n    // Get yesterday's date\n    $yesterday = date('Y-m-d', strtotime('-1 day'));\n    $yesterday_year = date('Y', strtotime($yesterday));\n    $yesterday_month = date('m', strtotime($yesterday));\n    $yesterday_day = date('d', strtotime($yesterday));\n\n    if ($year == $yesterday_year && $month == $yesterday_month)\n    {\n        $this_day = $yesterday_day;\n    }\n    else\n    {\n        $this_day = date('t', mktime(0, 0, 0, $month, 1, $year)); // LAST DAY OF MONTH\n    }\n\n    if (is_leap_year($year) && $this_day == 29)\n    {\n        $last_day = 28;\n    }\n    else if (is_leap_year($last_year) && $this_day == 28)\n    {\n        $last_day = 29;\n    }\n    else\n    {\n        $last_day = $this_day;\n    }\n\n    if ($month >= 2)\n    {\n        $this_year_start = $year;\n        $last_year_start = $last_year;\n    }\n    else\n    {\n        $this_year_start = $year - 1;\n        $last_year_start = $last_year - 1;\n    }\n\n    $this_ytd_start = $this_year_start.'-02-01';\n    $last_ytd_start = $last_year_start.'-02-01';\n\n    $this_ytd_end = $year.'-'.str_pad($month, 2, "0", STR_PAD_LEFT).'-'.$this_day;\n    $last_ytd_end = $last_year.'-'.str_pad($month, 2, "0", STR_PAD_LEFT).'-'.$last_day;\n\n    // Return or process the XML data as needed\n}