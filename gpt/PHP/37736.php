// Assuming safe() function sanitizes the function name\n$unsafeFunctionName = $_POST['function_name'];\n$safeFunctionName = safe($unsafeFunctionName);\n\n// Start output buffering\nob_start();\n\n// Call the function\n$returnValue = $safeFunctionName();\n\n// Capture the echoed output\n$echoedOutput = ob_get_clean();\n\n// Determine the final result (either return value or echoed output)\n$resultValue = $returnValue !== null ? $returnValue : $echoedOutput;\n\n// Wrap the result in XML\n$result = "<return_value>" . htmlspecialchars($resultValue, ENT_QUOTES, 'UTF-8') . "</return_value>";\n\n// Output the result\necho $result;