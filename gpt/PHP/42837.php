<?php\n// Database connection (using PDO for security)\n$dsn = 'mysql:host=your_host;dbname=your_db';\n$username = 'your_username';\n$password = 'your_password';\n$options = [\n    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n];\n\ntry {\n    $pdo = new PDO($dsn, $username, $password, $options);\n} catch (PDOException $e) {\n    die('Connection failed: ' . $e->getMessage());\n}\n\n// Function to send confirmation email\nfunction sendConfirmationEmail($email, $token) {\n    $subject = "Confirm your petition signature";\n    $message = "Please click the link below to confirm your signature:\n";\n    $message .= "https://yourdomain.com/confirm.php?email=" . urlencode($email) . "&token=" . urlencode($token);\n    $headers = "From: no-reply@yourdomain.com";\n\n    mail($email, $subject, $message, $headers);\n}\n\n// Handling form submission\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $name = htmlspecialchars($_POST['name']);\n    $email = htmlspecialchars($_POST['email']);\n    $token = bin2hex(random_bytes(16));\n\n    // Save to database with pending status\n    $stmt = $pdo->prepare("INSERT INTO petition_signatures (name, email, token, status) VALUES (?, ?, ?, 'pending')");\n    $stmt->execute([$name, $email, $token]);\n\n    // Send confirmation email\n    sendConfirmationEmail($email, $token);\n\n    echo "Please check your email to confirm your signature.";\n}\n?>