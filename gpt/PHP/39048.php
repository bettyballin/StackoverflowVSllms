<?php\n\nfunction httpsPost($Url, $xml_data, $headers)\n{\n   // Initialisation\n   $ch = curl_init();\n   // Set parameters\n   curl_setopt($ch, CURLOPT_FORBID_REUSE, 1); \n   curl_setopt($ch, CURLOPT_FRESH_CONNECT, 1);\n   curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n   curl_setopt($ch, CURLOPT_URL, $Url);\n   // Return a variable instead of posting it directly\n   curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n   curl_setopt($ch, CURLOPT_USERPWD, "username:password");\n\n   // Activate the POST method\n   curl_setopt($ch, CURLOPT_POST, 1);\n   // Request\n   curl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\n   curl_setopt($ch, CURLOPT_TIMEOUT, 999);\n\n   curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\n   curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\n\n   // Execute the connection\n   $result = curl_exec($ch);\n   // Close it\n   curl_close($ch);\n   return $result;\n}\n\n$request_file = "./post_this.xml"; \n$fh = fopen($request_file, 'r'); \n$xml_data = fread($fh, filesize($request_file));\n\nfclose($fh);    \n\n$url = 'http://www.xhaus.com/headers';\n\n$headers = array();\n$headers[] = "Expect:";\n$headers[] = "Accept: text/xml";\n\n// Encode headers with "X-" prefix to avoid conversion\n$headers[] = "X-BATCH_TYPE: XML_SINGLE"; \n$headers[] = "X-BATCH_COUNT: 1";\n$headers[] = "X-VENDOR_ID: 54367";\n\n$Response = httpsPost($url, $xml_data, $headers);\n\necho $Response;\n\n?>