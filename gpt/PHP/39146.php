class ExampleClass {\n    private $properties = [];\n\n    public function __get($name) {\n        return isset($this->properties[$name]) ? $this->properties[$name] : null;\n    }\n\n    public function __set($name, $value) {\n        $this->properties[$name] = $value;\n    }\n}\n\nfunction magic($obj, $property, $value = null) {\n    if ($value !== null) {\n        $obj->$property = $value;\n    }\n    return $obj->$property;\n}\n\n$obj = new ExampleClass();\nmagic($obj, 'Name', 'something');\n$get = magic($obj, 'Name');\n\necho $get; // Output: something