<?php\n$db_connect = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\nif ($db_connect->connect_error) {\n    die("Connection failed: " . $db_connect->connect_error);\n}\n\n$query = "SET @N=-1; SELECT `id`, (@N:=@N+1) AS `mycount` FROM `mydb`;";\nif ($db_connect->multi_query($query)) {\n    // Skip the first result set\n    $db_connect->next_result();\n    \n    // Get the second result set\n    if ($result = $db_connect->store_result()) {\n        while ($row = $result->fetch_assoc()) {\n            echo $row['id'] . " " . $row['mycount'] . "<br />";\n        }\n        $result->free();\n    }\n} else {\n    echo "Error: " . $db_connect->error;\n}\n\n$db_connect->close();\n?>