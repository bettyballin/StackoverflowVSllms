function convertLinksAndEmails($text) {\n    // Convert URLs with http/https\n    $text = preg_replace(\n        '/\b(http:\/\/|https:\/\/)?([a-z0-9\-]+\.[a-z]{2,})(\/[^\s]*)?\b/i',\n        '<a href="http://$2$3">$0</a>',\n        $text\n    );\n\n    // Convert www URLs without http/https\n    $text = preg_replace(\n        '/\b(www\.[a-z0-9\-]+\.[a-z]{2,})(\/[^\s]*)?\b/i',\n        '<a href="http://$1$2">$0</a>',\n        $text\n    );\n\n    // Convert email addresses\n    $text = preg_replace(\n        '/\b([a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,})\b/i',\n        '<a href="mailto:$1">$0</a>',\n        $text\n    );\n\n    return $text;\n}\n\n// Example usage\n$input = "Check out http://www.cnn.com, cnn.com, www.cnn.com, or contact abc@def.com.";\n$output = convertLinksAndEmails($input);\necho $output;