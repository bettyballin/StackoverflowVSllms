<?php\n// Database connection\n$mysqli = new mysqli("host", "username", "password", "database");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// SQL query\n$sql = "SELECT DATE(order_placed_date) as order_date, \n               COUNT(order_id) as order_count, \n               SUM(order_total) AS order_total \n        FROM orders \n        WHERE MONTH(order_placed_date) = MONTH(CURRENT_DATE) \n        AND YEAR(order_placed_date) = YEAR(CURRENT_DATE) \n        GROUP BY DATE(order_placed_date)";\n\n$result = $mysqli->query($sql);\n\n// Initialize data array with zeroes for each day of the current month\n$days_in_month = date('t');\n$data = array_fill(1, $days_in_month, 0);\n\n// Fetch results and populate the data array\nwhile ($row = $result->fetch_assoc()) {\n    $day = (int)date('j', strtotime($row['order_date']));\n    $data[$day] = (int)$row['order_total'];\n}\n\n// Close the database connection\n$mysqli->close();\n\n// Create a title object and set the text to present month.\n$title = new title('Monthly Sales Statistics for ' . date("F Y") . ' (US Dollar)');\n$title->set_style("{font-size: 18px; font-family: Calibri; color: #808000; text-align: center;}");\n\n// Make our Bar Chart\n$bar = new bar_filled('#f99bd6', '#ee0099');\n$bar->set_values(array_values($data)); // Ensure array is indexed by day\n\n// Create a new Chart object\n$chart = new open_flash_chart();\n\n// Add the title to the chart\n$chart->set_title($title);\n$chart->set_bg_colour("#FFFFFF");\n\n// Display the bar object on the chart\n$chart->add_element($bar);\n\n// Create an X Axis object\n$x = new x_axis();\n$x->set_range(1, $days_in_month, 1); // Set the range for days in the current month\n\n$labels = new x_axis_labels();\n$labels->set_steps(1);\n$labels->visible_steps(1);\n\n// Generate labels for each day\n$x_labels = array();\nfor ($i = 1; $i <= $days_in_month; $i++) {\n    $x_labels[] = (string)$i;\n}\n$labels->set_labels($x_labels);\n\n// Attach the label definition to the x axis\n$x->set_labels($labels);\n\n// Create a Y Axis object\n$y_axis = new y_axis();\n$max_value = max($data);\n$y_axis->set_range(0, $max_value + 1000, 1000); // Adjust Y-axis range based on data\n\n// Add the y-axis object to the chart\n$chart->add_y_axis($y_axis);\n$chart->set_x_axis($x);\n\necho $chart->toPrettyString();\n?>