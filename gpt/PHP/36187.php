$sectorlink = $connection->real_escape_string($sectorlink); // Sanitize input\n$query1 = "SELECT name FROM clients WHERE sector = '$sectorlink'";\n$clientresult = $connection->query($query1);\n\nif ($clientresult === false) {\n    trigger_error("SQL", E_USER_ERROR);\n}\n\n$names = array();\nwhile ($row = $clientresult->fetch_assoc()) {\n    $names[] = "'" . $connection->real_escape_string($row['name']) . "'";\n}\n\nif (!empty($names)) {\n    $thelist = implode(",", $names);\n    $query2 = "SELECT * FROM studies WHERE client IN ($thelist) ORDER BY date DESC";\n    $result = $connection->query($query2);\n\n    if ($result === false) {\n        trigger_error("SQL", E_USER_ERROR);\n    }\n\n    // Process the results of $query2 as needed\n} else {\n    echo "No clients found for the specified sector.";\n}