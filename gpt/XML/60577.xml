<Product Id="*" Name="SampleProduct" Language="1033" Version="1.0.0.0" Manufacturer="YourCompany" UpgradeCode="PUT-GUID-HERE">\n    <Package InstallerVersion="500" Compressed="yes" InstallScope="perMachine" />\n\n    <Property Id="PRINTER_DRIVERS_INSTALLED" Value="0" />\n\n    <CustomAction Id="CheckPrinterDrivers" BinaryKey="CustomActions.CA.dll" DllEntry="CheckPrinterDrivers" Execute="immediate" Return="check" />\n    <InstallExecuteSequence>\n        <Custom Action="CheckPrinterDrivers" Before="InstallInitialize" />\n    </InstallExecuteSequence>\n\n    <Directory Id="TARGETDIR" Name="SourceDir">\n        <!-- Your directory structure here -->\n    </Directory>\n\n    <Feature Id="ProductFeature" Title="SampleProduct" Level="1">\n        <ComponentGroupRef Id="ProductComponents" />\n    </Feature>\n\n    <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">\n        <!-- Your components here -->\n        <Component Id="ConditionalDLLRegistration" Guid="PUT-GUID-HERE">\n            <File Id="PrinterDLL" Name="Printer.dll" Source="Path\To\Printer.dll" KeyPath="yes" />\n            <Condition><![CDATA[PRINTER_DRIVERS_INSTALLED="1"]]></Condition>\n            <RegistryValue Root="HKLM" Key="Software\[Manufacturer]\[ProductName]" Name="PrinterDLLRegistered" Type="integer" Value="1" KeyPath="yes" />\n        </Component>\n    </ComponentGroup>\n    \n    <Binary Id="CustomActions.CA.dll" SourceFile="Path\To\CustomActions.CA.dll" />\n</Product>