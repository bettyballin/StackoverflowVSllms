<?xml version="1.0" encoding="utf-8"?>\n<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">\n\n  <Import Project="$(MSBuildExtensionsPath)\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets"/>\n  <Import Project="$(MSBuildExtensionsPath)\Microsoft\AssemblyInfoTask\Microsoft.VersionNumber.targets"/>\n\n  <PropertyGroup>\n    <Major>1</Major>\n    <Minor>0</Minor>\n    <Build>0</Build>\n    <Revision>0</Revision>\n    <BuildDir>C:\svn\Infrastructure</BuildDir>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <SolutionsToBuild Include="Infrastructure.sln"/>\n  </ItemGroup>\n\n  <Target Name="ChangeDataAccessAssemblyInfo">\n    <Message Text="Updating AssemblyInfo for DataAccess"/>\n    <AssemblyInfo CodeLanguage="VB"\n      OutputFile="$(BuildDir)\DataAccess\My Project\AssemblyInfo.vb"\n      AssemblyTitle="Data Access Layer"\n      AssemblyDescription="Message1"\n      AssemblyCompany="http://somewebsite"\n      AssemblyProduct="the project"\n      AssemblyCopyright="Copyright notice"\n      ComVisible="true"\n      CLSCompliant="true"\n      Guid="hjhjhkoi-9898989"\n      AssemblyVersion="$(Major).$(Minor).1.1"\n      AssemblyFileVersion="$(Major).$(Minor).5.7"\n      Condition=" '$(Revision)' != '0' "\n      ContinueOnError="false" />\n    <Message Text="Updated Assembly File Info"/>\n  </Target>\n\n  <Target Name="Build" DependsOnTargets="ChangeDataAccessAssemblyInfo">\n    <RemoveDir Directories="$(BuildDir)\Builds" Condition="Exists('$(BuildDir)\Builds')" />\n    <MSBuild Projects="@(SolutionsToBuild)" Properties="Configuration=Debug" Targets="Rebuild" />\n  </Target>\n\n  <ItemGroup>\n    <TestAssemblies Include="Build\Logging\Logging.UnitTests.dll" />\n  </ItemGroup>\n</Project>