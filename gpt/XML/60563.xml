<system.serviceModel>\n  <bindings>\n    <wsFederationHttpBinding>\n      <binding name="FederatedServiceBinding">\n        <security mode="TransportWithMessageCredential">\n          <message establishSecurityContext="false" />\n        </security>\n      </binding>\n    </wsFederationHttpBinding>\n  </bindings>\n  <services>\n    <service name="YourService">\n      <endpoint address=""\n                binding="wsFederationHttpBinding"\n                bindingConfiguration="FederatedServiceBinding"\n                contract="IYourServiceContract">\n        <identity>\n          <servicePrincipalName value="yourServiceSpn" />\n        </identity>\n      </endpoint>\n    </service>\n  </services>\n  <behaviors>\n    <serviceBehaviors>\n      <behavior>\n        <serviceMetadata httpGetEnabled="true" />\n        <serviceDebug includeExceptionDetailInFaults="false" />\n        <serviceCredentials>\n          <!-- Configure your STS settings here -->\n        </serviceCredentials>\n      </behavior>\n    </serviceBehaviors>\n  </behaviors>\n</system.serviceModel>