<Call name="addBean">\n       <Arg>\n           <New class="org.eclipse.jetty.security.HashLoginService">\n               <Set name="name">MyRealm</Set>\n               <Set name="config">/path/to/realm.properties</Set>\n               <Set name="refreshInterval">0</Set>\n           </New>\n       </Arg>\n   </Call>\n\n   <Call name="setHandler">\n       <Arg>\n           <New class="org.eclipse.jetty.server.handler.HandlerCollection">\n               <Set name="handlers">\n                   <Array type="org.eclipse.jetty.server.Handler">\n                       <!-- Add other handlers here -->\n                       <Item>\n                           <New class="org.eclipse.jetty.security.ConstraintSecurityHandler">\n                               <Set name="loginService">\n                                   <Ref refid="MyRealm"/>\n                               </Set>\n                               <Set name="constraintMappings">\n                                   <Array type="org.eclipse.jetty.util.security.ConstraintMapping">\n                                       <Item>\n                                           <New class="org.eclipse.jetty.util.security.ConstraintMapping">\n                                               <Set name="constraint">\n                                                   <New class="org.eclipse.jetty.util.security.Constraint">\n                                                       <Set name="name">auth</Set>\n                                                       <Set name="roles">\n                                                           <Array type="java.lang.String">\n                                                               <Item>admin</Item>\n                                                           </Array>\n                                                       </Set>\n                                                       <Set name="authenticate">true</Set>\n                                                   </New>\n                                               </Set>\n                                               <Set name="pathSpec">/*</Set>\n                                           </New>\n                                       </Item>\n                                   </Array>\n                               </Set>\n                           </New>\n                       </Item>\n                   </Array>\n               </Set>\n           </New>\n       </Arg>\n   </Call>