<?xml version='1.0' ?>\n<xsl:stylesheet\n    xmlns:xsl='http://www.w3.org/1999/XSL/Transform'\n    version='1.0'>\n\n<xsl:output method='text' indent="yes"/> \n\n<xsl:template match="/">\n    <xsl:apply-templates select="api"/>\n</xsl:template>\n\n<xsl:template match="api">\n    <xsl:for-each select="query/embeddedin/ei">\n        <xsl:variable name="title" select="translate(@title,' ','_')"/>\n        <xsl:variable name="english-title">\n            <xsl:call-template name="englishTitle">\n                <xsl:with-param name="title" select="@title"/>\n            </xsl:call-template>\n        </xsl:variable>\n        <xsl:value-of select="$english-title"/>\n        <xsl:text>\n</xsl:text>\n    </xsl:for-each>\n</xsl:template>\n\n<xsl:template name="englishTitle">\n    <xsl:param name="title"/>\n    <xsl:variable name="uri1" select="concat('http://fr.wikipedia.org/w/api.php?action=query&amp;format=xml&amp;prop=langlinks&amp;lllimit=500&amp;titles=', translate($title,' ','_'))"/>\n    <xsl:variable name="doc" select="document($uri1)"/>\n    <xsl:variable name="langlinks" select="$doc//langlinks/ll[@lang='en']"/>\n    \n    <xsl:value-of select="$langlinks"/>\n    <xsl:message>\n        <xsl:value-of select="$uri1"/>\n    </xsl:message>\n    <xsl:message>\n        count=<xsl:value-of select="count($langlinks)"/>\n    </xsl:message>\n</xsl:template>\n\n</xsl:stylesheet>