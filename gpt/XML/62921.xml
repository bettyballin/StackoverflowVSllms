<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n    <xsl:key name="valKey" match="container" use="val" />\n    \n    <xsl:template match="/">\n        <xsl:for-each select="container[generate-id() = generate-id(key('valKey', val)[1])]">\n            <xsl:value-of select="val" />\n            <xsl:text> - </xsl:text>\n            <xsl:value-of select="key('valKey', val)[1]/id" />\n            <xsl:text>&#10;</xsl:text>\n            <xsl:value-of select="val" />\n            <xsl:text> - </xsl:text>\n            <xsl:value-of select="key('valKey', val)[last()]/id" />\n            <xsl:text>&#10;</xsl:text>\n        </xsl:for-each>\n    </xsl:template>\n</xsl:stylesheet>