<configuration>\n     <system.serviceModel>\n       <services>\n         <service name="MyService">\n           <endpoint address="net.tcp://localhost:8000/MyService" binding="netTcpBinding" contract="IMyService"/>\n           <endpoint address="mex" binding="mexTcpBinding" contract="IMetadataExchange"/>\n           <endpoint name="discoveryEndpoint" binding="customBinding" bindingConfiguration="discoveryBinding" contract="IDiscoveryEndpoint"/>\n         </service>\n       </services>\n       <bindings>\n         <customBinding>\n           <binding name="discoveryBinding">\n             <discovery/>\n             <binaryMessageEncoding/>\n             <tcpTransport/>\n           </binding>\n         </customBinding>\n       </bindings>\n       <behaviors>\n         <serviceBehaviors>\n           <behavior>\n             <serviceDiscovery>\n               <announcementEndpoints>\n                 <endpoint kind="udpAnnouncementEndpoint"/>\n               </announcementEndpoints>\n             </serviceDiscovery>\n             <serviceMetadata/>\n           </behavior>\n         </serviceBehaviors>\n       </behaviors>\n     </system.serviceModel>\n   </configuration>