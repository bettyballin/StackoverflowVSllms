<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n    <!-- Define a key to group ROLE elements by their name attribute -->\n    <xsl:key name="role-by-name" match="ROLE" use="@name"/>\n\n    <!-- Match the root element -->\n    <xsl:template match="/">\n        <xsl:apply-templates select="ROLEACTIONINFO/ROLE"/>\n    </xsl:template>\n\n    <!-- Template to match each ROLE element -->\n    <xsl:template match="ROLE">\n        <xsl:variable name="current-name" select="@name"/>\n        <xsl:variable name="unique-count">\n            <xsl:number level="any" count="ROLE[generate-id() = generate-id(key('role-by-name', @name)[1])]"\n                        from="ROLE[generate-id() = generate-id(key('role-by-name', $current-name)[1])]"/>\n        </xsl:variable>\n\n        <!-- Output the name and the unique count -->\n        <xsl:value-of select="@name"/>\n        <xsl:text> </xsl:text>\n        <xsl:value-of select="$unique-count"/>\n        <xsl:text>&#10;</xsl:text>\n\n        <!-- Apply templates to the next sibling ROLE nodes -->\n        <xsl:apply-templates select="following-sibling::ROLE[1]"/>\n    </xsl:template>\n\n</xsl:stylesheet>