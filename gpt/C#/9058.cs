using System;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Net;\nusing System.IO;\nusing System.Threading.Tasks;\n\npublic class Program\n{\n    public static async Task Main(string[] args)\n    {\n        string url = "https://example.com/file.zip";\n        string filePath = "path/to/save/file.zip";\n\n        using (HttpClientHandler handler = new HttpClientHandler())\n        {\n            // Set cookies\n            handler.CookieContainer = new CookieContainer();\n            handler.CookieContainer.Add(new Uri("https://example.com"), new Cookie("cookie-name", "cookie-value"));\n\n            using (HttpClient client = new HttpClient(handler))\n            {\n                // Set headers\n                client.DefaultRequestHeaders.Add("Custom-Header", "HeaderValue");\n\n                // Download file\n                HttpResponseMessage response = await client.GetAsync(url);\n                response.EnsureSuccessStatusCode();\n\n                using (FileStream fs = new FileStream(filePath, FileMode.Create, FileAccess.Write, FileShare.None))\n                {\n                    await response.Content.CopyToAsync(fs);\n                }\n            }\n        }\n\n        Console.WriteLine("File downloaded successfully.");\n    }\n}