using System;\nusing System.IO;\nusing System.Net;\nusing System.ServiceProcess;\nusing System.Timers;\n\npublic class FileImportService : ServiceBase\n{\n    private Timer _timer;\n    private const string FtpUrl = "ftp://example.com/path/to/file.txt";\n    private const string LocalFilePath = @"C:\path\to\local\file.txt";\n    private const string ConnectionString = "your_sql_server_connection_string";\n\n    public FileImportService()\n    {\n        ServiceName = "FileImportService";\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        _timer = new Timer();\n        _timer.Interval = 86400000; // 24 hours in milliseconds\n        _timer.Elapsed += new ElapsedEventHandler(OnTimedEvent);\n        _timer.Start();\n\n        // Listen for manual trigger (this is a simple example using file-based trigger)\n        FileSystemWatcher watcher = new FileSystemWatcher();\n        watcher.Path = @"C:\path\to\trigger\directory";\n        watcher.Filter = "trigger.txt";\n        watcher.Created += new FileSystemEventHandler(OnManualTrigger);\n        watcher.EnableRaisingEvents = true;\n    }\n\n    private void OnTimedEvent(object source, ElapsedEventArgs e)\n    {\n        DownloadAndImportFile();\n    }\n\n    private void OnManualTrigger(object source, FileSystemEventArgs e)\n    {\n        DownloadAndImportFile();\n    }\n\n    private void DownloadAndImportFile()\n    {\n        try\n        {\n            WebClient client = new WebClient();\n            client.DownloadFile(FtpUrl, LocalFilePath);\n\n            // Add logic to import the downloaded file into the SQL server\n            // Example: \n            // using (SqlConnection connection = new SqlConnection(ConnectionString))\n            // {\n            //     connection.Open();\n            //     // Perform the import\n            // }\n\n            // Log success or handle exceptions as needed\n        }\n        catch (Exception ex)\n        {\n            // Handle exceptions\n        }\n    }\n\n    protected override void OnStop()\n    {\n        _timer.Stop();\n    }\n\n    public static void Main()\n    {\n        ServiceBase.Run(new FileImportService());\n    }\n}