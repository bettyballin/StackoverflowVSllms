private static readonly object _fileLock = new object();\n\npublic void WriteStats(int ad_id)\n{\n    string ad_date = DateTime.Now.Year.ToString() + DateTime.Now.Month.ToString("D2");\n    string FILENAME = Server.MapPath("text/BoxedAds.txt");\n\n    lock (_fileLock)\n    {\n        using (StreamWriter objStreamWriter = File.AppendText(FILENAME))\n        {\n            objStreamWriter.WriteLine(ad_id + ";" + ad_date);\n        }\n    }\n}