public class PersonRepository\n{\n    private readonly DatabaseContext _context;\n\n    public PersonRepository(DatabaseContext context)\n    {\n        _context = context;\n    }\n\n    public void SavePerson(Person person)\n    {\n        var existingPerson = _context.Persons.Find(person.PersonId);\n        if (existingPerson != null)\n        {\n            // Update existing person\n            existingPerson.FirstName = person.FirstName;\n            existingPerson.LastName = person.LastName;\n            existingPerson.Email = person.Email;\n            existingPerson.CompanyId = person.Company.CompanyId;\n            existingPerson.Address = person.Address;\n\n            _context.Persons.Update(existingPerson);\n        }\n        else\n        {\n            // Insert new person\n            _context.Persons.Add(person);\n        }\n\n        _context.SaveChanges();\n    }\n\n    public void SaveCompany(Company company)\n    {\n        var existingCompany = _context.Companies.Find(company.CompanyId);\n        if (existingCompany != null)\n        {\n            // Update existing company\n            existingCompany.Name = company.Name;\n            existingCompany.Address = company.Address;\n\n            _context.Companies.Update(existingCompany);\n        }\n        else\n        {\n            // Insert new company\n            _context.Companies.Add(company);\n        }\n\n        _context.SaveChanges();\n    }\n}