public class FormatModule : IHttpModule\n{\n    public void Dispose()\n    {\n        // Clean-up code here, if needed\n    }\n\n    public void Init(HttpApplication application)\n    {\n        application.BeginRequest += new EventHandler(application_BeginRequest);\n    }\n\n    void application_BeginRequest(object sender, EventArgs e)\n    {\n        HttpContext context = HttpContext.Current;\n        string rawUrl = context.Request.RawUrl.ToLower();\n\n        if (rawUrl.Contains(".pox"))\n        {\n            context.RewritePath("~/Lab1Service.svc", "", "format=pox", false);\n        }\n        else if (rawUrl.Contains(".json"))\n        {\n            context.RewritePath("~/Lab1Service.svc", "", "format=json", false);\n        }\n    }\n}