using RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nclass Program\n{\n    static void Main()\n    {\n        var factory = new ConnectionFactory() { HostName = "localhost" };\n        using (var connection = factory.CreateConnection())\n        using (var channel = connection.CreateModel())\n        {\n            channel.QueueDeclare(queue: "hello",\n                                 durable: false,\n                                 exclusive: false,\n                                 autoDelete: false,\n                                 arguments: null);\n\n            var consumer = new EventingBasicConsumer(channel);\n            consumer.Received += (model, ea) =>\n            {\n                var body = ea.Body.ToArray();\n                var message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(" [x] Received {0}", message);\n            };\n            channel.BasicConsume(queue: "hello",\n                                 autoAck: true,\n                                 consumer: consumer);\n            \n            Console.WriteLine(" Press [enter] to exit.");\n            Console.ReadLine();\n        }\n    }\n}