using System.Configuration;\nusing System.ServiceModel.Configuration;\n\npublic class IPFilterBehaviorExtensionElement : BehaviorExtensionElement\n{\n    [ConfigurationProperty("allowedIPs", IsRequired = true)]\n    public string AllowedIPs\n    {\n        get { return (string)this["allowedIPs"]; }\n        set { this["allowedIPs"] = value; }\n    }\n\n    public override Type BehaviorType => typeof(IPFilterBehavior);\n\n    protected override object CreateBehavior()\n    {\n        var ips = AllowedIPs.Split(new[] { ',' }, StringSplitOptions.RemoveEmptyEntries);\n        return new IPFilterBehavior(ips);\n    }\n}