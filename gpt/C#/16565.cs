using System;\nusing System.IO;\nusing System.IO.Pipes;\nusing System.Text;\n\nclass PipeServer\n{\n    static void Main()\n    {\n        using (var server = new NamedPipeServerStream("testpipe", PipeDirection.InOut))\n        {\n            Console.WriteLine("Named Pipe Server started...");\n            server.WaitForConnection();\n            Console.WriteLine("Client connected.");\n\n            using (var reader = new StreamReader(server))\n            using (var writer = new StreamWriter(server) { AutoFlush = true })\n            {\n                string message = reader.ReadLine();\n                Console.WriteLine($"Received from client: {message}");\n                writer.WriteLine("Message received");\n            }\n        }\n    }\n}