using System;\nusing System.Diagnostics;\nusing System.Data.SqlClient;\n\npublic class ExceptionLogger\n{\n    public static void LogException(Exception ex)\n    {\n        // Log to Event Log\n        if (!EventLog.SourceExists("MyApp"))\n        {\n            EventLog.CreateEventSource("MyApp", "Application");\n        }\n        EventLog.WriteEntry("MyApp", ex.ToString(), EventLogEntryType.Error);\n\n        // Log to Database\n        string connectionString = "your_connection_string";\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            string query = "INSERT INTO ExceptionLog (ExceptionMessage, StackTrace, DateOccurred) VALUES (@ExceptionMessage, @StackTrace, @DateOccurred)";\n            SqlCommand command = new SqlCommand(query, connection);\n            command.Parameters.AddWithValue("@ExceptionMessage", ex.Message);\n            command.Parameters.AddWithValue("@StackTrace", ex.StackTrace);\n            command.Parameters.AddWithValue("@DateOccurred", DateTime.Now);\n            connection.Open();\n            command.ExecuteNonQuery();\n        }\n    }\n}