using System;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading.Tasks;\n\nclass Client\n{\n    public async Task StartAsync()\n    {\n        TcpClient client = new TcpClient();\n        await client.ConnectAsync("127.0.0.1", 12345);\n        NetworkStream stream = client.GetStream();\n        Console.WriteLine("Connected to server...");\n\n        _ = Task.Run(() => ReceiveMessagesAsync(stream));\n\n        while (true)\n        {\n            string message = Console.ReadLine();\n            byte[] data = Encoding.UTF8.GetBytes(message);\n            await stream.WriteAsync(data, 0, data.Length);\n        }\n    }\n\n    private async Task ReceiveMessagesAsync(NetworkStream stream)\n    {\n        byte[] buffer = new byte[1024];\n\n        while (true)\n        {\n            int bytesRead = await stream.ReadAsync(buffer, 0, buffer.Length);\n            if (bytesRead == 0) break;\n\n            string message = Encoding.UTF8.GetString(buffer, 0, bytesRead);\n            Console.WriteLine($"Received from server: {message}");\n        }\n    }\n}