using System;\nusing System.Net.Http;\nusing System.Threading.Tasks;\nusing System.Data.SqlClient;\nusing System.Net.Mail;\n\npublic class ServerStatusChecker\n{\n    private static readonly HttpClient httpClient = new HttpClient();\n    private static readonly string[] iisServers = { "http://server1", "http://server2", "http://server3", "http://server4" };\n    private static readonly string[] sqlServers = { "Server=sqlserver1;Database=master;User Id=yourUsername;Password=yourPassword;", "Server=sqlserver2;Database=master;User Id=yourUsername;Password=yourPassword;" };\n\n    public static async Task CheckServersStatus()\n    {\n        foreach (var server in iisServers)\n        {\n            if (!await IsIISRunning(server))\n            {\n                SendAlertEmail($"IIS is down on {server}");\n            }\n        }\n\n        foreach (var connectionString in sqlServers)\n        {\n            if (!IsSqlServerRunning(connectionString))\n            {\n                SendAlertEmail($"SQL Server is down on {connectionString}");\n            }\n        }\n    }\n\n    private static async Task<bool> IsIISRunning(string url)\n    {\n        try\n        {\n            var response = await httpClient.GetAsync(url);\n            return response.IsSuccessStatusCode;\n        }\n        catch\n        {\n            return false;\n        }\n    }\n\n    private static bool IsSqlServerRunning(string connectionString)\n    {\n        try\n        {\n            using (var connection = new SqlConnection(connectionString))\n            {\n                connection.Open();\n                return connection.State == System.Data.ConnectionState.Open;\n            }\n        }\n        catch\n        {\n            return false;\n        }\n    }\n\n    private static void SendAlertEmail(string message)\n    {\n        try\n        {\n            var mailMessage = new MailMessage("yourEmail@example.com", "networkManager@example.com", "Server Status Alert", message);\n            using (var smtpClient = new SmtpClient("yourSmtpServer"))\n            {\n                smtpClient.Send(mailMessage);\n            }\n        }\n        catch (Exception ex)\n        {\n            // Log or handle email sending exception\n            Console.WriteLine($"Failed to send alert email: {ex.Message}");\n        }\n    }\n}