using System;\nusing System.Management;\n\nclass Program\n{\n    static void Main()\n    {\n        // Create a ManagementEventWatcher to monitor registry changes\n        ManagementEventWatcher watcher = new ManagementEventWatcher(\n            new WqlEventQuery("__InstanceOperationEvent",\n            new TimeSpan(0, 0, 1),\n            "TargetInstance ISA 'StdRegProv'"));\n\n        // Set up the event handler\n        watcher.EventArrived += new EventArrivedEventHandler(Watcher_EventArrived);\n\n        // Start watching\n        watcher.Start();\n\n        Console.WriteLine("Monitoring registry changes. Press any key to exit...");\n        Console.ReadKey();\n\n        // Stop watching\n        watcher.Stop();\n    }\n\n    private static void Watcher_EventArrived(object sender, EventArrivedEventArgs e)\n    {\n        Console.WriteLine("Registry change detected.");\n        // Handle the event\n    }\n}