using System;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Windows.Forms;\n\nnamespace WinFormsApp\n{\n    public partial class Form1 : Form\n    {\n        private DataSet dataset;\n        private SqlDataAdapter adapter;\n        private SqlConnection connection;\n        private string connectionString = "your_connection_string_here";\n\n        public Form1()\n        {\n            InitializeComponent();\n            InitializeDatabase();\n        }\n\n        private void InitializeDatabase()\n        {\n            connection = new SqlConnection(connectionString);\n            adapter = new SqlDataAdapter("SELECT * FROM MyTable", connection);\n\n            // Create the Insert command\n            adapter.InsertCommand = new SqlCommand(\n                "INSERT INTO MyTable (ID, Name, Age) VALUES (@ID, @Name, @Age)", connection);\n            adapter.InsertCommand.Parameters.Add("@ID", SqlDbType.Int, 4, "ID");\n            adapter.InsertCommand.Parameters.Add("@Name", SqlDbType.NVarChar, 50, "Name");\n            adapter.InsertCommand.Parameters.Add("@Age", SqlDbType.Int, 4, "Age");\n\n            dataset = new DataSet();\n            adapter.Fill(dataset, "MyTable");\n\n            // Bind the DataGridView to the DataSet\n            dataGridView1.DataSource = dataset.Tables["MyTable"];\n        }\n\n        private void btnAddRow_Click(object sender, EventArgs e)\n        {\n            // Add a new row to the DataSet\n            DataTable table = dataset.Tables["MyTable"];\n            DataRow newRow = table.NewRow();\n            newRow["ID"] = 1; // Set your ID value\n            newRow["Name"] = "John Doe"; // Set your Name value\n            newRow["Age"] = 30; // Set your Age value\n            table.Rows.Add(newRow);\n        }\n\n        private void btnUpdateDatabase_Click(object sender, EventArgs e)\n        {\n            try\n            {\n                // Update the database with the changes in the DataSet\n                adapter.Update(dataset, "MyTable");\n                MessageBox.Show("Database updated successfully.");\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show("Error updating database: " + ex.Message);\n            }\n        }\n    }\n}