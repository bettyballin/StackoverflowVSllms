using System;\nusing System.Diagnostics;\nusing System.ServiceProcess;\nusing System.Timers;\n\npublic class WatchdogService : ServiceBase\n{\n    private Timer timer;\n    private const string monitoredProcessName = "JabberClient";\n\n    public WatchdogService()\n    {\n        this.ServiceName = "WatchdogService";\n        this.CanStop = true;\n        this.CanPauseAndContinue = true;\n        this.AutoLog = true;\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        timer = new Timer(5000); // Check every 5 seconds\n        timer.Elapsed += new ElapsedEventHandler(this.OnTimer);\n        timer.Start();\n    }\n\n    protected override void OnStop()\n    {\n        timer.Stop();\n    }\n\n    private void OnTimer(object sender, ElapsedEventArgs args)\n    {\n        if (Process.GetProcessesByName(monitoredProcessName).Length == 0)\n        {\n            StartMonitoredProcess();\n        }\n    }\n\n    private void StartMonitoredProcess()\n    {\n        Process.Start(monitoredProcessName + ".exe");\n    }\n\n    public static void Main()\n    {\n        ServiceBase.Run(new WatchdogService());\n    }\n}