using Azure.Storage.Blobs;\n   using Microsoft.Extensions.Configuration;\n   using System;\n   using System.IO;\n   using System.Threading.Tasks;\n\n   public class BlobStorageService\n   {\n       private readonly BlobServiceClient _blobServiceClient;\n       private readonly BlobContainerClient _containerClient;\n\n       public BlobStorageService(IConfiguration configuration)\n       {\n           var connectionString = configuration["AzureBlobStorage:ConnectionString"];\n           var containerName = configuration["AzureBlobStorage:ContainerName"];\n           \n           _blobServiceClient = new BlobServiceClient(connectionString);\n           _containerClient = _blobServiceClient.GetBlobContainerClient(containerName);\n       }\n\n       public async Task<string> UploadFileAsync(Stream fileStream, string fileName)\n       {\n           try\n           {\n               var blobClient = _containerClient.GetBlobClient(fileName);\n               await blobClient.UploadAsync(fileStream, overwrite: true);\n               return blobClient.Uri.ToString();\n           }\n           catch (Exception ex)\n           {\n               // Handle exceptions\n               throw new Exception("Error uploading file to Azure Blob Storage", ex);\n           }\n       }\n\n       public async Task<Stream> DownloadFileAsync(string fileName)\n       {\n           try\n           {\n               var blobClient = _containerClient.GetBlobClient(fileName);\n               var downloadInfo = await blobClient.DownloadAsync();\n               return downloadInfo.Value.Content;\n           }\n           catch (Exception ex)\n           {\n               // Handle exceptions\n               throw new Exception("Error downloading file from Azure Blob Storage", ex);\n           }\n       }\n   }