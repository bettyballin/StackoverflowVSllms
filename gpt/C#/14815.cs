using System;\n    using System.Diagnostics;\n\n    public class GCMonitor\n    {\n        static void Main()\n        {\n            GC.RegisterForFullGCNotification(10, 10);\n            while (true)\n            {\n                if (GC.WaitForFullGCApproach(1000) == GCNotificationStatus.Succeeded)\n                {\n                    Console.WriteLine("GC is approaching");\n                }\n                if (GC.WaitForFullGCComplete(1000) == GCNotificationStatus.Succeeded)\n                {\n                    Console.WriteLine("GC has completed");\n                }\n            }\n        }\n    }