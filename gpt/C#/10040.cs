using System;\nusing System.IO;\n\npublic class MyTextWriterClass : TextWriter\n{\n    private readonly TextWriter originalOut;\n\n    public MyTextWriterClass(TextWriter originalOut)\n    {\n        this.originalOut = originalOut;\n    }\n\n    public override void Write(char value)\n    {\n        // Implement your logging logic here\n        // Write to the original console output\n        originalOut.Write(value);\n    }\n\n    public override Encoding Encoding => originalOut.Encoding;\n}\n\npublic class Program\n{\n    private static readonly object consoleLock = new object();\n\n    public static void Main()\n    {\n        lock (consoleLock)\n        {\n            TextWriter originalOut = Console.Out;\n            Console.SetOut(new MyTextWriterClass(originalOut));\n        }\n\n        // The rest of the application code\n    }\n}