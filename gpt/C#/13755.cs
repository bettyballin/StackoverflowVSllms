using System;\nusing System.IO;\nusing System.IO.Pipes;\n\nclass PipeServer\n{\n    static void Main()\n    {\n        using (NamedPipeServerStream pipeServer = new NamedPipeServerStream("testpipe", PipeDirection.In))\n        {\n            Console.WriteLine("Named Pipe Server is waiting for a connection...");\n            pipeServer.WaitForConnection();\n            \n            using (StreamReader reader = new StreamReader(pipeServer))\n            {\n                string receivedMessage = reader.ReadLine();\n                Console.WriteLine("Received message: " + receivedMessage);\n            }\n        }\n    }\n}