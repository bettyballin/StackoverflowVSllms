using System;\nusing System.Net;\nusing System.Xml;\n\npublic class SharePointListService\n{\n    public XmlNode GetListItems(string siteUrl, string listName, string camlQuery, string username, string password, string domain)\n    {\n        // Trust all certificates (development environment only)\n        ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };\n\n        // Initialize the SharePoint List service\n        ListService.Lists spList = new ListService.Lists\n        {\n            Url = siteUrl,\n            Credentials = new NetworkCredential(username, password, domain),\n            Timeout = 60000  // Set timeout to 60 seconds\n        };\n\n        // Prepare the CAML query\n        XmlDocument camlDoc = new XmlDocument();\n        camlDoc.LoadXml(camlQuery);\n\n        // Invoke the GetListItems method and return the result\n        try\n        {\n            XmlNode xmlResult = spList.GetListItems(listName, string.Empty, camlDoc, null, string.Empty, null, string.Empty);\n            return xmlResult;\n        }\n        catch (WebException webEx)\n        {\n            // Log the error (consider using a logging framework)\n            Console.WriteLine($"WebException: {webEx.Message}");\n            throw;\n        }\n        catch (Exception ex)\n        {\n            // Log the error (consider using a logging framework)\n            Console.WriteLine($"Exception: {ex.Message}");\n            throw;\n        }\n    }\n}