var query = from c in db.Categories\n            join p in db.Products on c.Id equals p.CategoryId into productGroup\n            from pg in productGroup.DefaultIfEmpty()\n            group pg by new { c.Name, c.DisplayName } into grouped\n            select new \n            {\n                Name = grouped.Key.Name,\n                DisplayName = grouped.Key.DisplayName,\n                ProductCount = grouped.Count(p => p != null)\n            };\n\nvar result = query.ToList();