private int GetPasswordComplexity(string password)\n{\n    if (string.IsNullOrEmpty(password))\n        return 0;\n\n    int lengthScore = password.Length >= 8 ? 2 : 1;\n\n    bool hasLower = false, hasUpper = false, hasDigit = false, hasSpecial = false;\n\n    foreach (char c in password)\n    {\n        if (char.IsLower(c)) hasLower = true;\n        else if (char.IsUpper(c)) hasUpper = true;\n        else if (char.IsDigit(c)) hasDigit = true;\n        else hasSpecial = true;\n    }\n\n    int varietyScore = (hasLower ? 1 : 0) + (hasUpper ? 1 : 0) + (hasDigit ? 1 : 0) + (hasSpecial ? 1 : 0);\n\n    // Combine the scores to determine overall complexity\n    int complexity = lengthScore + varietyScore;\n\n    // Ensure complexity is within a reasonable range\n    return Math.Min(complexity, 5);\n}