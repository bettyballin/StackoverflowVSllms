public class Server {\n    private String path;\n    private TcpListener listener;\n\n    public Server(String p) {\n        path = p;\n        listener = new TcpListener(IPAddress.Any, 1337);\n        listener.Start();\n        Thread t = new Thread(new ThreadStart(ListenForClients));\n        t.IsBackground = true;\n        t.Start();\n    }\n\n    private void ListenForClients() {\n        while (true) {\n            TcpClient client = listener.AcceptTcpClient();\n            new Thread(new ParameterizedThreadStart(HandleClientCom)).Start(client);\n        }\n    }\n\n    private void HandleClientCom(object tcpClientObj) {\n        new Dialog("Connection", "Connection established.");\n        TcpClient client = (TcpClient)tcpClientObj;\n        NetworkStream stream = client.GetStream();\n\n        ASCIIEncoding encoder = new ASCIIEncoding();\n        String str = "This is a long piece of text to send to the client.";\n        byte[] bytes = encoder.GetBytes(str);\n\n        stream.Write(bytes, 0, bytes.Length);\n        stream.Flush();\n        client.Close();  // Close the connection after sending the message\n    }\n}