using (var connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n\n    using (var transaction = connection.BeginTransaction())\n    using (var command = connection.CreateCommand())\n    {\n        command.Transaction = transaction;\n        command.CommandText = "UPDATE tag_name SET count = count + 1 WHERE tagid = @tagid";\n        command.Parameters.AddWithValue("@tagid", tagId);\n\n        try\n        {\n            command.ExecuteNonQuery();\n            transaction.Commit();\n        }\n        catch\n        {\n            transaction.Rollback();\n            throw;\n        }\n    }\n}