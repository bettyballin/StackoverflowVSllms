if (My_HTMLInputFile.PostedFile != null && My_HTMLInputFile.PostedFile.ContentLength > 0)\n{\n    var allowedExtensions = new[] { ".jpg", ".jpeg", ".png", ".gif" };\n    var extension = Path.GetExtension(My_HTMLInputFile.PostedFile.FileName).ToLower();\n\n    if (!allowedExtensions.Contains(extension))\n    {\n        throw new InvalidOperationException("Invalid file type.");\n    }\n\n    if (My_HTMLInputFile.PostedFile.ContentLength > 5 * 1024 * 1024) // 5 MB limit\n    {\n        throw new InvalidOperationException("File size too large.");\n    }\n\n    // Additional validation can be done here\n}