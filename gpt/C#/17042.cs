using System;\nusing Microsoft.VisualStudio.TestTools.WebTesting;\nusing Microsoft.VisualStudio.TestTools.WebTesting.Rules;\n\npublic class MyWebTest : WebTest\n{\n    public MyWebTest()\n    {\n        this.PreAuthenticate = true;\n    }\n\n    public override IEnumerator<WebTestRequest> GetRequestEnumerator()\n    {\n        WebTestRequest request = new WebTestRequest("http://yourwebapplication.com");\n        \n        // Add your validation rule\n        FindTextValidationRule findTextRule = new FindTextValidationRule();\n        findTextRule.FindText = this.Context["UsersDataSource.Users#csv.?UserName"].ToString();\n        request.ValidateResponse += new EventHandler<ValidationEventArgs>(findTextRule.Validate);\n        \n        yield return request;\n    }\n}