using System;\nusing System.Security.AccessControl;\nusing System.Security.Principal;\nusing System.IO;\n\nstatic void Main(string[] args)\n{\n    DirectoryInfo di = new DirectoryInfo(@"C:\TestDir1");\n    DirectorySecurity ds = di.GetAccessControl();\n\n    FileSystemAccessRule accessRule = new FileSystemAccessRule(\n        "ASPNET",\n        FileSystemRights.Write,\n        InheritanceFlags.ContainerInherit | InheritanceFlags.ObjectInherit,\n        PropagationFlags.None,\n        AccessControlType.Allow\n    );\n\n    ds.AddAccessRule(accessRule);\n    di.SetAccessControl(ds);\n}