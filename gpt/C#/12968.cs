using DiffPlex;\nusing DiffPlex.DiffBuilder;\nusing DiffPlex.DiffBuilder.Model;\nusing System.Text;\nusing System.Web.UI;\n\npublic partial class TextComparison : Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        string oldText = "This is the old version of the text.";\n        string newText = "This is the new version of the text with some changes.";\n\n        string comparisonHtml = GenerateSideBySideDiffHtml(oldText, newText);\n        comparisonDiv.InnerHtml = comparisonHtml;\n    }\n\n    private string GenerateSideBySideDiffHtml(string oldText, string newText)\n    {\n        var diffBuilder = new SideBySideDiffBuilder(new Differ());\n        var diffModel = diffBuilder.BuildDiffModel(oldText, newText);\n\n        var sb = new StringBuilder();\n\n        sb.Append("<div style='display: flex;'>");\n\n        sb.Append("<div style='width: 50%; padding: 10px;'>");\n        sb.Append("<h3>Old Text</h3>");\n        foreach (var line in diffModel.OldText.Lines)\n        {\n            sb.Append("<div style='background-color: ");\n            sb.Append(GetLineBackgroundColor(line.Type));\n            sb.Append(";'>");\n            sb.Append(line.Text);\n            sb.Append("</div>");\n        }\n        sb.Append("</div>");\n\n        sb.Append("<div style='width: 50%; padding: 10px;'>");\n        sb.Append("<h3>New Text</h3>");\n        foreach (var line in diffModel.NewText.Lines)\n        {\n            sb.Append("<div style='background-color: ");\n            sb.Append(GetLineBackgroundColor(line.Type));\n            sb.Append(";'>");\n            sb.Append(line.Text);\n            sb.Append("</div>");\n        }\n        sb.Append("</div>");\n\n        sb.Append("</div>");\n\n        return sb.ToString();\n    }\n\n    private string GetLineBackgroundColor(ChangeType changeType)\n    {\n        switch (changeType)\n        {\n            case ChangeType.Inserted:\n                return "#d4fcbc"; // light green\n            case ChangeType.Deleted:\n                return "#fbb6c2"; // light red\n            case ChangeType.Modified:\n                return "#e2e2e2"; // light gray\n            default:\n                return "#ffffff"; // white\n        }\n    }\n}