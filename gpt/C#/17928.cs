using Amazon.S3;\n   using Amazon.S3.Transfer;\n   using Microsoft.Extensions.Configuration;\n   using System.IO;\n   using System.Threading.Tasks;\n\n   public class S3Service\n   {\n       private readonly IAmazonS3 _s3Client;\n\n       public S3Service(IAmazonS3 s3Client)\n       {\n           _s3Client = s3Client;\n       }\n\n       public async Task<string> UploadFileAsync(Stream fileStream, string bucketName, string keyName)\n       {\n           var fileTransferUtility = new TransferUtility(_s3Client);\n\n           await fileTransferUtility.UploadAsync(fileStream, bucketName, keyName);\n\n           return $"https://{bucketName}.s3.amazonaws.com/{keyName}";\n       }\n\n       public async Task<Stream> GetFileAsync(string bucketName, string keyName)\n       {\n           var response = await _s3Client.GetObjectAsync(bucketName, keyName);\n           return response.ResponseStream;\n       }\n   }