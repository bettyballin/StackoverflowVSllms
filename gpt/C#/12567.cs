public void DeletePhoto(int photoId)\n{\n    using (var context = new MyDbContext())\n    {\n        var photo = context.Photos.SingleOrDefault(p => p.Id == photoId);\n        if (photo == null)\n        {\n            throw new InvalidOperationException("Photo not found.");\n        }\n\n        string filePath = HttpContext.Current.Server.MapPath("~/photos/" + photo.FileName);\n        if (File.Exists(filePath))\n        {\n            File.Delete(filePath);\n        }\n\n        context.Photos.Remove(photo);\n        context.SaveChanges();\n    }\n}