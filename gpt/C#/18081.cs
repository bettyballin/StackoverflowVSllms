using Microsoft.AspNetCore.Mvc;\n    using MyApi.Models;\n    using MyApi.Services;\n\n    namespace MyApi.Controllers\n    {\n        [ApiController]\n        [Route("api/[controller]")]\n        public class ProductsController : ControllerBase\n        {\n            private readonly ProductService _productService;\n\n            public ProductsController(ProductService productService)\n            {\n                _productService = productService;\n            }\n\n            [HttpGet]\n            public ActionResult<List<Product>> GetAll() => _productService.GetAll();\n\n            [HttpGet("{id}")]\n            public ActionResult<Product> Get(int id)\n            {\n                var product = _productService.Get(id);\n                if (product == null) return NotFound();\n                return product;\n            }\n\n            [HttpPost]\n            public IActionResult Create(Product product)\n            {\n                _productService.Add(product);\n                return CreatedAtAction(nameof(Get), new { id = product.Id }, product);\n            }\n\n            [HttpPut("{id}")]\n            public IActionResult Update(int id, Product product)\n            {\n                if (id != product.Id) return BadRequest();\n                var existingProduct = _productService.Get(id);\n                if (existingProduct == null) return NotFound();\n                _productService.Update(product);\n                return NoContent();\n            }\n\n            [HttpDelete("{id}")]\n            public IActionResult Delete(int id)\n            {\n                var product = _productService.Get(id);\n                if (product == null) return NotFound();\n                _productService.Delete(id);\n                return NoContent();\n            }\n        }\n    }