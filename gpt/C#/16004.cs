using System;\n    using ManagedUPnP;\n\n    namespace MediaServerExample\n    {\n        class Program\n        {\n            static void Main(string[] args)\n            {\n                try\n                {\n                    // Create a new UPnP Media Server\n                    MediaServer mediaServer = new MediaServer();\n\n                    // Add a media item (e.g., a video or photo)\n                    mediaServer.AddMediaItem("Video1", "http://example.com/video1.mp4", "video/mp4");\n\n                    // Start the media server\n                    mediaServer.Start();\n\n                    Console.WriteLine("Media Server is running...");\n                    Console.ReadLine();\n\n                    // Stop the media server\n                    mediaServer.Stop();\n                }\n                catch (Exception ex)\n                {\n                    Console.WriteLine("Error: " + ex.Message);\n                }\n            }\n        }\n\n        public class MediaServer\n        {\n            private UPnPDevice device;\n            private UPnPService service;\n\n            public MediaServer()\n            {\n                // Initialize the UPnP device\n                device = new UPnPDevice("MediaServer", "A simple media server", "1.0");\n\n                // Initialize the UPnP service\n                service = new UPnPService("urn:schemas-upnp-org:service:ContentDirectory:1", "ContentDirectory");\n\n                // Add the service to the device\n                device.Services.Add(service);\n            }\n\n            public void AddMediaItem(string title, string url, string mimeType)\n            {\n                // Add media item to the service\n                UPnPMediaItem mediaItem = new UPnPMediaItem(title, url, mimeType);\n                service.AddMediaItem(mediaItem);\n            }\n\n            public void Start()\n            {\n                // Start the UPnP device\n                device.Start();\n            }\n\n            public void Stop()\n            {\n                // Stop the UPnP device\n                device.Stop();\n            }\n        }\n\n        public class UPnPMediaItem\n        {\n            public string Title { get; private set; }\n            public string URL { get; private set; }\n            public string MimeType { get; private set; }\n\n            public UPnPMediaItem(string title, string url, string mimeType)\n            {\n                Title = title;\n                URL = url;\n                MimeType = mimeType;\n            }\n        }\n    }