using HtmlAgilityPack;\nusing System;\nusing System.Text;\n\npublic string ConvertHtmlToPlainText(string html)\n{\n    HtmlDocument doc = new HtmlDocument();\n    doc.LoadHtml(html);\n    \n    StringBuilder sb = new StringBuilder();\n    \n    foreach (var node in doc.DocumentNode.DescendantsAndSelf())\n    {\n        switch (node.Name)\n        {\n            case "p":\n            case "br":\n                sb.AppendLine();\n                break;\n            case "img":\n                if (node.Attributes["alt"] != null)\n                {\n                    sb.Append($"[Image: {node.Attributes["alt"].Value}]");\n                }\n                break;\n            default:\n                if (!node.HasChildNodes)\n                {\n                    sb.Append(node.InnerText);\n                }\n                break;\n        }\n    }\n    \n    return sb.ToString();\n}