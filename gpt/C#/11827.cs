using System.ServiceModel;\n\nclass Program\n{\n    static void Main()\n    {\n        ServiceHost host = new ServiceHost(typeof(DataService));\n        NetNamedPipeBinding binding = new NetNamedPipeBinding(NetNamedPipeSecurityMode.Transport);\n        binding.Security.Transport.ProtectionLevel = System.Net.Security.ProtectionLevel.EncryptAndSign;\n\n        host.AddServiceEndpoint(typeof(IDataService), binding, "net.pipe://localhost/DataService");\n        host.Open();\n\n        Console.WriteLine("Service is running...");\n        Console.ReadLine();\n\n        host.Close();\n    }\n}