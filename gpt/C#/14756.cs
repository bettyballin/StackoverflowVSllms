class Program\n    {\n        static void Main()\n        {\n            var provider = new SimpleQueryProvider();\n            var products = new SimpleQueryable<Product>(provider);\n\n            var query = from p in products\n                        where p.Price > 100\n                        select p;\n\n            foreach (var product in query)\n            {\n                Console.WriteLine(product.Name);\n            }\n        }\n    }