public class WindsorControllerFactory : DefaultControllerFactory\n{\n    private readonly IWindsorContainer _container;\n\n    public WindsorControllerFactory(IWindsorContainer container)\n    {\n        _container = container;\n    }\n\n    protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType)\n    {\n        if (controllerType == null)\n            return null;\n\n        return (IController)_container.Resolve(controllerType);\n    }\n}\n\n// In Application_Start\nvar container = new WindsorContainer();\ncontainer.Install(FromAssembly.This());\nControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory(container));