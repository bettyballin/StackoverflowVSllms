using System.Collections.Generic;\nusing ESRI.ArcGIS.Carto;\n\npublic class MyApp\n{\n    private List<LayerVisibilityEventHandler> _eventHandlers = new List<LayerVisibilityEventHandler>();\n\n    public void AddLayer(ILayer layer)\n    {\n        var handler = new LayerVisibilityEventHandler(layer);\n        _eventHandlers.Add(handler);\n    }\n\n    public void DisposeHandlers()\n    {\n        foreach (var handler in _eventHandlers)\n        {\n            handler.Dispose();\n        }\n        _eventHandlers.Clear();\n    }\n}