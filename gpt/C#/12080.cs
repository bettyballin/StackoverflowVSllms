using System.Data.SqlClient;\nusing Dapper;\n\npublic class MyRepository\n{\n    private readonly string _connectionString;\n\n    public MyRepository(string connectionString)\n    {\n        _connectionString = connectionString;\n    }\n\n    public IEnumerable<MyData> GetData()\n    {\n        using (var connection = new SqlConnection(_connectionString))\n        {\n            connection.Open();\n            return connection.Query<MyData>("SELECT * FROM MyTable");\n        }\n    }\n}\n\npublic class MyData\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n}