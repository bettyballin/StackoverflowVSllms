using System;\nusing System.Messaging;\n\npublic class MessageProcessor\n{\n    private const string QueuePath = @".\Private$\MyQueue";\n\n    public void SendMessage(string message)\n    {\n        if (!MessageQueue.Exists(QueuePath))\n        {\n            MessageQueue.Create(QueuePath);\n        }\n\n        using (var queue = new MessageQueue(QueuePath))\n        {\n            queue.Send(message);\n        }\n    }\n\n    public void ProcessMessages()\n    {\n        if (!MessageQueue.Exists(QueuePath))\n        {\n            throw new InvalidOperationException("Queue does not exist.");\n        }\n\n        using (var queue = new MessageQueue(QueuePath))\n        {\n            queue.Formatter = new XmlMessageFormatter(new[] { "System.String, mscorlib" });\n\n            while (true)\n            {\n                var message = queue.Receive();\n                var messageBody = (string)message.Body;\n\n                // Process the message\n                ProcessMessage(messageBody);\n            }\n        }\n    }\n\n    private void ProcessMessage(string message)\n    {\n        // Implement the processing logic here\n        Console.WriteLine($"Processing message: {message}");\n    }\n}