using System.Text.RegularExpressions;\nusing System.Windows;\nusing System.Windows.Input;\n\nnamespace YourNamespace\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private void InputTextBox_PreviewTextInput(object sender, TextCompositionEventArgs e)\n        {\n            // Allow only digits and uppercase letters\n            e.Handled = !Regex.IsMatch(e.Text, "^[0-9A-Z]+$");\n        }\n\n        private void InputTextBox_PreviewKeyDown(object sender, KeyEventArgs e)\n        {\n            // Allow navigation keys and backspace\n            if (e.Key == Key.Back || e.Key == Key.Left || e.Key == Key.Right || e.Key == Key.Delete)\n            {\n                e.Handled = false;\n            }\n            else\n            {\n                e.Handled = !((Keyboard.Modifiers == ModifierKeys.None && e.Key >= Key.D0 && e.Key <= Key.D9) ||\n                              (Keyboard.Modifiers == ModifierKeys.None && e.Key >= Key.A && e.Key <= Key.Z));\n            }\n        }\n    }\n}