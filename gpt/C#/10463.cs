using System;\nusing System.Runtime.InteropServices;\n\npublic class SmsSender\n{\n    [DllImport("sms.dll", CharSet = CharSet.Auto)]\n    private static extern int SmsSendMessage(\n        IntPtr hSmsHandle,\n        string ptszAddress,\n        string ptszMessage,\n        IntPtr pbBinary,\n        uint cbBinary,\n        uint dwOptions,\n        IntPtr pvMsgClass,\n        SmsProviderProviderMessageId psmsmidMessageID,\n        IntPtr pvReserved);\n\n    [StructLayout(LayoutKind.Sequential)]\n    public struct SmsProviderProviderMessageId\n    {\n        public uint dwMessageID;\n        public uint dwStatus;\n    }\n\n    public static void SendSms(string phoneNumber, string message)\n    {\n        SmsProviderProviderMessageId messageId = new SmsProviderProviderMessageId();\n        int result = SmsSendMessage(\n            IntPtr.Zero, // handle to SMS provider\n            phoneNumber,\n            message,\n            IntPtr.Zero,\n            0,\n            0,\n            IntPtr.Zero,\n            messageId,\n            IntPtr.Zero);\n\n        if (result != 0)\n        {\n            throw new Exception("Failed to send message, error code: " + result);\n        }\n\n        Console.WriteLine("Message sent successfully with ID: " + messageId.dwMessageID);\n    }\n\n    public static void Main(string[] args)\n    {\n        try\n        {\n            string phoneNumber = "1234567890";\n            string message = "Hello, this is a test message!";\n            SendSms(phoneNumber, message);\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine("Error: " + ex.Message);\n        }\n    }\n}