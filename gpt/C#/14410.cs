using System;\nusing System.DirectoryServices;\nusing System.Security.Principal;\n\npublic class SIDConverter\n{\n    public static string GetNameFromSID(SecurityIdentifier sid)\n    {\n        try\n        {\n            // Try to translate using NTAccount class\n            NTAccount ntAccount = (NTAccount)sid.Translate(typeof(NTAccount));\n            return ntAccount.ToString();\n        }\n        catch (IdentityNotMappedException)\n        {\n            // If translation fails, try to use LDAP lookup\n            try\n            {\n                string sidString = sid.Value;\n                string ldapPath = $"LDAP://<SID={sidString}>";\n                DirectoryEntry dirEntry = new DirectoryEntry(ldapPath);\n                return dirEntry.Properties["name"][0].ToString();\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine($"Error performing LDAP lookup: {ex.Message}");\n                return null;\n            }\n        }\n    }\n}