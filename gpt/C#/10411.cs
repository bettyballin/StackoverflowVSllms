using (OracleConnection conn = new OracleConnection(connStr))\n{\n    conn.Open();\n    using (OracleTransaction trans = conn.BeginTransaction())\n    {\n        using (OracleCommand command = new OracleCommand(cmdTxt, conn, trans))\n        {\n            try\n            {\n                command.ExecuteNonQuery();\n                trans.Commit();\n            }\n            catch\n            {\n                trans.Rollback();\n                throw; // Re-throw the exception after rolling back the transaction\n            }\n        }\n    }\n}