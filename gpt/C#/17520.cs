using System;\nusing System.Data;\nusing System.Linq;\n\npublic class Example\n{\n    public DataSetProducts.productsDataTable GetFilteredProducts(DataSetProducts dsProducts, string searchpattern, int begin, int pagesize)\n    {\n        var productlist = from prds in dsProducts.Products.AsEnumerable()\n                          where (prds.Field<string>("productid").Contains(searchpattern) || \n                                 prds.Field<string>("productname").Contains(searchpattern))\n                          select prds;\n\n        // Create a new instance of the typed DataTable\n        DataSetProducts.productsDataTable filteredTable = new DataSetProducts.productsDataTable();\n\n        // Import the rows from the LINQ query result into the typed DataTable\n        foreach (var row in productlist.Skip(begin).Take(pagesize))\n        {\n            filteredTable.ImportRow(row);\n        }\n\n        return filteredTable;\n    }\n}