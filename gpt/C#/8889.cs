using (SPSite site = new SPSite("http://yoursite"))\n{\n    using (SPWeb web = site.OpenWeb())\n    {\n        SPFolder folder = web.GetFolder("Shared Documents/YourFolder");\n        web.AllowUnsafeUpdates = true;\n\n        // Break role inheritance\n        folder.Item.BreakRoleInheritance(false);\n\n        // Remove all inherited permissions\n        while (folder.Item.RoleAssignments.Count > 0)\n        {\n            folder.Item.RoleAssignments.Remove(0);\n        }\n\n        // Add a new role assignment\n        SPUser user = web.EnsureUser("domain\\username");\n        SPRoleDefinition roleDefinition = web.RoleDefinitions.GetByType(SPRoleType.Contributor);\n        SPRoleAssignment roleAssignment = new SPRoleAssignment(user);\n        roleAssignment.RoleDefinitionBindings.Add(roleDefinition);\n        folder.Item.RoleAssignments.Add(roleAssignment);\n\n        web.AllowUnsafeUpdates = false;\n    }\n}