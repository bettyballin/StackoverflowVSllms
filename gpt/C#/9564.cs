using System;\nusing System.ServiceModel;\nusing System.ServiceModel.Activation;\nusing System.ServiceModel.Description;\n\npublic class CustomServiceHostFactory : ServiceHostFactory\n{\n    protected override ServiceHost CreateServiceHost(Type serviceType, Uri[] baseAddresses)\n    {\n        return new CustomServiceHost(serviceType, baseAddresses);\n    }\n}\n\npublic class CustomServiceHost : ServiceHost\n{\n    public CustomServiceHost(Type serviceType, params Uri[] baseAddresses)\n        : base(serviceType, baseAddresses)\n    {\n    }\n\n    protected override void OnOpening()\n    {\n        base.OnOpening();\n\n        foreach (var endpoint in this.Description.Endpoints)\n        {\n            if (endpoint.Binding is WSHttpBinding wsHttpBinding)\n            {\n                wsHttpBinding.MaxReceivedMessageSize = 65536; // Set your custom settings here\n                // Add other custom configurations as needed\n            }\n        }\n    }\n}