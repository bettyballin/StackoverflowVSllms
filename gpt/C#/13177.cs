public void DownloadFile(HttpResponse response)\n{\n    response.Clear();\n    response.ContentType = "application/octet-stream";\n    response.AddHeader("Content-Disposition", "attachment; filename=largefile.dat");\n\n    // Disable buffering to allow for chunked transfer\n    response.Buffer = false;\n\n    // Generate and write data in chunks\n    const int bufferSize = 4096; // 4KB buffer\n    byte[] buffer = new byte[bufferSize];\n    int bytesRead = 0;\n\n    using (Stream dataStream = GenerateDataStream()) // Replace with your data generation method\n    {\n        while ((bytesRead = dataStream.Read(buffer, 0, bufferSize)) > 0)\n        {\n            response.OutputStream.Write(buffer, 0, bytesRead);\n            response.Flush(); // Send the data to the client immediately\n        }\n    }\n\n    response.End();\n}\n\nprivate Stream GenerateDataStream()\n{\n    // Implement your data generation logic here\n    // For example, returning a FileStream, MemoryStream, etc.\n    return new MemoryStream(new byte[100000]); // Placeholder for example purposes\n}