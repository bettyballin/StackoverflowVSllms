using System;\nusing System.Net;\nusing System.Net.Sockets;\n\nclass UdpImageSender\n{\n    private const int PacketSize = 1400; // keeping it below 1500 bytes\n    private const int Port = 12345;\n    private UdpClient udpClient;\n\n    public UdpImageSender()\n    {\n        udpClient = new UdpClient();\n    }\n\n    public void SendImage(byte[] image)\n    {\n        int totalPackets = (image.Length + PacketSize - 1) / PacketSize;\n        for (int i = 0; i < totalPackets; i++)\n        {\n            int startIndex = i * PacketSize;\n            int length = Math.Min(PacketSize, image.Length - startIndex);\n            byte[] packet = new byte[length + 2];\n            packet[0] = (byte)(i & 0xFF);\n            packet[1] = (byte)(totalPackets & 0xFF);\n            Buffer.BlockCopy(image, startIndex, packet, 2, length);\n            udpClient.Send(packet, packet.Length, "client-address", Port); // Replace "client-address" with actual client IP\n        }\n    }\n}