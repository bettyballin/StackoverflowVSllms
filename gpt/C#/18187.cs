using System;\nusing System.Web;\n\npublic partial class Popup : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        // Retrieve session ID from query string\n        string sessionID = Request.QueryString["SID"];\n        if (!string.IsNullOrEmpty(sessionID))\n        {\n            // Set the session ID manually\n            SessionIDManager manager = new SessionIDManager();\n            bool redirected;\n            bool isAdded;\n            manager.SaveSessionID(Context, sessionID, out redirected, out isAdded);\n        }\n\n        // Now you can use session variables as usual\n        var mySessionVar = Session["MySessionVariable"];\n        if (mySessionVar == null)\n        {\n            // Handle null reference\n            Response.Write("Session variable is null.");\n        }\n        else\n        {\n            // Use session variable\n            Response.Write("Session variable value: " + mySessionVar.ToString());\n        }\n    }\n}