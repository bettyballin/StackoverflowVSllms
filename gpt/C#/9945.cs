using System;\n\npublic static class ExceptionExtensions\n{\n    public static T LocateExceptionInStack<T>(this Exception ex) where T : Exception\n    {\n        while (ex != null)\n        {\n            if (ex is T exception)\n            {\n                return exception;\n            }\n            ex = ex.InnerException;\n        }\n        return null;\n    }\n}\n\n// Usage example\ntry\n{\n    // Code that throws an exception\n}\ncatch (Exception ex)\n{\n    SomeException someExp = ex.LocateExceptionInStack<SomeException>();\n    if (someExp != null)\n    {\n        // Handle the specific exception\n    }\n}