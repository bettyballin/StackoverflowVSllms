using System;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Threading.Tasks;\n\npublic class DataAccessLayer\n{\n    public async Task<DataSet> GetDataSetFromDataReaderAsync(SqlDataReader reader)\n    {\n        var dataSet = new DataSet();\n\n        do\n        {\n            var dataTable = new DataTable();\n            dataTable.Load(reader);\n            dataSet.Tables.Add(dataTable);\n        } while (await reader.NextResultAsync());\n\n        return dataSet;\n    }\n}