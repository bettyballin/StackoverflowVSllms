using System;\nusing System.Net;\nusing System.Net.Sockets;\n\nclass Program\n{\n    static void Main()\n    {\n        var listener = new TcpListener(IPAddress.Any, 12345);\n        listener.Start();\n\n        while (true)\n        {\n            var client = listener.AcceptTcpClient();\n            var remoteEndPoint = client.Client.RemoteEndPoint as IPEndPoint;\n\n            // Example condition: Reject connections from a specific IP\n            if (remoteEndPoint.Address.ToString() == "192.168.1.100")\n            {\n                client.Close();\n                Console.WriteLine("Rejected connection from: " + remoteEndPoint.Address);\n            }\n            else\n            {\n                // Handle accepted connection\n                Console.WriteLine("Accepted connection from: " + remoteEndPoint.Address);\n                // ... handle the connection ...\n            }\n        }\n    }\n}