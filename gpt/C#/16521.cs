public class IocControllerFactory : DefaultControllerFactory\n{\n    protected override IController GetControllerInstance(Type controllerType)\n    {\n        if (controllerType == null)\n        {\n            throw new HttpException(404, $"Controller type not found.");\n        }\n\n        try\n        {\n            return (IController)ObjectFactory.GetInstance(controllerType);\n        }\n        catch (StructureMapException)\n        {\n            System.Diagnostics.Debug.WriteLine(ObjectFactory.WhatDoIHave());\n            throw;\n        }\n    }\n}