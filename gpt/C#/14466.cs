using System;\nusing System.DirectoryServices;\nusing System.DirectoryServices.AccountManagement;\n\npublic class ADUserLookup\n{\n    public static void Main(string[] args)\n    {\n        string email = "user@example.com"; // Replace with your email\n        string domain = "yourdomain.com"; // Replace with your domain\n\n        try\n        {\n            using (PrincipalContext context = new PrincipalContext(ContextType.Domain, domain))\n            {\n                UserPrincipal user = UserPrincipal.FindByIdentity(context, IdentityType.EmailAddress, email);\n                if (user != null)\n                {\n                    Console.WriteLine($"Domain: {domain}");\n                    Console.WriteLine($"Username: {user.SamAccountName}");\n                }\n                else\n                {\n                    Console.WriteLine("User not found.");\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($"Error: {ex.Message}");\n        }\n    }\n}