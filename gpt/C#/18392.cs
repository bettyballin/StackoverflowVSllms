public void SaveImage(int productId, HttpPostedFileBase imageFile)\n    {\n        string imagesFolder = Server.MapPath("~/ProductImages/");\n        string fileName = Path.GetFileName(imageFile.FileName);\n        string filePath = Path.Combine(imagesFolder, fileName);\n\n        // Save file to file system\n        imageFile.SaveAs(filePath);\n\n        // Save file metadata to database\n        using (var context = new MyDbContext())\n        {\n            var productImage = new ProductImage\n            {\n                ProductId = productId,\n                FileName = fileName,\n                FilePath = filePath\n            };\n            context.ProductImages.Add(productImage);\n            context.SaveChanges();\n        }\n    }