[AcceptVerbs(HttpVerbs.Post)]\npublic ActionResult AjaxTest(int magic) {\n    try {\n        var someVal = GetValue();\n        return PartialView("DataPage", someVal); // returns HTML\n    } catch (Exception ex) {\n        this.HttpContext.Response.StatusCode = 500; // sets status code to 500\n        return Json(new { status = "Error", message = ex.Message }); // returns JSON\n    }\n}