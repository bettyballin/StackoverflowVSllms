private ISessionFactory CreateSessionFactory()\n{\n    return Fluently.Configure()\n        .Database(MsSqlConfiguration.MsSql2005\n            .ConnectionString(c => c.Is(@"Data Source=foo;Initial Catalog=bar;Integrated Security=True")))\n        .Mappings(m => m.AutoMappings.Add(AutoMap.AssemblyOf<Employee>(type => type.Namespace.Contains("Entities"))))\n        .ExposeConfiguration(BuildSchema)\n        .BuildSessionFactory();\n}\n\nprivate void BuildSchema(NHibernate.Cfg.Configuration cfg)\n{\n    new SchemaExport(cfg).Create(false, true);\n}\n\n// Example entity class\npublic class Employee\n{\n    public virtual int Id { get; set; }\n    public virtual string Name { get; set; }\n    // Other properties\n}