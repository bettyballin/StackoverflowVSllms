try {\n    this.Validate();\n    this.studentsBindingSource.EndEdit();\n    int recordsAffected = this.studentsTableAdapter.Update(this.studentsDataSet.FirstClass);\n\n    if (recordsAffected > 0) {\n        MessageBox.Show("Save successful!");\n    } else {\n        MessageBox.Show("No records were saved. Please check your data.");\n    }\n} catch (Exception ex) {\n    MessageBox.Show("An error occurred while saving: " + ex.Message);\n}