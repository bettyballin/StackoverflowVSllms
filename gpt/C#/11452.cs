foreach (string product in productTokens) {\n    tempProduct = product.Trim();\n    if (tempProduct.Length > 0) {\n        if (tempProduct.Length < 10) {\n            product_id = tempProduct;\n        } else {\n            int charPosition = tempProduct.IndexOf(" ");\n            product_id = tempProduct.Substring(0, charPosition);\n        }\n\n        // Get product name, if exists\n        var productName = productAdapter.GetProductName(product_id);\n        if (productName != null) {\n            s_product = productName.ToString();\n            sTemp = sTemp + s_product + "; ";\n        } else {\n            errLog.WriteLine("Invalid product ID: " + product_id);\n            Console.WriteLine("Invalid product ID: " + product_id);\n        }\n    }\n}