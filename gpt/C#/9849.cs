using NHibernate;\nusing NHibernate.Exceptions;\nusing System.Data.SqlClient;\n\ntry\n{\n    using (var transaction = session.BeginTransaction())\n    {\n        session.Save(entity);\n        transaction.Commit();\n    }\n}\ncatch (GenericADOException ex)\n{\n    if (ex.InnerException is SqlException sqlEx)\n    {\n        // Check the error number for unique constraint violation\n        if (sqlEx.Number == 2627) // 2627 is the error number for unique constraint violation in SQL Server\n        {\n            // Handle unique constraint violation (i.e., prompt the user to choose another name)\n            Console.WriteLine("A unique constraint violation occurred.");\n        }\n        else\n        {\n            // Handle other SQL exceptions\n            Console.WriteLine($"SQL Error: {sqlEx.Message}");\n        }\n    }\n    else\n    {\n        // Handle non-SQL exceptions or rethrow\n        throw;\n    }\n}