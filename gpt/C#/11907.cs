void OnItemSelected(int someid1, int someid2)\n    {\n        try\n        {\n            var del = this.ItemSelected;\n            if (del != null)\n            {\n                del(someid1, someid2);\n            }\n            else\n            {\n                // Log that the delegate is null\n                Log("ItemSelected delegate is null");\n            }\n        }\n        catch (Exception ex)\n        {\n            // Log the exception\n            Log("Exception in OnItemSelected: " + ex.Message);\n        }\n    }\n\n    void Log(string message)\n    {\n        // Implement logging mechanism\n        System.IO.File.AppendAllText("log.txt", message + Environment.NewLine);\n    }