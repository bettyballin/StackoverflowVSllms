using System;\nusing System.Diagnostics;\nusing System.IO;\n\nclass Program\n{\n    static void Main()\n    {\n        Process process = new Process();\n        process.StartInfo.FileName = "your-command-line-utility";\n        process.StartInfo.RedirectStandardOutput = true;\n        process.EnableRaisingEvents = true;\n\n        Exception processException = null;\n        process.Exited += (sender, e) =>\n        {\n            if (process.ExitCode != 0)\n            {\n                processException = new Exception("Process exited with error code: " + process.ExitCode);\n            }\n        };\n\n        process.Start();\n\n        // Read standard output\n        using (StreamReader reader = process.StandardOutput)\n        {\n            string output = reader.ReadToEnd();\n            // Process the output (e.g., save to image file)\n        }\n\n        // Wait for the process to exit\n        process.WaitForExit();\n\n        // Check if an exception was set in the Exited event handler\n        if (processException != null)\n        {\n            // Handle the exception\n            throw processException;\n        }\n    }\n}