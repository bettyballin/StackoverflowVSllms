using (var session = sessionFactory.OpenSession())\n   {\n       using (var transaction = session.BeginTransaction())\n       {\n           session.CreateSQLQuery("CREATE TABLE #TempTable (Id INT, Name NVARCHAR(50))").ExecuteUpdate();\n           session.CreateSQLQuery("INSERT INTO #TempTable VALUES (1, 'John Doe')").ExecuteUpdate();\n           var result = session.CreateSQLQuery("SELECT * FROM #TempTable").List();\n           transaction.Commit();\n       }\n   }