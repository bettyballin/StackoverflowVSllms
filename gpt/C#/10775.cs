using NHibernate;\nusing NHibernate.Linq;\nusing System.Linq;\n\npublic class MyRepository\n{\n    private readonly ISession _session;\n\n    public MyRepository(ISession session)\n    {\n        _session = session;\n    }\n\n    public MyEntity GetEntityWithRelationships(int id)\n    {\n        var entity = _session.Query<MyEntity>()\n                             .Fetch(e => e.RelatedEntity1)\n                             .Fetch(e => e.RelatedEntity2)\n                             .FirstOrDefault(e => e.Id == id);\n\n        return entity;\n    }\n}