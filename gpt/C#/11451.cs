using System;\nusing System.IO;\nusing System.IO.Pipes;\nusing System.Threading.Tasks;\n\nnamespace ProcessB\n{\n    class Program\n    {\n        static async Task Main(string[] args)\n        {\n            using (var client = new NamedPipeClientStream(".", "ProfilePipe", PipeDirection.InOut))\n            {\n                await client.ConnectAsync();\n\n                using (var reader = new StreamReader(client))\n                using (var writer = new StreamWriter(client) { AutoFlush = true })\n                {\n                    await writer.WriteLineAsync("GetMetrics");\n\n                    var response = await reader.ReadLineAsync();\n                    Console.WriteLine("Received metrics: " + response);\n                }\n            }\n        }\n    }\n}