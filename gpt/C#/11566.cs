using System;\nusing System.Threading;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        AppDomain.CurrentDomain.ProcessExit += new EventHandler(OnProcessExit);\n\n        // Simulate some work with threads\n        Thread thread1 = new Thread(new ThreadStart(WorkerThread));\n        Thread thread2 = new Thread(new ThreadStart(WorkerThread));\n        thread1.Start();\n        thread2.Start();\n\n        // Keep the main thread running for demonstration purposes\n        Console.ReadLine();\n    }\n\n    static void WorkerThread()\n    {\n        while (true)\n        {\n            // Simulate work\n            Thread.Sleep(1000);\n            Console.WriteLine("Working...");\n        }\n    }\n\n    static void OnProcessExit(object sender, EventArgs e)\n    {\n        Console.WriteLine("Process is exiting...");\n        \n        // Perform cleanup here\n        // e.g., close file handles, stop threads, release resources, etc.\n    }\n}