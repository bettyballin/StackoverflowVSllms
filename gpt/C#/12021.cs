using System;\n   using System.Data;\n   using System.Data.SqlClient;\n   using System.Net;\n   using Microsoft.SqlServer.Server;\n\n   public class DNSResolver\n   {\n       [Microsoft.SqlServer.Server.SqlProcedure]\n       public static void ResolveHostname(string hostname, out string ipAddress)\n       {\n           ipAddress = string.Empty;\n           try\n           {\n               IPHostEntry hostEntry = Dns.GetHostEntry(hostname);\n               if (hostEntry.AddressList.Length > 0)\n               {\n                   ipAddress = hostEntry.AddressList[0].ToString();\n               }\n           }\n           catch (Exception ex)\n           {\n               ipAddress = "Error: " + ex.Message;\n           }\n       }\n   }