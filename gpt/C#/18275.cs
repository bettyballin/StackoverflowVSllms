using CommandLine;\n\nclass Options\n{\n    [Option('n', "name", Required = true, HelpText = "Name to be displayed.")]\n    public string Name { get; set; }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Parser.Default.ParseArguments<Options>(args)\n            .WithParsed<Options>(opts => RunOptions(opts))\n            .WithNotParsed<Options>((errs) => HandleParseError(errs));\n    }\n\n    static void RunOptions(Options opts)\n    {\n        Console.WriteLine($"Hello, {opts.Name}!");\n    }\n\n    static void HandleParseError(IEnumerable<Error> errs)\n    {\n        foreach (var error in errs)\n        {\n            Console.Error.WriteLine(error.ToString());\n        }\n        Environment.Exit(1); // Exit with error code\n    }\n}