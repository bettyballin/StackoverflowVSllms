using System;\nusing System.Data;\n\npublic class DataSetLockExample\n{\n    public static void Main()\n    {\n        DataSet ds = new DataSet();\n        \n        // Adding a DataTable to the DataSet\n        DataTable dt = new DataTable("ExampleTable");\n        ds.Tables.Add(dt);\n\n        // Locking the DataSet\n        LockDataSet(ds);\n\n        // Trying to add a new row after locking\n        if (!IsDataSetLocked(ds))\n        {\n            DataRow newRow = dt.NewRow();\n            dt.Rows.Add(newRow);\n        }\n        else\n        {\n            Console.WriteLine("DataSet is locked. No updates are allowed.");\n        }\n    }\n\n    public static void LockDataSet(DataSet ds)\n    {\n        ds.ExtendedProperties["IsLocked"] = true;\n    }\n\n    public static bool IsDataSetLocked(DataSet ds)\n    {\n        if (ds.ExtendedProperties.ContainsKey("IsLocked"))\n        {\n            return (bool)ds.ExtendedProperties["IsLocked"];\n        }\n        return false;\n    }\n}