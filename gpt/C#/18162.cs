public class ProviderLoader\n{\n    public void LoadProvider()\n    {\n        if (EnvironmentChecker.IsRunningUnderWebServer())\n        {\n            // Load provider using System.Web.Configuration.ProvidersHelper\n            // Example: LoadProviderFromWebConfig();\n        }\n        else\n        {\n            // Load provider using stand-alone configuration\n            // Example: LoadProviderFromStandaloneConfig();\n        }\n    }\n}