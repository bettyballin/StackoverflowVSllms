using System;\nusing System.Configuration;\nusing System.Web.Configuration;\n\nclass Program\n{\n    static void Main()\n    {\n        // Obtain the configuration file\n        Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None); // For WinForms\n        // Configuration config = WebConfigurationManager.OpenWebConfiguration("~"); // For ASP.NET\n\n        // Encrypt the connectionStrings section\n        ProtectConfigurationSection(config, "connectionStrings");\n\n        // Encrypt the appSettings section\n        ProtectConfigurationSection(config, "appSettings");\n\n        // Save the updated configuration file\n        config.Save(ConfigurationSaveMode.Modified);\n\n        Console.WriteLine("Configuration sections encrypted successfully.");\n    }\n\n    static void ProtectConfigurationSection(Configuration config, string sectionName)\n    {\n        ConfigurationSection section = config.GetSection(sectionName);\n\n        if (section != null && !section.SectionInformation.IsProtected && !section.ElementInformation.IsLocked)\n        {\n            section.SectionInformation.ProtectSection("DataProtectionConfigurationProvider");\n            section.SectionInformation.ForceSave = true;\n        }\n    }\n}