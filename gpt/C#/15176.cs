public ActionResult Login(LoginViewModel model)\n{\n    if (ModelState.IsValid)\n    {\n        var user = UserManager.Find(model.Username, model.Password);\n        if (user != null)\n        {\n            SignInManager.SignIn(user, isPersistent: false, rememberBrowser: false);\n\n            if (UserManager.IsInRole(user.Id, "Admin"))\n            {\n                // Set session timeout for Admin users to 3 hours\n                Session.Timeout = 180; // 180 minutes\n            }\n            else\n            {\n                // Set session timeout for standard users to 30 minutes\n                Session.Timeout = 30; // 30 minutes\n            }\n\n            return RedirectToAction("Index", "Home");\n        }\n        else\n        {\n            ModelState.AddModelError("", "Invalid login attempt.");\n        }\n    }\n\n    // If we got this far, something failed, redisplay form\n    return View(model);\n}