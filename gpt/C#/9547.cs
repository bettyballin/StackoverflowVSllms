using System;\nusing NLog;\nusing NLog.Targets;\nusing System.Data.Linq;\n\nnamespace YourNamespace\n{\n    [Target("LinqToSqlTarget")]\n    public class LinqToSqlTarget : TargetWithLayout\n    {\n        private readonly YourDataContext _dbContext;\n\n        public LinqToSqlTarget()\n        {\n            _dbContext = new YourDataContext(); // Initialize your DataContext appropriately\n        }\n\n        protected override void Write(LogEventInfo logEvent)\n        {\n            var logMessage = this.Layout.Render(logEvent);\n\n            // Create a new log entry object (assuming you have a LogEntry class and LogEntries table)\n            var logEntry = new LogEntry\n            {\n                Timestamp = DateTime.Now,\n                Level = logEvent.Level.Name,\n                Message = logMessage,\n                Logger = logEvent.LoggerName\n            };\n\n            // Insert the log entry into the database\n            _dbContext.LogEntries.InsertOnSubmit(logEntry);\n            _dbContext.SubmitChanges();\n        }\n    }\n}