using System;\nusing Microsoft.SqlServer.Management.Smo;\nusing Microsoft.SqlServer.Management.Common;\n\nnamespace SMOExample\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Connect to the local, default instance of SQL Server.\n            Server server = new Server(new ServerConnection("localhost"));\n\n            // Define a new login.\n            Login newLogin = new Login(server, "MyNewLogin");\n            newLogin.LoginType = LoginType.SqlLogin;\n            newLogin.Create("StrongPassword123!"); // Set a strong password.\n\n            // Granting server role.\n            newLogin.AddToRole("sysadmin");\n\n            // Define a database user.\n            Database db = server.Databases["YourDatabase"];\n            User dbUser = new User(db, "MyNewUser");\n            dbUser.Login = "MyNewLogin";\n            dbUser.Create();\n\n            // Grant permissions to the user.\n            dbUser.AddToRole("db_datareader");\n            dbUser.AddToRole("db_datawriter");\n\n            // Save changes.\n            server.Alter();\n            \n            Console.WriteLine("Login and user created successfully.");\n        }\n    }\n}