public class DbContextFactory\n    {\n        public static MyDbContext CreateDbContext()\n        {\n            var optionsBuilder = new DbContextOptionsBuilder<MyDbContext>();\n            var connectionString = ConfigurationManager.ConnectionStrings["DefaultConnection"].ConnectionString;\n            var provider = ConfigurationManager.AppSettings["DatabaseProvider"];\n\n            if (provider == "SqlServer")\n            {\n                optionsBuilder.UseSqlServer(connectionString);\n            }\n            else if (provider == "Oracle")\n            {\n                optionsBuilder.UseOracle(connectionString);\n            }\n\n            return new MyDbContext(optionsBuilder.Options);\n        }\n    }