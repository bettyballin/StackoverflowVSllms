public class CustomPrincipal : IPrincipal\n   {\n       private IIdentity _identity;\n       private string[] _roles;\n\n       public CustomPrincipal(IIdentity identity, string[] roles)\n       {\n           _identity = identity;\n           _roles = roles;\n       }\n\n       public IIdentity Identity => _identity;\n\n       public bool IsInRole(string role)\n       {\n           return _roles.Contains(role);\n       }\n   }\n\n   public class CustomIdentity : IIdentity\n   {\n       public string AuthenticationType => "Custom";\n       public bool IsAuthenticated { get; private set; }\n       public string Name { get; private set; }\n\n       public CustomIdentity(string name, bool isAuthenticated)\n       {\n           Name = name;\n           IsAuthenticated = isAuthenticated;\n       }\n   }