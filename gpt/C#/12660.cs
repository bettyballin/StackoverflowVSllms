public class SnapshotAnalyzer\n{\n    private bool snapshotTaken = false;\n\n    public void TakeSnapshot()\n    {\n        // Code to take snapshot\n        snapshotTaken = true;\n    }\n\n    public void AnalyzeSnapshot()\n    {\n        if (!snapshotTaken)\n        {\n            throw new InvalidOperationException("Cannot analyze snapshot before taking it.");\n        }\n\n        // Code to analyze snapshot\n    }\n}