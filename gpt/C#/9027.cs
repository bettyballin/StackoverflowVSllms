using System;\n   using System.Web;\n\n   public class UrlRewriteModule : IHttpModule\n   {\n       public void Init(HttpApplication context)\n       {\n           context.BeginRequest += new EventHandler(OnBeginRequest);\n       }\n\n       private void OnBeginRequest(object sender, EventArgs e)\n       {\n           HttpApplication application = (HttpApplication)sender;\n           HttpContext context = application.Context;\n           string requestUrl = context.Request.Url.ToString();\n\n           if (requestUrl.Contains("/something/"))\n           {\n               string id = requestUrl.Substring(requestUrl.LastIndexOf("/") + 1);\n               string newUrl = "http://someotherserver/applications/something/modules/default.aspx?id=" + id;\n               context.Response.Status = "301 Moved Permanently";\n               context.Response.AddHeader("Location", newUrl);\n               context.Response.End();\n           }\n       }\n\n       public void Dispose()\n       {\n           // Add clean-up code here if needed.\n       }\n   }