using System.ServiceModel.Description;\nusing System.ServiceModel.Dispatcher;\n\npublic class BasicAuthServiceBehavior : Attribute, IServiceBehavior\n{\n    public void AddBindingParameters(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase, Collection<ServiceEndpoint> endpoints, BindingParameterCollection bindingParameters)\n    {\n    }\n\n    public void ApplyDispatchBehavior(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase)\n    {\n        foreach (var endpoint in serviceDescription.Endpoints)\n        {\n            endpoint.DispatchRuntime.MessageInspectors.Add(new BasicAuthMessageInspector());\n        }\n    }\n\n    public void Validate(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase)\n    {\n    }\n}