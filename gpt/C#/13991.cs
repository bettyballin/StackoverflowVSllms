using System.IO;\nusing System.Web.UI;\n\npublic class SpaceIndentedHtmlTextWriter : HtmlTextWriter\n{\n    private const string IndentString = "    "; // 4 spaces\n\n    public SpaceIndentedHtmlTextWriter(TextWriter writer) : base(writer)\n    {\n        IndentChar = ' ';\n        Indent = 4;\n    }\n\n    public override void WriteLine()\n    {\n        base.WriteLine();\n        for (int i = 0; i < Indent; i++)\n        {\n            base.Write(IndentString);\n        }\n    }\n}\n\n// Usage example\nTextWriter sw = new StringWriter();\nHtmlTextWriter htmlWriter = new SpaceIndentedHtmlTextWriter(sw);\nhtmlWriter.WriteFullBeginTag("html");\nhtmlWriter.WriteLine();\nhtmlWriter.WriteFullBeginTag("body");\nhtmlWriter.WriteLine();\nhtmlWriter.Indent++;\nhtmlWriter.WriteFullBeginTag("div");\nhtmlWriter.WriteLine();\nhtmlWriter.Indent++;\nhtmlWriter.WriteFullBeginTag("p");\nhtmlWriter.Write("foo");\nhtmlWriter.WriteEndTag("p");\nhtmlWriter.Indent--;\nhtmlWriter.WriteLine();\nhtmlWriter.WriteEndTag("div");    \nhtmlWriter.Indent--;\nhtmlWriter.WriteLine();\nhtmlWriter.WriteEndTag("body");\nhtmlWriter.WriteLine();\nhtmlWriter.WriteEndTag("html");\n\nstring result = sw.ToString();\nConsole.WriteLine(result);