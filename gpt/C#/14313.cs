// Save selected values to session\nprotected void SaveControlStateToSession()\n{\n    Session["SelectedCheckboxes"] = CheckBoxList1.Items.Cast<ListItem>()\n                                  .Where(i => i.Selected)\n                                  .Select(i => i.Value)\n                                  .ToList();\n    Session["SelectedDropDown"] = DropDownList1.SelectedValue;\n}\n\n// Restore selected values from session\nprotected void RestoreControlStateFromSession()\n{\n    if(Session["SelectedCheckboxes"] != null)\n    {\n        var selectedCheckboxes = (List<string>)Session["SelectedCheckboxes"];\n        foreach(ListItem item in CheckBoxList1.Items)\n        {\n            item.Selected = selectedCheckboxes.Contains(item.Value);\n        }\n    }\n\n    if(Session["SelectedDropDown"] != null)\n    {\n        DropDownList1.SelectedValue = Session["SelectedDropDown"].ToString();\n    }\n}\n\n// Example of calling these methods\nprotected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        RestoreControlStateFromSession();\n    }\n}\n\nprotected void Button_Click(object sender, EventArgs e)\n{\n    SaveControlStateToSession();\n    // Perform other actions\n}