using System;\nusing System.Windows.Forms;\n\npublic class CustomOpenFileDialog : Form\n{\n    private ListView fileListView;\n    private Button openButton;\n    private Button cancelButton;\n\n    public string SelectedFile { get; private set; }\n\n    public CustomOpenFileDialog()\n    {\n        this.Text = "Open File";\n        this.Size = new System.Drawing.Size(400, 300);\n\n        fileListView = new ListView\n        {\n            Dock = DockStyle.Top,\n            Height = 200,\n            View = View.List,\n            // populate the ListView with files\n        };\n        fileListView.MouseUp += FileListView_MouseUp;\n\n        openButton = new Button\n        {\n            Text = "Open",\n            Dock = DockStyle.Left\n        };\n        openButton.Click += OpenButton_Click;\n\n        cancelButton = new Button\n        {\n            Text = "Cancel",\n            Dock = DockStyle.Right\n        };\n        cancelButton.Click += (sender, e) => this.DialogResult = DialogResult.Cancel;\n\n        this.Controls.Add(fileListView);\n        this.Controls.Add(openButton);\n        this.Controls.Add(cancelButton);\n    }\n\n    private void FileListView_MouseUp(object sender, MouseEventArgs e)\n    {\n        if (e.Button == MouseButtons.Right)\n        {\n            // Suppress the context menu\n            // Optionally, you can show your own context menu here if needed\n        }\n    }\n\n    private void OpenButton_Click(object sender, EventArgs e)\n    {\n        if (fileListView.SelectedItems.Count > 0)\n        {\n            SelectedFile = fileListView.SelectedItems[0].Text;\n            this.DialogResult = DialogResult.OK;\n        }\n        else\n        {\n            MessageBox.Show("Please select a file.");\n        }\n    }\n\n    public static string ShowDialog()\n    {\n        using (var dialog = new CustomOpenFileDialog())\n        {\n            return dialog.ShowDialog() == DialogResult.OK ? dialog.SelectedFile : null;\n        }\n    }\n}\n\n// Usage\npublic class Program\n{\n    [STAThread]\n    public static void Main()\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n\n        string selectedFile = CustomOpenFileDialog.ShowDialog();\n        if (selectedFile != null)\n        {\n            MessageBox.Show("You selected: " + selectedFile);\n        }\n    }\n}