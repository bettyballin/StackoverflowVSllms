public class Startup\n{\n    public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n    {\n        // Add custom authentication middleware to the pipeline\n        app.UseCustomAuthentication();\n\n        // Other middlewares like routing, endpoints, etc.\n        app.UseRouting();\n        app.UseEndpoints(endpoints =>\n        {\n            endpoints.MapControllers();\n        });\n    }\n}