// Example in ASP.NET MVC\n   [HttpGet]\n   [Authorize]\n   public ActionResult Edit(int id)\n   {\n       var userId = User.Identity.GetUserId();\n       var profile = _profileService.GetProfileById(id);\n\n       if (profile == null || profile.UserId != userId)\n       {\n           return new HttpStatusCodeResult(HttpStatusCode.Forbidden);\n       }\n\n       ViewBag.AntiForgeryToken = AntiForgery.GetHtml();\n       return View(profile);\n   }\n\n   [HttpPost]\n   [ValidateAntiForgeryToken]\n   [Authorize]\n   public ActionResult Edit(ProfileEditModel model)\n   {\n       if (ModelState.IsValid)\n       {\n           var userId = User.Identity.GetUserId();\n           var profile = _profileService.GetProfileById(model.Id);\n\n           if (profile == null || profile.UserId != userId)\n           {\n               return new HttpStatusCodeResult(HttpStatusCode.Forbidden);\n           }\n\n           _profileService.UpdateProfile(model);\n           return RedirectToAction("Index");\n       }\n\n       return View(model);\n   }