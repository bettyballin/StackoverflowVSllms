class Program\n{\n    static void Main(string[] args)\n    {\n        var serviceProvider = new ServiceCollection()\n            .AddDbContext<ApplicationDbContext>(options => options.UseSqlServer("YourConnectionString"))\n            .AddScoped<IProductRepository, ProductRepository>()\n            .BuildServiceProvider();\n\n        var productRepository = serviceProvider.GetService<IProductRepository>();\n\n        // Example usage\n        var newProduct = new Product { Name = "New Product", Price = 9.99m };\n        productRepository.Add(newProduct);\n\n        var products = productRepository.GetAll();\n        foreach (var product in products)\n        {\n            Console.WriteLine($"{product.ProductId}: {product.Name} - {product.Price}");\n        }\n    }\n}