using System;\nusing System.Web.Mvc;\n\npublic class RequireHttpsCustomAttribute : RequireHttpsAttribute\n{\n    protected override void HandleNonHttpsRequest(AuthorizationContext filterContext)\n    {\n        if (filterContext.HttpContext.Request.IsLocal)\n        {\n            return;\n        }\n\n        string url = "https://" + filterContext.HttpContext.Request.Url.Host + filterContext.HttpContext.Request.RawUrl;\n        filterContext.Result = new RedirectResult(url);\n    }\n}