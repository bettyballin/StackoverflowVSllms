<if condition="!ViewData.ModelState.IsValid">\n  <div class="error-summary">\n    <ul>\n    <for each="var modelState in ViewData.ModelState.Values">\n      <for each="var error in modelState.Errors">\n        <li>${error.ErrorMessage}</li>\n      </for>\n    </for>\n    </ul>\n  </div>\n</if>\n\n<input type="text" value="${ViewData.Model.Name}" \n       class="text ?{ViewData.ModelState.ContainsKey('Name') && \n                     ViewData.ModelState['Name'].Errors.Count > 0} error" \n       id="Name" name="Name" />