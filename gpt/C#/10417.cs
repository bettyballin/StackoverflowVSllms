using System;\nusing System.Text.RegularExpressions;\n\nclass Program\n{\n    static void Main()\n    {\n        string input = "d+c+d+f+d+c+d+f+d+c+d+f+d+c+d+f+";\n        string output = CompressRepeatingPatterns(input);\n        Console.WriteLine(output);\n    }\n\n    static string CompressRepeatingPatterns(string input)\n    {\n        var regex = new Regex(@"(.+?)\1+");\n        var match = regex.Match(input);\n\n        if (match.Success)\n        {\n            string repeatingPattern = match.Groups[1].Value;\n            int count = input.Length / repeatingPattern.Length;\n            return $"[{repeatingPattern}]{count}";\n        }\n\n        return input;\n    }\n}