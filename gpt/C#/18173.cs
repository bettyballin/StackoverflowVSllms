using System;\nusing System.Data.SqlClient;\nusing System.Threading.Tasks;\n\npublic async Task<DataTable> GetDataFromSqlAsync(string connectionString, string query)\n{\n    using (SqlConnection conn = new SqlConnection(connectionString))\n    {\n        await conn.OpenAsync();\n        using (SqlCommand cmd = new SqlCommand(query, conn))\n        {\n            using (SqlDataReader reader = await cmd.ExecuteReaderAsync())\n            {\n                DataTable result = new DataTable();\n                result.Load(reader);\n                return result;\n            }\n        }\n    }\n}