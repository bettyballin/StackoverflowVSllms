using System;\nusing System.Text.RegularExpressions;\n\npublic class Program\n{\n    public static void Main()\n    {\n        string input = @"--comment 1 with;\nselect id from t_id;\n--comment 2 with ;\nselect name from t_id;\n/*comment 3 \nwith ;*/";\n\n        // Pattern to match semicolon in comments (single-line and multi-line)\n        string pattern = @"(--.*?;|/\*[\s\S]*?;[\s\S]*?\*/)";\n        \n        // Replace matched semicolon in comments with tilde\n        string result = Regex.Replace(input, pattern, m => m.Value.Replace(';', '~'));\n\n        Console.WriteLine(result);\n    }\n}