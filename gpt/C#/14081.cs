using System;\nusing System.IO;\n\npublic static class TextReaderExtensions\n{\n    public static TextReader ResetReader(TextReader reader)\n    {\n        if (reader is StreamReader streamReader)\n        {\n            streamReader.BaseStream.Seek(0, SeekOrigin.Begin);\n            streamReader.DiscardBufferedData();\n            return streamReader;\n        }\n        else if (reader is StringReader stringReader)\n        {\n            string originalString = stringReader.ReadToEnd();\n            stringReader = new StringReader(originalString);\n            return stringReader;\n        }\n        else\n        {\n            throw new NotSupportedException("Unsupported TextReader type");\n        }\n    }\n}