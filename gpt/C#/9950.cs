public class AppDbContext : DbContext\n{\n    public DbSet<BillingReference> BillingReferences { get; set; }\n    public DbSet<Bank> Banks { get; set; }\n    public DbSet<Country> Countries { get; set; }\n    public DbSet<Label> Labels { get; set; }\n    public DbSet<PaymentProvider> PaymentProviders { get; set; }\n    public DbSet<PaymentOption> PaymentOptions { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        // Configure entity inheritance\n        modelBuilder.Entity<BaseEntity>()\n            .HasDiscriminator<int>("EntityType")\n            .HasValue<Bank>(1)\n            .HasValue<Country>(2)\n            .HasValue<Label>(3)\n            .HasValue<PaymentProvider>(4)\n            .HasValue<PaymentOption>(5);\n\n        // Configure BillingReference relationships\n        modelBuilder.Entity<BillingReference>()\n            .HasOne(br => br.ReferencingEntity)\n            .WithMany()\n            .HasForeignKey(br => br.ReferencingId)\n            .OnDelete(DeleteBehavior.Restrict);\n\n        modelBuilder.Entity<BillingReference>()\n            .HasOne(br => br.ReferencedEntity)\n            .WithMany()\n            .HasForeignKey(br => br.ReferencedId)\n            .OnDelete(DeleteBehavior.Restrict);\n    }\n}