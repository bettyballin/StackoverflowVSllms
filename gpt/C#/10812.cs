using System;\nusing System.Runtime.InteropServices;\n\nclass Program\n{\n    [DllImport("user32.dll", SetLastError = true)]\n    private static extern IntPtr MonitorFromWindow(IntPtr hwnd, uint dwFlags);\n\n    [DllImport("dxva2.dll", SetLastError = true)]\n    private static extern bool GetMonitorBrightness(IntPtr hMonitor, out uint pdwMinimumBrightness, out uint pdwCurrentBrightness, out uint pdwMaximumBrightness);\n\n    [DllImport("dxva2.dll", SetLastError = true)]\n    private static extern bool SetMonitorBrightness(IntPtr hMonitor, uint dwNewBrightness);\n\n    [DllImport("user32.dll", SetLastError = true)]\n    private static extern IntPtr GetForegroundWindow();\n\n    private const uint MONITOR_DEFAULTTOPRIMARY = 1;\n\n    static void Main(string[] args)\n    {\n        IntPtr hwnd = GetForegroundWindow();\n        IntPtr hMonitor = MonitorFromWindow(hwnd, MONITOR_DEFAULTTOPRIMARY);\n\n        if (GetMonitorBrightness(hMonitor, out uint minBrightness, out uint currentBrightness, out uint maxBrightness))\n        {\n            uint newBrightness = (maxBrightness - minBrightness) / 2 + minBrightness; // Set to 50% brightness as an example\n            if (SetMonitorBrightness(hMonitor, newBrightness))\n            {\n                Console.WriteLine("Brightness set successfully.");\n            }\n            else\n            {\n                Console.WriteLine("Failed to set brightness.");\n            }\n        }\n        else\n        {\n            Console.WriteLine("Failed to get current brightness.");\n        }\n    }\n}