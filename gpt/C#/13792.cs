public static class AdifWriterFactory {\n    public static IAdifWriter GetWriter(string version) {\n        switch (version) {\n            case "1.0":\n                return new AdifWriterV1();\n            case "2.2.2":\n                return new AdifWriterV222();\n            // Add cases for future versions\n            default:\n                throw new NotSupportedException("Version not supported");\n        }\n    }\n}