private void Button_Click(object sender, RoutedEventArgs e)\n{\n    if (panel1.Visibility == Visibility.Collapsed)\n    {\n        panel1.Visibility = Visibility.Visible;\n        panel2.Visibility = Visibility.Collapsed;\n    }\n    else\n    {\n        panel1.Visibility = Visibility.Collapsed;\n        panel2.Visibility = Visibility.Visible;\n        \n        // Clear validation errors\n        BindingExpression binding = DataBoundTextBox.GetBindingExpression(TextBox.TextProperty);\n        if (binding != null)\n        {\n            Validation.ClearInvalid(binding);\n        }\n    }\n}