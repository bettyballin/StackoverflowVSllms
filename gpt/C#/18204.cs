using System;\nusing System.IO;\n\nclass Program\n{\n    static void Main()\n    {\n        // Define the directory to monitor\n        string path = @"C:\test";\n\n        // Create a new FileSystemWatcher\n        FileSystemWatcher watcher = new FileSystemWatcher\n        {\n            Path = path,\n            Filter = "*.*", // Monitor all files\n            NotifyFilter = NotifyFilters.FileName | NotifyFilters.DirectoryName\n        };\n\n        // Add event handlers\n        watcher.Renamed += new RenamedEventHandler(OnRenamed);\n\n        // Begin watching\n        watcher.EnableRaisingEvents = true;\n\n        // Keep the console window open\n        Console.WriteLine("Press 'q' to quit the sample.");\n        while (Console.Read() != 'q') ;\n    }\n\n    // Define the event handler\n    private static void OnRenamed(object source, RenamedEventArgs e)\n    {\n        // Show a message when a file is renamed\n        Console.WriteLine($"File: {e.OldFullPath} renamed to {e.FullPath}");\n    }\n}