using System;\nusing System.Runtime.InteropServices;\n\npublic class XInput\n{\n    [DllImport("xinput1_3.dll")]\n    private static extern int XInputGetState(int dwUserIndex, ref XINPUT_STATE pState);\n\n    [StructLayout(LayoutKind.Sequential)]\n    public struct XINPUT_STATE\n    {\n        public int dwPacketNumber;\n        public XINPUT_GAMEPAD Gamepad;\n    }\n\n    [StructLayout(LayoutKind.Sequential)]\n    public struct XINPUT_GAMEPAD\n    {\n        public short wButtons;\n        public byte bLeftTrigger;\n        public byte bRightTrigger;\n        public short sThumbLX;\n        public short sThumbLY;\n        public short sThumbRX;\n        public short sThumbRY;\n    }\n\n    public static bool GetInputState(int playerIndex, out XINPUT_STATE state)\n    {\n        state = new XINPUT_STATE();\n        int result = XInputGetState(playerIndex, ref state);\n        return result == 0; // ERROR_SUCCESS == 0\n    }\n}