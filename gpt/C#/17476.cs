public void CreateAuthCookie(string userName)\n{\n    FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(\n        1,                                   // Ticket version\n        userName,                            // Username associated with the ticket\n        DateTime.Now,                        // Date and time issued\n        DateTime.Now.AddMinutes(30),         // Date and time to expire\n        true,                                // "true" for a persistent user cookie\n        "",                                  // User data\n        FormsAuthentication.FormsCookiePath  // Cookie path\n    );\n\n    // Encrypt the ticket\n    string encryptedTicket = FormsAuthentication.Encrypt(ticket);\n\n    // Create the cookie\n    HttpCookie authCookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket)\n    {\n        HttpOnly = true,\n        Secure = FormsAuthentication.RequireSSL,\n        Expires = DateTime.Now.AddMinutes(30)\n    };\n\n    // Add the cookie to the response\n    HttpContext.Current.Response.Cookies.Add(authCookie);\n}