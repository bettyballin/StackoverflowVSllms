using System;\nusing System.ServiceModel;\nusing System.ServiceProcess;\n\npublic class MyWindowsService : ServiceBase\n{\n    public ServiceHost serviceHost = null;\n\n    public MyWindowsService()\n    {\n        ServiceName = "MyWCFService";\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        if (serviceHost != null)\n        {\n            serviceHost.Close();\n        }\n\n        serviceHost = new ServiceHost(typeof(MyWCFService));\n        serviceHost.Open();\n    }\n\n    protected override void OnStop()\n    {\n        if (serviceHost != null)\n        {\n            serviceHost.Close();\n            serviceHost = null;\n        }\n    }\n\n    public static void Main()\n    {\n        ServiceBase.Run(new MyWindowsService());\n    }\n}\n\n[ServiceContract]\npublic interface IMyWCFService\n{\n    [OperationContract]\n    string MyMethod();\n}\n\npublic class MyWCFService : IMyWCFService\n{\n    public string MyMethod()\n    {\n        return "Hello, WCF!";\n    }\n}