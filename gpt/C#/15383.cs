using System;\nusing System.Web;\n\npublic class FlashDetectionHandler : IHttpHandler\n{\n    public void ProcessRequest(HttpContext context)\n    {\n        context.Response.ContentType = "application/json";\n        var json = new System.IO.StreamReader(context.Request.InputStream).ReadToEnd();\n        dynamic data = Newtonsoft.Json.JsonConvert.DeserializeObject(json);\n        bool hasFlash = data.hasFlash;\n\n        var response = new\n        {\n            loadSplashImage = !hasFlash\n        };\n\n        context.Response.Write(Newtonsoft.Json.JsonConvert.SerializeObject(response));\n    }\n\n    public bool IsReusable\n    {\n        get { return false; }\n    }\n}