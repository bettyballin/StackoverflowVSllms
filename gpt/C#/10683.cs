using System.IO;\nusing System.Net;\nusing System.Net.Mail;\n\npublic void SendEmailWithAttachment(byte[] pdfData, string jobId, string serverName, int port, string fromEmailName, string fromEmailPassword, MailMessage msg)\n{\n    using (MemoryStream pdfStream = new MemoryStream())\n    {\n        pdfStream.Write(pdfData, 0, pdfData.Length);\n        pdfStream.Position = 0; // Reset the stream position to the beginning\n\n        Attachment attachment = new Attachment(pdfStream, \n            string.Format("Receipt_{0}_{1}.pdf", jobId, DateTime.UtcNow.ToString("yyyyMMddHHmm")));\n\n        msg.Attachments.Add(attachment);\n\n        SmtpClient smtp = new SmtpClient(serverName, port);\n        smtp.Credentials = new NetworkCredential(fromEmailName, fromEmailPassword);\n        smtp.Send(msg);\n    }\n}