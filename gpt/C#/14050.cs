var userIds = new List<int> { /* list of user IDs */ };\n\nvar currentProjects = \n    from p in db.Projects\n    join wp in db.Workplans on p.WorkplanId equals wp.WorkplanId\n    where userIds.Contains(wp.UserId)\n    group wp by wp.UserId into g\n    let maxDate = g.Max(w => w.WorkplanDate)\n    join wp in db.Workplans on new { g.Key, maxDate } equals new { wp.UserId, wp.WorkplanDate }\n    select new { wp, p };