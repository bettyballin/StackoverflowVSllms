using System;\nusing DinkToPdf;\nusing DinkToPdf.Contracts;\n\npublic class PdfConverter\n{\n    private readonly IConverter _converter;\n\n    public PdfConverter()\n    {\n        var context = new CustomAssemblyLoadContext();\n        context.LoadUnmanagedLibrary("libwkhtmltox.dll"); // Ensure the correct path to the native library\n\n        _converter = new SynchronizedConverter(new PdfTools());\n    }\n\n    public byte[] ConvertHtmlToPdf(string htmlContent)\n    {\n        var doc = new HtmlToPdfDocument()\n        {\n            GlobalSettings = {\n                ColorMode = ColorMode.Color,\n                Orientation = Orientation.Portrait,\n                PaperSize = PaperKind.A4\n            },\n            Objects = {\n                new ObjectSettings() {\n                    PagesCount = true,\n                    HtmlContent = htmlContent,\n                    WebSettings = { DefaultEncoding = "utf-8" }\n                }\n            }\n        };\n\n        return _converter.Convert(doc);\n    }\n}