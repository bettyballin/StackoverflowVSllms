using System;\nusing System.Web;\n\npublic class EncodingModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += new EventHandler(OnBeginRequest);\n    }\n\n    private void OnBeginRequest(object sender, EventArgs e)\n    {\n        HttpApplication app = (HttpApplication)sender;\n        HttpRequest request = app.Context.Request;\n\n        if (request.HttpMethod == "POST")\n        {\n            foreach (string key in request.Form.Keys)\n            {\n                if (request.Form[key] != null)\n                {\n                    string encodedValue = HttpUtility.HtmlEncode(request.Form[key]);\n                    app.Context.Items[key] = encodedValue;\n                }\n            }\n        }\n    }\n\n    public void Dispose() { }\n}