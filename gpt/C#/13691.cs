using System;\nusing System.Text;\nusing System.Web.Mvc;\nusing System.Xml.Serialization;\n\npublic class XmlResult : ActionResult\n{\n    private object _data;\n\n    public XmlResult(object data)\n    {\n        _data = data;\n    }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException("context");\n        }\n\n        var response = context.HttpContext.Response;\n        response.ContentType = "application/xml";\n\n        if (_data != null)\n        {\n            var serializer = new XmlSerializer(_data.GetType());\n            using (var writer = new System.IO.StringWriter())\n            {\n                serializer.Serialize(writer, _data);\n                response.Write(writer.ToString());\n            }\n        }\n    }\n}