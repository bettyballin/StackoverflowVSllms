using System;\nusing iTunesLib;\n\nnamespace iTunesEventCatcher\n{\n    class Program\n    {\n        private static iTunesApp iTunes;\n\n        static void Main(string[] args)\n        {\n            // Instantiate the iTunes application\n            iTunes = new iTunesApp();\n\n            // Register the event handler\n            iTunes.OnPlayerPlayingTrackChangedEvent += new _IiTunesEvents_OnPlayerPlayingTrackChangedEventEventHandler(iTunes_OnPlayerPlayingTrackChangedEvent);\n\n            // Keep the application running to listen for events\n            Console.WriteLine("Listening for iTunes track changes. Press Enter to exit.");\n            Console.ReadLine();\n        }\n\n        private static void iTunes_OnPlayerPlayingTrackChangedEvent(object iTrack)\n        {\n            if (iTunes.CurrentTrack != null)\n            {\n                if (iTunes.CurrentTrack.Artist != null && iTunes.CurrentTrack.Album != null && iTunes.CurrentTrack.Name != null)\n                {\n                    string artist = iTunes.CurrentTrack.Artist;\n                    string album = iTunes.CurrentTrack.Album;\n                    string title = iTunes.CurrentTrack.Name;\n\n                    Console.WriteLine($"Now playing: {artist} - {title} from the album {album}");\n                }\n            }\n        }\n    }\n}