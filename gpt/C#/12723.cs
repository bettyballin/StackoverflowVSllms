public static string Base64UrlDecode(string input)\n{\n    // Replace URL-safe base64 variant characters with standard base64 characters\n    var base64Encoded = input.Replace('-', '+')\n                             .Replace('_', '/');\n    \n    // Add padding if necessary\n    switch (base64Encoded.Length % 4)\n    {\n        case 2: base64Encoded += "=="; break;\n        case 3: base64Encoded += "="; break;\n    }\n\n    var decodedBytes = Convert.FromBase64String(base64Encoded);\n    var decodedString = System.Text.Encoding.UTF8.GetString(decodedBytes);\n    return decodedString;\n}