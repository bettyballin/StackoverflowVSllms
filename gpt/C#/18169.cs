public class ApplicationDbContext : DbContext\n   {\n       public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options)\n           : base(options)\n       {\n       }\n\n       public DbSet<MyEntity> MyEntities { get; set; }\n\n       protected override void OnModelCreating(ModelBuilder modelBuilder)\n       {\n           modelBuilder.Entity<MyEntity>()\n               .HasKey(e => e.Id);\n           \n           modelBuilder.Entity<MyEntity>()\n               .HasMany(e => e.RelatedEntities)\n               .WithOne(re => re.MyEntity)\n               .HasForeignKey(re => re.MyEntityId);\n\n           base.OnModelCreating(modelBuilder);\n       }\n   }\n\n   public class MyEntity\n   {\n       public int Id { get; set; }\n       public ICollection<RelatedEntity> RelatedEntities { get; set; }\n   }\n\n   public class RelatedEntity\n   {\n       public int Id { get; set; }\n       public int MyEntityId { get; set; }\n       public MyEntity MyEntity { get; set; }\n   }