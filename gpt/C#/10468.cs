var cfg = new Configuration();\n\n// Load NHibernate configuration settings\ncfg.Configure();\n\n// Adjust settings for medium trust (example)\ncfg.Properties[NHibernate.Cfg.Environment.ConnectionProvider] = "NHibernate.Connection.DriverConnectionProvider";\ncfg.Properties[NHibernate.Cfg.Environment.ProxyFactoryFactoryClass] = "NHibernate.Bytecode.DefaultProxyFactoryFactory, NHibernate";\n\n// Build session factory\nvar sessionFactory = cfg.BuildSessionFactory();