using System;\n   using System.ServiceModel;\n   using System.ServiceModel.Description;\n\n   namespace MockServiceHost\n   {\n       class Program\n       {\n           static void Main(string[] args)\n           {\n               Uri baseAddress = new Uri("http://localhost:8080/MyMockService");\n\n               using (ServiceHost host = new ServiceHost(typeof(MockService.MyMockService), baseAddress))\n               {\n                   try\n                   {\n                       // Add a service endpoint\n                       host.AddServiceEndpoint(typeof(MockService.MyMockService), new WSHttpBinding(), "MyMockService");\n\n                       // Enable metadata exchange\n                       ServiceMetadataBehavior smb = new ServiceMetadataBehavior();\n                       smb.HttpGetEnabled = true;\n                       smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;\n                       host.Description.Behaviors.Add(smb);\n\n                       // Open the host\n                       host.Open();\n\n                       Console.WriteLine("The service is ready at {0}", baseAddress);\n                       Console.WriteLine("Press <Enter> to stop the service.");\n                       Console.ReadLine();\n\n                       // Close the host\n                       host.Close();\n                   }\n                   catch (CommunicationException ce)\n                   {\n                       Console.WriteLine("An exception occurred: {0}", ce.Message);\n                       host.Abort();\n                   }\n               }\n           }\n       }\n   }