public class MyExecutionStrategy : SqlAzureExecutionStrategy\n{\n    public MyExecutionStrategy(int maxRetryCount, TimeSpan maxDelay) \n        : base(maxRetryCount, maxDelay) { }\n\n    protected override bool ShouldRetryOn(Exception exception)\n    {\n        if (exception is SqlException sqlException)\n        {\n            foreach (SqlError error in sqlException.Errors)\n            {\n                // Check for deadlock error number\n                if (error.Number == 1205)\n                {\n                    return true;\n                }\n            }\n        }\n        return base.ShouldRetryOn(exception);\n    }\n}\n\npublic class MyDbContext : DbContext\n{\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlServer("YourConnectionString")\n                      .UseExecutionStrategy(() => new MyExecutionStrategy(3, TimeSpan.FromSeconds(5)));\n    }\n}