using System;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        // Subscribe to the CancelKeyPress event\n        Console.CancelKeyPress += new ConsoleCancelEventHandler(OnCancelKeyPress);\n\n        Console.WriteLine("Press Ctrl+C to trigger the event and perform cleanup.");\n\n        // Keep the console application running to test the handler\n        while (true)\n        {\n            // Simulating some work\n            Console.Write(".");\n            System.Threading.Thread.Sleep(1000);\n        }\n    }\n\n    // Event handler for handling Ctrl+C\n    protected static void OnCancelKeyPress(object sender, ConsoleCancelEventArgs e)\n    {\n        // Perform cleanup here\n        Console.WriteLine("\nCtrl+C pressed. Cleaning up...");\n\n        // Set Cancel property to true to prevent the process from terminating\n        e.Cancel = true;\n\n        // Additional cleanup logic can be added here\n        Console.WriteLine("Cleanup complete. Exiting...");\n\n        // Exit the application\n        Environment.Exit(0);\n    }\n}