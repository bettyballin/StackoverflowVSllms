// Create the request\nWebRequest request = HttpWebRequest.Create(button.CommandArgument);\nrequest.Credentials = new NetworkCredential(_username, _password);\n\n// Get the response\nusing (WebResponse response = request.GetResponse())\n{\n    using (Stream responseStream = response.GetResponseStream())\n    {\n        // Set the response content type and headers\n        Response.ContentType = response.ContentType;\n        Response.AddHeader("Content-Disposition", "attachment; filename=" + Path.GetFileName(button.CommandArgument));\n        Response.AddHeader("Content-Length", response.ContentLength.ToString());\n\n        // Write the response stream directly to the output stream\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = responseStream.Read(buffer, 0, buffer.Length)) > 0)\n        {\n            Response.OutputStream.Write(buffer, 0, bytesRead);\n        }\n    }\n}\n\n// Ensure the response is properly flushed and ended\nResponse.Flush();\nResponse.End();