public class Program\n   {\n       static void Main(string[] args)\n       {\n           DiscoveryClient discoveryClient = new DiscoveryClient(new UdpDiscoveryEndpoint());\n           FindCriteria findCriteria = new FindCriteria(typeof(IMyService));\n           findCriteria.MaxResults = 1;\n\n           FindResponse findResponse = discoveryClient.Find(findCriteria);\n\n           if (findResponse.Endpoints.Count > 0)\n           {\n               EndpointAddress endpointAddress = findResponse.Endpoints[0].Address;\n               ChannelFactory<IMyService> factory = new ChannelFactory<IMyService>(new NetTcpBinding(), endpointAddress);\n               IMyService proxy = factory.CreateChannel();\n               Console.WriteLine(proxy.GetData(42));\n           }\n           else\n           {\n               Console.WriteLine("Service not found.");\n           }\n       }\n   }