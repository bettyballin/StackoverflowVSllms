using (var client = new Pop3Client())\n{\n    client.Connect("pop3.example.com", 110, false);\n    client.Authenticate("username", "password");\n\n    // Step 1: Retrieve the list of UIDs from the server\n    var uids = client.GetMessageUids();\n\n    // Step 2: Load the highest UID from the client's storage\n    var highestStoredUid = LoadHighestStoredUid(); // Implement this to load from local storage\n\n    // Step 3: Identify new messages\n    var newMessages = new List<int>();\n    foreach (var uid in uids)\n    {\n        if (string.Compare(uid, highestStoredUid) > 0)\n        {\n            newMessages.Add(uids.IndexOf(uid) + 1); // Convert UID list index to message sequence number\n        }\n    }\n\n    // Step 4: Retrieve new messages\n    foreach (var messageNumber in newMessages)\n    {\n        var message = client.GetMessage(messageNumber);\n        ProcessMessage(message); // Implement this to handle the message\n    }\n\n    // Step 5: Update the highest UID\n    if (newMessages.Count > 0)\n    {\n        highestStoredUid = uids[newMessages.Max() - 1];\n        SaveHighestStoredUid(highestStoredUid); // Implement this to save to local storage\n    }\n\n    client.Disconnect(true);\n}