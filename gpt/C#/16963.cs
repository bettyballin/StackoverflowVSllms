using System;\nusing System.IO;\nusing System.Xml;\n\nnamespace TempConsoleApp\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string text = "<?xml version=\"1.0\"?><tag1><tag2>Some text.</taagg2></tag1>";\n            int index = FindIndexOfInvalidXml(text);\n            Console.WriteLine(index);\n        }\n\n        private static int FindIndexOfInvalidXml(string xmlString)\n        {\n            using (var stringReader = new StringReader(xmlString))\n            {\n                using (var xmlReader = XmlReader.Create(stringReader))\n                {\n                    try\n                    {\n                        while (xmlReader.Read()) { }\n                    }\n                    catch (XmlException ex)\n                    {\n                        return GetCharIndexFromLinePosition(xmlString, ex.LineNumber, ex.LinePosition);\n                    }\n                }\n            }\n            return -1;\n        }\n\n        private static int GetCharIndexFromLinePosition(string text, int lineNumber, int linePosition)\n        {\n            if (lineNumber < 1 || linePosition < 1)\n                return -1;\n\n            int currentLine = 1;\n            int currentPosition = 1;\n\n            for (int i = 0; i < text.Length; i++)\n            {\n                if (currentLine == lineNumber && currentPosition == linePosition)\n                    return i;\n\n                if (text[i] == '\n')\n                {\n                    currentLine++;\n                    currentPosition = 1;\n                }\n                else\n                {\n                    currentPosition++;\n                }\n            }\n\n            return -1;\n        }\n    }\n}