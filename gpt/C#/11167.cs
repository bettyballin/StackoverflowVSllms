using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text.RegularExpressions;\n\npublic class Image\n{\n    public string Caption { get; set; }\n    // Other properties...\n}\n\npublic class ImageSearchResult\n{\n    public Image Image { get; set; }\n    public int MatchCount { get; set; }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        List<Image> images = new List<Image>\n        {\n            // Initialize with your image data\n        };\n\n        string userInput = "keyword1 keyword2";\n        List<string> keywords = userInput.Split(' ').ToList();\n\n        List<ImageSearchResult> searchResults = SearchImagesByKeywords(images, keywords);\n\n        foreach (var result in searchResults.OrderByDescending(r => r.MatchCount))\n        {\n            Console.WriteLine($"Caption: {result.Image.Caption}, Match Count: {result.MatchCount}");\n        }\n    }\n\n    public static List<ImageSearchResult> SearchImagesByKeywords(List<Image> images, List<string> keywords)\n    {\n        List<ImageSearchResult> results = new List<ImageSearchResult>();\n        \n        foreach (Image image in images)\n        {\n            int matchCount = 0;\n            foreach (string keyword in keywords)\n            {\n                string pattern = $@"\b{Regex.Escape(keyword)}\b";\n                if (Regex.IsMatch(image.Caption, pattern, RegexOptions.IgnoreCase))\n                {\n                    matchCount++;\n                }\n            }\n            if (matchCount > 0)\n            {\n                results.Add(new ImageSearchResult { Image = image, MatchCount = matchCount });\n            }\n        }\n\n        return results;\n    }\n}