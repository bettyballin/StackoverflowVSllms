IConnectionFactory factory = new NMSConnectionFactory("activemq:tcp://localhost:61616");\n   IConnection connection = factory.CreateConnection();\n   connection.Start();\n\n   ISession session = connection.CreateSession(AcknowledgementMode.AutoAcknowledge);\n   IDestination destination = session.GetQueue("yourQueue");\n\n   IMessageConsumer consumer = session.CreateConsumer(destination);\n   ((Apache.NMS.ActiveMQ.MessageConsumer)consumer).PrefetchSize = 100;\n\n   consumer.Listener += new MessageListener(OnMessage);