careers.jobdepartmentDataTable dtDepartments = new jobdepartmentTableAdapter().GetDepartmentByJobID(iJobID);\nif (dtDepartments.Count > 0)\n{\n    try\n    {\n        if(!dtDepartments[0].Isjob_department_idNull())\n        {\n            iDepartmentID = dtDepartments[0].job_department_id;\n        }\n        else\n        {\n            throw new Exception("job_department_id is DBNull");\n        }\n    }\n    catch (Exception ex)\n    {\n        // Log the detailed error information securely\n        // Consider using a logging framework like log4net, NLog, etc.\n        Context.Response.Write("error info: " + iJobID.ToString() + " - " + ex.Message);\n        Context.Response.End();\n    }\n}\nelse\n{\n    Context.Response.Write("No departments found for Job ID: " + iJobID.ToString());\n    Context.Response.End();\n}