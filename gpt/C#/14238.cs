public ActionResult UploadFile(HttpPostedFileBase file)\n{\n    if (file != null && file.ContentLength > 0)\n    {\n        var fileName = Path.GetFileName(file.FileName);\n        var path = Path.Combine(Server.MapPath("~/App_Data/uploads"), fileName);\n        \n        // Ensure the directory exists\n        if (!Directory.Exists(Path.GetDirectoryName(path)))\n        {\n            Directory.CreateDirectory(Path.GetDirectoryName(path));\n        }\n\n        using (var fileStream = new FileStream(path, FileMode.Create))\n        {\n            file.InputStream.CopyTo(fileStream);\n        }\n    }\n    \n    return RedirectToAction("Index");\n}