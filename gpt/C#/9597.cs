using System;\nusing Microsoft.SharePoint;\nusing Microsoft.SharePoint.Administration;\n\npublic void CreateManagedPath(string clientSiteUrl)\n{\n    SPSecurity.RunWithElevatedPrivileges(delegate ()\n    {\n        using (SPSite site = new SPSite("http://myintranet"))\n        {\n            SPWebApplication webApplication = site.WebApplication;\n            SPPrefixCollection managedPaths = webApplication.Prefixes;\n\n            string clientPath = new Uri(clientSiteUrl).AbsolutePath.TrimStart('/');\n\n            if (!managedPaths.Contains(clientPath))\n            {\n                webApplication.Prefixes.Add(clientPath, SPPrefixType.ExplicitInclusion);\n                webApplication.Update();\n            }\n        }\n    });\n}