using System;\nusing System.Net;\nusing System.Net.Mail;\nusing System.Windows.Forms;\n\npublic class ErrorReportSender\n{\n    public static void SendErrorReport(string errorDetails)\n    {\n        try\n        {\n            // Set up the email client\n            SmtpClient client = new SmtpClient("smtp.your-email-provider.com");\n            client.Port = 587; // Use the appropriate port for your email provider\n            client.Credentials = new NetworkCredential("your-email@example.com", "your-email-password");\n            client.EnableSsl = true; // Enable SSL for security\n\n            // Create the email message\n            MailMessage mailMessage = new MailMessage();\n            mailMessage.From = new MailAddress("your-email@example.com");\n            mailMessage.To.Add("fogbugz-email@example.com");\n            mailMessage.Subject = "Error Report";\n            mailMessage.Body = errorDetails;\n\n            // Send the email\n            client.Send(mailMessage);\n\n            MessageBox.Show("Error report sent successfully.", "Success", MessageBoxButtons.OK, MessageBoxIcon.Information);\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show($"Failed to send error report: {ex.Message}", "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n    }\n}\n\n// Usage example in your exception handler\ntry\n{\n    // Your application code here\n}\ncatch (Exception ex)\n{\n    // Show a message box to prompt the user to send the error report\n    DialogResult result = MessageBox.Show("An error occurred. Would you like to send an error report?", "Error", MessageBoxButtons.YesNo, MessageBoxIcon.Error);\n    if (result == DialogResult.Yes)\n    {\n        ErrorReportSender.SendErrorReport(ex.ToString());\n    }\n}