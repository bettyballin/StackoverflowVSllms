using System;\nusing System.Net;\nusing System.Net.Http;\n\npublic class ProxyHandler\n{\n    public static void Main()\n    {\n        // Create an instance of HttpClientHandler\n        HttpClientHandler handler = new HttpClientHandler\n        {\n            // Use the default proxy settings from IE\n            UseProxy = true,\n            Proxy = WebRequest.GetSystemWebProxy(),\n            // Use default credentials (Windows credentials)\n            UseDefaultCredentials = true,\n            // Automatically send default credentials\n            PreAuthenticate = true\n        };\n\n        using (HttpClient client = new HttpClient(handler))\n        {\n            try\n            {\n                // Example request to a web service\n                HttpResponseMessage response = client.GetAsync("http://ws.lokad.com/").Result;\n                if (response.IsSuccessStatusCode)\n                {\n                    Console.WriteLine("Request succeeded.");\n                }\n                else\n                {\n                    Console.WriteLine("Request failed: " + response.StatusCode);\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine("Error: " + ex.Message);\n            }\n        }\n    }\n}