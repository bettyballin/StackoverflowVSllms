using System;\nusing System.Net;\n\nclass Program\n{\n    static void Main()\n    {\n        string[] hostnames = { "google.com", "facebook.com", "amazon.com" };\n        bool success = true;\n\n        foreach (string hostname in hostnames)\n        {\n            try\n            {\n                IPHostEntry hostEntry = Dns.GetHostEntry(hostname);\n                Console.WriteLine($"Success for {hostname}");\n            }\n            catch (Exception ex)\n            {\n                success = false;\n                Console.WriteLine($"Failed to lookup {hostname}: {ex.Message}");\n            }\n        }\n\n        if (success)\n        {\n            Console.WriteLine("All DNS lookups were successful.");\n        }\n        else\n        {\n            Console.WriteLine("Some DNS lookups failed.");\n        }\n    }\n}