public class AuthorizationService\n   {\n       private readonly IUserRepository _userRepository;\n       private readonly IRoleRepository _roleRepository;\n\n       public AuthorizationService(IUserRepository userRepository, IRoleRepository roleRepository)\n       {\n           _userRepository = userRepository;\n           _roleRepository = roleRepository;\n       }\n\n       public bool IsUserAuthorized(int userId, string permission)\n       {\n           var userRoles = _userRepository.GetUserRoles(userId);\n           var rolePermissions = _roleRepository.GetRolePermissions(userRoles);\n           return rolePermissions.Contains(permission);\n       }\n   }