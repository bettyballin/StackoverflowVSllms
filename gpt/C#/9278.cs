private void button1_Click(object sender, EventArgs e)\n{\n    if (shadowForm.Visible)\n    {\n        shadowForm.Hide();\n    }\n    else\n    {\n        this.Update(); // Force the main form to update its layout and position.\n        shadowForm.Size = this.Size; // this always works\n        shadowForm.Location = this.Location; // this now works correctly the first time\n        shadowForm.Show();\n    }\n}