public class OrdersController : Controller\n{\n    private readonly IOrderRepository _orderRepository;\n    private readonly IOrderService _orderService;\n\n    public OrdersController(IOrderRepository orderRepository, IOrderService orderService)\n    {\n        _orderRepository = orderRepository;\n        _orderService = orderService;\n    }\n\n    public IActionResult Index()\n    {\n        var orders = _orderRepository.GetAllOrders();\n        return View(orders);\n    }\n\n    public IActionResult Details(int id)\n    {\n        var order = _orderRepository.GetOrderById(id);\n        if (order == null)\n        {\n            return NotFound();\n        }\n\n        order = _orderService.CalculateOrderTotal(order);\n        return View(order);\n    }\n\n    // Other actions\n}