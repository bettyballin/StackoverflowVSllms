using System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Threading.Tasks;\n\nnamespace HttpClientWindowsAuthExample\n{\n    class Program\n    {\n        static async Task Main(string[] args)\n        {\n            var handler = new HttpClientHandler\n            {\n                UseDefaultCredentials = true\n            };\n            \n            using (var client = new HttpClient(handler))\n            {\n                client.DefaultRequestHeaders.Accept.Clear();\n                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));\n\n                try\n                {\n                    var response = await client.GetAsync("http://yourserver/yourfile");\n                    response.EnsureSuccessStatusCode();\n\n                    var responseBody = await response.Content.ReadAsStringAsync();\n                    Console.WriteLine(responseBody);\n                }\n                catch (HttpRequestException e)\n                {\n                    Console.WriteLine("\nException Caught!");\n                    Console.WriteLine("Message :{0} ", e.Message);\n                }\n            }\n        }\n    }\n}