using System;\nusing System.Web;\n\npublic class ContentLengthModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.EndRequest += new EventHandler(OnEndRequest);\n    }\n\n    private void OnEndRequest(object sender, EventArgs e)\n    {\n        HttpApplication application = (HttpApplication)sender;\n        HttpContext context = application.Context;\n        \n        // Calculate the content length\n        int contentLength = context.Response.OutputStream.Length;\n\n        // Alternatively, you can get the Content-Length header if present\n        string contentLengthHeader = context.Response.Headers["Content-Length"];\n        \n        if (!string.IsNullOrEmpty(contentLengthHeader) && int.TryParse(contentLengthHeader, out int headerContentLength))\n        {\n            contentLength = headerContentLength;\n        }\n        \n        // Log or process the content length\n        // Example: Log to a file or database\n        // LogContentLength(contentLength);\n    }\n\n    public void Dispose()\n    {\n        // Clean-up code here.\n    }\n}