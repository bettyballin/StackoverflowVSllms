public void ProcessRequest(HttpContext context)\n{\n    context.Response.ContentType = "application/json";\n    try\n    {\n        // Your user creation logic here\n        // If there's an error, throw a specific exception\n        throw new Exception("DuplicateUserName");\n\n        // On success\n        context.Response.StatusCode = 200;\n        context.Response.Write("{\"status\": \"success\", \"message\": \"User created successfully\"}");\n    }\n    catch (Exception ex)\n    {\n        context.Response.StatusCode = 400; // Bad Request\n        context.Response.Write("{\"status\": \"error\", \"message\": \"" + ex.Message + "\"}");\n    }\n}