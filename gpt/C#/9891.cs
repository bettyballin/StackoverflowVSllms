using System;\nusing System.Data.SqlClient;\nusing System.IO;\nusing UglyToad.PdfPig;\n\npublic partial class Upload : System.Web.UI.Page\n{\n    protected void UploadButton_Click(object sender, EventArgs e)\n    {\n        if (fileUpload.HasFile)\n        {\n            string fileName = Path.GetFileName(fileUpload.PostedFile.FileName);\n            byte[] fileData = fileUpload.FileBytes;\n\n            // Extract text from PDF\n            string extractedText = ExtractTextFromPdf(fileData);\n\n            // Save PDF and extracted text to the database\n            SaveToDatabase(fileName, fileData, extractedText);\n        }\n    }\n\n    private string ExtractTextFromPdf(byte[] pdfData)\n    {\n        using (var stream = new MemoryStream(pdfData))\n        using (var document = PdfDocument.Open(stream))\n        {\n            var text = new StringWriter();\n            foreach (var page in document.GetPages())\n            {\n                text.WriteLine(page.Text);\n            }\n            return text.ToString();\n        }\n    }\n\n    private void SaveToDatabase(string fileName, byte[] fileData, string extractedText)\n    {\n        string connectionString = "your-connection-string";\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            using (SqlCommand command = new SqlCommand("INSERT INTO PdfFiles (FileName, FileData, ExtractedText) VALUES (@FileName, @FileData, @ExtractedText)", connection))\n            {\n                command.Parameters.AddWithValue("@FileName", fileName);\n                command.Parameters.AddWithValue("@FileData", fileData);\n                command.Parameters.AddWithValue("@ExtractedText", extractedText);\n                command.ExecuteNonQuery();\n            }\n        }\n    }\n}