private void TransferFile()\n{\n    try\n    {\n        string filePath = Server.MapPath("SomeJarFile.jar");\n\n        FileInfo file = new FileInfo(filePath);\n\n        if (file.Exists)\n        {\n            Response.Clear();\n            Response.ClearHeaders();\n            Response.ClearContent();\n\n            Response.AddHeader("Content-Disposition", "attachment; filename=" + file.Name);\n            Response.AddHeader("Content-Length", file.Length.ToString());\n            Response.ContentType = ReturnExtension(file.Extension.ToLower());\n            Response.AddHeader("Content-Transfer-Encoding", "binary");\n            Response.Flush();\n\n            Response.TransmitFile(file.FullName);\n            Response.End();\n        }\n        else\n        {\n            Response.Write("Error in finding file. Please try again.");\n            Response.Flush();\n        }\n    }\n    catch (Exception ex)\n    {\n        Response.Write(string.Format("Error: {0}", ex.Message));\n    }\n}\n\nprivate string ReturnExtension(string fileExtension)\n{\n    switch (fileExtension)\n    {\n        case ".htm":\n        case ".html":\n        case ".log":\n            return "text/HTML";\n        case ".txt":\n            return "text/plain";\n        case ".doc":\n            return "application/ms-word";\n        case ".tiff":\n        case ".tif":\n            return "image/tiff";\n        case ".asf":\n            return "video/x-ms-asf";\n        case ".avi":\n            return "video/avi";\n        case ".zip":\n            return "application/zip";\n        case ".xls":\n        case ".csv":\n            return "application/vnd.ms-excel";\n        case ".gif":\n            return "image/gif";\n        case ".jpg":\n        case ".jpeg":\n            return "image/jpeg";\n        case ".bmp":\n            return "image/bmp";\n        case ".wav":\n            return "audio/wav";\n        case ".mp3":\n            return "audio/mpeg3";\n        case ".mpg":\n        case ".mpeg":\n            return "video/mpeg";\n        case ".rtf":\n            return "application/rtf";\n        case ".asp":\n            return "text/asp";\n        case ".pdf":\n            return "application/pdf";\n        case ".fdf":\n            return "application/vnd.fdf";\n        case ".ppt":\n            return "application/mspowerpoint";\n        case ".dwg":\n            return "image/vnd.dwg";\n        case ".msg":\n            return "application/msoutlook";\n        case ".xml":\n        case ".sdxl":\n            return "application/xml";\n        case ".xdp":\n            return "application/vnd.adobe.xdp+xml";\n        case ".jar":\n            return "application/java-archive";\n        default:\n            return "application/octet-stream";\n    }\n}