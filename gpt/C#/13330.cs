using System.Web.Mvc;\nusing Site1.Models;\n\nnamespace Site1.Filters\n{\n    public class MasterPageDataFilter : ActionFilterAttribute\n    {\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n            var controller = filterContext.Controller as BaseController;\n            if (controller != null)\n            {\n                var viewModel = filterContext.Controller.ViewData.Model as MasterViewModel;\n                if (viewModel != null)\n                {\n                    viewModel.Buttons = controller.model.Buttons;\n                }\n            }\n            base.OnActionExecuting(filterContext);\n        }\n    }\n}