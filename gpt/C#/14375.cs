using System;\nusing System.Windows.Forms;\n\npublic class BrowserHelper\n{\n    private WebBrowser webBrowser;\n    private int framesToLoad;\n\n    public BrowserHelper(WebBrowser webBrowser)\n    {\n        this.webBrowser = webBrowser;\n        this.webBrowser.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(DocumentCompleted);\n        this.framesToLoad = 0;\n    }\n\n    private void DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)\n    {\n        if (webBrowser.ReadyState != WebBrowserReadyState.Complete)\n            return;\n\n        if (e.Url != webBrowser.Document.Url)\n            return;\n\n        framesToLoad = CountFrames(webBrowser.Document.Window.Frames);\n\n        if (framesToLoad == 0)\n        {\n            OnAllFramesLoaded();\n        }\n        else\n        {\n            foreach (HtmlWindow frame in webBrowser.Document.Window.Frames)\n            {\n                frame.DocumentCompleted += new HtmlElementEventHandler(FrameDocumentCompleted);\n            }\n        }\n    }\n\n    private void FrameDocumentCompleted(object sender, HtmlElementEventArgs e)\n    {\n        framesToLoad--;\n\n        if (framesToLoad == 0)\n        {\n            OnAllFramesLoaded();\n        }\n    }\n\n    private int CountFrames(HtmlWindowCollection frames)\n    {\n        int count = frames.Count;\n\n        foreach (HtmlWindow frame in frames)\n        {\n            count += CountFrames(frame.Frames);\n        }\n\n        return count;\n    }\n\n    private void OnAllFramesLoaded()\n    {\n        // All frames are loaded. Handle the event accordingly.\n        MessageBox.Show("All frames are loaded.");\n    }\n}