public ActionResult Login(string username, string password)\n   {\n       // Validate the user credentials\n       var user = AuthenticateUser(username, password);\n       if (user != null)\n       {\n           // Set the user session and IP\n           Session["User"] = new UserSessionModel \n           { \n               Username = user.Username, \n               AccessibleAreas = user.AccessibleAreas \n           };\n           Session["UserIP"] = Request.UserHostAddress;\n\n           return RedirectToAction("Index", "Home");\n       }\n       else\n       {\n           ModelState.AddModelError("", "Invalid login attempt.");\n           return View();\n       }\n   }