using System;\nusing System.Runtime.InteropServices;\nusing System.Threading;\nusing System.Windows.Forms;\n\nnamespace WinFormsApp\n{\n    static class Program\n    {\n        // Import the AllocConsole function from kernel32.dll\n        [DllImport("kernel32.dll", SetLastError = true)]\n        [return: MarshalAs(UnmanagedType.Bool)]\n        static extern bool AllocConsole();\n\n        [STAThread]\n        static void Main(string[] args)\n        {\n            // Allocate a new console for the application\n            AllocConsole();\n\n            foreach (string s in args)\n            {\n                MessageBox.Show(s);\n                Console.WriteLine("String: " + s);\n            }\n\n            Mutex appSingleton = new Mutex(false, "WinSyncSingalInstanceMutx");\n            if (appSingleton.WaitOne(0, false))\n            {\n                try\n                {\n                    Application.EnableVisualStyles();\n                    Application.SetCompatibleTextRenderingDefault(false);\n\n                    // Start logger\n                    Logger.singleton.makeOpen(true);\n                    Application.Run(new MainForm(false));\n                }\n                catch (Exception)\n                {\n                }\n                finally\n                {\n                    appSingleton.Close();\n                    Logger.singleton.makeOpen(false);\n                }\n            }\n            else\n            {\n                MessageBox.Show("Sorry, only one instance of WinSync can be ran at once.");\n            }\n        }\n    }\n}