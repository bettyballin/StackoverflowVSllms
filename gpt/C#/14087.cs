public void SignIn(string userName, bool createPersistentCookie)\n   {\n       FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(\n           1,                                   // Ticket version\n           userName,                            // Username associated with the ticket\n           DateTime.Now,                        // Date/time issued\n           DateTime.Now.AddMinutes(30),         // Date/time to expire\n           createPersistentCookie,              // "true" for a persistent user cookie\n           userName,                            // User-data, in this case the username\n           FormsAuthentication.FormsCookiePath  // Path cookie is valid for\n       );\n\n       // Encrypt the ticket\n       string encryptedTicket = FormsAuthentication.Encrypt(ticket);\n\n       // Create the cookie\n       HttpCookie authenticationCookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket);\n       if (createPersistentCookie)\n       {\n           authenticationCookie.Expires = ticket.Expiration;\n       }\n\n       // Add the cookie to the response\n       HttpContext.Current.Response.Cookies.Add(authenticationCookie);\n   }