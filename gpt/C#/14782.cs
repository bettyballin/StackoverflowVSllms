private readonly object _lock = new object();\n\npublic void Consumer()\n{\n    lock (_lock)\n    {\n        if (Slot.Free)\n        {\n            // Write Slot.Data to disk\n            Slot.Free = false; // Mark as not free\n        }\n    }\n}\n\npublic void Producer()\n{\n    lock (_lock)\n    {\n        if (!Slot.Free)\n        {\n            // Create item and place it in the slot\n            Slot.Data = newItem; // Add new item\n            Slot.Free = true; // Mark as free\n        }\n    }\n}