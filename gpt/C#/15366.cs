try\n   {\n       // Your code\n   }\n   catch (Exception ex)\n   {\n       LogError(ex);\n   }\n\n   void LogError(Exception ex)\n   {\n       // Write error details to a log file\n       using (StreamWriter sw = new StreamWriter("errorLog.txt", true))\n       {\n           sw.WriteLine(DateTime.Now.ToString());\n           sw.WriteLine(ex.Message);\n           sw.WriteLine(ex.StackTrace);\n           sw.WriteLine();\n       }\n   }