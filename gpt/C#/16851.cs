public class Book\n{\n    private BookEntity bookEntity; // LLBLGen entity\n    private BookType bookType;    // Encapsulated business model\n\n    public Book(int id)\n    {\n        // Assuming you have a service layer to fetch the entity\n        this.bookEntity = BookService.GetBookEntityById(id);\n        this.bookType = new BookType(this.bookEntity.BookTypeEntity);\n    }\n\n    public BookType BookType\n    {\n        get { return this.bookType; }\n        set\n        {\n            this.bookType = value;\n            this.bookEntity.BookTypeEntity = new BookTypeEntity(value.ID);\n            BookService.Save(this.bookEntity); // Save changes using a service layer\n        }\n    }\n\n    public int CountPages()\n    {\n        // Your business logic here\n    }\n}\n\npublic class BookType\n{\n    private BookTypeEntity bookTypeEntity;\n\n    public BookType(BookTypeEntity entity)\n    {\n        this.bookTypeEntity = entity;\n    }\n\n    public int ID\n    {\n        get { return this.bookTypeEntity.ID; }\n    }\n\n    // Other properties and methods\n}\n\npublic static class BookService\n{\n    public static BookEntity GetBookEntityById(int id)\n    {\n        // Fetch the entity from the database using LLBLGen\n        return new BookEntity(id);\n    }\n\n    public static void Save(BookEntity bookEntity)\n    {\n        // Save the entity to the database using LLBLGen\n        bookEntity.Save();\n    }\n\n    // Other service methods\n}