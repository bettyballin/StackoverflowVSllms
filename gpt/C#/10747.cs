using System.Web.Mvc;\n\n   public class RobotsMetaTagAttribute : ActionFilterAttribute\n   {\n       public override void OnResultExecuting(ResultExecutingContext filterContext)\n       {\n           var request = filterContext.HttpContext.Request;\n           var response = filterContext.HttpContext.Response;\n           \n           string robotsValue = "all";\n\n           if (request.QueryString.HasKeys())\n           {\n               robotsValue = "noindex";\n           }\n\n           var metaTag = new TagBuilder("meta");\n           metaTag.Attributes.Add("name", "robots");\n           metaTag.Attributes.Add("content", robotsValue);\n\n           response.Write(metaTag.ToString(TagRenderMode.SelfClosing));\n       }\n   }