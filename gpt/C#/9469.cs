protected void Page_Load(object sender, EventArgs e)\n{\n    // Prevent caching to ensure the latest session state is loaded\n    Response.Cache.SetCacheability(HttpCacheability.NoCache);\n    Response.Cache.SetNoStore();\n    Response.Cache.SetExpires(DateTime.UtcNow.AddMinutes(-1));\n    Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);\n    Response.Cache.AppendCacheExtension("must-revalidate, proxy-revalidate, private");\n\n    if (!Page.IsPostBack)\n    {\n        DataBindDropDowns();\n\n        if (HasQueryString())\n        {\n            SetOptionsFromQueryString();\n            SavePageToSession();\n            Response.Redirect("Default.aspx", false); // Avoid unnecessary redirect\n            Context.ApplicationInstance.CompleteRequest(); // End the current request to prevent further processing\n        }\n        else\n        {\n            RestoreFromSession();\n            DisplayOptions();\n        }\n    }\n}