using System;\nusing System.Net;\n\nclass Program\n{\n    static void Main()\n    {\n        try\n        {\n            // Create a request to the desired URL\n            HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://www.google.com");\n\n            // Use the default system proxy settings\n            request.Proxy = WebRequest.DefaultWebProxy;\n\n            // Get the response from the request\n            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n            {\n                Console.WriteLine($"Response Status Code: {response.StatusCode}");\n            }\n        }\n        catch (WebException ex)\n        {\n            Console.WriteLine($"WebException caught: {ex.Message}");\n            if (ex.Response != null)\n            {\n                using (HttpWebResponse errorResponse = (HttpWebResponse)ex.Response)\n                {\n                    Console.WriteLine($"Error code: {errorResponse.StatusCode}");\n                }\n            }\n        }\n    }\n}