public ActionResult UpdatePanels()\n{\n    var topHeaderHtml = RenderPartialViewToString("_TopHeader");\n    var bottomHeaderHtml = RenderPartialViewToString("_BottomHeader");\n    var mainContentHtml = RenderPartialViewToString("_MainContent");\n\n    return Json(new\n    {\n        TopHeader = topHeaderHtml,\n        BottomHeader = bottomHeaderHtml,\n        MainContent = mainContentHtml\n    }, JsonRequestBehavior.AllowGet);\n}\n\nprivate string RenderPartialViewToString(string viewName, object model = null)\n{\n    if (model != null)\n    {\n        ViewData.Model = model;\n    }\n\n    using (var sw = new StringWriter())\n    {\n        var viewResult = ViewEngines.Engines.FindPartialView(ControllerContext, viewName);\n        var viewContext = new ViewContext(ControllerContext, viewResult.View, ViewData, TempData, sw);\n        viewResult.View.Render(viewContext, sw);\n        return sw.GetStringBuilder().ToString();\n    }\n}