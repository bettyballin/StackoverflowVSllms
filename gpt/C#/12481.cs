using System;\nusing System.IO;\nusing System.ServiceProcess;\n\npublic class MyService : ServiceBase\n{\n    private StreamWriter logWriter;\n\n    protected override void OnStart(string[] args)\n    {\n        // Redirect console output to a file\n        string logFilePath = "C:\\path\\to\\your\\logfile.txt";\n        logWriter = new StreamWriter(logFilePath, append: true);\n        logWriter.AutoFlush = true;\n        Console.SetOut(logWriter);\n        Console.SetError(logWriter);\n\n        // Your service start logic here\n        Console.WriteLine("Service started");\n    }\n\n    protected override void OnStop()\n    {\n        // Your service stop logic here\n        Console.WriteLine("Service stopped");\n\n        // Close the logWriter when the service stops\n        if (logWriter != null)\n        {\n            logWriter.Close();\n            logWriter.Dispose();\n        }\n    }\n\n    public static void Main()\n    {\n        ServiceBase.Run(new MyService());\n    }\n}