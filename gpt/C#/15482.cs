using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\npublic class EncryptionHelper\n{\n    // Generate a new encryption key\n    public static byte[] GenerateEncryptionKey()\n    {\n        using (var aes = Aes.Create())\n        {\n            aes.GenerateKey();\n            return aes.Key;\n        }\n    }\n\n    // Encrypt data using AES\n    public static byte[] EncryptData(string plainText, byte[] key)\n    {\n        using (var aes = Aes.Create())\n        {\n            aes.Key = key;\n            aes.GenerateIV();\n            var iv = aes.IV;\n\n            using (var encryptor = aes.CreateEncryptor(aes.Key, aes.IV))\n            using (var ms = new MemoryStream())\n            {\n                ms.Write(iv, 0, iv.Length);\n                using (var cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))\n                using (var sw = new StreamWriter(cs))\n                {\n                    sw.Write(plainText);\n                }\n\n                return ms.ToArray();\n            }\n        }\n    }\n\n    // Decrypt data using AES\n    public static string DecryptData(byte[] cipherText, byte[] key)\n    {\n        using (var aes = Aes.Create())\n        {\n            aes.Key = key;\n\n            using (var ms = new MemoryStream(cipherText))\n            {\n                var iv = new byte[aes.IV.Length];\n                ms.Read(iv, 0, iv.Length);\n                aes.IV = iv;\n\n                using (var decryptor = aes.CreateDecryptor(aes.Key, aes.IV))\n                using (var cs = new CryptoStream(ms, decryptor, CryptoStreamMode.Read))\n                using (var sr = new StreamReader(cs))\n                {\n                    return sr.ReadToEnd();\n                }\n            }\n        }\n    }\n}