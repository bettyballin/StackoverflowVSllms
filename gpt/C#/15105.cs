using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n    \n    using (SqlCommand command = new SqlCommand(query, connection))\n    {\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            // Read data from the reader\n        } // reader.Close() is called implicitly here\n    } // command.Dispose() is called implicitly here\n} // connection.Close() is called implicitly here