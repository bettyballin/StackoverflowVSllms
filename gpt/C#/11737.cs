using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static async Task Main(string[] args)\n    {\n        var listener = new TcpListener(IPAddress.Any, 8080);\n        listener.Start();\n        Console.WriteLine("Server is listening...");\n\n        while (true)\n        {\n            var client = await listener.AcceptTcpClientAsync();\n            _ = HandleClientAsync(client);\n        }\n    }\n\n    static async Task HandleClientAsync(TcpClient client)\n    {\n        var buffer = new byte[1024];\n        using var stream = client.GetStream();\n        \n        int bytesRead;\n        while ((bytesRead = await stream.ReadAsync(buffer, 0, buffer.Length)) != 0)\n        {\n            var message = Encoding.UTF8.GetString(buffer, 0, bytesRead);\n            Console.WriteLine("Received: " + message);\n            \n            // Echo the message back to the client\n            await stream.WriteAsync(buffer, 0, bytesRead);\n        }\n\n        client.Close();\n    }\n}