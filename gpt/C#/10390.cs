using System;\nusing System.Text;\n\nnamespace FastAsciiBytesToString\n{\n    static class StringEx\n    {\n        public static string AsciiBytesToString(this byte[] buffer, int offset, int maxLength)\n        {\n            int maxIndex = offset + maxLength;\n\n            for (int i = offset; i < maxIndex; i++)\n            {\n                // Skip non-nulls.\n                if (buffer[i] != 0) continue;\n                // First null we find, return the string.\n                return Encoding.ASCII.GetString(buffer, offset, i - offset);\n            }\n            // Terminating null not found. Convert the entire section from offset to maxLength.\n            return Encoding.ASCII.GetString(buffer, offset, maxLength);\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            byte[] asciiBytes = new byte[] { 0, 0, 0, (byte)'a', (byte)'b', (byte)'c', 0, 0, 0 };\n\n            string result = asciiBytes.AsciiBytesToString(3, 6);\n\n            Console.WriteLine("AsciiBytesToString Result: \"{0}\"", result);\n\n            // Non-null terminated test.\n            asciiBytes = new byte[] { 0, 0, 0, (byte)'a', (byte)'b', (byte)'c' };\n\n            result = asciiBytes.AsciiBytesToString(3, 3);\n\n            Console.WriteLine("AsciiBytesToString Result: \"{0}\"", result);\n\n            Console.ReadLine();\n        }\n    }\n}