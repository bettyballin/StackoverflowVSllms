using System;\nusing System.Data.SqlClient;\n\npublic class DatabaseTransactionExample\n{\n    public void InsertMultipleRecords()\n    {\n        string connectionString = "your_connection_string_here";\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            SqlTransaction transaction = connection.BeginTransaction();\n\n            try\n            {\n                // Perform multiple insertions using the same connection and transaction\n                for (int i = 0; i < 10; i++)\n                {\n                    string query = "INSERT INTO YourTable (Column1, Column2) VALUES (@Value1, @Value2)";\n                    using (SqlCommand command = new SqlCommand(query, connection, transaction))\n                    {\n                        command.Parameters.AddWithValue("@Value1", "Value1_" + i);\n                        command.Parameters.AddWithValue("@Value2", "Value2_" + i);\n                        command.ExecuteNonQuery();\n                    }\n                }\n\n                // Commit the transaction\n                transaction.Commit();\n                Console.WriteLine("All records inserted successfully.");\n            }\n            catch (Exception ex)\n            {\n                // Rollback the transaction in case of error\n                transaction.Rollback();\n                Console.WriteLine("An error occurred. Transaction rolled back.");\n                Console.WriteLine(ex.Message);\n            }\n        }\n    }\n}