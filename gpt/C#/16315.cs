using System;\n   using System.Data;\n   using System.Data.SQLite;\n   using System.Windows;\n\n   namespace WpfApp\n   {\n       public partial class MainWindow : Window\n       {\n           private string connectionString = "Data Source=contacts.db;Version=3;";\n\n           public MainWindow()\n           {\n               InitializeComponent();\n               CreateDatabase();\n           }\n\n           private void CreateDatabase()\n           {\n               using (SQLiteConnection conn = new SQLiteConnection(connectionString))\n               {\n                   conn.Open();\n                   string createTableQuery = "CREATE TABLE IF NOT EXISTS Contacts (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT, Email TEXT)";\n                   SQLiteCommand command = new SQLiteCommand(createTableQuery, conn);\n                   command.ExecuteNonQuery();\n               }\n           }\n\n           private void LoadData_Click(object sender, RoutedEventArgs e)\n           {\n               using (SQLiteConnection conn = new SQLiteConnection(connectionString))\n               {\n                   conn.Open();\n                   string selectQuery = "SELECT * FROM Contacts";\n                   SQLiteDataAdapter dataAdapter = new SQLiteDataAdapter(selectQuery, conn);\n                   DataTable dataTable = new DataTable();\n                   dataAdapter.Fill(dataTable);\n                   dataGrid.ItemsSource = dataTable.DefaultView;\n               }\n           }\n\n           private void AddData_Click(object sender, RoutedEventArgs e)\n           {\n               using (SQLiteConnection conn = new SQLiteConnection(connectionString))\n               {\n                   conn.Open();\n                   string insertQuery = "INSERT INTO Contacts (Name, Email) VALUES ('John Doe', 'john.doe@example.com')";\n                   SQLiteCommand command = new SQLiteCommand(insertQuery, conn);\n                   command.ExecuteNonQuery();\n               }\n               LoadData_Click(sender, e);\n           }\n\n           private void UpdateData_Click(object sender, RoutedEventArgs e)\n           {\n               using (SQLiteConnection conn = new SQLiteConnection(connectionString))\n               {\n                   conn.Open();\n                   string updateQuery = "UPDATE Contacts SET Email='john.doe@newdomain.com' WHERE Name='John Doe'";\n                   SQLiteCommand command = new SQLiteCommand(updateQuery, conn);\n                   command.ExecuteNonQuery();\n               }\n               LoadData_Click(sender, e);\n           }\n       }\n   }