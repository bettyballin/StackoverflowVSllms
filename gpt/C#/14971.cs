using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\n// ActiveRecord base class\npublic abstract class ActiveRecord<T, TKey> where T : class\n{\n    public static T Find(TKey id)\n    {\n        // Implement find logic\n    }\n\n    public void Save()\n    {\n        // Implement save logic\n    }\n\n    public void Delete()\n    {\n        // Implement delete logic\n    }\n}\n\npublic class Order : ActiveRecord<Order, int>\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n\n    public string Details { get; set; }\n\n    public int CustomerId { get; set; }\n\n    [ForeignKey("CustomerId")]\n    public virtual Customer Customer { get; set; }\n}\n\n[Index("FirstName")]\n[Index("LastName")]\npublic class Customer : ActiveRecord<Customer, int>\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int Id { get; set; }\n\n    [Required]\n    [StringLength(255, MinimumLength = 4)]\n    public string FirstName { get; set; }\n\n    [Required]\n    [StringLength(255, MinimumLength = 4)]\n    public string LastName { get; set; }\n\n    public string Comments { get; set; }\n\n    public virtual ICollection<Order> Orders { get; set; } = new List<Order>();\n}\n\n[TestClass]\npublic class TestActiveRecord\n{\n    [TestMethod]\n    public void Demo()\n    {\n        var customer = new Customer\n        {\n            FirstName = "Bob",\n            LastName = "Doe"\n        };\n\n        var order = new Order\n        {\n            Details = "This is the first order",\n            Customer = customer\n        };\n\n        customer.Orders.Add(order);\n        customer.Save();\n\n        var customer2 = Customer.Find(customer.Id);\n\n        Assert.AreEqual(1, customer2.Orders.Count);\n    }\n}