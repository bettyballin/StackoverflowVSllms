using System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        try\n        {\n            // Forcing TLS 1.2 (or other protocols as needed)\n            ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n\n            // Use the HTTPS URL\n            string lcUrl = "https://servicios.mensario.com/enviomasivo/apip/";\n\n            // *** Establish the request\n            HttpWebRequest loHttp = (HttpWebRequest)WebRequest.Create(lcUrl);\n\n            // *** Set properties\n            loHttp.Timeout = 10000; // 10 secs\n            loHttp.Method = "POST"; // Set the method to POST\n\n            // Retrieve request info headers\n            HttpWebResponse loWebResponse = (HttpWebResponse)loHttp.GetResponse();\n\n            // All this code only works when lcUrl is NOT https.\n            Encoding enc = Encoding.GetEncoding(1252); // Windows default Code Page\n\n            StreamReader loResponseStream = new StreamReader(loWebResponse.GetResponseStream(), enc);\n\n            string lcHtml = loResponseStream.ReadToEnd();\n\n            loWebResponse.Close();\n            loResponseStream.Close();\n\n            Console.WriteLine("Response: " + lcHtml);\n        }\n        catch (WebException ex)\n        {\n            if (ex.Status == WebExceptionStatus.ProtocolError)\n            {\n                HttpWebResponse response = ex.Response as HttpWebResponse;\n                if (response != null)\n                {\n                    // Process response\n                    Console.WriteLine("Error code: " + (int)response.StatusCode);\n                    using (var reader = new StreamReader(response.GetResponseStream()))\n                    {\n                        Console.WriteLine(reader.ReadToEnd());\n                    }\n                }\n            }\n            else\n            {\n                Console.WriteLine(ex.ToString());\n            }\n        }\n    }\n}