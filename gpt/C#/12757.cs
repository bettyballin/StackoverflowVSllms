using System.Data.SqlClient;\n\nSqlDatabase db = new SqlDatabase(connectionManager.SqlConnection.ConnectionString);\n\n// Create a SqlCommand object with the stored procedure name and connection\nusing (SqlCommand cmd = new SqlCommand(Enum.GetName(typeof(StoredProcs), storedProc), connectionManager.SqlConnection))\n{\n    // Set the command type to StoredProcedure\n    cmd.CommandType = CommandType.StoredProcedure;\n\n    // Set the command timeout (in seconds)\n    cmd.CommandTimeout = 120; // Set to desired timeout period\n\n    // Add parameters to the SqlCommand if necessary\n    foreach (var parameter in parameterValues)\n    {\n        cmd.Parameters.Add(parameter);\n    }\n\n    // Open the connection if not already open\n    if (cmd.Connection.State != ConnectionState.Open)\n    {\n        cmd.Connection.Open();\n    }\n\n    // Execute the command and return the scalar value\n    var result = cmd.ExecuteScalar();\n\n    // Close the connection if it was opened in this method\n    cmd.Connection.Close();\n\n    return result;\n}