public class Task\n{\n    public int TaskID { get; set; }\n    public string Subject { get; set; }\n    public int? ParentID { get; set; }\n}\n\npublic List<Task> GetHierarchy(int childId, List<Task> tasks)\n{\n    var result = new List<Task>();\n    var task = tasks.SingleOrDefault(t => t.TaskID == childId);\n    while (task != null)\n    {\n        result.Add(task);\n        task = tasks.SingleOrDefault(t => t.TaskID == task.ParentID);\n    }\n    return result;\n}