using System;\nusing System.Data.SqlClient;\n\npublic static class SqlHelper\n{\n    public static SqlDataReader ExecuteReader(string connectionString, string commandText, Action<SqlCommand> parameterizeCommand)\n    {\n        SqlConnection connection = new SqlConnection(connectionString);\n        SqlCommand command = new SqlCommand(commandText, connection);\n\n        parameterizeCommand?.Invoke(command);\n\n        connection.Open();\n\n        // Using CommandBehavior.CloseConnection ensures that the connection is closed\n        // when the SqlDataReader is closed.\n        return command.ExecuteReader(CommandBehavior.CloseConnection);\n    }\n}\n\n// Usage example:\nusing (SqlDataReader reader = SqlHelper.ExecuteReader(\n    "your_connection_string",\n    "SELECT * FROM YourTable WHERE YourCondition = @YourParameter",\n    cmd => cmd.Parameters.AddWithValue("@YourParameter", yourValue)))\n{\n    while (reader.Read())\n    {\n        // Process the data\n    }\n}