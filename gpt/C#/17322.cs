using System;\nusing System.ServiceModel;\n\nnamespace WCFCallbackDemo\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            InstanceContext instanceContext = new InstanceContext(new MyCallback());\n            MyServiceClient client = new MyServiceClient(instanceContext);\n\n            client.RegisterClient();\n\n            Console.WriteLine("Client registered. Press any key to exit...");\n            Console.ReadKey();\n        }\n    }\n\n    // Service client proxy\n    public class MyServiceClient : DuplexClientBase<IMyService>, IMyService\n    {\n        public MyServiceClient(InstanceContext callbackInstance)\n            : base(callbackInstance)\n        {\n        }\n\n        public void RegisterClient()\n        {\n            Channel.RegisterClient();\n        }\n    }\n}