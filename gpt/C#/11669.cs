using System;\nusing System.Net.Http;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Web.UI;\n\npublic partial class YourPage : Page\n{\n    protected void mSubmit_Click(object sender, EventArgs eventArgs)\n    {\n        string username = this.mUsername.Text;\n        string password = this.mPassword.Text;\n\n        // Call the Authenticate method asynchronously\n        Authenticate(username, password).GetAwaiter().GetResult();\n    }\n\n    private static async Task Authenticate(string uname, string pwd)\n    {\n        string url = "https://myhost.com/V1/Identity/Authenticate";\n        var json = $"{{\"Header\":{{\"AuthToken\":null,\"ProductID\":\"NOR\",\"SessToken\":null,\"Version\":1}},\"ReturnAuthentication\":true,\"Password\":\"{pwd}\",\"Username\":\"{uname}\",\"ReturnCredentials\":false}}";\n\n        using (HttpClient client = new HttpClient())\n        {\n            client.DefaultRequestHeaders.Accept.Clear();\n            client.DefaultRequestHeaders.Accept.Add(new System.Net.Http.Headers.MediaTypeWithQualityHeaderValue("application/json"));\n\n            HttpContent content = new StringContent(json, Encoding.UTF8, "application/json");\n\n            try\n            {\n                HttpResponseMessage response = await client.PostAsync(url, content);\n                response.EnsureSuccessStatusCode();\n\n                string responseBody = await response.Content.ReadAsStringAsync();\n                Console.WriteLine(responseBody);\n            }\n            catch (HttpRequestException e)\n            {\n                Console.WriteLine("\nException Caught!");\n                Console.WriteLine("Message :{0} ", e.Message);\n            }\n        }\n    }\n}