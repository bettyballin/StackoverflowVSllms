using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.Composition;\nusing System.ComponentModel.Composition.Hosting;\nusing System.Windows.Forms;\n\nnamespace Winforms_Mef\n{\n    public interface IForm\n    {\n        TabControl TabControl { get; }\n    }\n\n    public interface ITab\n    {\n        void MoveTabPages(IForm form);\n    }\n\n    public partial class Form1 : Form, IForm\n    {\n        private CompositionContainer _container;\n\n        [ImportMany]\n        public IEnumerable<ITab> Tabs { get; set; }\n\n        public TabControl TabControl => tabControl1;\n\n        public Form1()\n        {\n            InitializeComponent();\n            Compose();\n            LoadTabs();\n        }\n\n        private void Compose()\n        {\n            var catalog = new AggregateCatalog();\n            catalog.Catalogs.Add(new AssemblyCatalog(typeof(Form1).Assembly));\n            _container = new CompositionContainer(catalog);\n            _container.ComposeParts(this);\n        }\n\n        private void LoadTabs()\n        {\n            foreach (var tab in Tabs)\n            {\n                tab.MoveTabPages(this);\n            }\n        }\n    }\n}