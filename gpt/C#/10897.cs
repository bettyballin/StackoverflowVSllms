using System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\nusing System.Windows.Forms;\n\npublic class HttpRequestSender\n{\n    private void btnSend_Click(object sender, EventArgs e)\n    {\n        try\n        {\n            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(cboUrl.Text);\n            request.Method = "POST";\n            request.ContentType = "text/xml";\n            request.Headers.Add("Custom-Header", "HeaderValue"); // Add any required custom headers\n            request.PreAuthenticate = true;\n            request.UseDefaultCredentials = true;\n\n            string msg = txtMsg.Text;\n            byte[] byteArray = Encoding.ASCII.GetBytes(msg);\n            request.ContentLength = byteArray.Length;\n\n            using (Stream dataStream = request.GetRequestStream())\n            {\n                dataStream.Write(byteArray, 0, byteArray.Length);\n            }\n\n            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n            {\n                using (StreamReader reader = new StreamReader(response.GetResponseStream()))\n                {\n                    txtRes.Text = reader.ReadToEnd();\n                }\n            }\n        }\n        catch (WebException ex)\n        {\n            if (ex.Response != null)\n            {\n                using (StreamReader reader = new StreamReader(ex.Response.GetResponseStream()))\n                {\n                    txtRes.Text = reader.ReadToEnd();\n                }\n            }\n            else\n            {\n                txtRes.Text = ex.Message;\n            }\n        }\n        catch (Exception ex)\n        {\n            txtRes.Text = ex.Message;\n        }\n    }\n}