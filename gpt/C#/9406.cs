public class TextField : TextBox\n{\n    public bool Required { get; set; }\n    private RequiredFieldValidator _validator;\n\n    protected override void CreateChildControls()\n    {\n        base.CreateChildControls();\n\n        _validator = new RequiredFieldValidator();\n        _validator.ControlToValidate = this.ID;\n        _validator.ErrorMessage = "This field is required."; // Optional: Set a default error message\n    }\n\n    protected override void OnPreRender(EventArgs e)\n    {\n        base.OnPreRender(e);\n\n        if (Required)\n        {\n            if (!Page.Validators.Contains(_validator))\n            {\n                Page.Validators.Add(_validator);\n            }\n            Controls.Add(_validator);\n        }\n    }\n\n    public override void Render(HtmlTextWriter tw)\n    {\n        base.Render(tw);\n\n        if (Required)\n        {\n            _validator.RenderControl(tw);\n        }\n    }\n}