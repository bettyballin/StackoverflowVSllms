@{\n    ViewBag.Title = "Index";\n}\n\n<h2>Index</h2>\n\n<select id="countryDropdown">\n    <option value="">Select Country</option>\n    @foreach (var country in ViewBag.Countries)\n    {\n        <option value="@country.Id">@country.Name</option>\n    }\n</select>\n\n<select id="regionDropdown">\n    <option value="">Select Region</option>\n</select>\n\n@section Scripts {\n    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>\n    <script>\n        $(document).ready(function () {\n            $('#countryDropdown').change(function () {\n                var countryId = $(this).val();\n                if (countryId) {\n                    $.ajax({\n                        type: "POST",\n                        url: '@Url.Action("GetRegions", "Home")',\n                        data: { countryId: countryId },\n                        success: function (regions) {\n                            var regionDropdown = $('#regionDropdown');\n                            regionDropdown.empty();\n                            regionDropdown.append('<option value="">Select Region</option>');\n                            $.each(regions, function (i, region) {\n                                regionDropdown.append('<option value="' + region.Id + '">' + region.Name + '</option>');\n                            });\n                        },\n                        error: function (error) {\n                            console.log(error);\n                        }\n                    });\n                } else {\n                    $('#regionDropdown').empty();\n                    $('#regionDropdown').append('<option value="">Select Region</option>');\n                }\n            });\n        });\n    </script>\n}