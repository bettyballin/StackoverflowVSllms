using System;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static void Main()\n    {\n        // Define the number of tasks (threads) you want to run in parallel\n        int numTasks = Environment.ProcessorCount; // Number of logical processors\n\n        // Create an array of tasks\n        Task[] tasks = new Task[numTasks];\n\n        // Define the workload\n        Action workload = () =>\n        {\n            // Put your heavy calculations here\n            for (int i = 0; i < 1000000000; i++)\n            {\n                // Example calculation\n                double result = Math.Sqrt(i);\n            }\n        };\n\n        // Start the tasks\n        for (int i = 0; i < numTasks; i++)\n        {\n            tasks[i] = Task.Run(workload);\n        }\n\n        // Wait for all tasks to complete\n        Task.WaitAll(tasks);\n\n        Console.WriteLine("All tasks completed.");\n    }\n}