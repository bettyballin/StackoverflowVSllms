using Mono.Cecil;\nusing Mono.Cecil.Cil;\n\npublic static void AddWatermark(string assemblyPath, string watermark)\n{\n    var assembly = AssemblyDefinition.ReadAssembly(assemblyPath);\n    var mainModule = assembly.MainModule;\n\n    var watermarkAttribute = new CustomAttribute(mainModule.ImportReference(typeof(System.Reflection.AssemblyMetadataAttribute).GetConstructor(new[] { typeof(string), typeof(string) })));\n    watermarkAttribute.ConstructorArguments.Add(new CustomAttributeArgument(mainModule.TypeSystem.String, "Watermark"));\n    watermarkAttribute.ConstructorArguments.Add(new CustomAttributeArgument(mainModule.TypeSystem.String, watermark));\n\n    assembly.CustomAttributes.Add(watermarkAttribute);\n    assembly.Write(assemblyPath);\n}