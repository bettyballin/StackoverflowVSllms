using System;\nusing System.Xml;\nusing System.Xml.XPath;\nusing System.Text.RegularExpressions;\n\nclass Program\n{\n    static void Main()\n    {\n        string xml = @"\n        <root>\n            <div id='foo123'>Content 1</div>\n            <div id='bar456'>Content 2</div>\n            <div id='foo789'>Content 3</div>\n        </root>";\n\n        XmlDocument doc = new XmlDocument();\n        doc.LoadXml(xml);\n        XPathNavigator nav = doc.CreateNavigator();\n\n        // Select all div elements\n        XPathNodeIterator iterator = nav.Select("//div");\n\n        Regex regex = new Regex(@"^foo\d+$");\n\n        while (iterator.MoveNext())\n        {\n            string id = iterator.Current.GetAttribute("id", "");\n            if (regex.IsMatch(id))\n            {\n                Console.WriteLine("Matched div: {0}", iterator.Current.OuterXml);\n            }\n        }\n    }\n}