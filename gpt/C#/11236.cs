private Node _Parent;\n\npublic Node Parent\n{\n    get\n    {\n        return this._Parent;\n    }\n    set\n    {\n        this._Parent = Proxy.Check<Node>(value);\n    }\n}\n\ninternal static class Proxy\n{\n    public static T Check<T>(T obj) where T : PersistentObject\n    {\n        if (obj is NHibernate.Proxy.INHibernateProxy && !NHibernateUtil.IsInitialized(obj))\n        {\n            return null;\n        }\n        else\n        {\n            return obj;\n        }\n    }\n}