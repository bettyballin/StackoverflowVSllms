using System;\n   using System.Net.Http;\n   using System.Threading.Tasks;\n   using Xunit;\n\n   public class ProxyTests : IDisposable\n   {\n       private readonly TestProxy testProxy;\n\n       public ProxyTests()\n       {\n           testProxy = new TestProxy();\n           testProxy.Start();\n       }\n\n       [Fact]\n       public async Task Test_Http_Traffic()\n       {\n           var httpClientHandler = new HttpClientHandler\n           {\n               Proxy = new WebProxy("http://127.0.0.1:8080"),\n               UseProxy = true\n           };\n\n           var httpClient = new HttpClient(httpClientHandler);\n           var response = await httpClient.GetAsync("http://example.com");\n\n           Assert.True(response.IsSuccessStatusCode);\n           // Add more assertions to verify the intercepted traffic\n       }\n\n       public void Dispose()\n       {\n           testProxy.Dispose();\n       }\n   }