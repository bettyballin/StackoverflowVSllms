lock (_pendingTransactions) // Lock to protect _pendingTransactions\n{\n    // Generate a key for the transaction request\n    transaction.EndPointRequest.Request.Key = (string)MessageComparer.GenerateKey(transaction.EndPointRequest.Request);\n\n    // Check if the transaction key is already present in the pending transactions\n    if (!_pendingTransactions.ContainsKey(transaction.EndPointRequest.Request.Key))\n    {\n        // Add the transaction to the pending transactions\n        _pendingTransactions.Add(transaction.EndPointRequest.Request.Key, transaction);\n\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}