using Microsoft.SharePoint;\nusing Microsoft.SharePoint.WebControls;\n\nnamespace YourNamespace\n{\n    public class CategoryField : SPFieldText\n    {\n        public CategoryField(SPFieldCollection fields, string fieldName)\n            : base(fields, fieldName)\n        {\n        }\n\n        public CategoryField(SPFieldCollection fields, string typeName, string displayName)\n            : base(fields, typeName, displayName)\n        {\n        }\n\n        public override BaseFieldControl FieldRenderingControl\n        {\n            get\n            {\n                return new CategoryFieldControl()\n                {\n                    FieldName = this.InternalName\n                };\n            }\n        }\n    }\n\n    public class CategoryFieldControl : BaseTextField\n    {\n        protected override void CreateChildControls()\n        {\n            base.CreateChildControls();\n\n            DropDownList ddlCategories = new DropDownList();\n            ddlCategories.ID = this.FieldName + "_ddlCategories";\n            ddlCategories.Items.Add(new ListItem("Category1", "1"));\n            ddlCategories.Items.Add(new ListItem("Category2", "2"));\n            ddlCategories.Items.Add(new ListItem("Category3", "3"));\n            this.Controls.Add(ddlCategories);\n        }\n\n        public override object Value\n        {\n            get\n            {\n                EnsureChildControls();\n                DropDownList ddlCategories = (DropDownList)this.FindControl(this.FieldName + "_ddlCategories");\n                return ddlCategories.SelectedValue;\n            }\n            set\n            {\n                EnsureChildControls();\n                DropDownList ddlCategories = (DropDownList)this.FindControl(this.FieldName + "_ddlCategories");\n                if (ddlCategories != null)\n                {\n                    ddlCategories.SelectedValue = (string)this.ItemFieldValue;\n                }\n            }\n        }\n    }\n}