using System;\nusing System.Collections.Generic;\nusing System.Data.SQLite; // Make sure to install System.Data.SQLite package\nusing System.Linq;\n\npublic void DeleteMessages(string keys)\n{\n    if (string.IsNullOrEmpty(keys))\n        return;\n\n    // Split the keys and convert to long array\n    string[] keyArray = keys.Split(',');\n    List<long> msgIds = new List<long>();\n    foreach (string key in keyArray)\n    {\n        if (long.TryParse(key, out long result))\n        {\n            msgIds.Add(result);\n        }\n    }\n\n    if (msgIds.Count == 0)\n        return;\n\n    // Create a comma-separated list of parameters e.g. @p0, @p1, @p2\n    string parameterNames = string.Join(", ", msgIds.Select((_, index) => $"@p{index}"));\n\n    // SQL statement\n    string sql = $"DELETE FROM Messages WHERE msgId IN ({parameterNames})";\n\n    // Execute the query\n    using (SQLiteConnection conn = new SQLiteConnection("YourConnectionStringHere"))\n    {\n        conn.Open();\n        using (SQLiteCommand cmd = new SQLiteCommand(sql, conn))\n        {\n            // Add parameters to the command\n            for (int i = 0; i < msgIds.Count; i++)\n            {\n                cmd.Parameters.AddWithValue($"@p{i}", msgIds[i]);\n            }\n\n            cmd.ExecuteNonQuery();\n        }\n    }\n}