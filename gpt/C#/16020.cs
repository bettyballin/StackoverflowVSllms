public class NHibernateHelper\n{\n    private static ISessionFactory _sessionFactory;\n\n    private static ISessionFactory SessionFactory\n    {\n        get\n        {\n            if (_sessionFactory == null)\n            {\n                var cfg = new Configuration();\n                cfg.Configure();\n                cfg.AddAssembly(typeof(Customer).Assembly);\n                _sessionFactory = cfg.BuildSessionFactory();\n            }\n            return _sessionFactory;\n        }\n    }\n\n    public static ISession OpenSession()\n    {\n        return SessionFactory.OpenSession();\n    }\n}