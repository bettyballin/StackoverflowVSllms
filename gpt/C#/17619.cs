HttpWebRequest req = null;\nHttpWebResponse res = null;\ntry\n{\n    string url = "http://localhost:8010/OEA/Service/EnrollService/enroll";\n    req = (HttpWebRequest)WebRequest.Create(url);\n    req.Method = "POST";\n    req.ContentType = "application/xml; charset=utf-8";\n    req.Timeout = 30000;\n\n    System.Xml.XmlDocument xmlDoc = new System.Xml.XmlDocument();\n    xmlDoc.XmlResolver = null;\n    xmlDoc.Load(@"d:\test.xml");\n    string sXML = xmlDoc.InnerXml;\n    byte[] byteArray = System.Text.Encoding.UTF8.GetBytes(sXML);\n    req.ContentLength = byteArray.Length;\n\n    using (System.IO.Stream dataStream = req.GetRequestStream())\n    {\n        dataStream.Write(byteArray, 0, byteArray.Length);\n    }\n\n    res = (HttpWebResponse)req.GetResponse();\n    using (var reader = new System.IO.StreamReader(res.GetResponseStream()))\n    {\n        string responseText = reader.ReadToEnd();\n        Console.WriteLine(responseText);\n    }\n}\ncatch (WebException ex)\n{\n    if (ex.Response != null)\n    {\n        using (var errorResponse = (HttpWebResponse)ex.Response)\n        {\n            using (var reader = new System.IO.StreamReader(errorResponse.GetResponseStream()))\n            {\n                string errorText = reader.ReadToEnd();\n                Console.WriteLine(errorText);\n            }\n        }\n    }\n    else\n    {\n        Console.WriteLine(ex.Message);\n    }\n}