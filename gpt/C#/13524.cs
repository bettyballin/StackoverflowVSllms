public class MilesUpdateService\n    {\n        private readonly IHubContext _milesHubContext;\n\n        public MilesUpdateService()\n        {\n            _milesHubContext = GlobalHost.ConnectionManager.GetHubContext<MilesHub>();\n        }\n\n        public void UpdateMiles()\n        {\n            // Retrieve the new total miles from the database\n            int totalMiles = GetTotalMilesFromDatabase();\n\n            // Broadcast the update to all connected clients\n            _milesHubContext.Clients.All.updateMiles(totalMiles);\n        }\n\n        private int GetTotalMilesFromDatabase()\n        {\n            // Implement the logic to get the total miles from the database\n            using (var context = new YourDbContext())\n            {\n                return context.GlobalMiles.First().TotalMiles;\n            }\n        }\n    }