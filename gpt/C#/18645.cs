try\n{\n    QuickFix.Symbol Symbol = new QuickFix.Symbol();\n    report.get(Symbol);\n    PairsType instrument = ToPairType(Symbol.getValue());\n\n    if (PairsType.NONE == instrument)\n        return;\n\n    QuickFix.MDEntryDate entryDate = new MDEntryDate();\n    QuickFix.MDEntryTime entryTime = new MDEntryTime();\n    QuickFix.QuoteCondition quoteCondition = new QuoteCondition();\n    QuickFix.MDEntryPx MDEntryPxBid = new QuickFix.MDEntryPx();\n    QuickFix.MDEntryPx MDEntryPxAsk = new QuickFix.MDEntryPx();\n\n    QuickFix.NoMDEntries noMDEntries = new QuickFix.NoMDEntries();\n    report.get(noMDEntries);\n\n    for (uint i = 1; i <= noMDEntries.getValue(); ++i)\n    {\n        QuickFix44.MarketDataSnapshotFullRefresh.NoMDEntries group =\n            new QuickFix44.MarketDataSnapshotFullRefresh.NoMDEntries();\n\n        report.getGroup(i, group);\n\n        if (group.isSetQuoteCondition())\n            group.get(quoteCondition);\n        if (group.isSetMDEntryDate())\n            group.get(entryDate);\n        if (group.isSetMDEntryTime())\n            group.get(entryTime);\n\n        switch (group.getMDEntryType().getValue())\n        {\n            case MDEntryType.BID:\n                group.get(MDEntryPxBid);\n                break;\n            case MDEntryType.OFFER:\n                group.get(MDEntryPxAsk);\n                break;\n        }\n    }\n\n    // use data...\n}\ncatch (Exception e)\n{\n    // log the error\n    LogError(e);\n}