public void ProcessRequest(HttpContext context)\n{\n    context.Response.ContentType = "image/gif";\n    context.Response.AddHeader("Access-Control-Allow-Origin", "http://intranet");\n    context.Response.AddHeader("Access-Control-Allow-Credentials", "true");\n\n    // Logging details\n    string action = context.Request.QueryString["action"];\n    string referer = context.Request.UrlReferrer?.ToString() ?? "No Referer";\n    string userAgent = context.Request.UserAgent;\n    string ipAddress = context.Request.UserHostAddress;\n    string username = context.User.Identity.Name;\n\n    // Log the details (implement your logging logic here)\n    LogAction(action, referer, userAgent, ipAddress, username);\n\n    // Return 1x1 GIF\n    context.Response.BinaryWrite(new byte[] { 71, 73, 70, 56, 57, 97, 1, 0, 1, 0, 128, 0, 0, 255, 255, 255, 0, 0, 0, 33, 249, 4, 1, 0, 0, 1, 0, 44, 0, 0, 0, 0, 1, 0, 1, 0, 0, 2, 2, 68, 1, 0, 59 });\n}\n\nprivate void LogAction(string action, string referer, string userAgent, string ipAddress, string username)\n{\n    // Implement your logging logic here\n}