public class YourSTS : SecurityTokenService\n    {\n        public YourSTS(SecurityTokenServiceConfiguration configuration)\n            : base(configuration)\n        { }\n\n        protected override Scope GetScope(ClaimsPrincipal principal, RequestSecurityToken request)\n        {\n            var scope = new Scope(request.AppliesTo.Uri.AbsoluteUri, SecurityTokenServiceConfiguration.SigningCredentials);\n            scope.TokenEncryptionRequired = false;\n            return scope;\n        }\n\n        protected override ClaimsIdentity GetOutputClaimsIdentity(ClaimsPrincipal principal, RequestSecurityToken request, Scope scope)\n        {\n            var outputIdentity = new ClaimsIdentity();\n            outputIdentity.AddClaim(new Claim(ClaimTypes.Name, principal.Identity.Name));\n            // Add additional claims as needed\n            return outputIdentity;\n        }\n    }