// Example with a hypothetical SQL parser library\nprivate bool IsValidQuery(string query)\n{\n    // Parse the query to analyze the structure\n    var sqlParser = new SqlParser(query);\n    if (!sqlParser.IsValid())\n        return false;\n\n    // Only allow SELECT or UPDATE queries\n    var commandType = sqlParser.GetCommandType();\n    if (commandType != SqlCommandType.Select && commandType != SqlCommandType.Update)\n        return false;\n\n    // Ensure no dangerous operations are included\n    // ...\n\n    return true;\n}