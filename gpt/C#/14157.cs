using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.SqlClient;\nusing Dapper;\n\npublic class MyData\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        string connectionString = "your_connection_string_here";\n\n        using (var connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n\n            var myData = new List<MyData>\n            {\n                new MyData { Id = 1, Name = "John" },\n                new MyData { Id = 2, Name = "Jane" }\n            };\n\n            var dataTable = new DataTable();\n            dataTable.Columns.Add("Id", typeof(int));\n            dataTable.Columns.Add("Name", typeof(string));\n\n            foreach (var item in myData)\n            {\n                dataTable.Rows.Add(item.Id, item.Name);\n            }\n\n            var parameters = new DynamicParameters();\n            parameters.Add("@MyTableType", dataTable.AsTableValuedParameter("MyCustomTableType"));\n\n            var result = connection.Query<MyData>("MyStoredProcedure", parameters, commandType: CommandType.StoredProcedure);\n\n            foreach (var item in result)\n            {\n                Console.WriteLine($"Id: {item.Id}, Name: {item.Name}");\n            }\n        }\n    }\n}