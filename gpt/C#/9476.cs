using System;\nusing System.Web;\n\npublic class DisableCompressionForIE6Module : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += new EventHandler(OnBeginRequest);\n    }\n\n    private void OnBeginRequest(object sender, EventArgs e)\n    {\n        HttpApplication app = (HttpApplication)sender;\n        HttpContext context = app.Context;\n        \n        string userAgent = context.Request.UserAgent;\n        \n        if (!string.IsNullOrEmpty(userAgent) && userAgent.Contains("Mozilla/4.0"))\n        {\n            context.Response.Filter = null; // Disable compression\n        }\n    }\n\n    public void Dispose()\n    {\n        // Nothing to dispose\n    }\n}