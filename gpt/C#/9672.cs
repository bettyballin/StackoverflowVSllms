// Application Layer - Check Permissions\npublic bool CheckUserPermissions(int userId, string action)\n{\n    // Implement the logic to check user permissions\n    // This could involve calling a stored procedure to get user roles and permissions\n    // and then determining if the action is allowed\n    return true; // or false based on permission check\n}\n\n// Application Layer - Perform Data Operation\npublic void PerformDataOperation(int userId, string data)\n{\n    if (CheckUserPermissions(userId, "performDataOperation"))\n    {\n        // Call stored procedure to perform the data operation\n        using (var context = new DataContext())\n        {\n            context.ExecuteCommand("EXEC PerformDataOperation @UserId, @Data", userId, data);\n        }\n    }\n    else\n    {\n        throw new UnauthorizedAccessException("User does not have permission to perform this operation.");\n    }\n}