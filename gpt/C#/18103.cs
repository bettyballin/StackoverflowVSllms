public class ApplicationService\n{\n    private readonly IApplicationRepository _appRepo;\n\n    public ApplicationService(IApplicationRepository appRepo)\n    {\n        _appRepo = appRepo;\n    }\n\n    public decimal CalculateBatchTotal(VendorApplicationBatch batch)\n    {\n        IList<VendorApplication> applications = _appRepo.GetByBatchId(batch.Id);\n\n        if (applications == null || applications.Count == 0)\n        {\n            throw new ArgumentException("There were no applications for this batch, that shouldn't be possible");\n        }\n\n        decimal total = applications.Sum(app => app.Amount);\n        \n        return total;\n    }\n}