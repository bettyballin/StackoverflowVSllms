// Assuming CategoryIDs is a comma-separated string and Name is the search string\nstring[] categoryIdArray = CategoryIDs.Split(',');\nstring nameSearchString = "%" + Name + "%";\n\n// Build the query with dynamic parameters for IN clause\nstring query = "SELECT * FROM Products WHERE (1=0";  // Start with a false condition to simplify the OR logic\nfor (int i = 0; i < categoryIdArray.Length; i++)\n{\n    query += " OR Category_ID = @categoryid" + i;\n}\nquery += ") OR name LIKE @name";\n\n// Create the SqlCommand object\nSqlCommand comm = new SqlCommand(query, conn);\n\n// Add parameters for each Category_ID\nfor (int i = 0; i < categoryIdArray.Length; i++)\n{\n    comm.Parameters.AddWithValue("@categoryid" + i, int.Parse(categoryIdArray[i]));\n}\n\n// Add parameter for the name\ncomm.Parameters.AddWithValue("@name", nameSearchString);\n\n// Execute the command as usual