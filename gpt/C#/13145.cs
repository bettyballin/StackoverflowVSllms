using NHibernate;\n   using NHibernate.Cfg;\n\n   public class NHibernateHelper\n   {\n       private static ISessionFactory _sessionFactory;\n\n       static NHibernateHelper()\n       {\n           var configuration = new Configuration();\n           configuration.Configure(); // Loads nhibernate.cfg.xml\n           configuration.AddAssembly(typeof(Product).Assembly); // Load mapping files\n           _sessionFactory = configuration.BuildSessionFactory();\n       }\n\n       public static ISession OpenSession()\n       {\n           return _sessionFactory.OpenSession();\n       }\n   }