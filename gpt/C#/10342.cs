using System;\nusing System.IO;\nusing System.IO.Pipes;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static async Task Main(string[] args)\n    {\n        var pipeName = "/tmp/irb_pipe";\n\n        using (var pipeClient = new NamedPipeClientStream(".", pipeName, PipeDirection.InOut, PipeOptions.None))\n        {\n            Console.WriteLine("Connecting to server...\n");\n            pipeClient.Connect();\n            \n            using (var sr = new StreamReader(pipeClient))\n            using (var sw = new StreamWriter(pipeClient) { AutoFlush = true })\n            {\n                Console.WriteLine("Connected to server. Type your commands:");\n\n                while (true)\n                {\n                    var command = Console.ReadLine();\n                    if (command == "exit")\n                    {\n                        break;\n                    }\n\n                    await sw.WriteLineAsync(command);\n                    var result = await sr.ReadLineAsync();\n                    Console.WriteLine(result);\n                }\n            }\n        }\n    }\n}