protected void Application_Start()\n{\n    NHibernateInitializer.InitializeSessionFactory();\n\n    MetaModel model = new MetaModel();\n    model.RegisterContext(new NHibernateDataContext(), new ContextConfiguration() { ScaffoldAllTables = true });\n\n    // Register the custom metadata provider\n    model.RegisterMetadataProvider(new NHibernateMetadataProvider());\n\n    // Additional ASP.NET Dynamic Data configuration\n}