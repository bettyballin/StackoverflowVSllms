public void StartServer()\n   {\n       Socket listener = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n       listener.Bind(new IPEndPoint(IPAddress.Any, 8080));\n       listener.Listen(100);\n\n       for (int i = 0; i < Environment.ProcessorCount; i++)\n       {\n           StartAccept(listener);\n       }\n   }\n\n   private void StartAccept(Socket listener)\n   {\n       SocketAsyncEventArgs acceptEventArg = new SocketAsyncEventArgs();\n       acceptEventArg.Completed += AcceptCompleted;\n\n       if (!listener.AcceptAsync(acceptEventArg))\n       {\n           AcceptCompleted(this, acceptEventArg);\n       }\n   }\n\n   private void AcceptCompleted(object sender, SocketAsyncEventArgs e)\n   {\n       Socket listener = (Socket)sender;\n       Socket handler = e.AcceptSocket;\n\n       // Handle the connection\n       // ...\n\n       // Continue accepting new connections\n       StartAccept(listener);\n   }