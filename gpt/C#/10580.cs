using System;\nusing System.Data;\nusing System.Data.SqlClient;\n\npublic class SQLToDataTable\n{\n    public DataTable GetDataTableFromSQL(string connectionString, string query)\n    {\n        DataTable dataTable = new DataTable();\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            SqlDataAdapter adapter = new SqlDataAdapter(query, connection);\n\n            try\n            {\n                connection.Open();\n                adapter.Fill(dataTable);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n        }\n\n        return dataTable;\n    }\n}