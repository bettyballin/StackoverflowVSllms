using System;\nusing System.IO;\nusing System.Web;\n\npublic class Global : HttpApplication\n{\n    protected void Application_EndRequest(Object sender, EventArgs e)\n    {\n        if (User.Identity.IsAuthenticated)\n        {\n            string username = User.Identity.Name;\n            string logPath = Server.MapPath("~/App_Data/CustomLog.txt");\n            string logEntry = $"{DateTime.Now}, {username}, {Request.Url}, {Request.UserHostAddress}";\n\n            File.AppendAllText(logPath, logEntry + Environment.NewLine);\n        }\n    }\n}