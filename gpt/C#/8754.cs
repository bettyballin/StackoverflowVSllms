var parents = new List<Parent_Type>();\n\nstring connectionString = "your_connection_string_here";\nstring query = @"\n    SELECT p.Id as ParentId, p.Name as ParentName, c.Id as ChildId, c.Name as ChildName\n    FROM Parent p\n    LEFT JOIN Children c ON p.Id = c.ParentId\n";\n\nusing (SqlConnection connection = new SqlConnection(connectionString))\n{\n    SqlCommand command = new SqlCommand(query, connection);\n    connection.Open();\n    using (SqlDataReader reader = command.ExecuteReader())\n    {\n        while (reader.Read())\n        {\n            int parentId = reader.GetInt32(reader.GetOrdinal("ParentId"));\n            string parentName = reader.GetString(reader.GetOrdinal("ParentName"));\n\n            var parent = parents.FirstOrDefault(p => p.Id == parentId);\n            if (parent == null)\n            {\n                parent = new Parent_Type\n                {\n                    Id = parentId,\n                    Name = parentName,\n                    Children = new List<Children_Type>()\n                };\n                parents.Add(parent);\n            }\n\n            if (!reader.IsDBNull(reader.GetOrdinal("ChildId")))\n            {\n                int childId = reader.GetInt32(reader.GetOrdinal("ChildId"));\n                string childName = reader.GetString(reader.GetOrdinal("ChildName"));\n\n                parent.Children.Add(new Children_Type\n                {\n                    Id = childId,\n                    Name = childName,\n                    ParentId = parentId\n                });\n            }\n        }\n    }\n}\n\n// Now you can pass the 'parents' list to your view