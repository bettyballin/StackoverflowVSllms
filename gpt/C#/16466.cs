adapter.RowUpdated += new System.Data.SQLite.SQLiteRowUpdatedEventHandler(OnRowUpdated);\n\nprivate void OnRowUpdated(object sender, System.Data.SQLite.SQLiteRowUpdatedEventArgs e)\n{\n    if (e.Status == UpdateStatus.Continue && e.StatementType == StatementType.Insert)\n    {\n        using (SQLiteCommand cmd = new SQLiteCommand("SELECT last_insert_rowid()", con))\n        {\n            e.Row["ID"] = (long)cmd.ExecuteScalar();\n        }\n    }\n}