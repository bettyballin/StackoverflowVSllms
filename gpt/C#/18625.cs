public void ConfigureServices(IServiceCollection services)\n{\n    services.AddDistributedMemoryCache();\n    services.AddSession(options =>\n    {\n        options.IdleTimeout = TimeSpan.FromMinutes(30); // Set session timeout\n        options.Cookie.HttpOnly = true;\n        options.Cookie.IsEssential = true;\n    });\n    services.AddControllersWithViews();\n}\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n        app.UseExceptionHandler("/Home/Error");\n        app.UseHsts();\n    }\n\n    app.UseHttpsRedirection();\n    app.UseStaticFiles();\n    app.UseRouting();\n\n    app.UseSession();\n\n    app.UseAuthentication();\n    app.UseAuthorization();\n\n    app.UseEndpoints(endpoints =>\n    {\n        endpoints.MapControllerRoute(\n            name: "default",\n            pattern: "{controller=Home}/{action=Index}/{id?}");\n    });\n}