public class ProductRepository : IProductRepository\n{\n    private readonly DataContext _context;\n\n    public ProductRepository(DataContext context)\n    {\n        _context = context;\n    }\n\n    public void Add(Product product)\n    {\n        _context.Products.InsertOnSubmit(product);\n    }\n\n    public void Update(Product product)\n    {\n        // Linq2Sql tracks changes, so no explicit update method is needed\n    }\n\n    public void Delete(Product product)\n    {\n        _context.Products.DeleteOnSubmit(product);\n    }\n\n    public Product GetById(int id)\n    {\n        return _context.Products.SingleOrDefault(p => p.Id == id);\n    }\n\n    public IEnumerable<Product> GetAll()\n    {\n        return _context.Products.ToList();\n    }\n}