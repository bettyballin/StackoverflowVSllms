using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Xml;\n\nclass Program\n{\n    static void Main()\n    {\n        string logFilePath = "path_to_your_log_file.log";\n        string searchNode = "YourNodeName";\n        string searchValue = "ValueToSearchFor";\n\n        List<string> extractedXmlMessages = ExtractXmlMessages(logFilePath, searchNode, searchValue);\n\n        foreach (string xmlMessage in extractedXmlMessages)\n        {\n            Console.WriteLine(xmlMessage);\n        }\n    }\n\n    static List<string> ExtractXmlMessages(string logFilePath, string searchNode, string searchValue)\n    {\n        List<string> matchingXmlMessages = new List<string>();\n        using (StreamReader reader = new StreamReader(logFilePath))\n        {\n            string line;\n            while ((line = reader.ReadLine()) != null)\n            {\n                try\n                {\n                    XmlDocument xmlDoc = new XmlDocument();\n                    xmlDoc.LoadXml(line); // Assuming each line is a complete XML message\n\n                    XmlNode node = xmlDoc.SelectSingleNode($"//{searchNode}[text()='{searchValue}']");\n                    if (node != null)\n                    {\n                        matchingXmlMessages.Add(line);\n                    }\n                }\n                catch (XmlException)\n                {\n                    // Handle XML parsing errors if necessary\n                }\n            }\n        }\n        return matchingXmlMessages;\n    }\n}