using System;\nusing System.IO;\nusing System.IO.Pipes;\nusing System.Text;\nusing System.Threading.Tasks;\n\npublic class NamedPipeServer\n{\n    private NamedPipeServerStream pipeServer;\n\n    public NamedPipeServer(string pipeName)\n    {\n        pipeServer = new NamedPipeServerStream(pipeName, PipeDirection.InOut, 1, PipeTransmissionMode.Byte, PipeOptions.Asynchronous);\n    }\n\n    public async Task StartListening()\n    {\n        await pipeServer.WaitForConnectionAsync();\n\n        using (var reader = new StreamReader(pipeServer, Encoding.UTF8))\n        using (var writer = new StreamWriter(pipeServer, Encoding.UTF8))\n        {\n            writer.AutoFlush = true;\n            string message;\n            while ((message = await reader.ReadLineAsync()) != null)\n            {\n                Console.WriteLine("Received: " + message);\n                // You can add logic here to handle the message or send a response\n            }\n        }\n    }\n}