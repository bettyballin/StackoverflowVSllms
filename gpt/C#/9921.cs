using System.Windows;\nusing System.Windows.Controls;\n\npublic class GridPanel : Panel\n{\n    protected override Size MeasureOverride(Size availableSize)\n    {\n        foreach (UIElement element in InternalChildren)\n        {\n            element.Measure(availableSize);\n        }\n        return availableSize;\n    }\n\n    protected override Size ArrangeOverride(Size finalSize)\n    {\n        foreach (UIElement element in InternalChildren)\n        {\n            int row = (int)element.GetValue(Grid.RowProperty);\n            int column = (int)element.GetValue(Grid.ColumnProperty);\n            \n            double cellWidth = finalSize.Width / 2; // Assuming 2 columns\n            double cellHeight = finalSize.Height / 2; // Assuming 2 rows\n\n            Rect rect = new Rect(column * cellWidth, row * cellHeight, cellWidth, cellHeight);\n            element.Arrange(rect);\n        }\n        return finalSize;\n    }\n}