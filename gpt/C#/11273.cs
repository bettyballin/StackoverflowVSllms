private static readonly object _lock = new object();\n\npublic void CriticalSection()\n{\n    var threadId = Thread.CurrentThread.ManagedThreadId;\n    var startTime = DateTime.UtcNow;\n\n    Console.WriteLine($"Thread {threadId} attempting to acquire lock at {startTime}");\n\n    lock (_lock)\n    {\n        var acquiredTime = DateTime.UtcNow;\n        Console.WriteLine($"Thread {threadId} acquired lock at {acquiredTime}, waited {(acquiredTime - startTime).TotalMilliseconds} ms");\n\n        // Critical section code here\n\n        var releaseTime = DateTime.UtcNow;\n        Console.WriteLine($"Thread {threadId} released lock at {releaseTime}");\n    }\n}