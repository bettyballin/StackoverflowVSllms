using Moq;\nusing System.Security.Principal;\nusing System.Web;\nusing Xunit;\n\npublic class MyServiceTests\n{\n    [Fact]\n    public void GetCurrentUser_ReturnsUserName()\n    {\n        // Arrange\n        var identity = new Mock<IIdentity>();\n        identity.Setup(x => x.Name).Returns("TestUser");\n\n        var user = new Mock<IPrincipal>();\n        user.Setup(x => x.Identity).Returns(identity.Object);\n\n        var context = new Mock<HttpContextBase>();\n        context.Setup(x => x.User).Returns(user.Object);\n\n        var service = new MyService(context.Object);\n\n        // Act\n        var result = service.GetCurrentUser();\n\n        // Assert\n        Assert.Equal("TestUser", result);\n    }\n}