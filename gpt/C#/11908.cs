using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n\n    using (SqlTransaction transaction = connection.BeginTransaction(IsolationLevel.Snapshot))\n    {\n        try\n        {\n            // Your database operations here\n\n            // Commit the transaction\n            transaction.Commit();\n        }\n        catch (SqlException ex)\n        {\n            // Handle exceptions, e.g., retry or log\n            Console.WriteLine("Transaction failed: " + ex.Message);\n            transaction.Rollback();\n        }\n    }\n}