using System;\nusing System.IO;\nusing System.Data.SqlClient;\n\npublic void SaveImage(byte[] imageBytes, string fileName, string connectionString)\n{\n    // Define the directory path\n    string directoryPath = @"C:\Images";\n    \n    // Ensure the directory exists\n    if (!Directory.Exists(directoryPath))\n    {\n        Directory.CreateDirectory(directoryPath);\n    }\n\n    // Define the full file path\n    string filePath = Path.Combine(directoryPath, fileName);\n\n    // Save the image to the file system\n    File.WriteAllBytes(filePath, imageBytes);\n\n    // Save metadata to SQL Server\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        string query = "INSERT INTO ImageMetadata (FileName, FilePath, CreatedDate) VALUES (@FileName, @FilePath, @CreatedDate)";\n        using (SqlCommand command = new SqlCommand(query, connection))\n        {\n            command.Parameters.AddWithValue("@FileName", fileName);\n            command.Parameters.AddWithValue("@FilePath", filePath);\n            command.Parameters.AddWithValue("@CreatedDate", DateTime.Now);\n            command.ExecuteNonQuery();\n        }\n    }\n}