public class StructureMapRegistry : Registry\n{\n    public StructureMapRegistry()\n    {\n        Scan(scan =>\n        {\n            scan.TheCallingAssembly();\n            scan.WithDefaultConventions();\n            scan.AddAllTypesOf<IController>();\n        });\n    }\n}\n\npublic class MvcApplication : System.Web.HttpApplication\n{\n    protected void Application_Start()\n    {\n        ObjectFactory.Initialize(x => x.AddRegistry<StructureMapRegistry>());\n\n        ControllerBuilder.Current.SetControllerFactory(new IocControllerFactory());\n\n        // Other MVC setup code...\n    }\n}