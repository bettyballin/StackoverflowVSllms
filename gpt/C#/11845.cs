using System.Security.Cryptography;\n   using System.Text;\n\n   public static string Encrypt(string plainText, string key) {\n       byte[] plainBytes = Encoding.UTF8.GetBytes(plainText);\n       using (Aes aes = Aes.Create()) {\n           aes.Key = Encoding.UTF8.GetBytes(key);\n           aes.GenerateIV();\n           using (ICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, aes.IV)) {\n               using (MemoryStream ms = new MemoryStream()) {\n                   ms.Write(aes.IV, 0, aes.IV.Length);\n                   using (CryptoStream cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write)) {\n                       cs.Write(plainBytes, 0, plainBytes.Length);\n                   }\n                   return Convert.ToBase64String(ms.ToArray());\n               }\n           }\n       }\n   }