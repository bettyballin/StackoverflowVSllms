using System;\nusing System.Text.RegularExpressions;\nusing System.Collections.Generic;\n\nclass Program\n{\n    static void Main()\n    {\n        string query = "SELECT one, two, three FROM table1, table2 WHERE X=Y";\n        List<string> tableNames = ExtractTableNames(query);\n        \n        foreach (var tableName in tableNames)\n        {\n            Console.WriteLine(tableName);\n        }\n    }\n\n    static List<string> ExtractTableNames(string query)\n    {\n        string pattern = @"FROM\s+([\w\s,]+)(?=\s+WHERE|\s+GROUP BY|\s+ORDER BY|\s*$)";\n        Match match = Regex.Match(query, pattern, RegexOptions.IgnoreCase);\n        List<string> tables = new List<string>();\n\n        if (match.Success)\n        {\n            string tablesPart = match.Groups[1].Value;\n            string[] tableNames = tablesPart.Split(new[] { ',' }, StringSplitOptions.RemoveEmptyEntries);\n            foreach (var tableName in tableNames)\n            {\n                tables.Add(tableName.Trim());\n            }\n        }\n\n        return tables;\n    }\n}