using System;\nusing WatiN.Core;\nusing WatiN.Core.DialogHandlers;\n\npublic class CustomDialogHandler : IDialogHandler\n{\n    public bool HandleDialog(Window window)\n    {\n        throw new UnexpectedDialogException("An unexpected dialog appeared.");\n    }\n\n    public bool CanHandleDialog(Window window, IntPtr hwnd)\n    {\n        return true; // Can handle all dialogs\n    }\n}\n\npublic class UnexpectedDialogException : Exception\n{\n    public UnexpectedDialogException(string message) : base(message) { }\n}\n\npublic class TestWithDialogHandling\n{\n    public void RunTest()\n    {\n        using (var browser = new IE("http://example.com"))\n        {\n            var dialogHandler = new CustomDialogHandler();\n            browser.AddDialogHandler(dialogHandler);\n\n            try\n            {\n                // Your test code here\n            }\n            catch (UnexpectedDialogException ex)\n            {\n                Console.WriteLine(ex.Message);\n                // Optionally, you can add more logging or actions here\n                throw;\n            }\n        }\n    }\n}