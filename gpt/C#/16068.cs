using System;\nusing System.Globalization;\nusing System.Text.RegularExpressions;\n\npublic class Program\n{\n    public static void Main()\n    {\n        string[] testCases = { "GEORGE BURDELL", "george burdell", "O'REILLY", "MC'DONALD'S" };\n        foreach (var testCase in testCases)\n        {\n            Console.WriteLine(ToProperCase(testCase));\n        }\n    }\n\n    public static string ToProperCase(string input)\n    {\n        if (string.IsNullOrWhiteSpace(input))\n            return string.Empty;\n\n        TextInfo textInfo = CultureInfo.CurrentCulture.TextInfo;\n        input = input.ToLower();\n\n        // Handle compound words with apostrophes and hyphens\n        string result = Regex.Replace(input, @"\b\w+('\w+)?\b", match => {\n            return textInfo.ToTitleCase(match.Value);\n        });\n\n        return result;\n    }\n}