public void DeleteComment(int commentId, int postId)\n{\n    using (var connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        using (var transaction = connection.BeginTransaction())\n        {\n            var deleteCommentCommand = new SqlCommand("DELETE FROM Comments WHERE CommentID = @CommentID", connection, transaction);\n            deleteCommentCommand.Parameters.AddWithValue("@CommentID", commentId);\n            deleteCommentCommand.ExecuteNonQuery();\n\n            var updateCountCommand = new SqlCommand("UPDATE Posts SET CommentCount = CommentCount - 1 WHERE PostID = @PostID", connection, transaction);\n            updateCountCommand.Parameters.AddWithValue("@PostID", postId);\n            updateCountCommand.ExecuteNonQuery();\n\n            transaction.Commit();\n        }\n    }\n}