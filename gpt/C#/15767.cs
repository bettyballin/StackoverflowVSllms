using System.Data.SqlClient;\nusing System.Xml;\n\npublic class XmlProcessor\n{\n    public void ProcessXmlData()\n    {\n        string connectionString = "your_connection_string";\n        string storedProcedure = "your_stored_procedure";\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            SqlCommand command = new SqlCommand(storedProcedure, connection);\n            command.CommandType = System.Data.CommandType.StoredProcedure;\n\n            connection.Open();\n\n            using (XmlReader reader = command.ExecuteXmlReader())\n            {\n                StringBuilder xmlData = new StringBuilder();\n\n                while (reader.Read())\n                {\n                    xmlData.Append(reader.ReadOuterXml());\n                }\n\n                string cleanedXml = XmlHelper.RemoveIllegalXmlCharacters(xmlData.ToString());\n\n                // Now you can use the cleanedXml string to create your XML document\n                XmlDocument xmlDoc = new XmlDocument();\n                xmlDoc.LoadXml(cleanedXml);\n\n                // Further processing of xmlDoc...\n            }\n        }\n    }\n}