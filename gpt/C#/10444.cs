using Microsoft.AspNetCore.SignalR;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\n\npublic class EmergencyHub : Hub\n{\n    public async Task BroadcastMessage(string message)\n    {\n        await Clients.All.SendAsync("ReceiveMessage", message);\n    }\n}\n\npublic class Startup\n{\n    public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddSignalR();\n    }\n\n    public void Configure(IApplicationBuilder app, IHostApplicationLifetime lifetime)\n    {\n        app.UseRouting();\n\n        app.UseEndpoints(endpoints =>\n        {\n            endpoints.MapHub<EmergencyHub>("/emergencyHub");\n        });\n    }\n}\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        CreateHostBuilder(args).Build().Run();\n    }\n\n    public static IHostBuilder CreateHostBuilder(string[] args) =>\n        Host.CreateDefaultBuilder(args)\n            .ConfigureWebHostDefaults(webBuilder =>\n            {\n                webBuilder.UseStartup<Startup>();\n            });\n}