# script/start_my_service\n#!/usr/bin/env ruby\n\nrequire 'fileutils'\nrequire 'open3'\n\nrails_root = File.expand_path('../../', __FILE__)\nrake_command = "bundle exec rake my_service:run"\n\nDir.chdir(rails_root) do\n  Open3.popen3(rake_command) do |stdin, stdout, stderr, wait_thr|\n    puts stdout.read\n    puts stderr.read\n    exit_status = wait_thr.value\n    unless exit_status.success?\n      abort "FAILED to run service: #{exit_status}"\n    end\n  end\nend