# db/migrate/xxxxxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[6.0]\n  def change\n    create_table :users do |t|\n      t.string :name\n      t.string :email\n\n      t.timestamps\n    end\n  end\nend\n\n# db/migrate/xxxxxx_create_submissions.rb\nclass CreateSubmissions < ActiveRecord::Migration[6.0]\n  def change\n    create_table :submissions do |t|\n      t.string :title\n      t.text :content\n      t.references :user, foreign_key: true\n\n      t.timestamps\n    end\n  end\nend\n\n# db/migrate/xxxxxx_create_ratings.rb\nclass CreateRatings < ActiveRecord::Migration[6.0]\n  def change\n    create_table :ratings do |t|\n      t.integer :value\n      t.references :user, foreign_key: true\n      t.references :submission, foreign_key: true\n\n      t.timestamps\n    end\n\n    add_index :ratings, [:user_id, :submission_id], unique: true\n  end\nend