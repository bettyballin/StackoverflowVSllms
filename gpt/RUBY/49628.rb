class OrdersController < ApplicationController\n  before_action :set_order, only: [:update]\n\n  def update\n    if current_user.admin?\n      if @order.update(admin_order_params)\n        redirect_to @order, notice: 'Order was successfully updated.'\n      else\n        render :edit\n      end\n    else\n      if @order.update(user_order_params)\n        redirect_to @order, notice: 'Order was successfully updated.'\n      else\n        render :edit\n      end\n    end\n  end\n\n  private\n\n  def set_order\n    @order = Order.find(params[:id])\n  end\n\n  def admin_order_params\n    params.require(:order).permit(:billing_address, :shipping_address, :origination_ip, :status)\n  end\n\n  def user_order_params\n    params.require(:order).permit(:billing_address, :shipping_address)\n  end\nend