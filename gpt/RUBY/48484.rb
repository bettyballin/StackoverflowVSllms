class ContactCompanyJoinsController < ApplicationController\n  before_action :set_contact_company_join, only: [:destroy]\n\n  def destroy\n    @contact_company_join.destroy\n\n    respond_to do |format|\n      format.html { redirect_to contacts_url, notice: 'ContactCompanyJoin was successfully destroyed.' }\n      format.js do\n        if params[:context] == 'contact'\n          @contact = @contact_company_join.contact\n          render partial: 'contacts/companies_table', locals: { contact: @contact }\n        elsif params[:context] == 'company'\n          @company = @contact_company_join.company\n          render partial: 'companies/contacts_table', locals: { company: @company }\n        end\n      end\n    end\n  end\n\n  private\n\n  def set_contact_company_join\n    @contact_company_join = ContactCompanyJoin.find(params[:id])\n  end\nend