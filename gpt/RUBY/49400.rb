require 'open3'\n\n    output, status = Open3.capture2("passenger-status")\n\n    if status.success?\n      pids = output.scan(/PID\s+:\s+(\d+)/).flatten\n      pids.each_with_index do |pid, index|\n        File.write("/path/to/passenger_app_#{index}.pid", pid)\n      end\n      puts "Passenger PIDs written to files"\n    else\n      puts "Failed to retrieve passenger status"\n    end