# routes.rb\nRails.application.routes.draw do\n  # Add a route for the OAuth callback\n  match '/auth/:provider/callback', to: 'users#oauth_callback', via: [:get, :post]\nend\n\n# users_controller.rb\nclass UsersController < ApplicationController\n  def oauth_callback\n    # Assuming you are using the OAuth gem to handle the OAuth process\n    auth = request.env["omniauth.auth"]\n    \n    # Find or create the user\n    @user = User.find_by(provider: auth['provider'], uid: auth['uid']) || User.create_from_omniauth(auth)\n    \n    # Log the user in\n    if @user\n      UserSession.create(@user)\n      redirect_to root_path, notice: "Signed in!"\n    else\n      redirect_to root_path, alert: "Authentication failed."\n    end\n  end\nend\n\n# user.rb (model)\nclass User < ApplicationRecord\n  acts_as_authentic\n\n  def self.create_from_omniauth(auth)\n    create(\n      provider: auth['provider'],\n      uid: auth['uid'],\n      name: auth['info']['name'],\n      email: auth['info']['email']\n    )\n  end\nend\n\n# In your view (e.g., app/views/sessions/new.html.erb)\n<%= link_to "Sign In with Twitter", "/auth/twitter", method: :post %>