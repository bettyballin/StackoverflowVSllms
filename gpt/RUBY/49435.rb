keywords = input.split(/\s+/)\nqueries = []\nquery_params = []\n\nkeywords.each do |keyword|\n  queries << "(classifications.species LIKE ? OR classifications.family LIKE ? OR classifications.trivial_names LIKE ? OR place LIKE ?)"\n  wildcard_keyword = "%#{keyword}%"\n  4.times { query_params << wildcard_keyword }\nend\n\noptions[:conditions] = [queries.join(' AND ')] + query_params