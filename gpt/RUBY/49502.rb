# app/services/twitter_search_service.rb\nrequire 'httparty'\n\nclass TwitterSearchService\n  include HTTParty\n  base_uri 'http://search.twitter.com'\n\n  def initialize(search_term = '', last_id = 0)\n    @options = { query: { q: search_term, since_id: last_id.to_s } }\n  end\n\n  def fetch_results\n    response = self.class.get('/search.json', @options)\n    JSON.parse(response.body)\n  rescue HTTParty::Error => e\n    Rails.logger.error("HTTP request failed: #{e.message}")\n    []\n  rescue JSON::ParserError => e\n    Rails.logger.error("JSON parsing failed: #{e.message}")\n    []\n  end\nend