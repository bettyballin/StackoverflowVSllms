require 'find'\n\ndef find_in_files(search_text, file_filter, start_from, method='plain')\n  file_patterns = file_filter.split('; ')\n  matches = []\n\n  Find.find(start_from) do |path|\n    if file_patterns.any? { |pattern| File.fnmatch(pattern.strip, File.basename(path)) }\n      File.open(path, 'r') do |file|\n        content = file.read\n        if (method == 'regex' && content.match(/#{search_text}/)) || (method == 'plain' && content.include?(search_text))\n          matches << path\n        end\n      end\n    end\n  end\n\n  matches\nend\n\n# Usage\nsearch_text = 'your_search_text'\nfile_filter = '*.txt; *.htm'\nstart_from = 'c:/docs/2009'\nmethod = 'plain'  # or 'regex'\nmatches = find_in_files(search_text, file_filter, start_from, method)\n\nmatches.each do |match|\n  puts match\nend