class FoosController < ApplicationController\n  before_action :set_type\n\n  def index\n    @foos = @type.constantize.alphabetical\n    respond_to do |format|\n      format.html { render :template => 'foos/index' }\n      format.xml { render :xml => @foos }\n    end\n  end\n\n  def show\n    @foo = @type.constantize.find(params[:id])\n    @next_foo = @foo.next\n    @previous_foo = @foo.previous\n    respond_to do |format|\n      format.html { render :template => 'foos/show' }\n      format.xml { render :xml => @foo }\n    end\n  end\n\n  def new\n    @foo = @type.constantize.new\n    respond_to do |format|\n      format.html { render :template => 'foos/new' }\n      format.xml { render :xml => @foo }\n    end\n  end\n\n  def edit\n    @foo = @type.constantize.find(params[:id])\n    respond_to do |format|\n      format.html { render :template => 'foos/edit' }\n    end\n  end\n\n  def create\n    @foo = @type.constantize.new(foo_params)\n    respond_to do |format|\n      if @foo.save\n        flash[:notice] = 'Foo was successfully created.'\n        format.html { redirect_to(@foo) }\n        format.xml { render :xml => @foo, :status => :created, :location => @foo }\n      else\n        format.html { render :template => 'foos/new' }\n        format.xml { render :xml => @foo.errors, :status => :unprocessable_entity }\n      end\n    end\n  end\n\n  private\n\n  def set_type\n    @type = params[:type] || 'Foo'\n  end\n\n  def foo_params\n    params.require(:foo).permit(:title, :type, :other_attributes)\n  end\nend