require 'net/ldap'\n\nldap = Net::LDAP.new(\n  host: 'your.ldap.server',\n  port: 389,\n  auth: {\n    method: :simple,\n    username: 'your_username',\n    password: 'your_password'\n  }\n)\n\nfilter = Net::LDAP::Filter.eq("objectClass", "user")\ntreebase = "dc=yourdomain,dc=com"\n\nldap.search(base: treebase, filter: filter) do |entry|\n  puts "DN: #{entry.dn}"\n  entry.each do |attribute, values|\n    puts "   #{attribute}:"\n    values.each do |value|\n      puts "      --->#{value}"\n    end\n  end\nend\n\nif ldap.get_operation_result.code != 0\n  puts "Error: #{ldap.get_operation_result.message}"\nend