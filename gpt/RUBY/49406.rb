test_id = 33\n   first_name = 'John'\n   last_name = 'Doe'\n\n   rank_query = <<-SQL\n     SELECT \n       rank\n     FROM (\n       SELECT \n         first_name, last_name, score,\n         RANK() OVER (ORDER BY score DESC) AS rank\n       FROM \n         math_scores\n     ) AS ranked_scores\n     WHERE \n       test_id = #{test_id} AND \n       first_name = '#{first_name}' AND \n       last_name = '#{last_name}'\n   SQL\n\n   result = MathScore.find_by_sql(rank_query).first\n   rank = result.rank if result