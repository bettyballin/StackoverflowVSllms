class SessionsController < ApplicationController\n  def create\n    user = User.find_by(username: params[:username])\n\n    if user&.authenticate(params[:password])\n      session[:user_id] = user.id\n      respond_to do |format|\n        format.js { render js: "window.location = '#{root_path}'" }\n        format.html { redirect_to root_path, notice: "Login successful" }\n      end\n    else\n      respond_to do |format|\n        format.js { render 'login_error' }\n        format.html { render :new, alert: "Invalid username or password" }\n      end\n    end\n  end\nend