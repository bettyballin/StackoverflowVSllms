class Foo < ActiveRecord::Base\n  # STI types\n  scope :reds, -> { where(type: 'RedFoo') }\n  scope :greens, -> { where(type: 'GreenFoo') }\n  scope :blues, -> { where(type: 'BlueFoo') }\n\n  # General scope for sorting alphabetically\n  scope :alphabetical, -> { order(:title) }\n\n  # Method to get the next Foo in the sequence\n  def next\n    Foo.alphabetical.where('title > ?', title).first || Foo.alphabetical.first\n  end\n\n  # Method to get the previous Foo in the sequence\n  def previous\n    Foo.alphabetical.where('title < ?', title).last || Foo.alphabetical.last\n  end\nend\n\nclass RedFoo < Foo; end\nclass GreenFoo < Foo; end\nclass BlueFoo < Foo; end