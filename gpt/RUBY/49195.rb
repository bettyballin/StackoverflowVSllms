class CreatePosts < ActiveRecord::Migration[6.1]\n  def change\n    create_table :posts, id: false do |t|\n      t.primary_key :post_id\n      t.string :post_type, limit: 1, null: false\n      t.string :author\n      t.date :date\n      t.text :content\n      t.index [:post_id, :post_type], unique: true\n    end\n  end\nend\n\nclass CreateComments < ActiveRecord::Migration[6.1]\n  def change\n    create_table :comments do |t|\n      t.references :post, null: false, foreign_key: true\n      t.string :author\n      t.date :date\n      t.text :content\n    end\n  end\nend\n\nclass CreateQuestions < ActiveRecord::Migration[6.1]\n  def change\n    create_table :questions, id: false do |t|\n      t.references :post, primary_key: true, null: false, foreign_key: true\n      t.string :post_type, limit: 1, null: false\n      t.index [:post_id, :post_type], unique: true\n    end\n  end\nend\n\nclass CreateAnswers < ActiveRecord::Migration[6.1]\n  def change\n    create_table :answers, id: false do |t|\n      t.references :post, primary_key: true, null: false, foreign_key: true\n      t.string :post_type, limit: 1, null: false\n      t.references :question, null: false, foreign_key: { to_table: :questions }\n      t.index [:post_id, :post_type], unique: true\n    end\n  end\nend