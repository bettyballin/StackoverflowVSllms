module SharedMethods\n  private\n\n  def complex_method(args)\n    # Your complex logic here\n    puts "Complex method called with #{args}"\n  end\nend\n\nclass Foo\n  extend SharedMethods\n  include SharedMethods\n\n  def instance_call(args)\n    complex_method(args)\n  end\n\n  def self.class_call(args)\n    complex_method(args)\n  end\nend\n\nfoo = Foo.new\nfoo.instance_call("instance level") # => Complex method called with instance level\n\nFoo.class_call("class level") # => Complex method called with class level