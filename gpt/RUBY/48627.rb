# app/forms/multi_step_form.rb\nclass MultiStepForm\n  include ActiveModel::Model\n\n  attr_accessor :step, :first_name, :last_name, :email, :address\n\n  validates :first_name, :last_name, presence: true, if: -> { step == 'personal_info' }\n  validates :email, presence: true, format: { with: URI::MailTo::EMAIL_REGEXP }, if: -> { step == 'contact_info' }\n  validates :address, presence: true, if: -> { step == 'address_info' }\n\n  def save\n    return false unless valid?\n\n    user = User.new(first_name: first_name, last_name: last_name, email: email, address: address)\n    user.save\n  end\nend