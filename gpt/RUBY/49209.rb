class User < ApplicationRecord\n  attr_accessor :form_step\n\n  validates :name, :email, presence: true, if: -> { required_for_step?(:step1) }\n  validates :phone, :address, presence: true, if: -> { required_for_step?(:step2) }\n  validates :profile_picture, presence: true, if: -> { required_for_step?(:step3) }\n  validates :terms_of_service, acceptance: true, if: -> { required_for_step?(:step4) }\n\n  private\n\n  def required_for_step?(step)\n    form_step.nil? || form_step == step.to_s\n  end\nend