class User < ApplicationRecord\n  attr_accessor :dynamic\n\n  validate :dynamic_length_validation\n\n  private\n\n  def dynamic_length_validation\n    if dynamic.present?\n      within_range = dynamic.to_i\n      if name.length < within_range\n        errors.add(:name, "is too short (minimum is #{within_range} characters)")\n      elsif name.length > within_range\n        errors.add(:name, "is too long (maximum is #{within_range} characters)")\n      end\n    end\n  end\nend