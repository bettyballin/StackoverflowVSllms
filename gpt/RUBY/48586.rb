require 'time'\n\n# Path to your SMTP log file\nlog_file_path = 'path/to/your/smtp.log'\n\n# Regular expressions to match different types of bounce messages\nemail_bounce_regex = /550\s+\S+\s+(\S+@\S+\.\S+)/\ngeneric_bounce_regex = /550\s+No\s+such\s+recipient/\n\n# Open the log file and parse it line by line\nFile.open(log_file_path, 'r') do |file|\n  file.each_line do |line|\n    timestamp = Time.parse(line.split(' ')[0..1].join(' ')) # Assuming the log starts with a timestamp\n    if line.match(email_bounce_regex)\n      email = line.match(email_bounce_regex)[1]\n      puts "[#{timestamp}] Bounce detected for email: #{email}"\n    elsif line.match(generic_bounce_regex)\n      # For generic bounces, you might need to correlate with previous lines to find the email\n      puts "[#{timestamp}] Bounce detected with generic message: #{line.strip}"\n    end\n  end\nend