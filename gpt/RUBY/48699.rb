require 'rubyserial'\n\nclass Drink\n  # existing code...\n\n  def dispense\n    port = Serial.new '/dev/ttyUSB0', 9600\n    ingredients.each do |ingredient, amount|\n      pump_number = INGREDIENTS[ingredient]\n      if pump_number.nil?\n        puts "Error: Ingredient #{ingredient} not available."\n        return\n      end\n      command = "#{pump_number}:#{amount}\n"\n      port.write(command)\n      sleep(amount * 0.5) # simulate the time taken to dispense the amount\n    end\n    port.close\n  end\nend\n\n# Define available ingredients\nINGREDIENTS = {\n  water: 1,\n  vodka: 2,\n  orange_juice: 3\n}