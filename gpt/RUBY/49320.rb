text = <<-TEXT\n    /* F004 (0309)00 */  \n    /* field 1 */  \n    /* field 2 */  \n    /* F004 (0409)00 */  \n    /* field 1 */  \n    /* field 2 */  \nTEXT\n\nform = /\n  \/\*\s+(\w+)\s+\((\d+)\)\d+\s+\*\/    # formId & edDate\n  (.+?)                                 # fieldText\n  (?=\/\*\s+\w+\s+\(\d+\)\d+\s+\*\/|\Z) # stop at beginning of next form or end of string\n/mx\n\nresult = text.scan(form).map do |match|\n  [match[0], match[1], match[2].strip]\nend\n\nprint result