class BuildingsController < ApplicationController\n  def create\n    @site = Site.find(params[:site_id])\n    @building = @site.buildings.build(building_params)\n    if @building.save\n      redirect_to site_manager_path, notice: 'Building was successfully created.'\n    else\n      render :new\n    end\n  end\n\n  def destroy\n    @building = Building.find(params[:id])\n    @building.destroy\n    redirect_to site_manager_path, notice: 'Building was successfully deleted.'\n  end\n\n  private\n\n  def building_params\n    params.require(:building).permit(:name)\n  end\nend\n\nclass MetersController < ApplicationController\n  def create\n    @building = Building.find(params[:building_id])\n    @meter = @building.meters.build(meter_params)\n    if @meter.save\n      redirect_to site_manager_path, notice: 'Meter was successfully created.'\n    else\n      render :new\n    end\n  end\n\n  def destroy\n    @meter = Meter.find(params[:id])\n    @meter.destroy\n    redirect_to site_manager_path, notice: 'Meter was successfully deleted.'\n  end\n\n  private\n\n  def meter_params\n    params.require(:meter).permit(:name)\n  end\nend\n\nclass ValuesController < ApplicationController\n  def create\n    @meter = Meter.find(params[:meter_id])\n    @value = @meter.values.build(value_params)\n    if @value.save\n      redirect_to site_manager_path, notice: 'Value was successfully created.'\n    else\n      render :new\n    end\n  end\n\n  def destroy\n    @value = Value.find(params[:id])\n    @value.destroy\n    redirect_to site_manager_path, notice: 'Value was successfully deleted.'\n  end\n\n  private\n\n  def value_params\n    params.require(:value).permit(:amount, :recorded_at)\n  end\nend