# config/initializers/action_mailer.rb\nActionMailer::Base.delivery_method = :smtp\nActionMailer::Base.smtp_settings = {\n  address: "smtp.gmail.com",\n  port: 587,\n  domain: "mydomain.com",\n  authentication: :plain,\n  enable_starttls_auto: true\n}\n\n# lib/email_account_manager.rb\nclass EmailAccountManager\n  ACCOUNTS = [\n    { user_name: "noreply1@mydomain.com", password: "password1" },\n    { user_name: "noreply2@mydomain.com", password: "password2" },\n    # Add more accounts as needed\n  ]\n\n  def self.next_account\n    @current_account = (@current_account || -1) + 1\n    @current_account = 0 if @current_account >= ACCOUNTS.size\n    ACCOUNTS[@current_account]\n  end\nend\n\n# app/models/account.rb\nclass Account < ApplicationRecord\n  after_create :send_welcome_email\n\n  private\n\n  def send_welcome_email\n    account = EmailAccountManager.next_account\n    ActionMailer::Base.smtp_settings.merge!(\n      user_name: account[:user_name],\n      password: account[:password]\n    )\n    SubscriptionNotifier.welcome(self).deliver_now\n  end\nend\n\n# app/mailers/subscription_notifier.rb\nclass SubscriptionNotifier < ActionMailer::Base\n  default from: "noreply@mydomain.com"\n\n  def welcome(account)\n    @account = account\n    mail(to: @account.email, subject: "Welcome to the App")\n  end\nend