class CreateOrderService\n  def initialize(user, order_params)\n    @user = user\n    @order_params = order_params\n  end\n\n  def call\n    ActiveRecord::Base.transaction do\n      order = Order.create!(@order_params)\n      # Additional logic for creating related records\n      @user.orders << order\n      # More business logic...\n    end\n  rescue ActiveRecord::RecordInvalid => e\n    # Handle exceptions\n    Rails.logger.error(e.message)\n    false\n  end\nend