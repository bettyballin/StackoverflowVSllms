require 'httparty'\n\nclass TreasureHuntClient\n  include HTTParty\n  base_uri 'http://site.com'\n\n  def get_treasure_hunts(params)\n    headers = { 'Content-Type' => 'application/xml' }\n    body = params.to_xml(root: 'request')\n    self.class.post('/gettreasurehunts', body: body, headers: headers)\n  end\nend\n\nclient = TreasureHuntClient.new\nparams = { id: 123, other_param: 'value' }\nresponse = client.get_treasure_hunts(params)\nputs response.body