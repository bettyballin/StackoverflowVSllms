FactoryBot.define do\n  factory :transporter do\n    sequence(:company_name) { |n| "transporter_company#{n}" }\n    status { 'created' }\n\n    trait :active do\n      after(:create) { |transporter| transporter.activate! }\n    end\n\n    trait :inactive do\n      after(:create) { |transporter| transporter.inactivate! }\n    end\n  end\nend\n\n# Usage:\ntransporter = FactoryBot.create(:transporter, :active)