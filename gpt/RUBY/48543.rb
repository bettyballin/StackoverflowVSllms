require 'watir'\nrequire 'headless'\n\nclass AwesomeScreenshotMaker\n  def initialize(scale_factor)\n    @scale_factor = scale_factor\n  end\n\n  def capture(url, output_path)\n    headless = Headless.new\n    headless.start\n\n    browser = Watir::Browser.new :firefox\n    browser.goto(url)\n\n    # Resize the browser window to the desired dimensions\n    browser.window.resize_to(1200, 800) # Adjust dimensions as needed\n    screenshot_path = 'temp_screenshot.png'\n    browser.screenshot.save(screenshot_path)\n    browser.close\n\n    headless.destroy\n\n    # Resize the screenshot\n    require 'mini_magick'\n    image = MiniMagick::Image.open(screenshot_path)\n    image.resize "#{(@scale_factor * 100).to_i}%"\n    image.write output_path\n  end\nend\n\nitems = [1, 2, 3] # Replace with actual item IDs or URLs\nitems.each do |id|\n  url = "http://foo.com/bar/#{id}"\n  shooter = AwesomeScreenshotMaker.new(0.2) # thumbnails are 20% of original\n  shooter.capture(url, "images/thumbnail-#{id}.png")\nend