Rails.application.config.middleware.use OmniAuth::Builder do\n  provider :twitter, 'TWITTER_KEY', 'TWITTER_SECRET'\nend\n\nif Rails.env.test?\n  OmniAuth.config.test_mode = true\n  OmniAuth.config.mock_auth[:twitter] = OmniAuth::AuthHash.new({\n    provider: 'twitter',\n    uid: '123545',\n    info: {\n      nickname: 'testuser',\n      name: 'Test User',\n      email: 'test@example.com'\n    },\n    credentials: {\n      token: 'mock_token',\n      secret: 'mock_secret'\n    }\n  })\nend