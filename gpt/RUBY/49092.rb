# Assuming you have a date range for the specific month\nstart_date = Date.new(2023, 10, 1) # Example start date for October 2023\nend_date = start_date.end_of_month # End date for the month\n\nclients_with_invoices = Client.joins(:invoices).where(invoices: { date: start_date..end_date }).distinct\nclients_with_deliveries = Client.joins(:deliveries).where(deliveries: { date: start_date..end_date }).distinct\n\n# Combining both results and ensuring distinct clients\nclients = Client.where(id: clients_with_invoices.pluck(:id) | clients_with_deliveries.pluck(:id))