# app/controllers/users_controller.rb\nclass UsersController < ApplicationController\n  def update\n    @user = User.find(params[:id])\n    \n    if params[:active]\n      @user.update(active: params[:active])\n    else\n      @user.update(user_params)\n    end\n\n    respond_to do |format|\n      if @user.save\n        format.json { render json: @user, status: :ok }\n      else\n        format.json { render json: @user.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  private\n\n  def user_params\n    params.require(:user).permit(:name, :email, :password, :other_attributes)\n  end\nend