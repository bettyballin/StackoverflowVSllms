# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n\n  # Display the form to request a password reset\n  def new\n  end\n\n  # Handle the submission of the password reset request form\n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset_email\n      redirect_to root_path, notice: "Email sent with password reset instructions."\n    else\n      flash.now[:alert] = "Email address not found."\n      render :new\n    end\n  end\n\n  # Display the form to reset the password\n  def edit\n    @user = User.find_by(password_reset_token: params[:token])\n    # Handle invalid token\n    redirect_to new_password_reset_path, alert: "Invalid or expired token." unless @user\n  end\n\n  # Handle the submission of the reset password form\n  def update\n    @user = User.find_by(password_reset_token: params[:token])\n    if @user && @user.update(user_params)\n      redirect_to login_path, notice: "Password has been reset. Please log in."\n    else\n      render :edit\n    end\n  end\n\n  private\n\n  def user_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend