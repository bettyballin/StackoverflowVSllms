# app/models/user.rb\nclass User < ApplicationRecord\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :validatable, :trackable\nend\n\n# app/controllers/application_controller.rb\nbefore_action :update_user_activity\n\ndef update_user_activity\n  if user_signed_in?\n    current_user.update(last_sign_in_at: Time.now)\n  end\nend\n\n# To get online users\ndef online_users\n  User.where("last_sign_in_at > ?", 10.minutes.ago)\nend