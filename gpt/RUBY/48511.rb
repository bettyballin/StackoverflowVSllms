# app/middleware/my_custom_middleware.rb\nclass MyCustomMiddleware\n  def initialize(app)\n    @app = app\n  end\n\n  def call(env)\n    # Perform actions before request reaches the controller\n    puts "Before processing the request"\n\n    status, headers, response = @app.call(env)\n\n    # Perform actions after the response leaves the controller\n    puts "After processing the request"\n\n    [status, headers, response]\n  end\nend\n\n# config/application.rb\n# Add the middleware to the Rails middleware stack\nconfig.middleware.use MyCustomMiddleware