#if __GNUC__ < 3\n#include <strstream>\n#else\n#include <sstream>\n#endif\n\nnamespace custom_stream {\n\n#if __GNUC__ < 3\n    using strstream = std::strstream;\n\n    class stringstream {\n    public:\n        stringstream(const std::string& str = "") {\n            buffer << str;\n        }\n\n        template <typename T>\n        stringstream& operator<<(const T& val) {\n            buffer << val;\n            return *this;\n        }\n\n        std::string str() {\n            return std::string(buffer.str(), buffer.pcount());\n        }\n\n    private:\n        std::strstream buffer;\n    };\n\n#else\n    using stringstream = std::stringstream;\n#endif\n\n} // namespace custom_stream