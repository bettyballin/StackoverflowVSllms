#include <mysql/mysql.h>\n#include <iostream>\n#include <vector>\n#include <string>\n\nint main() {\n    MYSQL *conn;\n    MYSQL_RES *res;\n    MYSQL_ROW row;\n\n    // Initialize the MySQL connection\n    conn = mysql_init(NULL);\n\n    // Connect to the database\n    if (conn == NULL) {\n        std::cerr << "mysql_init() failed\n";\n        return EXIT_FAILURE;\n    }\n\n    if (mysql_real_connect(conn, "server", "user", "password", "database", 0, NULL, 0) == NULL) {\n        std::cerr << "mysql_real_connect() failed\n";\n        mysql_close(conn);\n        return EXIT_FAILURE;\n    }\n\n    // Perform the SQL query\n    if (mysql_query(conn, "SELECT * FROM my_table")) {\n        std::cerr << "SELECT * FROM my_table failed. " << mysql_error(conn) << "\n";\n        mysql_close(conn);\n        return EXIT_FAILURE;\n    }\n\n    // Store the result\n    res = mysql_store_result(conn);\n    if (res == NULL) {\n        std::cerr << "mysql_store_result() failed. " << mysql_error(conn) << "\n";\n        mysql_close(conn);\n        return EXIT_FAILURE;\n    }\n\n    int num_fields = mysql_num_fields(res);\n\n    // Fetch and process each row\n    while ((row = mysql_fetch_row(res))) {\n        for (int i = 0; i < num_fields; i++) {\n            std::string column_value = row[i] ? row[i] : "NULL";\n            std::cout << column_value << " ";\n        }\n        std::cout << std::endl;\n    }\n\n    // Clean up\n    mysql_free_result(res);\n    mysql_close(conn);\n\n    return EXIT_SUCCESS;\n}