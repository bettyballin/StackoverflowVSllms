#include <Windows.h>\n#include <iostream>\n\nint main()\n{\n    // Replace with the actual window handle (HWND) of your target application\n    HWND hWnd = FindWindow(NULL, L"Your Window Name");\n\n    if (hWnd == NULL) {\n        std::cerr << "Could not find the window. Error: " << GetLastError() << std::endl;\n        return 1;\n    }\n\n    // Send the WM_QUERYENDSESSION message\n    LRESULT result = SendMessage(hWnd, WM_QUERYENDSESSION, 0, 0);\n\n    if (result == 0) {\n        std::cout << "The application is NOT prepared to end the session." << std::endl;\n    } else {\n        std::cout << "The application is prepared to end the session." << std::endl;\n    }\n\n    // Optionally, send WM_ENDSESSION if required for further testing\n    SendMessage(hWnd, WM_ENDSESSION, TRUE, ENDSESSION_LOGOFF);\n\n    return 0;\n}