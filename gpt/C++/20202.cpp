#include <windows.h>\n#include <iostream>\n\nint main() {\n    OSVERSIONINFOEX osvi;\n    ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));\n    osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);\n\n    if (GetVersionEx((OSVERSIONINFO*)&osvi)) {\n        std::cout << "Operating System: " << osvi.dwMajorVersion << "." << osvi.dwMinorVersion << std::endl;\n        std::cout << "Service Pack: " << osvi.wServicePackMajor << "." << osvi.wServicePackMinor << std::endl;\n\n        if (osvi.wServicePackMajor == 0) {\n            std::cout << "Service Pack 0 detected." << std::endl;\n            // Apply workaround for SP0\n        } else if (osvi.wServicePackMajor == 1) {\n            std::cout << "Service Pack 1 detected." << std::endl;\n            // Do not apply workaround for SP1\n        }\n    } else {\n        std::cerr << "Failed to get OS version information." << std::endl;\n    }\n\n    return 0;\n}