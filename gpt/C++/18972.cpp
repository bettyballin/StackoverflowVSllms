bool encryptFile(const QString &inputFilePath, const QString &outputFilePath, const QString &password) {\n    QFile inputFile(inputFilePath);\n    QFile outputFile(outputFilePath);\n\n    if (!inputFile.open(QIODevice::ReadOnly) || !outputFile.open(QIODevice::WriteOnly)) {\n        return false;\n    }\n\n    QByteArray salt = QByteArray::fromRawData("12345678", 8); // Use a proper random salt\n    QByteArray key = deriveKey(password, salt);\n\n    EVP_CIPHER_CTX *ctx = EVP_CIPHER_CTX_new();\n    EVP_EncryptInit_ex(ctx, EVP_aes_256_cbc(), NULL, \n                       reinterpret_cast<const unsigned char*>(key.constData()), \n                       reinterpret_cast<const unsigned char*>(salt.constData()));\n\n    outputFile.write("Salted__");\n    outputFile.write(salt);\n\n    QByteArray buffer;\n    QByteArray encryptedBuffer;\n    int outLen;\n\n    while (!inputFile.atEnd()) {\n        buffer = inputFile.read(4096);\n        encryptedBuffer.resize(buffer.size() + AES_BLOCK_SIZE);\n\n        EVP_EncryptUpdate(ctx, reinterpret_cast<unsigned char*>(encryptedBuffer.data()), &outLen, \n                          reinterpret_cast<const unsigned char*>(buffer.constData()), buffer.size());\n\n        outputFile.write(encryptedBuffer.constData(), outLen);\n    }\n\n    EVP_EncryptFinal_ex(ctx, reinterpret_cast<unsigned char*>(encryptedBuffer.data()), &outLen);\n    outputFile.write(encryptedBuffer.constData(), outLen);\n\n    EVP_CIPHER_CTX_free(ctx);\n    return true;\n}