#include <iostream>\n#include <cstring>\n#include <unistd.h>\n#include <sys/types.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n#include <netdb.h>\n\nvoid error(const char *msg) {\n    perror(msg);\n    exit(0);\n}\n\nint main() {\n    int sockfd, portno = 12345, n;\n    struct sockaddr_in serv_addr;\n    struct hostent *server;\n    char buffer[256];\n\n    sockfd = socket(AF_INET, SOCK_STREAM, 0);\n    if (sockfd < 0)\n        error("ERROR opening socket");\n\n    server = gethostbyname("localhost");\n    if (server == NULL) {\n        fprintf(stderr, "ERROR, no such host\n");\n        exit(0);\n    }\n\n    bzero((char *) &serv_addr, sizeof(serv_addr));\n    serv_addr.sin_family = AF_INET;\n    bcopy((char *) server->h_addr, (char *) &serv_addr.sin_addr.s_addr, server->h_length);\n    serv_addr.sin_port = htons(portno);\n\n    if (connect(sockfd,(const sockaddr*)&serv_addr,sizeof(serv_addr)) < 0)\n        error("ERROR connecting");\n\n    std::cout << "Please enter the message: ";\n    bzero(buffer, 256);\n    fgets(buffer, 255, stdin);\n\n    n = write(sockfd, buffer, strlen(buffer));\n    if (n < 0) error("ERROR writing to socket");\n\n    close(sockfd);\n    return 0;\n}