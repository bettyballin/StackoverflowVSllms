#include <vcl.h>\n#include <Data.DB.hpp>\n#include <Datasnap.DBClient.hpp>\n\nvoid LoadCSVToDataset(const String &filename, TClientDataSet *dataset) {\n    TStringList *csvData = new TStringList();\n    csvData->LoadFromFile(filename);\n\n    TStringList *columns = new TStringList();\n    columns->Delimiter = ',';\n\n    if (csvData->Count > 0) {\n        columns->DelimitedText = csvData->Strings[0];\n\n        for (int i = 0; i < columns->Count; i++) {\n            dataset->FieldDefs->Add(columns->Strings[i], ftString, 255);\n        }\n        dataset->CreateDataSet();\n\n        for (int j = 1; j < csvData->Count; j++) {\n            columns->DelimitedText = csvData->Strings[j];\n            dataset->Append();\n            for (int i = 0; i < columns->Count; i++) {\n                dataset->Fields->Fields[i]->AsString = columns->Strings[i];\n            }\n            dataset->Post();\n        }\n    }\n\n    delete columns;\n    delete csvData;\n}