#include <windows.h>\n#include <winnetwk.h>\n#include <iostream>\n\n#pragma comment(lib, "mpr.lib")\n\nint main()\n{\n    NETRESOURCE nr;\n    memset(&nr, 0, sizeof(NETRESOURCE));\n\n    nr.dwType = RESOURCETYPE_DISK;\n    nr.lpLocalName = NULL;  // No local device name\n    nr.lpRemoteName = (LPSTR)"\\\\network_path\\share";\n    nr.lpProvider = NULL;\n\n    DWORD dwFlags = CONNECT_INTERACTIVE | CONNECT_PROMPT;\n\n    // Attempt to establish a connection to the network resource\n    DWORD dwResult = WNetAddConnection2(&nr, NULL, NULL, dwFlags);\n\n    if (dwResult == NO_ERROR) {\n        std::cout << "Successfully connected to the network resource." << std::endl;\n        // Proceed with accessing the file\n    } else {\n        std::cerr << "Failed to connect to the network resource. Error: " << dwResult << std::endl;\n    }\n\n    return 0;\n}