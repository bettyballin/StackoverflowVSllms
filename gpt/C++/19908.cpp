#include <windows.h>\n#include <tchar.h>\n#include <iostream>\n\nvoid CreateServiceForUser(const std::wstring& userName, const std::wstring& executablePath) {\n    SC_HANDLE hSCManager = OpenSCManager(NULL, NULL, SC_MANAGER_CREATE_SERVICE);\n    if (hSCManager == NULL) {\n        std::wcout << L"OpenSCManager failed: " << GetLastError() << std::endl;\n        return;\n    }\n\n    std::wstring serviceName = L"MyService_" + userName;\n\n    SC_HANDLE hService = CreateService(\n        hSCManager,\n        serviceName.c_str(),\n        serviceName.c_str(),\n        SERVICE_ALL_ACCESS,\n        SERVICE_WIN32_OWN_PROCESS,\n        SERVICE_DEMAND_START,\n        SERVICE_ERROR_NORMAL,\n        executablePath.c_str(),\n        NULL,\n        NULL,\n        NULL,\n        NULL,\n        NULL\n    );\n\n    if (hService == NULL) {\n        std::wcout << L"CreateService failed: " << GetLastError() << std::endl;\n        CloseServiceHandle(hSCManager);\n        return;\n    }\n\n    // Change the service logon to the specific user\n    if (!ChangeServiceConfig(\n            hService,\n            SERVICE_NO_CHANGE,\n            SERVICE_NO_CHANGE,\n            SERVICE_NO_CHANGE,\n            NULL,\n            NULL,\n            NULL,\n            NULL,\n            (L"domain\\" + userName).c_str(),\n            NULL,\n            NULL)) {\n        std::wcout << L"ChangeServiceConfig failed: " << GetLastError() << std::endl;\n    }\n\n    CloseServiceHandle(hService);\n    CloseServiceHandle(hSCManager);\n}\n\nint main() {\n    std::wstring executablePath = L"C:\\Path\\To\\Your\\ServiceExecutable.exe";\n    CreateServiceForUser(L"UserA", executablePath);\n    CreateServiceForUser(L"UserB", executablePath);\n    return 0;\n}