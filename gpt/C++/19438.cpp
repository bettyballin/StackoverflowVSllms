#include <windows.h>\n#include <tchar.h>\n#include <iostream>\n\nbool SetRegistryValue(DWORD dwData, BOOL enabled) {\n    HKEY hKey;\n    LONG lResult;\n\n    // Open the registry key\n    lResult = RegOpenKeyEx(HKEY_LOCAL_MACHINE, _T("System\\CurrentControlSet\\Control\\Power\\Timeouts"), 0, KEY_SET_VALUE, &hKey);\n    if (lResult != ERROR_SUCCESS) {\n        std::cerr << "Error opening registry key: " << lResult << std::endl;\n        return false;\n    }\n\n    // Set the registry value if enabled is true\n    if (enabled) {\n        lResult = RegSetValueEx(hKey, _T("BattSuspendTimeout"), 0, REG_DWORD, (const BYTE*)&dwData, sizeof(dwData));\n        if (lResult != ERROR_SUCCESS) {\n            std::cerr << "Error setting registry value: " << lResult << std::endl;\n            RegCloseKey(hKey);\n            return false;\n        }\n    }\n\n    // Close the registry key\n    RegCloseKey(hKey);\n    return true;\n}\n\nint main() {\n    DWORD dwData = 120;\n    BOOL enabled = TRUE; // Set to TRUE to enable and change the value\n\n    if (SetRegistryValue(dwData, enabled)) {\n        std::cout << "Registry value set successfully." << std::endl;\n    } else {\n        std::cerr << "Failed to set registry value." << std::endl;\n    }\n\n    return 0;\n}