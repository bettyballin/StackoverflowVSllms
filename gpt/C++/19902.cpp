#include <windows.h>\n\nvoid LaunchAsAdmin(const char* applicationPath)\n{\n    SHELLEXECUTEINFO shExecInfo = {0};\n    shExecInfo.cbSize = sizeof(SHELLEXECUTEINFO);\n    shExecInfo.fMask = SEE_MASK_NOCLOSEPROCESS;\n    shExecInfo.hwnd = NULL;\n    shExecInfo.lpVerb = "runas"; // This ensures the application is run as administrator\n    shExecInfo.lpFile = applicationPath;\n    shExecInfo.lpParameters = "";  // If you need to pass parameters to the application\n    shExecInfo.lpDirectory = NULL;\n    shExecInfo.nShow = SW_SHOWNORMAL;\n    shExecInfo.hInstApp = NULL;\n\n    if (ShellExecuteEx(&shExecInfo))\n    {\n        WaitForSingleObject(shExecInfo.hProcess, INFINITE);\n        CloseHandle(shExecInfo.hProcess);\n    }\n    else\n    {\n        // Handle the error\n        DWORD dwError = GetLastError();\n        if (dwError == ERROR_CANCELLED)\n        {\n            // The user refused to allow privileges elevation.\n            MessageBox(NULL, "User refused to allow privileges elevation.", "Error", MB_OK);\n        }\n        else\n        {\n            // Other error occurred.\n            MessageBox(NULL, "Failed to launch application as administrator.", "Error", MB_OK);\n        }\n    }\n}\n\nint main()\n{\n    LaunchAsAdmin("C:\\Path\\To\\Your\\Upgrader.exe");\n    return 0;\n}