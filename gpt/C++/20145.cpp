#include <windows.h>\n#include <pdh.h>\n#include <pdhmsg.h>\n#include <iostream>\n\n#pragma comment(lib, "pdh.lib")\n\nint main() {\n    PDH_HQUERY query;\n    PDH_HCOUNTER counter;\n    PDH_FMT_COUNTERVALUE counterVal;\n    DWORD dwType;\n\n    PdhOpenQuery(NULL, NULL, &query);\n\n    // Replace "ProcessName" and "ThreadID" with actual values\n    PdhAddCounter(query, L"\\Process(ProcessName)\\Thread(ThreadID)\\% Processor Time", NULL, &counter);\n\n    PdhCollectQueryData(query);\n\n    Sleep(1000); // 1 second interval\n\n    PdhCollectQueryData(query);\n    PdhGetFormattedCounterValue(counter, PDH_FMT_DOUBLE, &dwType, &counterVal);\n\n    std::wcout << "CPU usage of the thread: " << counterVal.doubleValue << "%" << std::endl;\n\n    PdhCloseQuery(query);\n\n    return 0;\n}