#include <windows.h>\n#include <iostream>\n\nbool IsNTBasedOS() {\n    OSVERSIONINFO osvi;\n    ZeroMemory(&osvi, sizeof(OSVERSIONINFO));\n    osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);\n\n    if (GetVersionEx(&osvi)) {\n        return (osvi.dwPlatformId == VER_PLATFORM_WIN32_NT);\n    }\n    return false;\n}\n\nint main() {\n    if (IsNTBasedOS()) {\n        // Safe to call GetFileTime() and SetFileTime()\n        HANDLE hFile = CreateFile(L"example.txt", GENERIC_READ, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);\n        if (hFile != INVALID_HANDLE_VALUE) {\n            FILETIME ftCreate, ftAccess, ftWrite;\n            if (GetFileTime(hFile, &ftCreate, &ftAccess, &ftWrite)) {\n                // Process file times\n                std::cout << "File times retrieved successfully." << std::endl;\n            } else {\n                std::cerr << "Failed to get file times." << std::endl;\n            }\n            CloseHandle(hFile);\n        } else {\n            std::cerr << "Failed to open file." << std::endl;\n        }\n    } else {\n        std::cerr << "Non-NT based OS detected. Functionality not supported." << std::endl;\n    }\n\n    return 0;\n}