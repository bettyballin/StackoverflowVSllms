#include <windows.h>\n#include <iostream>\n\nclass ConsoleManager {\npublic:\n    void openConsole() {\n        if (!isConsoleOpen) {\n            AllocConsole();\n            freopen("CONOUT$", "w", stdout);\n            freopen("CONOUT$", "w", stderr);\n            freopen("CONIN$", "r", stdin);\n            isConsoleOpen = true;\n        }\n    }\n\n    void closeConsole() {\n        if (isConsoleOpen) {\n            fclose(stdout);\n            fclose(stderr);\n            fclose(stdin);\n            FreeConsole();\n            isConsoleOpen = false;\n        }\n    }\n\n    ~ConsoleManager() {\n        closeConsole(); // Ensure console is closed when the object is destroyed\n    }\n\nprivate:\n    bool isConsoleOpen = false;\n};\n\nint main() {\n    ConsoleManager consoleManager;\n\n    // Open the console\n    consoleManager.openConsole();\n    std::cout << "Console opened." << std::endl;\n\n    // Perform your operations here\n    std::cout << "This is a test message." << std::endl;\n\n    // Close the console\n    consoleManager.closeConsole();\n    std::cout << "Console closed." << std::endl; // This line won't be seen as the console is closed\n\n    return 0;\n}