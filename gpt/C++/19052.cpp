#include <windows.h>\n#include <iostream>\n\nbool IsBufferEmpty(HANDLE handle) {\n    DWORD bytesAvailable = 0;\n    if (!PeekNamedPipe(handle, NULL, 0, NULL, &bytesAvailable, NULL)) {\n        std::cerr << "Error checking buffer: " << GetLastError() << std::endl;\n        return false;\n    }\n    return bytesAvailable == 0;\n}\n\nint main() {\n    HANDLE hPipe = CreateFile(\n        L"\\\\.\\pipe\\YourPipeName",\n        GENERIC_READ | GENERIC_WRITE,\n        0,\n        NULL,\n        OPEN_EXISTING,\n        0,\n        NULL\n    );\n\n    if (hPipe == INVALID_HANDLE_VALUE) {\n        std::cerr << "Failed to connect to pipe. Error: " << GetLastError() << std::endl;\n        return 1;\n    }\n\n    if (IsBufferEmpty(hPipe)) {\n        std::cout << "Buffer is empty." << std::endl;\n    } else {\n        std::cout << "Buffer has data." << std::endl;\n    }\n\n    CloseHandle(hPipe);\n    return 0;\n}