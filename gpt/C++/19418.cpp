#include <fcntl.h>\n#include <unistd.h>\n#include <iostream>\n\nvoid lock_file(int fd) {\n    struct flock fl;\n    fl.l_type = F_WRLCK; // Write lock\n    fl.l_whence = SEEK_SET;\n    fl.l_start = 0;\n    fl.l_len = 0; // Lock the whole file\n\n    if (fcntl(fd, F_SETLKW, &fl) == -1) {\n        perror("fcntl lock");\n    }\n}\n\nvoid unlock_file(int fd) {\n    struct flock fl;\n    fl.l_type = F_UNLCK; // Unlock\n    fl.l_whence = SEEK_SET;\n    fl.l_start = 0;\n    fl.l_len = 0; // Unlock the whole file\n\n    if (fcntl(fd, F_SETLK, &fl) == -1) {\n        perror("fcntl unlock");\n    }\n}\n\nint main() {\n    int fd = open("/path/to/your/file.xml", O_RDWR);\n    if (fd == -1) {\n        perror("open");\n        return 1;\n    }\n\n    lock_file(fd);\n    // Perform file operations (read or write)\n    unlock_file(fd);\n\n    close(fd);\n    return 0;\n}