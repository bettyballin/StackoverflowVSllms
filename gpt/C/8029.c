#include <stdio.h>\n#include <stdlib.h>\n\n#define MAX_QUEUE_SIZE 10000\n\ntypedef struct {\n    int x, y;\n} Point;\n\ntypedef struct {\n    Point data[MAX_QUEUE_SIZE];\n    int front, rear;\n} Queue;\n\nvoid initQueue(Queue *q) {\n    q->front = q->rear = 0;\n}\n\nint isEmpty(Queue *q) {\n    return q->front == q->rear;\n}\n\nint isFull(Queue *q) {\n    return (q->rear + 1) % MAX_QUEUE_SIZE == q->front;\n}\n\nvoid enqueue(Queue *q, Point p) {\n    if (!isFull(q)) {\n        q->data[q->rear] = p;\n        q->rear = (q->rear + 1) % MAX_QUEUE_SIZE;\n    }\n}\n\nPoint dequeue(Queue *q) {\n    Point p = { -1, -1 };\n    if (!isEmpty(q)) {\n        p = q->data[q->front];\n        q->front = (q->front + 1) % MAX_QUEUE_SIZE;\n    }\n    return p;\n}\n\nvoid floodFill(int **image, int width, int height, int x, int y, int newColor) {\n    int oldColor = image[x][y];\n    if (oldColor == newColor) return;\n\n    Queue q;\n    initQueue(&q);\n\n    Point start = { x, y };\n    enqueue(&q, start);\n\n    while (!isEmpty(&q)) {\n        Point p = dequeue(&q);\n\n        int px = p.x;\n        int py = p.y;\n\n        if (px < 0 || px >= width || py < 0 || py >= height) continue;\n        if (image[px][py] != oldColor) continue;\n\n        image[px][py] = newColor;\n\n        Point neighbors[4] = {\n            { px + 1, py },\n            { px - 1, py },\n            { px, py + 1 },\n            { px, py - 1 }\n        };\n\n        for (int i = 0; i < 4; i++) {\n            enqueue(&q, neighbors[i]);\n        }\n    }\n}\n\nint main() {\n    int width = 5, height = 5;\n    int **image = (int **)malloc(width * sizeof(int *));\n    for (int i = 0; i < width; i++) {\n        image[i] = (int *)malloc(height * sizeof(int));\n    }\n\n    // Example image\n    int example[5][5] = {\n        {1, 1, 1, 2, 2},\n        {1, 1, 1, 2, 2},\n        {1, 1, 1, 2, 2},\n        {3, 3, 3, 2, 2},\n        {3, 3, 3, 3, 3}\n    };\n\n    for (int i = 0; i < width; i++) {\n        for (int j = 0; j < height; j++) {\n            image[i][j] = example[i][j];\n        }\n    }\n\n    floodFill(image, width, height, 1, 1, 9);\n\n    for (int i = 0; i < width; i++) {\n        for (int j = 0; j < height; j++) {\n            printf("%d ", image[i][j]);\n        }\n        printf("\n");\n    }\n\n    for (int i = 0; i < width; i++) {\n        free(image[i]);\n    }\n    free(image);\n\n    return 0;\n}