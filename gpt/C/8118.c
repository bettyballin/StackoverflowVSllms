#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#define TYPE_A 1\n#define TYPE_B 2\n\ntypedef struct {\n    int type_id;\n    // other members\n} TypeBase;\n\ntypedef struct {\n    int type_id;\n    int a;\n    // other members\n} TypeA;\n\ntypedef struct {\n    int type_id;\n    char b;\n    // other members\n} TypeB;\n\nvoid* allocate_type(int type_id) {\n    if (type_id == TYPE_A) {\n        TypeA* ptr = malloc(sizeof(TypeA));\n        ptr->type_id = TYPE_A;\n        return ptr;\n    } else if (type_id == TYPE_B) {\n        TypeB* ptr = malloc(sizeof(TypeB));\n        ptr->type_id = TYPE_B;\n        return ptr;\n    }\n    return NULL;\n}\n\nint get_type(void* ptr) {\n    TypeBase* base = (TypeBase*)ptr;\n    return base->type_id;\n}\n\nint main() {\n    TypeA* a = (TypeA*)allocate_type(TYPE_A);\n    TypeB* b = (TypeB*)allocate_type(TYPE_B);\n\n    printf("Type of a: %d\n", get_type(a)); // Output: Type of a: 1\n    printf("Type of b: %d\n", get_type(b)); // Output: Type of b: 2\n\n    free(a);\n    free(b);\n\n    return 0;\n}