#include <stdio.h>\n#include <stdlib.h>\n#include <unistd.h>\n#include <signal.h>\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <mqueue.h>\n\n#define QUEUE_NAME "/my_queue"\n\n// Cleanup function to be called on normal termination\nvoid cleanup() {\n    mq_unlink(QUEUE_NAME);\n    printf("Message queue unlinked.\n");\n}\n\n// Watchdog process function\nvoid start_watchdog(pid_t main_pid) {\n    while (1) {\n        if (kill(main_pid, 0) != 0) {\n            // Main process has terminated\n            mq_unlink(QUEUE_NAME);\n            printf("Watchdog: Message queue unlinked.\n");\n            exit(0);\n        }\n        sleep(1); // Check every second\n    }\n}\n\nint main() {\n    pid_t pid = fork();\n    if (pid == 0) {\n        // Child process: Watchdog\n        start_watchdog(getppid());\n    } else {\n        // Parent process: Main program\n        atexit(cleanup);\n        \n        // Create the message queue\n        mqd_t mqd = mq_open(QUEUE_NAME, O_CREAT | O_RDWR, 0644, NULL);\n        if (mqd == (mqd_t)-1) {\n            perror("mq_open");\n            exit(1);\n        }\n        printf("Message queue created.\n");\n\n        // Main program logic here\n        // ...\n\n        // Simulate normal termination\n        printf("Main program terminating normally.\n");\n        exit(0);\n    }\n    return 0;\n}