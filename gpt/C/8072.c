#include <stdio.h>\n\nvoid cwritebinary_(char *filename, int *width, int *height, double *pixels)\n{\n    FILE *file;\n    int imgSize = (*width) * (*height) * 3;\n    int i;\n\n    file = fopen(filename, "wb");\n    if (file == NULL) {\n        perror("Error opening file");\n        return;\n    }\n\n    for (i = 0; i < imgSize; i++) {\n        fwrite(&pixels[i], sizeof(double), 1, file);\n    }\n\n    fclose(file);\n}