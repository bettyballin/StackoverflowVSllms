sqlite3 *db;\nsqlite3_enable_shared_cache(0); // Ensure this is called before opening the database\n\nint rc = sqlite3_open("my_database.db", &db);\nif(rc) {\n    fprintf(stderr, "Can't open database: %s\n", sqlite3_errmsg(db));\n    return rc;\n}\n\n// Set pragmas to optimize performance\nsqlite3_exec(db, "PRAGMA synchronous = OFF;", 0, 0, 0);\nsqlite3_exec(db, "PRAGMA journal_mode = MEMORY;", 0, 0, 0);\n\n// Execute your queries\nconst char *sql = "SELECT * FROM my_table;";\nsqlite3_stmt *stmt;\nrc = sqlite3_prepare_v2(db, sql, -1, &stmt, 0);\nif(rc != SQLITE_OK) {\n    fprintf(stderr, "Failed to prepare statement: %s\n", sqlite3_errmsg(db));\n    return rc;\n}\n\nwhile((rc = sqlite3_step(stmt)) == SQLITE_ROW) {\n    // Process each row\n}\n\nsqlite3_finalize(stmt);\nsqlite3_close(db);