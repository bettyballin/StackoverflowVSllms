#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct Node {\n    void* data;\n    struct Node* next;\n} Node;\n\ntypedef struct {\n    Node* head;\n    size_t data_size;\n} List;\n\nvoid init_list(List* list, size_t data_size) {\n    list->head = NULL;\n    list->data_size = data_size;\n}\n\nvoid add_element(List* list, void* element) {\n    Node* new_node = (Node*)malloc(sizeof(Node));\n    new_node->data = malloc(list->data_size);\n    memcpy(new_node->data, element, list->data_size);\n    new_node->next = list->head;\n    list->head = new_node;\n}\n\nvoid print_list(List* list, void (*print_func)(void*)) {\n    Node* current = list->head;\n    while (current != NULL) {\n        print_func(current->data);\n        current = current->next;\n    }\n    printf("\n");\n}\n\nvoid free_list(List* list) {\n    Node* current = list->head;\n    Node* next;\n    while (current != NULL) {\n        next = current->next;\n        free(current->data);\n        free(current);\n        current = next;\n    }\n    list->head = NULL;\n}\n\n// Example print function for integers\nvoid print_int(void* data) {\n    printf("%d ", *(int*)data);\n}\n\n// Example usage\nint main() {\n    List list;\n    init_list(&list, sizeof(int));\n\n    int a = 1, b = 2, c = 3;\n    add_element(&list, &a);\n    add_element(&list, &b);\n    add_element(&list, &c);\n\n    print_list(&list, print_int);\n    free_list(&list);\n\n    return 0;\n}