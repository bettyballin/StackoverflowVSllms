#include <pthread.h>\n#include <stdio.h>\n#include <stdlib.h>\n\npthread_rwlock_t rwlock = PTHREAD_RWLOCK_INITIALIZER;\nint X = 0;\n\nvoid* modify(void* arg) {\n    pthread_rwlock_wrlock(&rwlock);\n    // Modify the global variable X\n    X += 1;\n    printf("Modified X to %d\n", X);\n    pthread_rwlock_unlock(&rwlock);\n    return NULL;\n}\n\nvoid* read(void* arg) {\n    pthread_rwlock_rdlock(&rwlock);\n    // Read the global variable X\n    printf("Read X as %d\n", X);\n    pthread_rwlock_unlock(&rwlock);\n    return NULL;\n}\n\nint main() {\n    pthread_t threads[10];\n    int i;\n\n    // Create 5 modifying threads\n    for (i = 0; i < 5; i++) {\n        pthread_create(&threads[i], NULL, modify, NULL);\n    }\n\n    // Create 5 reading threads\n    for (i = 5; i < 10; i++) {\n        pthread_create(&threads[i], NULL, read, NULL);\n    }\n\n    // Join all threads\n    for (i = 0; i < 10; i++) {\n        pthread_join(threads[i], NULL);\n    }\n\n    pthread_rwlock_destroy(&rwlock);\n\n    return 0;\n}