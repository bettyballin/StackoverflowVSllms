#include <stdio.h>\n\nvoid print_and_write(FILE *file_p, const char *format, ...) {\n    va_list args;\n\n    // Print to screen\n    va_start(args, format);\n    vprintf(format, args);\n    va_end(args);\n\n    // Write to file\n    va_start(args, format);\n    vfprintf(file_p, format, args);\n    va_end(args);\n}\n\nint main() {\n    FILE *file_p = fopen("output.txt", "w");\n    if (file_p == NULL) {\n        perror("Error opening file");\n        return 1;\n    }\n\n    // Example structure\n    struct {\n        long start_int_idx;\n        int current_int_idx;\n    } serial_info = {1234567890, 42};\n\n    print_and_write(file_p, "Starting serial number       [%ld]\n", serial_info.start_int_idx);\n    print_and_write(file_p, "Current Serial number         [%d]\n", serial_info.current_int_idx);\n\n    fclose(file_p);\n    return 0;\n}