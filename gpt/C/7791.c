#include <pthread.h>\n#include <stdio.h>\n\n// Define a global pointer and a mutex\nvoid *global_ptr = NULL;\npthread_mutex_t ptr_mutex = PTHREAD_MUTEX_INITIALIZER;\n\nvoid update_pointer(void *new_value) {\n    pthread_mutex_lock(&ptr_mutex);\n    global_ptr = new_value;\n    pthread_mutex_unlock(&ptr_mutex);\n}\n\nvoid *read_pointer() {\n    void *value;\n    pthread_mutex_lock(&ptr_mutex);\n    value = global_ptr;\n    pthread_mutex_unlock(&ptr_mutex);\n    return value;\n}\n\nvoid *thread_function(void *arg) {\n    // Thread work that reads the global pointer\n    void *ptr = read_pointer();\n    // Do something with ptr...\n    return NULL;\n}\n\nint main() {\n    pthread_t thread1, thread2;\n\n    // Create threads\n    pthread_create(&thread1, NULL, thread_function, NULL);\n    pthread_create(&thread2, NULL, thread_function, NULL);\n\n    // Update the global pointer in main thread\n    int new_value = 42;\n    update_pointer(&new_value);\n\n    // Wait for threads to finish\n    pthread_join(thread1, NULL);\n    pthread_join(thread2, NULL);\n\n    return 0;\n}