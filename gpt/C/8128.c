// main.c\n#include <stdio.h>\n#include <dlfcn.h>\n\nint main() {\n    void *handle;\n    int (*validate_license)(const char*);\n    void (*critical_function)();\n\n    // Load the shared library\n    handle = dlopen("./liblicense_check.so", RTLD_LAZY);\n    if (!handle) {\n        fprintf(stderr, "Failed to load library: %s\n", dlerror());\n        return 1;\n    }\n\n    // Get the function pointers\n    validate_license = dlsym(handle, "validate_license");\n    critical_function = dlsym(handle, "critical_function");\n\n    if (!validate_license || !critical_function) {\n        fprintf(stderr, "Failed to load functions: %s\n", dlerror());\n        dlclose(handle);\n        return 1;\n    }\n\n    // Check the license key\n    const char* license_key = "VALID_LICENSE_KEY";\n    if (validate_license(license_key)) {\n        printf("License valid. Proceeding...\n");\n        critical_function();\n    } else {\n        printf("Invalid license key. Exiting...\n");\n    }\n\n    // Close the library\n    dlclose(handle);\n    return 0;\n}