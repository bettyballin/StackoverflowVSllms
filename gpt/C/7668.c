#include <windows.h>\n#include <stdio.h>\n\nint main() {\n    HANDLE hJob = CreateJobObject(NULL, NULL);\n    if (hJob == NULL) {\n        fprintf(stderr, "CreateJobObject failed (%d)\n", GetLastError());\n        return 1;\n    }\n\n    JOBOBJECT_EXTENDED_LIMIT_INFORMATION jeli = {0};\n    jeli.BasicLimitInformation.LimitFlags = JOB_OBJECT_LIMIT_KILL_ON_JOB_CLOSE;\n\n    if (!SetInformationJobObject(hJob, JobObjectExtendedLimitInformation, &jeli, sizeof(jeli))) {\n        fprintf(stderr, "SetInformationJobObject failed (%d)\n", GetLastError());\n        return 1;\n    }\n\n    STARTUPINFO si = { sizeof(si) };\n    PROCESS_INFORMATION pi;\n\n    if (!CreateProcess(NULL, "child_executable.exe", NULL, NULL, FALSE, CREATE_SUSPENDED | CREATE_BREAKAWAY_FROM_JOB, NULL, NULL, &si, &pi)) {\n        fprintf(stderr, "CreateProcess failed (%d)\n", GetLastError());\n        return 1;\n    }\n\n    if (!AssignProcessToJobObject(hJob, pi.hProcess)) {\n        fprintf(stderr, "AssignProcessToJobObject failed (%d)\n", GetLastError());\n        TerminateProcess(pi.hProcess, 1);\n        return 1;\n    }\n\n    ResumeThread(pi.hThread);\n    CloseHandle(pi.hThread);\n    CloseHandle(pi.hProcess);\n\n    // Parent process code\n    Sleep(10000); // Simulate parent process work\n\n    CloseHandle(hJob); // This will terminate the child processes\n\n    return 0;\n}