#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/time.h>\n#include <arpa/inet.h>\n\n// Define the packet structure\ntypedef struct {\n    struct timeval timestamp;\n    char data[256];  // Adjust size as needed\n} Packet;\n\nvoid receive_packet(int sockfd) {\n    Packet packet;\n    struct sockaddr_in src_addr;\n    socklen_t addr_len = sizeof(struct sockaddr_in);\n    struct timeval recv_time, prev_recv_time, prev_send_time;\n    int first_packet = 1;\n\n    while (1) {\n        // Receive the packet\n        recvfrom(sockfd, &packet, sizeof(Packet), 0, (struct sockaddr *)&src_addr, &addr_len);\n        \n        // Get receive timestamp\n        gettimeofday(&recv_time, NULL);\n        \n        if (!first_packet) {\n            // Calculate send and receive differences\n            long send_diff = (packet.timestamp.tv_sec - prev_send_time.tv_sec) * 1000000L + (packet.timestamp.tv_usec - prev_send_time.tv_usec);\n            long recv_diff = (recv_time.tv_sec - prev_recv_time.tv_sec) * 1000000L + (recv_time.tv_usec - prev_recv_time.tv_usec);\n            \n            // Calculate IPDV\n            long ipdv = recv_diff - send_diff;\n            \n            printf("Packet Delay Variation (IPDV): %ld microseconds\n", ipdv);\n        } else {\n            first_packet = 0;\n        }\n        \n        // Save current timestamps for next calculation\n        prev_send_time = packet.timestamp;\n        prev_recv_time = recv_time;\n    }\n}