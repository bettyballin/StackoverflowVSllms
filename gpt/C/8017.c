#include <stdio.h>\n#include <stdlib.h>\n#include <dirent.h>\n\nint count_files(const char *path) {\n    struct dirent *entry;\n    DIR *dp = opendir(path);\n    int count = 0;\n\n    if (dp == NULL) {\n        perror("opendir");\n        return -1;\n    }\n\n    while ((entry = readdir(dp))) {\n        // Skip the special entries "." and ".."\n        if (entry->d_type == DT_REG) {\n            count++;\n        }\n    }\n\n    closedir(dp);\n    return count;\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <directory_path>\n", argv[0]);\n        return 1;\n    }\n\n    int file_count = count_files(argv[1]);\n    if (file_count >= 0) {\n        printf("Number of files: %d\n", file_count);\n    } else {\n        fprintf(stderr, "Failed to count files in the directory\n");\n    }\n\n    return 0;\n}