#include <stdio.h>\n#include <sys/types.h>\n#include <sys/ipc.h>\n#include <sys/sem.h>\n\nint main() {\n    key_t key = ftok("path_to_some_file", 'A'); // Generate unique key\n    int semid = semget(key, 1, 0666); // Get semaphore ID\n\n    if (semid == -1) {\n        perror("semget");\n        return 1;\n    }\n\n    struct semid_ds buf;\n    buf.sem_perm.uid = new_uid; // Set new owner user ID\n    buf.sem_perm.gid = new_gid; // Set new owner group ID\n    buf.sem_perm.mode = new_mode; // Set new permissions\n\n    if (semctl(semid, 0, IPC_SET, &buf) == -1) {\n        perror("semctl");\n        return 1;\n    }\n\n    printf("Semaphore ownership and permissions changed successfully.\n");\n    return 0;\n}