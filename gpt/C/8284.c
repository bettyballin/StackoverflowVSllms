#include <stdio.h>\n#include <stdlib.h>\n#include <fcntl.h>\n#include <unistd.h>\n#include <sys/types.h>\n#include <sys/stat.h>\n\n#define PIPE_IN "/tmp/pipe_in"\n#define PIPE_OUT "/tmp/pipe_out"\n\nint main() {\n    // Create the named pipes\n    if (mkfifo(PIPE_IN, 0666) == -1) {\n        perror("mkfifo");\n        exit(EXIT_FAILURE);\n    }\n\n    if (mkfifo(PIPE_OUT, 0666) == -1) {\n        perror("mkfifo");\n        exit(EXIT_FAILURE);\n    }\n\n    // Open the input pipe in non-blocking mode\n    int in_fd = open(PIPE_IN, O_RDONLY | O_NONBLOCK);\n    if (in_fd == -1) {\n        perror("open for reading");\n        exit(EXIT_FAILURE);\n    }\n\n    // Open the output pipe in non-blocking mode\n    int out_fd = open(PIPE_OUT, O_WRONLY | O_NONBLOCK);\n    if (out_fd == -1) {\n        perror("open for writing");\n        // Close the input pipe before exiting\n        close(in_fd);\n        exit(EXIT_FAILURE);\n    }\n\n    // Now you can use select() or poll() on in_fd and out_fd\n    // Example: Using select()\n    fd_set read_fds;\n    FD_ZERO(&read_fds);\n    FD_SET(in_fd, &read_fds);\n\n    struct timeval timeout;\n    timeout.tv_sec = 5;  // 5 seconds timeout\n    timeout.tv_usec = 0;\n\n    int ret = select(in_fd + 1, &read_fds, NULL, NULL, &timeout);\n    if (ret == -1) {\n        perror("select");\n    } else if (ret == 0) {\n        printf("Timeout occurred! No data within 5 seconds.\n");\n    } else {\n        if (FD_ISSET(in_fd, &read_fds)) {\n            char buffer[128];\n            ssize_t bytesRead = read(in_fd, buffer, sizeof(buffer));\n            if (bytesRead > 0) {\n                buffer[bytesRead] = '\0';\n                printf("Read: %s\n", buffer);\n            } else if (bytesRead == 0) {\n                printf("End of file.\n");\n            } else {\n                perror("read");\n            }\n        }\n    }\n\n    // Close the file descriptors\n    close(in_fd);\n    close(out_fd);\n\n    // Remove the named pipes\n    unlink(PIPE_IN);\n    unlink(PIPE_OUT);\n\n    return 0;\n}