#include <dc1394/dc1394.h>\n\nint main() {\n    dc1394_t *d;\n    dc1394camera_t *camera;\n    dc1394video_modes_t video_modes;\n    dc1394video_mode_t current_video_mode;\n\n    d = dc1394_new();\n    camera = dc1394_camera_new(d, YOUR_CAMERA_GUID);\n\n    if (!camera) {\n        fprintf(stderr, "Failed to initialize camera\n");\n        return 1;\n    }\n\n    dc1394_video_get_supported_modes(camera, &video_modes);\n\n    // Set to YUV422 mode\n    dc1394_video_set_mode(camera, DC1394_VIDEO_MODE_640x480_YUV422);\n    dc1394_video_get_mode(camera, &current_video_mode);\n\n    printf("Current video mode: %d\n", current_video_mode);\n\n    // Capture and inspect frame\n    dc1394_capture_setup(camera, 4, DC1394_CAPTURE_FLAGS_DEFAULT);\n    dc1394_video_set_transmission(camera, DC1394_ON);\n\n    dc1394video_frame_t *frame;\n    dc1394_capture_dequeue(camera, DC1394_CAPTURE_POLICY_WAIT, &frame);\n\n    if (frame->size[0] != 640 || frame->size[1] != 480 || frame->total_bytes != 640 * 480 * 2) {\n        printf("Frame size mismatch: width=%d, height=%d, total_bytes=%d\n",\n               frame->size[0], frame->size[1], frame->total_bytes);\n    }\n\n    dc1394_capture_enqueue(camera, frame);\n    dc1394_video_set_transmission(camera, DC1394_OFF);\n    dc1394_capture_stop(camera);\n    dc1394_camera_free(camera);\n    dc1394_free(d);\n\n    return 0;\n}