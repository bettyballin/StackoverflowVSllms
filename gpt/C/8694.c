#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n#include <arpa/inet.h>\n#include <sys/socket.h>\n\nint main() {\n    int sockfd;\n    struct sockaddr_in addr;\n    socklen_t addr_len = sizeof(addr);\n\n    sockfd = socket(AF_INET, SOCK_STREAM, 0);\n    if (sockfd < 0) {\n        perror("socket");\n        exit(EXIT_FAILURE);\n    }\n\n    if (listen(sockfd, 10) < 0) {\n        perror("listen");\n        close(sockfd);\n        exit(EXIT_FAILURE);\n    }\n\n    if (getsockname(sockfd, (struct sockaddr *)&addr, &addr_len) < 0) {\n        perror("getsockname");\n        close(sockfd);\n        exit(EXIT_FAILURE);\n    }\n\n    char ip_str[INET_ADDRSTRLEN];\n    inet_ntop(AF_INET, &addr.sin_addr, ip_str, sizeof(ip_str));\n    printf("Listening on %s:%d\n", ip_str, ntohs(addr.sin_port));\n\n    // accept() call to handle incoming connections\n    // ...\n\n    close(sockfd);\n    return 0;\n}