#include <stdio.h>\n#include <stdlib.h>\n#include <unistd.h>\n#include <sys/wait.h>\n#include <string.h>\n\n#define NUM_FILES 10\n\nvoid process_file(int file_index, int write_pipe) {\n    // Simulate processing with sleep\n    for (int i = 0; i <= 100; i += 10) {\n        sleep(1); // Simulate work\n        write(write_pipe, &i, sizeof(i)); // Send progress to parent\n    }\n    close(write_pipe);\n}\n\nint main() {\n    int pipes[NUM_FILES][2];\n    pid_t pids[NUM_FILES];\n    \n    for (int i = 0; i < NUM_FILES; i++) {\n        if (pipe(pipes[i]) == -1) {\n            perror("pipe");\n            exit(EXIT_FAILURE);\n        }\n        \n        if ((pids[i] = fork()) == -1) {\n            perror("fork");\n            exit(EXIT_FAILURE);\n        }\n        \n        if (pids[i] == 0) { // Child process\n            close(pipes[i][0]); // Close read end\n            process_file(i, pipes[i][1]);\n            exit(0);\n        } else { // Parent process\n            close(pipes[i][1]); // Close write end\n        }\n    }\n\n    // Parent process: monitor progress\n    int progress[NUM_FILES] = {0};\n    int status;\n    for (int i = 0; i < NUM_FILES; i++) {\n        while (waitpid(pids[i], &status, WNOHANG) == 0) {\n            int child_progress;\n            if (read(pipes[i][0], &child_progress, sizeof(child_progress)) > 0) {\n                progress[i] = child_progress;\n                printf("File %d: %d%% complete\n", i, progress[i]);\n            }\n        }\n    }\n\n    // Close all pipes\n    for (int i = 0; i < NUM_FILES; i++) {\n        close(pipes[i][0]);\n    }\n\n    printf("All files processed.\n");\n    return 0;\n}