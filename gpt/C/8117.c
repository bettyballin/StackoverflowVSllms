#include <turbojpeg.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nint main() {\n    const int width = 800;\n    const int height = 600;\n    const int quality = 85;\n    unsigned char *jpegBuf = NULL;\n    unsigned long jpegSize = 0;\n\n    // Create a dummy image (RGB)\n    unsigned char *imgBuf = malloc(width * height * 3);\n    for (int y = 0; y < height; y++) {\n        for (int x = 0; x < width; x++) {\n            imgBuf[(y * width + x) * 3 + 0] = x % 256; // Red\n            imgBuf[(y * width + x) * 3 + 1] = y % 256; // Green\n            imgBuf[(y * width + x) * 3 + 2] = (x + y) % 256; // Blue\n        }\n    }\n\n    tjhandle tjInstance = tjInitCompress();\n    if (tjCompress2(tjInstance, imgBuf, width, 0, height, TJPF_RGB, &jpegBuf, &jpegSize, TJSAMP_444, quality, TJFLAG_FASTDCT) < 0) {\n        fprintf(stderr, "Failed to compress image: %s\n", tjGetErrorStr());\n        tjDestroy(tjInstance);\n        free(imgBuf);\n        return 1;\n    }\n\n    FILE *jpegFile = fopen("output.jpg", "wb");\n    if (jpegFile == NULL) {\n        perror("Failed to open output file");\n        tjFree(jpegBuf);\n        tjDestroy(tjInstance);\n        free(imgBuf);\n        return 1;\n    }\n\n    fwrite(jpegBuf, sizeof(unsigned char), jpegSize, jpegFile);\n    fclose(jpegFile);\n\n    tjFree(jpegBuf);\n    tjDestroy(tjInstance);\n    free(imgBuf);\n\n    return 0;\n}