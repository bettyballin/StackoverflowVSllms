#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#define LOG_FILE "transaction.log"\n#define DATA_FILE "data.txt"\n\nvoid write_log(const char *data) {\n    FILE *log = fopen(LOG_FILE, "w");\n    if (log == NULL) {\n        perror("Failed to open log file");\n        exit(EXIT_FAILURE);\n    }\n    fprintf(log, "%s", data);\n    fclose(log);\n}\n\nvoid commit_transaction(const char *data) {\n    FILE *file = fopen(DATA_FILE, "w");\n    if (file == NULL) {\n        perror("Failed to open data file");\n        exit(EXIT_FAILURE);\n    }\n    fprintf(file, "%s", data);\n    fclose(file);\n    remove(LOG_FILE); // Remove log after successful commit\n}\n\nvoid recover_from_log() {\n    FILE *log = fopen(LOG_FILE, "r");\n    if (log != NULL) {\n        char data[256];\n        fgets(data, sizeof(data), log);\n        commit_transaction(data); // Apply log data to the main file\n        fclose(log);\n    }\n}\n\nint main() {\n    recover_from_log(); // Ensure recovery at startup\n\n    // Example transaction\n    const char *new_data = "Example data to write\n";\n    write_log(new_data); // Log the data\n    commit_transaction(new_data); // Commit the data\n\n    return 0;\n}