#include <stdio.h>\n#include <time.h>\n\nvoid do_some_work() {\n    // Simulate some work\n    for (volatile int i = 0; i < 1000000; ++i);\n}\n\nint main() {\n    struct timespec start, end;\n    double elapsed;\n\n    // Get the starting time\n    clock_gettime(CLOCK_PROCESS_CPUTIME_ID, &start);\n\n    // Call the function you want to time\n    do_some_work();\n\n    // Get the ending time\n    clock_gettime(CLOCK_PROCESS_CPUTIME_ID, &end);\n\n    // Calculate the elapsed time in microseconds\n    elapsed = (end.tv_sec - start.tv_sec) * 1e6 + (end.tv_nsec - start.tv_nsec) / 1e3;\n\n    printf("Elapsed time: %.3f microseconds\n", elapsed);\n\n    return 0;\n}