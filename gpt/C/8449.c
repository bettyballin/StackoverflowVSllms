#include <nfc/nfc.h>\n\nvoid list_devices() {\n    nfc_context *context;\n    nfc_device **devices;\n    size_t device_count;\n\n    nfc_init(&context);\n    if (context == NULL) {\n        printf("Unable to init libnfc\n");\n        return;\n    }\n\n    device_count = nfc_list_devices(context, NULL, 0);\n    devices = malloc(device_count * sizeof(nfc_device *));\n    device_count = nfc_list_devices(context, devices, device_count);\n\n    for (size_t i = 0; i < device_count; i++) {\n        printf("NFC device: %s\n", nfc_device_get_name(devices[i]));\n    }\n\n    nfc_exit(context);\n    free(devices);\n}