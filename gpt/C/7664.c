#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <mqueue.h>\n#include <fcntl.h>\n#include <sys/stat.h>\n\n#define QUEUE_NAME  "/test_queue"\n#define MAX_SIZE    1024\n#define MSG_STOP    "exit"\n\nint main() {\n    mqd_t mq;\n    struct mq_attr attr;\n    char buffer[MAX_SIZE + 1];\n\n    // Initialize the queue attributes\n    attr.mq_flags = 0;\n    attr.mq_maxmsg = 10;\n    attr.mq_msgsize = MAX_SIZE;\n    attr.mq_curmsgs = 0;\n\n    // Create the message queue\n    mq = mq_open(QUEUE_NAME, O_CREAT | O_RDWR, 0644, &attr);\n    if (mq == -1) {\n        perror("mq_open");\n        exit(EXIT_FAILURE);\n    }\n\n    // Sending a message\n    if (mq_send(mq, "Hello", strlen("Hello") + 1, 0) == -1) {\n        perror("mq_send");\n        exit(EXIT_FAILURE);\n    }\n\n    // Receiving a message\n    ssize_t bytes_read;\n    bytes_read = mq_receive(mq, buffer, MAX_SIZE, NULL);\n    if (bytes_read >= 0) {\n        buffer[bytes_read] = '\0';\n        printf("Received: %s\n", buffer);\n    } else {\n        perror("mq_receive");\n        exit(EXIT_FAILURE);\n    }\n\n    // Cleanup\n    mq_close(mq);\n    mq_unlink(QUEUE_NAME);\n\n    return 0;\n}