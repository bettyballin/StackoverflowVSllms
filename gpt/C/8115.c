#include <stdio.h>\n\n// Defining the event structure\nstruct event {\n    int type;\n};\n\n// Typedef for event callback function pointer\ntypedef void (*event_cb_t)(const struct event *evt, void *user_data);\n\n// Struct to hold the callback and its data\nstruct event_cb {\n    event_cb_t cb;\n    void *data;\n};\n\n// Function to register the callback\nint event_cb_register(event_cb_t cb, void *user_data) {\n    if (cb == NULL) {\n        return -1; // Error: Null callback\n    }\n\n    // For simplicity, just store the callback and data in static variables\n    static struct event_cb registered_cb;\n    registered_cb.cb = cb;\n    registered_cb.data = user_data;\n\n    // Simulate an event dispatch to demonstrate callback invocation\n    struct event evt = { .type = 1 };\n    registered_cb.cb(&evt, registered_cb.data);\n\n    return 0; // Success\n}\n\n// Example callback function\nstatic void my_event_cb(const struct event *evt, void *data) {\n    printf("Event type: %d, User data: %s\n", evt->type, (char *)data);\n}\n\nint main(void) {\n    char my_custom_data[] = "Custom Data";\n\n    // Register the callback\n    if (event_cb_register(my_event_cb, my_custom_data) != 0) {\n        fprintf(stderr, "Failed to register callback\n");\n        return 1;\n    }\n\n    return 0;\n}