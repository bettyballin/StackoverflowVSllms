#define ARRAY_LEN 262144\n\nlong *sourceArrayPointer = getSourceArray();\n\nlong sourceArray[ARRAY_LEN];\nfor (int i = 0; i < ARRAY_LEN; i++) {\n    sourceArray[i] = sourceArrayPointer[i];\n}\n\nsize_t total_bytes_to_send = sizeof(long) * ARRAY_LEN;\nsize_t bytes_sent = 0;\nwhile (bytes_sent < total_bytes_to_send) {\n    int result = send(clientSocketFD, (char *)sourceArray + bytes_sent, total_bytes_to_send - bytes_sent, 0);\n    if (result < 0) {\n        // Handle error\n        perror("send");\n        break;\n    }\n    bytes_sent += result;\n}