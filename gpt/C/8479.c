#include <windows.h>\n    #include <stdio.h>\n\n    void CreateNamedPipeServer()\n    {\n        HANDLE hPipe;\n        char buffer[1024];\n        DWORD bytesRead;\n\n        hPipe = CreateNamedPipe(TEXT("\\\\.\\pipe\\MyPipe"),\n                                PIPE_ACCESS_DUPLEX,\n                                PIPE_TYPE_MESSAGE | PIPE_READMODE_MESSAGE | PIPE_WAIT,\n                                PIPE_UNLIMITED_INSTANCES,\n                                1024, 1024, 0, NULL);\n\n        if (hPipe == INVALID_HANDLE_VALUE)\n        {\n            printf("CreateNamedPipe failed, GLE=%d.\n", GetLastError());\n            return;\n        }\n\n        BOOL isConnected = ConnectNamedPipe(hPipe, NULL) ? TRUE : (GetLastError() == ERROR_PIPE_CONNECTED);\n        if (isConnected)\n        {\n            while (ReadFile(hPipe, buffer, sizeof(buffer) - 1, &bytesRead, NULL) != FALSE)\n            {\n                buffer[bytesRead] = '\0';\n                printf("Received: %s\n", buffer);\n            }\n        }\n\n        CloseHandle(hPipe);\n    }