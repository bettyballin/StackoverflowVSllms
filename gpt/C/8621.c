#include <sys/time.h>\n#include <stdio.h>\n\nvoid active_sleep(long microseconds) {\n    struct timeval start, current;\n    long elapsed_time;\n\n    // Get the start time\n    gettimeofday(&start, NULL);\n\n    do {\n        // Get the current time\n        gettimeofday(&current, NULL);\n        \n        // Calculate elapsed time in microseconds\n        elapsed_time = (current.tv_sec - start.tv_sec) * 1000000 + (current.tv_usec - start.tv_usec);\n\n    } while (elapsed_time < microseconds);\n}\n\nvoid f1() {\n    for (int i = 0; i < 1000; i++) {\n        active_sleep(1000); // Sleep for 1000 microseconds\n    }\n}\n\nint main() {\n    f1();\n    return 0;\n}