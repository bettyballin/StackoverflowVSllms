#include <sys/types.h>\n#include <sys/socket.h>\n#include <netinet/tcp.h>\n#include <unistd.h>\n#include <stdio.h>\n\nvoid send_message(int sockfd, const char *message, size_t length) {\n    // Enable TCP_CORK\n    int cork_on = 1;\n    if (setsockopt(sockfd, IPPROTO_TCP, TCP_CORK, &cork_on, sizeof(cork_on)) < 0) {\n        perror("setsockopt TCP_CORK on");\n        return;\n    }\n\n    // Send the message\n    if (send(sockfd, message, length, 0) < 0) {\n        perror("send");\n        return;\n    }\n\n    // Disable TCP_CORK to force sending the data\n    int cork_off = 0;\n    if (setsockopt(sockfd, IPPROTO_TCP, TCP_CORK, &cork_off, sizeof(cork_off)) < 0) {\n        perror("setsockopt TCP_CORK off");\n        return;\n    }\n}\n\nint main() {\n    int sockfd = /* your socket initialization code here */;\n    const char *message = "Your message here";\n    \n    send_message(sockfd, message, strlen(message));\n\n    // Close the socket\n    close(sockfd);\n    return 0;\n}