#include <gtk/gtk.h>\n\nvoid print_widget_size(GtkWidget *widget) {\n    // Ensure the widget is realized and mapped\n    if (gtk_widget_get_realized(widget) && gtk_widget_get_mapped(widget)) {\n        gint width = gtk_widget_get_allocated_width(widget);\n        gint height = gtk_widget_get_allocated_height(widget);\n        g_print("Widget size: width=%d, height=%d\n", width, height);\n    } else {\n        g_print("Widget is not realized or mapped.\n");\n    }\n}\n\nint main(int argc, char *argv[]) {\n    gtk_init(&argc, &argv);\n\n    GtkWidget *window = gtk_window_new(GTK_WINDOW_TOPLEVEL);\n    GtkWidget *button = gtk_button_new_with_label("Click Me");\n\n    gtk_container_add(GTK_CONTAINER(window), button);\n\n    g_signal_connect(window, "destroy", G_CALLBACK(gtk_main_quit), NULL);\n    g_signal_connect(button, "clicked", G_CALLBACK(print_widget_size), NULL);\n\n    gtk_widget_show_all(window);\n\n    gtk_main();\n\n    return 0;\n}