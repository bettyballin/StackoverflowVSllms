#include "ini.h"\n\ntypedef struct {\n    const char* name;\n    int value;\n} configuration;\n\nstatic int handler(void* user, const char* section, const char* name,\n                   const char* value) {\n    configuration* pconfig = (configuration*)user;\n\n    if (strcmp(name, "some_setting") == 0) {\n        pconfig->value = atoi(value);\n    }\n\n    return 1;\n}\n\nint main() {\n    configuration config;\n    if (ini_parse("example.ini", handler, &config) < 0) {\n        printf("Can't load 'example.ini'\n");\n        return 1;\n    }\n\n    printf("some_setting: %d\n", config.value);\n    return 0;\n}