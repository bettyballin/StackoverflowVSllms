#include <unistd.h>\n#include <stdlib.h>\n#include <stdio.h>\n\nint main() {\n    pid_t pid;\n\n    // Create a new session and make the calling process the session leader\n    if ((pid = fork()) == 0) {\n        // Child process\n        if (setsid() < 0) {\n            perror("setsid");\n            exit(EXIT_FAILURE);\n        }\n        \n        // Fork again to prevent the child from acquiring a controlling terminal\n        if ((pid = fork()) == 0) {\n            // Grandchild process\n            // Perform exec* or other operations here\n        } else if (pid > 0) {\n            exit(EXIT_SUCCESS); // First child exits\n        } else {\n            perror("fork");\n            exit(EXIT_FAILURE);\n        }\n    } else if (pid > 0) {\n        // Parent process\n        wait(NULL); // Wait for the first child to exit\n    } else {\n        perror("fork");\n        exit(EXIT_FAILURE);\n    }\n\n    return 0;\n}