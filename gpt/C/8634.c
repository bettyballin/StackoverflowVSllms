#include <stdio.h>\n#include <stdlib.h>\n#include <unistd.h>\n#include <sys/stat.h>\n\n#define BUFFER_SIZE 1024\n\nvoid tail_f(const char *filename) {\n    FILE *file = fopen(filename, "r");\n    if (!file) {\n        perror("fopen");\n        exit(EXIT_FAILURE);\n    }\n\n    // Seek to the end of the file\n    fseek(file, 0, SEEK_END);\n\n    while (1) {\n        struct stat st;\n        if (stat(filename, &st) == -1) {\n            perror("stat");\n            exit(EXIT_FAILURE);\n        }\n\n        // If the file has grown\n        if (ftell(file) < st.st_size) {\n            char buffer[BUFFER_SIZE];\n            while (fgets(buffer, sizeof(buffer), file)) {\n                // Process the line (for now, just print it)\n                printf("%s", buffer);\n            }\n        } else {\n            // Sleep for a short duration before checking again\n            usleep(500000); // 500 milliseconds\n        }\n    }\n\n    fclose(file);\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <logfile>\n", argv[0]);\n        exit(EXIT_FAILURE);\n    }\n\n    tail_f(argv[1]);\n\n    return 0;\n}