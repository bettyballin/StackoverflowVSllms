// Define the data structure for sensor table data\ntypedef struct {\n    uint8_t sensor;\n    uint16_t time;\n    int8_t temperature;\n    float moisture;\n} sensors_table_data_t;\n\n// Calculate checksum\nuint8_t calculate_checksum(void *data, size_t length) {\n    uint8_t checksum = 0;\n    uint8_t *bytes = (uint8_t *)data;\n    for (size_t i = 0; i < length; i++) {\n        checksum ^= bytes[i];\n    }\n    return checksum;\n}\n\n// Send data row\nvoid send_data_row(uint8_t table_id, void *data, size_t data_length) {\n    uint8_t checksum = calculate_checksum(data, data_length);\n    rs232_send(&table_id, sizeof(table_id));\n    rs232_send(data, data_length);\n    rs232_send(&checksum, sizeof(checksum));\n}\n\nint main() {\n    // Example data\n    sensors_table_data_t sensor_data[] = {\n        {1, 3012, 20, 0.5},\n        {2, 3024, 22, 0.9}\n    };\n\n    // Send the table format (handshake)\n    send_table_format(0);\n\n    // Send data rows\n    for (size_t i = 0; i < sizeof(sensor_data) / sizeof(sensor_data[0]); i++) {\n        send_data_row(1, &sensor_data[i], sizeof(sensor_data[i]));\n    }\n\n    return 0;\n}