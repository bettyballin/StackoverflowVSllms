#include <pthread.h>\n#include <libspe2.h>\n\nvoid *spe_thread_function(void *arg) {\n    spe_context_ptr_t ctx = (spe_context_ptr_t)arg;\n    unsigned int entry = SPE_DEFAULT_ENTRY;\n    spe_program_load(ctx, &my_spe_program);\n    spe_context_run(ctx, &entry, 0, NULL, NULL, NULL);\n    spe_context_destroy(ctx);\n    return NULL;\n}\n\nint main() {\n    pthread_t thread;\n    spe_context_ptr_t ctx;\n\n    ctx = spe_context_create(0, NULL);\n    pthread_create(&thread, NULL, spe_thread_function, (void *)ctx);\n    pthread_join(thread, NULL);\n\n    return 0;\n}