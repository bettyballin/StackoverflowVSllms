#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n#include <arpa/inet.h>\n\n#define PORT 8080\n#define FILENAME "image.jpg"\n\nvoid send_file(FILE *fp, int sockfd) {\n    char data[1024] = {0};\n\n    while (fread(data, sizeof(char), 1024, fp) > 0) {\n        if (send(sockfd, data, sizeof(data), 0) == -1) {\n            perror("[-] Error in sending file.");\n            exit(1);\n        }\n        memset(data, 0, 1024);\n    }\n}\n\nint main() {\n    int sockfd, new_sock;\n    struct sockaddr_in server_addr, new_addr;\n    socklen_t addr_size;\n    char buffer[1024];\n    FILE *fp;\n\n    sockfd = socket(AF_INET, SOCK_STREAM, 0);\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_port = htons(PORT);\n    server_addr.sin_addr.s_addr = INADDR_ANY;\n\n    bind(sockfd, (struct sockaddr*)&server_addr, sizeof(server_addr));\n    listen(sockfd, 10);\n    addr_size = sizeof(new_addr);\n    new_sock = accept(sockfd, (struct sockaddr*)&new_addr, &addr_size);\n\n    fp = fopen(FILENAME, "rb");\n    if (fp == NULL) {\n        perror("[-] Error in reading file.");\n        exit(1);\n    }\n\n    send_file(fp, new_sock);\n    printf("[+] File data sent successfully.\n");\n\n    fclose(fp);\n    close(new_sock);\n    close(sockfd);\n\n    return 0;\n}