#include <windows.h>\n#include <stdio.h>\n\nBOOL CanWriteToRegistryKey(HKEY hKey, LPCSTR subKey) {\n    HKEY hTestKey;\n    LONG lResult;\n    \n    // Attempt to open the registry key with write access\n    lResult = RegOpenKeyEx(hKey, subKey, 0, KEY_WRITE, &hTestKey);\n    \n    if (lResult == ERROR_SUCCESS) {\n        // Successfully opened with write access\n        RegCloseKey(hTestKey);\n        return TRUE;\n    }\n    \n    return FALSE;\n}\n\nint main() {\n    // Check write access to HKEY_LOCAL_MACHINE\n    if (CanWriteToRegistryKey(HKEY_LOCAL_MACHINE, "SOFTWARE\\Test")) {\n        printf("Can write to HKEY_LOCAL_MACHINE\\SOFTWARE\\Test\n");\n    } else {\n        printf("Cannot write to HKEY_LOCAL_MACHINE\\SOFTWARE\\Test\n");\n    }\n\n    // Check write access to HKEY_CURRENT_USER policy keys\n    if (CanWriteToRegistryKey(HKEY_CURRENT_USER, "Software\\Policies")) {\n        printf("Can write to HKEY_CURRENT_USER\\Software\\Policies\n");\n    } else {\n        printf("Cannot write to HKEY_CURRENT_USER\\Software\\Policies\n");\n    }\n\n    return 0;\n}