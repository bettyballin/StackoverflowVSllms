#include <sys/types.h>\n#include <sys/socket.h>\n#include <unistd.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nvoid handle_connection(int sockfd) {\n    uid_t euid;\n    gid_t egid;\n\n    if (getpeereid(sockfd, &euid, &egid) == -1) {\n        perror("getpeereid");\n        exit(EXIT_FAILURE);\n    }\n\n    printf("Connected peer's effective UID: %d\n", euid);\n    printf("Connected peer's effective GID: %d\n", egid);\n\n    // Continue handling connection...\n}\n\nint main() {\n    // Assume sockfd is a connected Unix-domain socket\n    int sockfd;\n\n    // ... Code to create and connect the socket ...\n\n    handle_connection(sockfd);\n\n    return 0;\n}