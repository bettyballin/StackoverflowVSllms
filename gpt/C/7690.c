#include <openssl/ssl.h>\n#include <openssl/err.h>\n\nint main() {\n    SSL_CTX *ctx;\n    SSL *ssl;\n    int server;\n\n    // Initialize OpenSSL\n    SSL_library_init();\n    SSL_load_error_strings();\n    OpenSSL_add_all_algorithms();\n\n    // Create a new SSL context\n    ctx = SSL_CTX_new(TLS_client_method());\n    if (ctx == NULL) {\n        ERR_print_errors_fp(stderr);\n        exit(EXIT_FAILURE);\n    }\n\n    // Load trusted CA certificates\n    if (!SSL_CTX_load_verify_locations(ctx, "path/to/ca-certificates.crt", NULL)) {\n        ERR_print_errors_fp(stderr);\n        SSL_CTX_free(ctx);\n        exit(EXIT_FAILURE);\n    }\n\n    // Create a new SSL connection\n    ssl = SSL_new(ctx);\n    if (ssl == NULL) {\n        ERR_print_errors_fp(stderr);\n        SSL_CTX_free(ctx);\n        exit(EXIT_FAILURE);\n    }\n\n    // Connect to the server\n    // (Assume 'server' is a valid socket connected to the server)\n    SSL_set_fd(ssl, server);\n\n    if (SSL_connect(ssl) <= 0) {\n        ERR_print_errors_fp(stderr);\n        SSL_free(ssl);\n        SSL_CTX_free(ctx);\n        exit(EXIT_FAILURE);\n    }\n\n    // Verify the server's certificate\n    if (SSL_get_verify_result(ssl) != X509_V_OK) {\n        fprintf(stderr, "Certificate verification failed\n");\n        SSL_free(ssl);\n        SSL_CTX_free(ctx);\n        exit(EXIT_FAILURE);\n    }\n\n    // Proceed with secured communication\n    // ...\n\n    // Clean up\n    SSL_free(ssl);\n    SSL_CTX_free(ctx);\n    EVP_cleanup();\n    return 0;\n}