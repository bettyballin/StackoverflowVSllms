#define ARRAY_LEN 262144\n\nlong targetArray[ARRAY_LEN];\nsize_t total_bytes_to_receive = sizeof(long) * ARRAY_LEN;\nsize_t bytes_received = 0;\nwhile (bytes_received < total_bytes_to_receive) {\n    int result = read(socketFD, (char *)targetArray + bytes_received, total_bytes_to_receive - bytes_received);\n    if (result < 0) {\n        // Handle error\n        perror("read");\n        break;\n    } else if (result == 0) {\n        // Handle connection closed by the sender\n        break;\n    }\n    bytes_received += result;\n}