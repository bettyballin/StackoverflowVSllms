#!/bin/bash\n\n# Oracle connection details\nORACLE_USER="your_user"\nORACLE_PASS="your_pass"\nORACLE_SID="your_sid"\nTABLE_NAME="your_table"\nROW_CHECK_QUERY="SELECT COUNT(*) FROM ${TABLE_NAME} WHERE your_condition;"\nTMP_FILE_PATH="/path/to/your/tmp/file"\nLOG_FILE="/path/to/your/logfile.log"\n\n# Function to check if the row exists in the table\ncheck_row_exists() {\n    count=$(echo "$ROW_CHECK_QUERY" | sqlplus -s ${ORACLE_USER}/${ORACLE_PASS}@${ORACLE_SID} | grep -o '[0-9]')\n    if [ "$count" -gt 0 ]; then\n        return 0\n    else\n        return 1\n    fi\n}\n\n# Function to log tmp file attributes\nlog_tmp_file_attributes() {\n    if [ -f "$TMP_FILE_PATH" ]; then\n        ls -l "$TMP_FILE_PATH" >> "$LOG_FILE"\n    fi\n}\n\n# Main loop\nwhile true; do\n    check_row_exists\n    if [ $? -eq 0 ]; then\n        while check_row_exists; do\n            if [ -f "$TMP_FILE_PATH" ]; then\n                log_tmp_file_attributes\n                sleep 5\n            else\n                echo "Tmp file not found!" >> "$LOG_FILE"\n                sleep 5\n            fi\n        done\n        # Capture the last contents of the tmp file before it gets deleted\n        if [ -f "$TMP_FILE_PATH" ]; then\n            cat "$TMP_FILE_PATH" > "${TMP_FILE_PATH}.last"\n        fi\n    fi\n    sleep 10\ndone