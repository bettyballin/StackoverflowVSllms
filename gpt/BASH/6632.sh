#!/bin/bash\n\n# Array to hold subprocess PIDs\npids=()\n\n# Array to hold subprocess exit statuses\nexit_statuses=()\n\n# Launch subprocesses and store their PIDs\nfor i in `seq 0 9`; do\n  doCalculations $i &\n  pids+=($!)\ndone\n\n# Wait for each subprocess and store their exit statuses\nfor pid in "${pids[@]}"; do\n  wait $pid\n  exit_statuses+=($?)\ndone\n\n# Check if any subprocess exited with a non-zero status\nfor status in "${exit_statuses[@]}"; do\n  if [ $status -ne 0 ]; then\n    exit 1\n  fi\ndone\n\nexit 0