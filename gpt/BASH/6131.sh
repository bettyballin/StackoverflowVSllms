# Flush existing rules\nsudo iptables -F\n\n# Set default policies\nsudo iptables -P INPUT DROP\nsudo iptables -P FORWARD DROP\nsudo iptables -P OUTPUT ACCEPT\n\n# Allow loopback traffic\nsudo iptables -A INPUT -i lo -j ACCEPT\n\n# Allow established and related incoming traffic\nsudo iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n\n# Allow incoming SSH (port 22)\nsudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT\n\n# Allow incoming HTTP (port 80) and HTTPS (port 443)\nsudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT\n\n# Save the rules\nsudo sh -c "iptables-save > /etc/iptables/rules.v4"