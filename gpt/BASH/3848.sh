#!/bin/bash\n\n# Define the input file\ninput_file="result.txt"\n\n# Use awk to process the file\nawk '\nBEGIN {\n    current_thread = 0\n    sum_api1 = 0\n    sum_api2 = 0\n}\n\n# Match the thread count line and reset sums\n/^for [0-9]+ threads:/ {\n    if (current_thread != 0) {\n        print "Thread " current_thread " - Sum API1: " sum_api1 ", Sum API2: " sum_api2\n    }\n    current_thread = $2\n    sum_api1 = 0\n    sum_api2 = 0\n}\n\n# Match API1 lines and add to sum_api1\n/.*API1.*: [0-9.]+ nanoseconds\./ {\n    sum_api1 += $7\n}\n\n# Match API2 lines and add to sum_api2\n/.*API2.*: [0-9.]+ nanoseconds\./ {\n    sum_api2 += $7\n}\n\n# At the end of the file, print the last sums\nEND {\n    if (current_thread != 0) {\n        print "Thread " current_thread " - Sum API1: " sum_api1 ", Sum API2: " sum_api2\n    }\n}\n' $input_file