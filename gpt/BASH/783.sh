#!/bin/bash\n\nif [ $# -ne 1 ]; then\n  echo "Usage: $0 <pdf-file>"\n  exit 1\nfi\n\npdf_file="$1"\ntemp_dir=$(mktemp -d)\noutput_file="$temp_dir/output"\n\n# Extract images from the first page of the PDF\npdfimages -f 1 -l 1 "$pdf_file" "$output_file"\n\n# Get the bounding box of the first page in points (1 point = 1/72 inches)\nbounding_box=$(identify -format "%[fx:w]x%[fx:h]" "$pdf_file[0]")\npage_width=$(echo "$bounding_box" | cut -dx -f1)\npage_height=$(echo "$bounding_box" | cut -dx -f2)\n\n# Convert points to inches\npage_width_inch=$(echo "scale=2; $page_width / 72" | bc)\npage_height_inch=$(echo "scale=2; $page_height / 72" | bc)\n\n# Get the dimensions of the first extracted image\nimage_file=$(ls "$temp_dir"/*.ppm | head -n 1)\nimage_dimensions=$(identify -format "%[fx:w]x%[fx:h]" "$image_file")\nimage_width=$(echo "$image_dimensions" | cut -dx -f1)\nimage_height=$(echo "$image_dimensions" | cut -dx -f2)\n\n# Calculate DPI\ndpi_width=$(echo "scale=2; $image_width / $page_width_inch" | bc)\ndpi_height=$(echo "scale=2; $image_height / $page_height_inch" | bc)\n\n# Average DPI (assuming square pixels)\ndpi=$(echo "scale=0; ($dpi_width + $dpi_height) / 2" | bc)\n\necho "The resolution of the scanned PDF is approximately ${dpi} DPI."\n\n# Clean up temporary files\nrm -r "$temp_dir"