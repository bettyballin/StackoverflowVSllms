#!/bin/bash\n\n# Define the directories to backup\nHUDSON_HOME="/path/to/your/hudson_home"\nBACKUP_DIR="/path/to/your/backup_dir"\n\n# Get current date\nCURRENT_DATE=$(date +%Y-%m-%d_%H-%M-%S)\n\n# Create a backup filename\nBACKUP_FILE="${BACKUP_DIR}/hudson_backup_${CURRENT_DATE}.tar.gz"\n\n# Create the backup\ntar -czvf ${BACKUP_FILE} -C ${HUDSON_HOME} .\n\n# Remove backups older than 30 days\nfind ${BACKUP_DIR} -type f -name "hudson_backup_*.tar.gz" -mtime +30 -exec rm {} \;\n\necho "Backup completed and old backups removed."