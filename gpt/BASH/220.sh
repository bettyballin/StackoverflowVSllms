#!/bin/bash\n\nORIGINAL_TARGET="OriginalAppTarget"\nNEW_TARGET="UnitTestUI"\n\n# Get the list of source files from the original target\nORIGINAL_FILES=$(xcodebuild -project "${PROJECT_FILE_PATH}" -target "${ORIGINAL_TARGET}" -showBuildSettings | grep ' SOURCES =' | cut -d '=' -f 2)\n\n# Add each file to the new target if it's not already included\nfor file in $ORIGINAL_FILES; do\n    if ! grep -q "$file" <<< "$(xcodebuild -project "${PROJECT_FILE_PATH}" -target "${NEW_TARGET}" -showBuildSettings | grep ' SOURCES =' | cut -d '=' -f 2)"; then\n        echo "Adding $file to ${NEW_TARGET}"\n        echo "$file" >> "${PROJECT_FILE_PATH}/${NEW_TARGET}.sources"\n    fi\ndone