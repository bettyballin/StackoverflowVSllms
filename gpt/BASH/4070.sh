#!/bin/bash\n\nLOGFILE="/var/log/cpu_load.log"\nSTART_DATE=$(date -d "7 days ago" +"%Y-%m-%d %H:%M:%S")\n\n# Filter log entries from the last week and calculate hourly averages\nawk -v start="$START_DATE" '\nBEGIN {\n    OFS = " ";\n    split("00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23", hours);\n}\n$1 " " $2 >= start {\n    split($2, time, ":");\n    hour = time[1];\n    count[hour]++;\n    load1[hour] += $3;\n    load5[hour] += $4;\n    load15[hour] += $5;\n}\nEND {\n    for (i in hours) {\n        hour = hours[i];\n        if (count[hour]) {\n            print "Hour:", hour, "Average Load (1 min):", load1[hour]/count[hour], "Average Load (5 min):", load5[hour]/count[hour], "Average Load (15 min):", load15[hour]/count[hour];\n        }\n    }\n}' $LOGFILE