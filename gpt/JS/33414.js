$(document).ready(function() {\n    $('#submitButton').click(function() {\n        var ajaxCalls = [];\n\n        $("input:checked").each(function() {\n            var form = $(this).parent("form");\n            var rowNum = form.find('input[name="XId"]').val(); // Adjust this selector to get the row number correctly.\n\n            form.submit(function(event) {\n                event.preventDefault(); // Prevent the default form submission\n                ajaxCalls.push(processRow(rowNum)); // Add the AJAX call to the array\n            });\n        });\n\n        // Disable the submit button\n        $('#submitButton').attr('disabled', true);\n\n        // When all AJAX calls are complete\n        $.when.apply($, ajaxCalls).then(function() {\n            // Enable the submit button\n            $('#submitButton').attr('disabled', false);\n        });\n    });\n});\n\nfunction processRow(rowNum) {\n    var Amount = $('#XAmt' + rowNum).val();\n    var XId = $('#XId' + rowNum).val();\n    var XNum = $('#OrderNumber' + rowNum).val();\n    var queryString = "xAmt=" + "1.00" + "&xNumber=" + OrdNum + "&xId=" + xId;\n\n    $('#coda_' + rowNum).removeClass("loader");\n    $('#coda_' + rowNum).addClass("loading");\n\n    return $.ajax({\n        url: "x.asp",\n        cache: false,\n        type: "POST",\n        data: queryString,\n        success: function(html) {\n            $('#result_' + rowNum).empty().append(html);\n            $('#coda_' + rowNum).removeClass("loading");\n            $('#coda_' + rowNum).addClass("loader");\n        }\n    });\n}