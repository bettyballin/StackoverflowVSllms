(function() {\n  var appCache = {\n    currentHash: location.hash,\n    history: [location.hash],\n  };\n\n  function onHashChange() {\n    if (location.hash !== appCache.currentHash) {\n      appCache.currentHash = location.hash;\n      appCache.history.push(location.hash);\n      // Load state using the new hash value\n      loadStateFromHash(location.hash);\n    }\n  }\n\n  function loadStateFromHash(hash) {\n    // Implement your state loading logic here\n    console.log('Loading state for:', hash);\n    // Example: if you have a function to handle the state\n    // handleState(hash);\n  }\n\n  // Check hash changes at regular intervals\n  setInterval(onHashChange, 250);\n\n  // Optional: Setup an event listener for better performance in modern browsers\n  window.addEventListener('hashchange', onHashChange, false);\n})();