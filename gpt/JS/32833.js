var cache = {};\n\n$('#getSelectOptions').bind("click", function() {\n    populateSelect(this);\n});\n\nfunction populateSelect(whatWasClicked) {\n    var thisSelect = $(whatWasClicked).parents("div").find("select");\n    var data = {'_service': 'myService', '_program': 'myProgram'};\n    var cacheKey = JSON.stringify(data); // Create a unique key based on the data\n\n    if (cache[cacheKey]) {\n        // If data is already in cache, use it\n        $(thisSelect).html(cache[cacheKey]);\n    } else {\n        var before = function() { $(loading).show(); };\n        var complete = function() { $(loading).hide(); };\n        var error = function() { alert("Error"); };\n        var success = function(request) {\n            $(thisSelect).html(request);\n            cache[cacheKey] = request; // Store the result in the cache\n        };\n        var waitTime = 20000;\n        \n        ajaxCall(thisSelect, waitTime, before, complete, data, success, error);\n    }\n}\n\nfunction ajaxCall(elementToPopulate, waitTime, whatToDoBeforeAjaxSend, \n                  whatToDoAfterAjaxSend, dataToSendToTheServer, \n                  whatToDoAfterSuccess, whatToDoAfterError) {\n    $.ajax({   \n        type: "post", \n        url: "http://myURL/cgi-bin/broker",   \n        dataType: "text", \n        data: dataToSendToTheServer, \n        timeout: waitTime, \n        beforeSend: whatToDoBeforeAjaxSend, \n        error: function(request) { whatToDoAfterError(request); },\n        success: function(request) { whatToDoAfterSuccess(request); }\n    });\n}