document.observe("dom:loaded", function() {\n  var resizeTextarea = function() {\n    var textarea = $('iso_address');\n    var str = textarea.value;\n    var cols = textarea.cols;\n    var linecount = 0;\n\n    $A(str.split("\n")).each(function(line) {\n      linecount += 1 + Math.floor(line.length / cols);\n    });\n\n    textarea.rows = linecount;\n  };\n\n  $('iso_address').observe('keyup', resizeTextarea);\n  $('iso_address').observe('input', resizeTextarea); // For better support\n  resizeTextarea(); // Initial resize on load\n});