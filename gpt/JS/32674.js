UPDATE = function(){\n    new Ajax.Request(proxy_url, {\n        method: 'post',\n        parameters: "p1=1&p2=2",\n        onSuccess: function(transport) {\n            var response = transport.responseText.evalJSON();\n            if (response.redirect) {\n                OpenURLfromLocation(response.redirect);\n            } else {\n                alert("OK");\n            }\n        },\n        onFailure: function(transport) {\n            alert('Something went wrong...');\n        }\n    });\n}\n\nOpenURLfromLocation = function(url) {\n    window.open(url, '_blank');\n}