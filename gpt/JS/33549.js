document.addEventListener('DOMContentLoaded', function() {\n  document.querySelectorAll('.approve-checkbox').forEach(function(checkbox) {\n    checkbox.addEventListener('change', function() {\n      var itemId = this.dataset.id;\n      var approved = this.checked;\n\n      fetch(`/list_items/${itemId}/approve`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRF-Token': document.querySelector('meta[name="csrf-token"]').getAttribute('content')\n        },\n        body: JSON.stringify({ approved: approved })\n      })\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          // Optionally update the UI based on success\n          this.checked = data.approved;\n        } else {\n          // Handle error case\n          alert('Error updating status');\n        }\n      });\n    });\n  });\n});