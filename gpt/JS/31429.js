function runExternalProcess(command) {\n  return new Promise((resolve, reject) => {\n    const port = browser.runtime.connectNative("my_native_app");\n\n    port.onMessage.addListener((response) => {\n      resolve(response.exitCode);\n    });\n\n    port.onDisconnect.addListener(() => {\n      if (browser.runtime.lastError) {\n        reject(new Error(browser.runtime.lastError.message));\n      }\n    });\n\n    port.postMessage({ command: command });\n  });\n}\n\n// Example usage:\nrunExternalProcess("your-command-here")\n  .then(exitCode => console.log("Exit code:", exitCode))\n  .catch(error => console.error("Error:", error));