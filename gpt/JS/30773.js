function downloadFile(url) {\n    // Create a new anchor element\n    var a = document.createElement('a');\n    // Set the href attribute to the file URL\n    a.href = url;\n    // Set the download attribute to suggest a filename\n    a.download = '';\n    // Append the anchor to the body (required for Firefox)\n    document.body.appendChild(a);\n    // Programmatically click the anchor\n    a.click();\n    // Remove the anchor from the document\n    document.body.removeChild(a);\n}\n\n// Example usage with an AJAX request\nnew Ajax.Request('/generate-file-url', {\n    method: 'get',\n    onSuccess: function(response) {\n        var fileUrl = response.responseText;\n        downloadFile(fileUrl);\n    }\n});