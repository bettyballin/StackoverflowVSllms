$(function() {\n    // Function to measure the width of the longest option\n    function getLongestOptionWidth($select) {\n        var $tempSpan = $('<span>').css({\n            'visibility': 'hidden',\n            'white-space': 'nowrap'\n        }).appendTo('body');\n\n        var maxWidth = 0;\n        $select.find('option').each(function() {\n            var $option = $(this);\n            $tempSpan.text($option.text());\n            var optionWidth = $tempSpan.width();\n            if (optionWidth > maxWidth) {\n                maxWidth = optionWidth;\n            }\n        });\n\n        $tempSpan.remove();\n        return maxWidth;\n    }\n\n    // Loop through all select elements\n    $('select').each(function() {\n        var $select = $(this);\n        var originalWidth = $select.width();\n        var newWidth = getLongestOptionWidth($select);\n\n        // Bind events to expand and shrink the select box\n        $select.on('focus click', function() {\n            $select.css('width', newWidth + 30); // Add some extra padding\n        }).on('blur', function() {\n            $select.css('width', originalWidth);\n        });\n    });\n});