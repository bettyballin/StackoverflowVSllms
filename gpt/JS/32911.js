var optPrompt = "- Select One -";\nvar subCats;\nvar parentCats;\nvar nextBtn;\n\nvar ParentChanged = function() {\n    ClearDescription();\n\n    if (this.selectedIndex == 0) {\n        $(subCats).html($("<option>").text(optPrompt));\n    }\n\n    $.getJSON(getChildCategoriesUrl, { parentId: $(this).val() },\n        function(data) {\n            subCats.options.length = 0;\n            $("<option>").text(optPrompt).appendTo(subCats);\n            $(data).each(function() {\n                $("<option>").attr("value", this.ID).text(this.Name).appendTo(subCats);\n            });\n        });\n}\n\nvar DisplayDescription = function(catId) {\n    $.ajax({\n        url: getDescriptionUrl,\n        data: { categoryId: catId },\n        dataType: 'html',\n        success: function(data) {\n            $("p#categoryDescription").html(data);\n        }\n    });\n}\n\nvar ChildChanged = function() {\n    var catSelected = this.selectedIndex != 0;\n\n    if (!catSelected) ClearDescription();\n    else DisplayDescription($(this).val());\n}\n\nvar ClearDescription = function() {\n    $("p#categoryDescription").html('');\n}\n\n$(function() {\n    parentCats = $("select#Category").get(0);\n    subCats = $("select#Subcategory").get(0);\n    nextBtn = $("input#nextButton").get(0);\n\n    $(parentCats).change(ParentChanged);\n    $(subCats).change(ChildChanged);\n});