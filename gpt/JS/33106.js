<script type="text/javascript">\n  var intervalId;\n\n  // Function to start the periodic updates\n  function startPeriodicUpdates() {\n    intervalId = setInterval(function() {\n      // Your AJAX call to update main_div\n      periodically_call_remote();\n    }, 5000); // Adjust the interval as needed\n  }\n\n  // Function to stop the periodic updates\n  function stopPeriodicUpdates() {\n    clearInterval(intervalId);\n  }\n\n  // Start the periodic updates when the page loads\n  window.onload = function() {\n    startPeriodicUpdates();\n  };\n\n  // Stop the periodic updates when the user navigates away from main_div\n  window.onbeforeunload = function() {\n    stopPeriodicUpdates();\n  };\n\n  // Alternatively, you can stop the updates when a specific event occurs\n  // For example, if you have a button to navigate away from main_div\n  document.getElementById('navigateButton').onclick = function() {\n    stopPeriodicUpdates();\n  };\n</script>