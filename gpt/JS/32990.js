function checkSession() {\n    fetch('check_session.php')\n        .then(response => response.json())\n        .then(data => {\n            if (data.status) {\n                // Session variable is set, proceed with your logic\n                console.log('Session variable is set.');\n                // You can redirect or update the UI here\n            } else {\n                // Session variable is not set, check again after some time\n                setTimeout(checkSession, 2000); // Check every 2 seconds\n            }\n        })\n        .catch(error => console.error('Error:', error));\n}\n\n// Start polling when the script loads\ncheckSession();