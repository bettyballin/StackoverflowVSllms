document.addEventListener('DOMContentLoaded', function() {\n    function deleteItem(layer, url) {\n        var xmlHttp = GetXmlHttpObject();\n        if (xmlHttp == null) {\n            alert("Your browser is not supported?");\n            return;\n        }\n        xmlHttp.onreadystatechange = function() {\n            if (xmlHttp.readyState == 4 || xmlHttp.readyState == "complete") {\n                if (xmlHttp.responseText == 'result=true') {\n                    var row = document.getElementById(layer);\n                    row.parentNode.removeChild(row);\n                } else {\n                    document.getElementById(layer).innerHTML = xmlHttp.responseText;\n                }\n            } else if (xmlHttp.readyState == 1 || xmlHttp.readyState == "loading") {\n                document.getElementById(layer).innerHTML = "loading";\n            }\n        };\n        xmlHttp.open("GET", url, true);\n        xmlHttp.send(null);\n    }\n\n    function deleteRec(layer, pk) {\n        var url = "get_records.php?cmd=deleterec&pk=" + pk + "&sid=" + Math.random();\n        if (confirm("Confirm Delete?")) {\n            deleteItem(layer, url);\n        }\n    }\n\n    function GetXmlHttpObject() {\n        var xmlHttp = null;\n        try {\n            xmlHttp = new XMLHttpRequest();\n        } catch (e) {\n            try {\n                xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");\n            } catch (e) {}\n        }\n        return xmlHttp;\n    }\n\n    function update(layer, url) {\n        var xmlHttp = GetXmlHttpObject();\n        if (xmlHttp == null) {\n            alert("Your browser is not supported?");\n            return;\n        }\n        xmlHttp.onreadystatechange = function() {\n            if (xmlHttp.readyState == 4 || xmlHttp.readyState == "complete") {\n                document.getElementById(layer).innerHTML = xmlHttp.responseText;\n            } else if (xmlHttp.readyState == 1 || xmlHttp.readyState == "loading") {\n                document.getElementById(layer).innerHTML = "loading";\n            }\n        };\n        xmlHttp.open("GET", url, true);\n        xmlHttp.send(null);\n    }\n\n    function updateByPk(layer, pk) {\n        var url = "get_auction.php?cmd=GetAuctionData&pk=" + pk + "&sid=" + Math.random();\n        update(layer, url);\n    }\n\n    function updateByQuery(layer, query) {\n        var url = "get_records.php?cmd=GetRecordSet&query=" + query + "&sid=" + Math.random();\n        update(layer, url);\n    }\n\n    function updateByPage(layer, query, pg) {\n        var url = "get_records.php?cmd=GetRecordSet&query=" + query + "&pg=" + pg + "&sid=" + Math.random();\n        update(layer, url);\n    }\n\n    function makewindows(html) {\n        var child1 = window.open("about:blank");\n        child1.document.write(html);\n        child1.document.close();\n    }\n\n    // Example usage\n    // deleteRec('layerId', 'primaryKey');\n});