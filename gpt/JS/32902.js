function saveMenuState() {\n    var menuState = [];\n    $('.menu-item').each(function() {\n        menuState.push({\n            id: $(this).attr('id'),\n            expanded: $(this).hasClass('expanded')\n        });\n    });\n\n    $.ajax({\n        url: 'saveMenuState',  // Endpoint to save the state\n        method: 'POST',\n        data: JSON.stringify(menuState),\n        contentType: 'application/json',\n        success: function(response) {\n            console.log('Menu state saved');\n        }\n    });\n}\n\n// Call saveMenuState() on page unload\n$(window).on('beforeunload', saveMenuState);