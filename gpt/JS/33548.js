window.addEventListener('beforeunload', function (event) {\n    // Create an XMLHttpRequest object\n    var xhr = new XMLHttpRequest();\n    \n    // Open a new asynchronous request to your server endpoint\n    xhr.open('POST', '/save-state', false);\n    \n    // Set the request header to indicate the type of data being sent\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    \n    // Gather the state information from your ExtJS grid\n    var stateInfo = {\n        // Replace with actual state data from your ExtJS grid\n        columnOrder: grid.getColumnOrder(),\n        filters: grid.getFilters(),\n        // Add more state information as needed\n    };\n\n    // Send the state information as a JSON string\n    xhr.send(JSON.stringify(stateInfo));\n    \n    // Optionally, you can use the event to show a confirmation dialog to the user\n    // event.returnValue = 'Are you sure you want to leave this page?';\n});