var xmlhttp;\n\nfunction GetXmlHttpObject() {\n  var xmlHttp = null;\n  try {\n    xmlHttp = new XMLHttpRequest();\n  } catch (e) {\n    try {\n      xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");\n    } catch (e) {\n      xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");\n    }\n  }\n  return xmlHttp;\n}\n\nfunction login() {\n  alert("Entered Login()");   \n  xmlhttp = GetXmlHttpObject();\n  var url = "http://server.com/ALUauth.php";\n  xmlhttp.onreadystatechange = statechangedLogin;\n  xmlhttp.open("GET", url, true);\n  xmlhttp.send(null);\n}\n\nfunction statechangedLogin() {\n  if (xmlhttp.readyState == 4) {\n    alert("Entered State Changed Login");\n    if (xmlhttp.responseText == "Please <a href=http://server.com/ALUauth.php?login>login</a>") {\n      document.getElementById("ALUauth").innerHTML = xmlhttp.responseText;\n    } else {\n      GetEmailId();\n    }\n  }\n}\n\nfunction GetEmailId() {   \n  alert("Entered GetEmailId()");\n  xmlhttp = GetXmlHttpObject();\n  var url = "http://server.com/GetPostEmail.php";\n  url += "&sid=" + Math.random();\n  xmlhttp.onreadystatechange = statechangedLogin2;\n  xmlhttp.open("GET", url, true);\n  xmlhttp.send(null);\n}\n\nfunction statechangedLogin2() { \n  if (xmlhttp.readyState == 4) {\n    alert("Enter State Changed Login 2");\n    if (xmlhttp.responseText == "Login again") {\n      window.location = "http://server.com/profile.html";\n    }\n  }\n}