var source = `\n  <table border="0" cellpadding="4">\n    {{#each (range 0 25 5) as |i|}}\n      <tr align="right">\n        {{#each (range i (add i 5)) as |j|}}\n          <td bgcolor="{{if (mod j 2 'pink' 'green')}}">{{add j 1}}</td>\n        {{/each}}\n      </tr>\n    {{/each}}\n  </table>\n  `;\n\n  var template = Handlebars.compile(source);\n  var context = {\n    range: function(start, end, step) {\n      var array = [];\n      for (var i = start; i < end; i += step) {\n        array.push(i);\n      }\n      return array;\n    },\n    add: function(a, b) {\n      return a + b;\n    },\n    mod: function(a, b, ifTrue, ifFalse) {\n      return a % b === 0 ? ifFalse : ifTrue;\n    }\n  };\n\n  var html = template(context);\n  console.log(html);