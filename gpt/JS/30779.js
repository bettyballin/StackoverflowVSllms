function insertHtmlIntoHead(htmlStr) {\n    var head = document.getElementsByTagName('head')[0];\n\n    // Create a temporary container for the HTML string\n    var tempDiv = document.createElement('div');\n    tempDiv.innerHTML = htmlStr;\n    \n    // Iterate over the child nodes of the temporary container\n    while (tempDiv.firstChild) {\n        var node = tempDiv.firstChild;\n\n        // Check if the node is a <style> or <script> element\n        if (node.tagName === 'STYLE' || node.tagName === 'SCRIPT') {\n            var newElem;\n            if (node.tagName === 'STYLE') {\n                newElem = document.createElement('style');\n                newElem.type = 'text/css';\n                if (node.styleSheet) { // For IE\n                    newElem.styleSheet.cssText = node.innerHTML;\n                } else {\n                    newElem.appendChild(document.createTextNode(node.innerHTML));\n                }\n            } else if (node.tagName === 'SCRIPT') {\n                newElem = document.createElement('script');\n                newElem.type = node.type || 'text/javascript';\n                if (node.src) {\n                    newElem.src = node.src;\n                } else {\n                    newElem.appendChild(document.createTextNode(node.innerHTML));\n                }\n            }\n            head.appendChild(newElem);\n        } else {\n            head.appendChild(node);\n        }\n    }\n}\n\n// Example usage\nvar htmlStr = `\n    <style>\n        body { background-color: #f0f0f0; }\n    </style>\n    <script>\n        console.log('Hello from dynamically inserted script!');\n    </script>\n`;\n\ninsertHtmlIntoHead(htmlStr);