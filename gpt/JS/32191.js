$(document).ready(function() {\n    $("#zip").on("change", function() {\n        var zip = $(this).val();\n        $.ajax({\n            type: "POST",\n            url: "AddressService.asmx/GetCountyFromZip",\n            data: JSON.stringify({ zip: zip }),\n            contentType: "application/json; charset=utf-8",\n            dataType: "json",\n            success: function(response) {\n                var result = JSON.parse(response.d);\n                var county = getCountyFromResponse(result);\n                $("#county").val(county);\n            },\n            error: function(error) {\n                console.log("Error: ", error);\n            }\n        });\n    });\n\n    function getCountyFromResponse(response) {\n        var county = "";\n        if (response.results && response.results.length > 0) {\n            var addressComponents = response.results[0].address_components;\n            for (var i = 0; i < addressComponents.length; i++) {\n                if (addressComponents[i].types.includes("administrative_area_level_2")) {\n                    county = addressComponents[i].long_name;\n                    break;\n                }\n            }\n        }\n        return county;\n    }\n});