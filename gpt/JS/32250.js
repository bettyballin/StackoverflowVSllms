import React, { useState, useEffect } from 'react';\nimport { MatrixClient } from 'matrix-js-sdk';\n\nconst matrix = new MatrixClient({\n  baseUrl: "https://matrix.org"\n});\n\nconst App = () => {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    matrix.startClient();\n    matrix.once('sync', (state) => {\n      if (state === 'PREPARED') {\n        matrix.joinRoom('!yourRoomId:matrix.org').then((room) => {\n          room.timeline.forEach(event => {\n            if (event.getType() === 'm.room.message') {\n              setMessages(prevMessages => [...prevMessages, event.getContent().body]);\n            }\n          });\n        });\n      }\n    });\n  }, []);\n\n  const sendMessage = () => {\n    matrix.sendEvent('!yourRoomId:matrix.org', 'm.room.message', { msgtype: "m.text", body: message });\n    setMessage('');\n  };\n\n  return (\n    <div>\n      <div>\n        {messages.map((msg, index) => <div key={index}>{msg}</div>)}\n      </div>\n      <input type="text" value={message} onChange={(e) => setMessage(e.target.value)} />\n      <button onClick={sendMessage}>Send</button>\n    </div>\n  );\n};\n\nexport default App;