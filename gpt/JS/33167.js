<script type="text/javascript" src="/path/to/prototype.js"></script>\n<script type="text/javascript" src="/path/to/jquery.js"></script>\n<script type="text/javascript">\n/* <![CDATA[ */\nvar $j = jQuery.noConflict(); // Assign jQuery to $j\nvar $p = Prototype.$; // Assign Prototype's $ to $p\n\n// Custom $ function to determine which library to use\nvar $ = function(selector) {\n  if (typeof(selector) === 'string' && selector.startsWith('#')) {\n    // If the selector starts with '#' use Prototype (for example)\n    return $p(selector);\n  } else {\n    // Otherwise use jQuery\n    return $j(selector);\n  }\n};\n\n/* ]]>*/\n</script>\n\n// Example usage\n<script type="text/javascript">\n  $j(document).ready(function() {\n    // jQuery code\n    $j('#element').css('color', 'red');\n  });\n\n  // Prototype code\n  $('element').setStyle({ color: 'blue' });\n</script>