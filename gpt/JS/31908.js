$.ajax({\n type: "post",\n url: "http://myServer/cgi-bin/broker",\n dataType: "text",\n data: {\n   '_service': 'myService',\n   '_program': 'myProgram',\n   'start': start,\n   'end': end\n },\n beforeSend: function() {\n   $("#loading").removeClass("hide");\n },\n timeout: 5000,\n error: function(jqXHR, textStatus, errorThrown) {\n   $("#loading").addClass("hide");\n   var errorMessage = "An error occurred: ";\n\n   if (textStatus === "timeout") {\n     errorMessage += "The request timed out, please resubmit.";\n   } else if (textStatus === "parsererror") {\n     errorMessage += "Failed to parse the response.";\n   } else if (textStatus === "abort") {\n     errorMessage += "The request was aborted.";\n   } else {\n     errorMessage += "Unexpected error: " + textStatus;\n     if (errorThrown) {\n       errorMessage += " - " + errorThrown;\n     }\n   }\n\n   $("#error").append(errorMessage);\n },\n success: function(response) {\n   $("#loading").addClass("hide");\n   try {\n     var data = JSON.parse(response);\n     // Process the parsed data\n   } catch (e) {\n     $("#error").append("Failed to parse the response: " + e.message);\n   }\n }\n});