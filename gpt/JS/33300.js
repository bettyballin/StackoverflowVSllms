function sendNativeMessage(message) {\n    return new Promise((resolve, reject) => {\n        const port = browser.runtime.connectNative("com.example.gtkmenu");\n        port.onMessage.addListener(response => resolve(response));\n        port.onDisconnect.addListener(() => reject(browser.runtime.lastError));\n        port.postMessage(message);\n    });\n}\n\nbrowser.browserAction.onClicked.addListener(async () => {\n    try {\n        const response = await sendNativeMessage({ command: 'create_menu' });\n        console.log(response.status);\n    } catch (error) {\n        console.error(`Failed to send message: ${error}`);\n    }\n});