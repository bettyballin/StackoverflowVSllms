var connection = new Strophe.Connection('wss://example.com:5280/xmpp-websocket');\n\n     connection.connect('user@example.com', 'password', function (status) {\n         if (status === Strophe.Status.CONNECTED) {\n             console.log('Connected');\n             connection.send($pres().tree());\n         } else if (status === Strophe.Status.DISCONNECTED) {\n             console.log('Disconnected');\n         }\n     });\n\n     // Send a message\n     function sendMessage(to, message) {\n         var msg = $msg({to: to, type: 'chat'}).c('body').t(message);\n         connection.send(msg.tree());\n     }\n\n     // Handling incoming messages\n     connection.addHandler(function (message) {\n         var from = message.getAttribute('from');\n         var body = message.getElementsByTagName('body')[0];\n         if (body) {\n             console.log('Message from ' + from + ': ' + Strophe.getText(body));\n         }\n         return true;\n     }, null, 'message', 'chat');