<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n    document.getElementById('commentForm').onsubmit = function(event) {\n        event.preventDefault();\n        var comment = document.getElementById('commentInput').value;\n        var postId = document.getElementById('postId').value;\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', '/add_comment/', true);\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('X-CSRFToken', '{{ csrf_token }}');\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                var response = JSON.parse(xhr.responseText);\n                if (response.status === 'success') {\n                    var newComment = document.createElement('p');\n                    newComment.textContent = response.comment;\n                    document.getElementById('comments').appendChild(newComment);\n                    document.getElementById('commentInput').value = '';\n                }\n            }\n        };\n        xhr.send('comment=' + encodeURIComponent(comment) + '&post_id=' + encodeURIComponent(postId));\n    };\n});\n</script>