let lastTimestamp = Date.now();\nlet pollInterval = 5000; // Start with a 5-second interval\n\nfunction pollServer() {\n  fetch(`/getMessages?timestamp=${lastTimestamp}`)\n    .then(response => response.json())\n    .then(data => {\n      if (data.messages && data.messages.length > 0) {\n        // Process the new messages\n        data.messages.forEach(message => {\n          // Display the message\n          console.log(message);\n        });\n        // Update the last timestamp with the timestamp of the latest message\n        lastTimestamp = data.messages[data.messages.length - 1].timestamp;\n        \n        // Reset poll interval to 5 seconds because new messages were found\n        pollInterval = 5000;\n      } else {\n        // No new messages, increase the interval up to a maximum of 30 seconds\n        pollInterval = Math.min(pollInterval + 5000, 30000);\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching messages:', error);\n      // Optionally handle error scenarios such as retrying after some time\n    })\n    .finally(() => {\n      // Schedule the next poll\n      setTimeout(pollServer, pollInterval);\n    });\n}\n\n// Start polling\npollServer();