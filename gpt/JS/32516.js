$(document).ready(function() {\n    var counter = 0; // Initialize your counter (make sure to update it as needed)\n\n    // Function to handle AJAX requests for updating field names\n    function updateFieldName(fieldname, sequenceno, url) {\n        $.ajax({\n            type: "POST",\n            url: url,\n            data: { name: fieldname, sequenceno: sequenceno },\n            success: function(msg) {\n                console.log(msg);\n            }\n        });\n    }\n\n    // Initial field insertion\n    $(".TextFieldSettings #fieldTitle").change(function() {\n        var fieldname = $(".TextFieldSettings #fieldTitle").val();\n        updateFieldName(fieldname, counter, "./server");\n\n        // Fetch updated values\n        var htm = $.ajax({\n            type: "GET",\n            url: "./viewforms",\n            async: false\n        }).responseText;\n        \n        var myObject = JSON.parse(htm);\n        \n        var gettype = myObject.attributes[0]["type"];\n        var getlabel = myObject.attributes[0]["labels"];\n\n        // Showing in DisplayPanel view\n        $("#labelstr" + counter).html(getlabel);\n    });\n\n    // Handle click on DisplayPanel div\n    $("#displayPanel").on("click", "div", function() {\n        var div_id = $(this).attr("id");\n\n        // Fetch attributes\n        var htm = $.ajax({\n            type: "GET",\n            url: "./getattributes/" + div_id,\n            async: false\n        }).responseText;\n        \n        var myObject = JSON.parse(htm);\n\n        var gettype = myObject.attributes[0]["type"];\n        var getlabel = myObject.attributes[0]["labels"];\n        var getsize = myObject.attributes[0]["size"];\n\n        if (gettype === 'Text') {\n            $(".TextFieldSettings").show(function() {\n                $(".TextFieldSettings #fieldTitle").val(getlabel);\n\n                if (getsize === '100') {\n                    $("#fieldSize option:contains(Small)").prop("selected", true);\n                } else if (getsize === '200') {\n                    $("#fieldSize option:contains(Medium)").prop("selected", true);\n                } else {\n                    $("#fieldSize option:contains(Large)").prop("selected", true);\n                }\n\n                // Update field name on change\n                $(".TextFieldSettings #fieldTitle").off('change').change(function() {\n                    var newFieldName = $(".TextFieldSettings #fieldTitle").val();\n                    updateFieldName(newFieldName, div_id, "./editsettings");\n                });\n            });\n        }\n    });\n});