$(document).ready(function() {\n    let delayTimer;\n    $('#loading').hide();\n\n    $('#q').keyup(function() {\n        clearTimeout(delayTimer);\n        $('#loading').show();\n\n        delayTimer = setTimeout(function() {\n            $.post("keyterms.php", {\n                q: $('#q').val()\n            }, function(response) {\n                $('#qResult').fadeOut();\n                setTimeout(function() {\n                    finishAjax('qResult', escape(response));\n                }, 400);\n            });\n        }, 2000); // 2 seconds delay\n\n        return false;\n    });\n});