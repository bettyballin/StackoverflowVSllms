$(document).ready(function() {\n    $('#yourButton').click(function() {\n        // Open a new window immediately in response to the click event\n        var newWindow = window.open('', '_blank');\n\n        $.ajax({\n            type: "POST",\n            url: "MyService.aspx/ConstructUrl",\n            data: jsonData,\n            contentType: "application/json; charset=utf-8",\n            dataType: "json",\n            success: function(msg) {\n                // Update the new window's location once the URL is received\n                newWindow.location.href = "https://www.myurl.com"; // or msg.d if it is dynamic\n            },\n            error: function(msg) {\n                // Close the new window if an error occurs\n                newWindow.close();\n                alert("An error occurred.");\n            }\n        });\n    });\n});