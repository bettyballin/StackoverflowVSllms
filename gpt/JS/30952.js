$(document).ready(function() {\n    $(".theSubmit").click(function() {\n        var content = $("textarea").val();\n        var listn = $("input[name='list_name']").val();\n        var groupn = $("input[name='group_name']").val();\n\n        $.post("/secret_url/lists/add_to_list", {\n            list_item: content,\n            list_name: listn,\n            group_name: groupn\n        }, function(response) {\n            // Create a temporary DOM element to parse the response\n            var tempDiv = $("<div>").html(response);\n            // Extract only the list item(s) and append it to the list\n            tempDiv.find("li").each(function() {\n                $("li:last").after($(this));\n            });\n        });\n    });\n});