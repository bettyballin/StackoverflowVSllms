<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>\n<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>\n<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">\n\n<script>\n    $(function() {\n        $("#<%=CategoriesTreeView.ClientID %>").tree({\n            dragAndDrop: true\n        });\n\n        $("#<%=CategoriesTreeView.ClientID %>").on("tree.move", function(event) {\n            event.preventDefault();\n            // Handle the move event, update the database, etc.\n            $.ajax({\n                url: 'UpdateCategoryPosition.aspx',\n                type: 'POST',\n                data: {\n                    movedNode: event.move_info.moved_node.id,\n                    targetNode: event.move_info.target_node.id,\n                    position: event.move_info.position\n                },\n                success: function(response) {\n                    // Handle success\n                },\n                error: function() {\n                    // Handle error\n                }\n            });\n        });\n    });\n</script>