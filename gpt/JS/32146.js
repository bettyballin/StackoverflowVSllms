const http = require('http');\n\nhttp.createServer((req, res) => {\n  if (req.headers.accept && req.headers.accept === 'text/event-stream') {\n    res.writeHead(200, {\n      'Content-Type': 'text/event-stream',\n      'Cache-Control': 'no-cache',\n      'Connection': 'keep-alive'\n    });\n\n    const sendEvent = (data) => {\n      res.write(`data: ${JSON.stringify(data)}\n\n`);\n    };\n\n    let counter = 0;\n    const intervalId = setInterval(() => {\n      sendEvent({ message: `Event ${counter}` });\n      counter++;\n      if (counter === 10) {\n        clearInterval(intervalId);\n        res.end();\n      }\n    }, 1000);\n  } else {\n    res.writeHead(200, { 'Content-Type': 'text/html' });\n    res.end('<html><body><h1>SSE Example</h1></body></html>');\n  }\n}).listen(8080, () => {\n  console.log('Server running at http://127.0.0.1:8080/');\n});