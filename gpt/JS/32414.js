$(document).ready(function() {\n    $('.onlineStatus').click(function(e) {\n        e.preventDefault();\n        var $this = $(this);\n        var bizID = $this.data('id');\n        var shouldPost = $this.data('status');\n        \n        $.ajax({\n            url: 'ajaxPostOnline.php',\n            type: 'GET',\n            data: {\n                b: bizID,\n                p: shouldPost\n            },\n            dataType: 'json',\n            success: function(response) {\n                if (response.success) {\n                    var newStatus = shouldPost == 1 ? 0 : 1;\n                    $this.data('status', newStatus);\n                    $this.text(newStatus == 1 ? 'Unpost Online' : 'Post Online');\n                }\n            },\n            error: function() {\n                alert('There was an error updating the status.');\n            }\n        });\n    });\n});