function startLongPolling() {\n    function poll() {\n        let xhr = new XMLHttpRequest();\n        xhr.open("GET", "/server-endpoint", true);\n        xhr.timeout = 290000; // Set timeout slightly less than the browser's default timeout\n\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    // Handle the server response\n                    let response = JSON.parse(xhr.responseText);\n                    processServerResponse(response);\n                }\n                // Start the next poll\n                poll();\n            }\n        };\n\n        xhr.ontimeout = function() {\n            // Handle timeout (e.g., retry)\n            poll();\n        };\n\n        xhr.send();\n    }\n\n    poll();\n}\n\nfunction processServerResponse(response) {\n    // Process the response from server\n    console.log("Received response:", response);\n}\n\n// Start the polling when the page loads\nwindow.onload = startLongPolling;