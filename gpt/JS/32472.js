$(function() {\n    function setEqualHeight() {\n        var maxHeight = 0;\n        $('div#boxes div').css('height', 'auto'); // Reset heights to auto to re-calculate\n        $('div#boxes div').each(function() {\n            var thisHeight = $(this).height();\n            if (thisHeight > maxHeight) {\n                maxHeight = thisHeight;\n            }\n        });\n        $('div#boxes div').height(maxHeight);\n    }\n\n    // Initial call to set heights\n    setEqualHeight();\n\n    // Recalculate on window resize\n    $(window).resize(function() {\n        setEqualHeight();\n    });\n});