var xmlHttp;\nvar layername;\nvar url;\n\nfunction update(layer, part, pk, query) {\n    console.log("update function called"); // Debugging\n    alert("update function called");\n    \n    if (part == "1") {\n        console.log("Part 1 selected");\n        alert("part 1");\n        url = "get_auction.php?cmd=GetAuctionData&pk=" + pk + "&sid=" + Math.random();\n    } else if (part == "2") {\n        console.log("Part 2 selected");\n        alert("part 2");\n        url = "get_records.php?cmd=GetRecordSet&query=" + query + "&sid=" + Math.random();\n    }\n    \n    xmlHttp = GetXmlHttpObject();\n    \n    if (xmlHttp == null) {\n        alert("Your browser is not supported?");\n        return;\n    }\n    \n    xmlHttp.onreadystatechange = function() {\n        if (xmlHttp.readyState == 4 || xmlHttp.readyState == "complete") {\n            document.getElementById(layer).innerHTML = xmlHttp.responseText;\n        } else if (xmlHttp.readyState == 1 || xmlHttp.readyState == "loading") {\n            document.getElementById(layer).innerHTML = "loading";\n        }\n    };\n    \n    xmlHttp.open("GET", url, true);\n    xmlHttp.send(null);\n}\n\nfunction GetXmlHttpObject() {\n    var xmlHttp = null;\n    \n    try {\n        xmlHttp = new XMLHttpRequest();\n    } catch (e) {\n        try {\n            xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");\n        } catch (e) {}\n    }\n    \n    return xmlHttp;\n}\n\nfunction makewindows() {\n    var child1 = window.open("about:blank");\n    child1.document.write(<?php echo htmlspecialchars(json_encode($row2["ARTICLE_DESC"]), ENT_QUOTES); ?>);\n    child1.document.close();\n}