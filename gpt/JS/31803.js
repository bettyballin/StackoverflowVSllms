function longPoll() {\n    var xhr = new XMLHttpRequest();\n    xhr.open("GET", "/server-endpoint", true);\n    \n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4 && xhr.status == 200) {\n            // Process the server response\n            console.log(xhr.responseText);\n            \n            // Immediately send a new request\n            longPoll();\n        }\n    };\n    \n    xhr.send();\n}\n\n// Start the long polling\nlongPoll();