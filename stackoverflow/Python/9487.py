#!/usr/bin/env python\n\nclass PrintCallInfo:\n    def __init__(self,f):\n        self.f = f\n    def __call__(self,*args,**kwargs):\n        print "-->",self.f.__name__,args,kwargs\n        r = self.f(*args,**kwargs)\n        print "<--",self.f.__name__,"returned: ",r\n        return r\n\n# the condition to modify the function...\nsome_condition=True\n\ndef my_decorator(f):\n    if (some_condition): # modify the function\n        return PrintCallInfo(f)\n    else: # leave it as it is\n        return f\n\n@my_decorator\ndef foo():\n    print "foo"\n\n@my_decorator\ndef bar(s):\n    print "hello",s\n    return s\n\n@my_decorator\ndef foobar(x=1,y=2):\n    print x,y\n    return x + y\n\nfoo()\nbar("world")\nfoobar(y=5)