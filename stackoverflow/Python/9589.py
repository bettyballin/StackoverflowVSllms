import gtk\n\n# Even I am ashamed by this\n# Set up a one-time signal handler to detect size changes\ndef _on_size_req(win, req):\n    x, y, w, h = win.get_allocation()\n    print x, y, w, h   # just to prove to you its working\n    win.disconnect(win.connection_id)\n    win.unmaximize()\n    win.window.move_resize(x, y, w, h)\n\n# Create the window, connect the signal, then maximise it\nw = gtk.Window()\nw.show_all()\nw.connection_id = w.connect('size-request', _on_size_req)\n# Maximizing will fire the signal handler just once,\n# unmaximize, and then resize to the previously set size for maximization.\nw.maximize()\n\n# run this monstrosity\ngtk.main()