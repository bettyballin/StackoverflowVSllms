#!/usr/bin/env python\n\n__all__ = ["monotonic_time"]\n\nimport ctypes, os\n\nCLOCK_MONOTONIC_RAW = 4 # see <linux/time.h>\n\nclass timespec(ctypes.Structure):\n    _fields_ = [\n        ('tv_sec', ctypes.c_long),\n        ('tv_nsec', ctypes.c_long)\n    ]\n\nlibrt = ctypes.CDLL('librt.so.1', use_errno=True)\nclock_gettime = librt.clock_gettime\nclock_gettime.argtypes = [ctypes.c_int, ctypes.POINTER(timespec)]\n\ndef monotonic_time():\n    t = timespec()\n    if clock_gettime(CLOCK_MONOTONIC_RAW , ctypes.pointer(t)) != 0:\n        errno_ = ctypes.get_errno()\n        raise OSError(errno_, os.strerror(errno_))\n    return t.tv_sec + t.tv_nsec * 1e-9\n\nif __name__ == "__main__":\n    print monotonic_time()