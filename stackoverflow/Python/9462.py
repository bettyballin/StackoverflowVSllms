import web\nimport json\nfrom mimerender import mimerender\n\nrender_xml = lambda message: '<message>%s</message>'%message\nrender_json = lambda **args: json.dumps(args)\nrender_html = lambda message: '<html><body>%s</body></html>'%message\nrender_txt = lambda message: message\n\nurls = (\n    '/(.*)', 'greet'\n)\napp = web.application(urls, globals())\n\nclass greet:\n    @mimerender(\n        default = 'html',\n        html = render_html,\n        xml  = render_xml,\n        json = render_json,\n        txt  = render_txt\n    )\n    def GET(self, name):\n        if not name: \n            name = 'world'\n        return {'message': 'Hello, ' + name + '!'}\n\nif __name__ == "__main__":\n    app.run()