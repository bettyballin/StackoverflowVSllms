def parsemsg(s):\n    """Breaks a message from an IRC server into its prefix, command, and arguments.\n    """\n    prefix = ''\n    trailing = []\n    if not s:\n       raise IRCBadMessage("Empty line.")\n    if s[0] == ':':\n        prefix, s = s[1:].split(' ', 1)\n    if s.find(' :') != -1:\n        s, trailing = s.split(' :', 1)\n        args = s.split()\n        args.append(trailing)\n    else:\n        args = s.split()\n    command = args.pop(0)\n    return prefix, command, args\n\nparsemsg(":test!~test@test.com PRIVMSG #channel :Hi!")\n# ('test!~test@test.com', 'PRIVMSG', ['#channel', 'Hi!']) 