from sgmllib import SGMLParser\n\nclass URLLister(SGMLParser):\n    def reset(self):                              \n        SGMLParser.reset(self)\n        self.urls = []\n\n    def start_a(self, attrs):                     \n        href = [v for k, v in attrs if k=='href']  \n        if href:\n            self.urls.extend(href)\n\nimport urllib, urllister\nusock = urllib.urlopen("http://diveintopython.net/")\nparser = urllister.URLLister()\nparser.feed(usock.read())         \nusock.close()      \nparser.close()                    \nfor url in parser.urls: print url