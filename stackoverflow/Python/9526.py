#!/usr/local/env python\n\nimport pygtk\npygtk.require('2.0')\nimport gtk\n\ndef motion_cb(wid, context, x, y, time):\n    l.set_text('\n'.join([str(t) for t in context.targets]))\n    context.drag_status(gtk.gdk.ACTION_COPY, time)\n    # Returning True which means "I accept this data".\n    return True\n\ndef drop_cb(wid, context, x, y, time):\n    # Some data was dropped, get the data\n    wid.drag_get_data(context, context.targets[-1], time)\n    return True\n\ndef got_data_cb(wid, context, x, y, data, info, time):\n    # Got data.\n    l.set_text(data.get_text())\n    context.finish(True, False, time)\n\nw = gtk.Window()\nw.set_size_request(200, 150)\nw.drag_dest_set(0, [], 0)\nw.connect('drag_motion', motion_cb)\nw.connect('drag_drop', drop_cb)\nw.connect('drag_data_received', got_data_cb)\nw.connect('destroy', lambda w: gtk.main_quit())\nl = gtk.Label()\nw.add(l)\nw.show_all()\n\ngtk.main()