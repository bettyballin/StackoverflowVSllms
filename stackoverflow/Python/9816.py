class BuildProcess(wx.Process):\n\n    def __init__(self, cmd, notify=None):\n        wx.Process.__init__(self, notify)\n        self.Redirect()\n        self.cmd = cmd\n        self.pid = None\n        self.timer = wx.Timer(self)\n        self.Bind(wx.EVT_TIMER, self.on_timer)\n\n    def start(self):\n        wx.PostEvent(self, BuildEvent(EVT_BUILD_STARTED, self))\n        self.pid = wx.Execute(self.cmd, wx.EXEC_ASYNC, self)\n        self.timer.Start(100)\n\n    def on_timer(self, evt):\n        stream = self.GetInputStream()\n        if stream.CanRead():\n            text = stream.read()\n            wx.PostEvent(self, BuildEvent(EVT_BUILD_UPDATE, self, data=text))\n\n\n    def OnTerminate(self, *args, **kwargs):\n        print "terminating..."\n        stream = self.GetInputStream()\n        if stream.CanRead():\n            text = stream.read()\n            wx.PostEvent(self, BuildEvent(EVT_BUILD_UPDATE, self, data=text))\n        if self.timer:\n            self.timer.Stop()\n        wx.PostEvent(self, BuildEvent(EVT_BUILD_FINISHED, self))