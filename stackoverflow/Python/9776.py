from __future__ import with_statement\nwith open(filename1) as f1:\n   with open(filename2) as f2:\n      if f1.read() == f2.read():\n         ...