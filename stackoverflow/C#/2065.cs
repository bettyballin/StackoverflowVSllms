public class FakeRepository<T> : IResourceRepository<T> where T : class\n{\n    private readonly List<T> items = new List<T>();\n    private readonly IObjectFactory resolver;\n\n    public FakeRepository(IObjectFactory resolver)\n    {\n        this.resolver = resolver;\n    }\n\n    public IQueryable<T> GetAll()\n    {\n        return this.items.AsQueryable();\n    }\n\n    public void Save(T item)\n    {\n        if (!this.items.Contains(item))\n        {\n            this.items.Add(item);\n        }\n    }\n\n    public void Delete(T item)\n    {\n        this.items.Remove(item);\n    }\n\n    public T Create()\n    {\n        return this.resolver.GetInstance<T>();\n    }\n}