var conditionalChecksQuery = \n    from c in db.ConditionalProperties\n    where c.IsChecked == 1  // or 'true', if boolean\n    join p in db.Properties on c.PropertyId equals p.Id\n    where p.SystemName == "eatable" || p.SystemName == "diy"\n    select c.ItemId;\n\nvar conditionalCountQuery = \n    from c in conditionalChecksQuery\n    group c by c.ItemId into cGrouped\n    select new { ItemId = cGrouped.Key, NumTrue = cGrouped.Count() };\n\nvar itemResultQuery = \n    from c in conditionalCountQuery\n    join i in db.Items on c.ItemId equals i.Id\n    select new { Item = i, NumTrue = c.NumTrue };\n\nvar finalQuery =\n    from result in itemResultQuery\n    where result.NumTrue == 2\n    select result;