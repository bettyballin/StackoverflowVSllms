using System;\nusing Microsoft.Win32;\n\nnamespace GetAssociatedApp\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            const string extPathTemplate = @"HKEY_CLASSES_ROOT\{0}";\n            const string cmdPathTemplate = @"HKEY_CLASSES_ROOT\{0}\shell\open\command";\n\n            // 1. Find out document type name for .jpeg files\n            const string ext = ".jpeg";\n\n            var extPath = string.Format(extPathTemplate, ext);\n\n            var docName = Registry.GetValue(extPath, string.Empty, string.Empty) as string;\n            if (!string.IsNullOrEmpty(docName))\n            {\n                // 2. Find out which command is associated with our extension\n                var associatedCmdPath = string.Format(cmdPathTemplate, docName);\n                var associatedCmd = \n                    Registry.GetValue(associatedCmdPath, string.Empty, string.Empty) as string;\n\n                if (!string.IsNullOrEmpty(associatedCmd))\n                {\n                    Console.WriteLine("\"{0}\" command is associated with {1} extension", associatedCmd, ext);\n                }\n            }\n        }\n    }\n}