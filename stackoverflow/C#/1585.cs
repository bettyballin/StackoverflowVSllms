public static Bitmap GetStyleBitmap(FeatureLayer fl)\n    {\n        Feature f = GetFirstFeature(fl);\n        if (f == null) return null;\n\n        var style = f.Style;\n        Color c;\n        var bm = new Bitmap(16, 16, System.Drawing.Imaging.PixelFormat.Format32bppArgb);\n        PointF[] poly = new PointF[] \n        {\n            new PointF(2,5),\n            new PointF(5,2),\n            new PointF(14,7),\n            new PointF(14,14),\n            new PointF(2,14),\n            new PointF(2,4)\n        };\n\n        SimpleLineStyle line = null;\n        if (style is CompositeStyle)\n            line = ((CompositeStyle)style).AreaStyle.Border as SimpleLineStyle;\n        if (style is AreaStyle)\n            line = ((AreaStyle)style).Border as SimpleLineStyle;\n\n        if (line != null)\n        {\n            c = line.Color;\n\n            using (var gr = Graphics.FromImage(bm))\n            {\n                gr.DrawPolygon(new Pen(c, 2), poly);\n            }\n            return bm;\n        }\n\n        line = style as SimpleLineStyle;\n\n        if (line != null)\n        {\n            c = line.Color;\n\n            using (var gr = Graphics.FromImage(bm))\n            {\n                gr.DrawLine(new Pen(c, 2), new PointF(2,2), new PointF(14,14));\n            }\n        }\n        return bm;\n    }