using System;\nusing System.Net;\nusing System.Net.NetworkInformation;\nusing System.Text;\n\nnamespace Examples.System.Net.NetworkInformation.PingTest\n{\n    public class PingExample\n    {\n        // args[0] can be an IPaddress or host name.\n        public static void Main (string[] args)\n        {\n            Ping pingSender = new Ping ();\n            PingOptions options = new PingOptions ();\n\n            // Use the default Ttl value which is 128,\n            // but change the fragmentation behavior.\n            options.DontFragment = true;\n\n            // Create a buffer of 32 bytes of data to be transmitted.\n            string data = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";\n            byte[] buffer = Encoding.ASCII.GetBytes (data);\n            int timeout = 120;\n            PingReply reply = pingSender.Send (args[0], timeout, buffer, options);\n            if (reply.Status == IPStatus.Success)\n            {\n                Console.WriteLine ("Address: {0}", reply.Address.ToString ());\n                Console.WriteLine ("RoundTrip time: {0}", reply.RoundtripTime);\n                Console.WriteLine ("Time to live: {0}", reply.Options.Ttl);\n                Console.WriteLine ("Don't fragment: {0}", reply.Options.DontFragment);\n                Console.WriteLine ("Buffer size: {0}", reply.Buffer.Length);\n            }\n        }\n    }\n}