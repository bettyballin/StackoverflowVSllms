public class RequiredTextBox : TextBox\n    {\n        private RequiredFieldValidator _req;\n        private string _errorMessage;\n\n        public string ErrorMessage\n        {\n            get { return _errorMessage; }\n            set { _errorMessage = value; } \n        }\n\n        protected override void OnInit(EventArgs e)\n        {\n            _req = new RequiredFieldValidator();\n            _req.ControlToValidate = this.ID;\n            _req.ErrorMessage = _errorMessage;\n            Controls.Add(_req);\n            base.OnInit(e); \n        }       \n\n        protected override void Render(System.Web.UI.HtmlTextWriter writer)\n        {\n            base.Render(writer);\n            _req.RenderControl(writer); \n        }\n    }