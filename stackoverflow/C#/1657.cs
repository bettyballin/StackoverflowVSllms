...\n        this.GetConnection();\n        fileMailWriter = this.transport.SendMail((message.Sender != null) ? message.Sender : message.From, recipients, message.BuildDeliveryStatusNotificationString(), out exception);\n        }\n        catch (Exception exception2)\n        {\n            if (Logging.On)\n            {\n                Logging.Exception(Logging.Web, this, "Send", exception2);\n            }\n            if ((exception2 is SmtpFailedRecipientException) && !((SmtpFailedRecipientException) exception2).fatal)\n            {\n                throw;\n            }\n            this.Abort();\n            if (this.timedOut)\n            {\n                throw new SmtpException(SR.GetString("net_timeout"));\n            }\n            if (((exception2 is SecurityException) || (exception2 is AuthenticationException)) || (exception2 is SmtpException))\n            {\n                throw;\n            }\n            throw new SmtpException(SR.GetString("SmtpSendMailFailure"), exception2);\n        }