private static ISessionFactory CreateSessionFactory()\n    {\n\n        var cfg = OracleClientConfiguration.Oracle9\n            .ConnectionString(c =>\n                c.Is("DATA SOURCE=<<NAME>>;PERSIST SECURITY INFO=True;USER ID=<<USER_NAME>>;Password=<<PASSWORD>>"));\n\n        return Fluently.Configure()\n                .Database(cfg)\n                .Mappings(m => m.FluentMappings.AddFromAssemblyOf<CLASS_NAME>().ExportTo(@".\"))\n                .ExposeConfiguration(BuildSchema)\n        .BuildSessionFactory();\n    }\n\n    private static void BuildSchema(NHibernate.Cfg.Configuration config)\n    {\n        // this NHibernate tool takes a configuration (with mapping info in)\n        // and exports a database schema from it\n        new SchemaExport(config)\n          .Create(false, true);\n    }