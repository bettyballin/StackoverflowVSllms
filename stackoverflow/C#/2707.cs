Failure Rate      Try-Catch          TryParse        Slowdown\n  0%           00:00:00.0131758   00:00:00.0120421      0.1\n 10%           00:00:00.1540251   00:00:00.0087699     16.6\n 20%           00:00:00.2833266   00:00:00.0105229     25.9\n 30%           00:00:00.4462866   00:00:00.0091487     47.8\n 40%           00:00:00.6951060   00:00:00.0108980     62.8\n 50%           00:00:00.7567745   00:00:00.0087065     85.9\n 60%           00:00:00.7090449   00:00:00.0083365     84.1\n 70%           00:00:00.8179365   00:00:00.0088809     91.1\n 80%           00:00:00.9468898   00:00:00.0088562    105.9\n 90%           00:00:01.0411393   00:00:00.0081040    127.5\n100%           00:00:01.1488157   00:00:00.0078877    144.6\n\n\n/// <param name="errorRate">Rate of errors in user input</param>\n/// <returns>Total time taken</returns>\npublic static TimeSpan TimeTryCatch(double errorRate, int seed, int count)\n{\n    Stopwatch stopwatch = new Stopwatch();\n    Random random = new Random(seed);\n    string bad_prefix = @"X";\n\n    stopwatch.Start();\n    for(int ii = 0; ii < count; ++ii)\n    {\n        string input = random.Next().ToString();\n        if (random.NextDouble() < errorRate)\n        {\n           input = bad_prefix + input;\n        }\n\n        int value = 0;\n        try\n        {\n            value = Int32.Parse(input);\n        }\n        catch(FormatException)\n        {\n            value = -1; // we would do something here with a logger perhaps\n        }\n    }\n    stopwatch.Stop();\n\n    return stopwatch.Elapsed;\n}\n\n/// <param name="errorRate">Rate of errors in user input</param>\n/// <returns>Total time taken</returns>\npublic static TimeSpan TimeTryParse(double errorRate, int seed, int count)\n{\n    Stopwatch stopwatch = new Stopwatch();\n    Random random = new Random(seed);\n    string bad_prefix = @"X";\n\n    stopwatch.Start();\n    for(int ii = 0; ii < count; ++ii)\n    {\n        string input = random.Next().ToString();\n        if (random.NextDouble() < errorRate)\n        {\n           input = bad_prefix + input;\n        }\n\n        int value = 0;\n        if (!Int32.TryParse(input, out value))\n        {\n            value = -1; // we would do something here with a logger perhaps\n        }\n    }\n    stopwatch.Stop();\n\n    return stopwatch.Elapsed;\n}\n\npublic static void TimeStringParse()\n{\n    double errorRate = 0.1; // 10% of the time our users mess up\n    int count = 10000; // 10000 entries by a user\n\n    TimeSpan trycatch = TimeTryCatch(errorRate, 1, count);\n    TimeSpan tryparse = TimeTryParse(errorRate, 1, count);\n\n    Console.WriteLine("trycatch: {0}", trycatch);\n    Console.WriteLine("tryparse: {0}", tryparse);\n}