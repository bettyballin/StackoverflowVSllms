using System.Security.Principal;\n\npublic bool IsUserAdministrator()\n{\n    //bool value to hold our return value\n    bool isAdmin;\n    WindowsIdentity user = null;\n    try\n    {\n        //get the currently logged in user\n        user = WindowsIdentity.GetCurrent();\n        WindowsPrincipal principal = new WindowsPrincipal(user);\n        isAdmin = principal.IsInRole(WindowsBuiltInRole.Administrator);\n    }\n    catch (UnauthorizedAccessException ex)\n    {\n        isAdmin = false;\n    }\n    catch (Exception ex)\n    {\n        isAdmin = false;\n    }\n    finally\n    {\n        if (user != null)\n            user.Dispose();\n    }\n    return isAdmin;\n}