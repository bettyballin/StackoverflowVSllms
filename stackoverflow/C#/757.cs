private enum SimpleServiceCustomCommands { KillProcess = 128 };\n\nServiceControllerPermission scp = new ServiceControllerPermission(ServiceControllerPermissionAccess.Control, Environment.MachineName, "SERVICE_NAME");\nscp.Assert();\nSystem.ServiceProcess.ServiceController serviceCon = new System.ServiceProcess.ServiceController("SERVICE_NAME", Environment.MachineName);\nserviceCon.ExecuteCommand((int)SimpleServiceCustomCommands.KillProcess);\n\nmyProcess = System.Diagnostics.Process.Start(psi);