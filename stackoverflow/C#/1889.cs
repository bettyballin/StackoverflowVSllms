using System;\nusing System.IO;\nusing System.Security;\nusing System.Security.Permissions;\n\nnamespace BaseClass\n{\n    public abstract class IniPrinterBase\n    {\n        [FileIOPermission(SecurityAction.Deny, AllFiles = FileIOPermissionAccess.Read)]\n        //[RegistryPermission(SecurityAction.InheritanceDemand,Unrestricted = true)]\n        public virtual void PrintIniFile()\n        {\n            ProtectedPrint();\n        }\n\n        protected void ProtectedPrint()\n        {\n            try\n            {\n                var lines = File.ReadAllLines(@"G:\test.ini");\n                foreach (var line in lines)\n                {\n                    Console.WriteLine(line);\n                }\n            }\n            catch (SecurityException e)\n            {\n\n                Console.WriteLine("PRINT OF INI FILE FAILED!");\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}