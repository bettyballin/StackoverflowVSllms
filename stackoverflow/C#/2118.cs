byte[] getResizedImage(String path, int width, int height)\n        {\n            try\n            {\n                Bitmap imgIn = new Bitmap(path);\n\n                //Scale\n                double y = imgIn.Height;\n                double x = imgIn.Width;\n                double factor = 1;\n                if (width > 0)\n                {\n                    factor = width / x;\n                }\n                else if (height > 0)\n                {\n                    factor = height / y;\n                }\n\n                System.IO.MemoryStream outStream = new System.IO.MemoryStream();\n                Bitmap imgOut = new Bitmap((int)(x * factor), (int)(y * factor));\n                Graphics g = Graphics.FromImage(imgOut);\n                g.Clear(Color.White);\n                g.DrawImage(imgIn, new Rectangle(0, 0, (int)(factor * x), (int)(factor * y)), new Rectangle(0, 0, (int)x, (int)y), GraphicsUnit.Pixel);\n                imgOut.Save(outStream, ImageFormat.Jpeg);\n\n                return outStream.ToArray();\n\n            }\n            catch (Exception)\n            {\n...\n            }\n\n        }