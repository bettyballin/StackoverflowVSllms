public class SessionVar\n{\n    static HttpSessionState Session\n    {\n        get\n        {\n            if (HttpContext.Current == null)\n                throw new ApplicationException("No Http Context, No Session to Get!");\n\n            return HttpContext.Current.Session;\n        }\n    }\n\n    public static T Get<T>(string key)\n    {\n        if (Session[key] == null)\n            return default(T);\n        else\n            return (T)Session[key];\n    }\n\n    public static void Set<T>(string key, T value)\n    {\n        Session[key] = value;\n    }\n}