public static string[] FormatInts(int[] ints)\n    {\n        Array.Sort<int>(ints);\n        List<string> values = new List<string>();\n\n        for (int i = 0; i < ints.Length; i++)\n        {\n            int groupStart = ints[i];\n            int groupEnd = groupStart;\n            while (i < ints.Length - 1 && ints[i] - ints[i + 1] == -1)\n            {\n                groupEnd = ints[i + 1];\n                i++;\n            }\n            values.Add(string.Format(groupEnd == groupStart ? "{0}":"{0} - {1}", groupStart, groupEnd));\n        }\n        return values.ToArray();\n    }