public class TypeClassUserType : IUserType\n  {\n\n\n    object IUserType.NullSafeGet(IDataReader rs, \n      string[] names, \n     object owner) {\n\n     string name = NHibernateUtil.String.NullSafeGet(rs, \n     names[0]) as string;\n\n     TypeClassFactory factory = new TypeClassFactory();\n     TypeClass typeobj = factory.GetTypeClass(name);\n     return typeobj;\n   }\n\n    void IUserType.NullSafeSet(IDbCommand cmd, \n    object value, \n     int index) {\n\n      string name = ((TypeClass)value).Name;\n     NHibernateUtil.String.NullSafeSet(cmd, name, index);\n    }\n  }