private void CreateNodeAndInvestigateChildrenOfNode(HierarchyData data)\n    {\n        //does this node have children???\n        if (data.HasChildren)\n        {\n            //get children\n            IEnumerable<ChildRecord> childUsers = GetChildRecordsForData(data);\n            foreach (child in childUsers)\n            {\n      HierarchyData newNode = new HierarchyData ();\n                newNode.ParentNode = data;\n                newNode.ThisData = child;\n                data.ChildNodes.Add(newNode);\n\n                CreateNodeAndInvestigateChildrenOfNode(newNode);\n            }\n        }\n    }