Create Procedure MyProc\n  @Name varchar(20),\n  @DOB DateTime,\n  @EmployeeId Integer Output = Null\n  As\n  Set NoCount On\n\n     If @EmployeeId Is Null \n       Begin\n          Insert Employees(Name, DateofBirth)\n          Values (@Name, @DOB)\n          Set @EmployeeId = Scope_Identity()\n       End\n     Else If Exists(Select * From Employees\n                    Where EmployeeId =@EmployeeId)\n       Begin\n           Update Employees Set\n              Name = Isnull(@Name, Name),\n              DateOfBirth = IsNull(@DOB, DateOfBirth)\n           Where EmployeeId = @EmployeeId\n       End\n     Else\n        Raiserror('EmployeeId %d is missing or has been deleted.',\n                   16, 1, @EmployeeId)\n\n     Return 0