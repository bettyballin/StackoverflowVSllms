create table media_types (\n  media_type     int primary key,\n  media_name     varchar(20)\n);\ninsert into media_types (media_type, media_name) values\n  (2, 'TV series'),\n  (3, 'movie');\n\ncreate table media (\n  media_id       int not null,\n  media_type     not null,\n  name           varchar(100),\n  description    text,\n  url            varchar(255),\n  primary key (media_id),\n  unique key (media_id, media_type),\n  foreign key (media_type) \n    references media_types (media_type)\n);\n\ncreate table tv_series (\n  media_id       int primary key,\n  media_type     int check (media_type = 2),\n  season         int,\n  episode        int,\n  airing         date,\n  foreign key (media_id, media_type) \n    references media (media_id, media_type)\n);\n\ncreate table movies (\n  media_id       int primary key,\n  media_type     int check (media_type = 3),\n  release_date   date,\n  budget         numeric(9,2),\n  foreign key (media_id, media_type) \n    references media (media_id, media_type)\n);