CREATE TABLE dbo.Cards (\n    id        INT            NOT NULL,\n    name      VARCHAR(50)    NOT NULL,\n    card_text VARCHAR(4000)  NOT NULL,\n    CONSTRAINT PK_Cards PRIMARY KEY CLUSTERED (id)\n)\nGO\nCREATE TABLE dbo.Card_Rulings (\n    card_id        INT            NOT NULL,\n    ruling_number  INT            NOT NULL,\n    ruling_text    VARCHAR(4000)  NOT NULL,\n    CONSTRAINT PK_Card_Rulings PRIMARY KEY CLUSTERED (card_id, ruling_number)\n)\nGO\nCREATE TABLE dbo.Card_Ruling_Referenced_Cards (\n    parent_card_id    INT    NOT NULL,\n    ruling_number     INT    NOT NULL,\n    child_card_id     INT    NOT NULL,\n    CONSTRAINT PK_Card_Ruling_Referenced_Cards PRIMARY KEY CLUSTERED (parent_card_id, ruling_number, child_card_id)\n)\nGO\nALTER TABLE dbo.Card_Rulings\nADD CONSTRAINT FK_CardRulings_Cards FOREIGN KEY (card_id) REFERENCES dbo.Cards(id)\nGO\nALTER TABLE dbo.Card_Ruling_Referenced_Cards\nADD CONSTRAINT FK_CardRulingReferencedCards_CardRulings FOREIGN KEY (parent_card_id, ruling_number) REFERENCES dbo.Card_Rulings (card_id, ruling_number)\nGO\nALTER TABLE dbo.Card_Ruling_Referenced_Cards\nADD CONSTRAINT FK_CardRulingReferencedCards_Cards FOREIGN KEY (child_card_id) REFERENCES dbo.Cards(id)\nGO