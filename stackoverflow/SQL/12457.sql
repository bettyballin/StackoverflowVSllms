Declare @products varchar(200) = '1|20|3|343|44|6|8765'\nDeclare @individual varchar(20) = null\n\nWHILE LEN(@products) > 0\nBEGIN\n    IF PATINDEX('%|%', @products) > 0\n    BEGIN\n        SET @individual = SUBSTRING(@products,\n                                    0,\n                                    PATINDEX('%|%', @products))\n        SELECT @individual\n\n        SET @products = SUBSTRING(@products,\n                                  LEN(@individual + '|') + 1,\n                                  LEN(@products))\n    END\n    ELSE\n    BEGIN\n        SET @individual = @products\n        SET @products = NULL\n        SELECT @individual\n    END\nEND