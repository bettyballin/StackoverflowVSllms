select distinct o1.orderid \nfrom orders o1 inner join orders o2 on o1.orderid!=o2.orderid\nwhere not exists\n    (\n        select * from [order details] od2\n        where od2.orderId=o2.Orderid\n            and od2.ProductId NOT IN \n            (\n                select productid from [order details] od1\n                where od1.OrderId=o1.OrderId\n            )\n    )\n    and not exists\n    (\n        select * from [order details] od1\n        where od1.orderId=o1.Orderid\n            and od1.ProductId NOT IN \n            (\n                select productid from [order details] od2\n                where od2.OrderId=o2.OrderId\n            )\n    )