CREATE TABLE Users (\n    UserID int not null primary key,\n    ...\n)\n\nCREATE TABLE Subscription (\n    Subscriber int not null references Users(UserID),\n    Publisher int not null references Users(UserID),\n    constraint ck_NotEqual check (Subscriber <> Publisher)\n)\n\nCREATE TABLE Friendship (\n    FirstUser int not null references Users(UserID), \n    SecondUser int not null references Users(UserID),\n    constraint ck_Order check (FirstUser < SecondUser) -- since friendship is reflective\n)