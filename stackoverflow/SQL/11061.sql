SELECT \n    task_id, job_id, to_do_by_date, task_name, status, completed_date\nFROM\n    Tasks\nWHERE\n    job_id IN (\n        SELECT job_id \n        FROM Tasks \n        WHERE status <> 'Done' \n        GROUP BY job_id)\n    OR\n    job_id IN (\n        SELECT job_id \n        FROM Tasks \n        WHERE status = 'Done' AND completed_date = 'Today'\n            AND job_id NOT IN (SELECT job_id FROM Tasks WHERE status <> 'Done' GROUP BY job_id)\n        GROUP BY job_id)\nORDER BY\n    job_id, to_do_by_date