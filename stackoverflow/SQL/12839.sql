Create table mytable(id1 int, id2 int)\ngo\n\ncreate Function dbo.fx_Transposed(@id1 int, @id2 int)\nreturns bit as \nBegin\n    Declare @Ret bit\n    Set @ret = 0\n    if exists(Select 1 from MyTable \n        Where id2 = @id1 and id1 = @id2)\n    Set @ret = 1\n    Return @ret\nEnd\nGO\nAlter table mytable add\nCONSTRAINT [CHK_TRANSPOSE] CHECK \n (([dbo].[fx_Transposed]([ID1],[ID2])=(0)))\nGO\nInsert into mytable (id1, id2) values (1,2)\n\nInsert into mytable (id1, id2) values (2,1)