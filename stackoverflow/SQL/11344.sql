SELECT  p.*, i.type, i.width, i.height,\n        (SELECT name FROM Location_State WHERE id = p.state_id) AS state, \n        (SELECT name FROM Location_Region WHERE id = p.region_id) AS region, \n        (SELECT start_date FROM Promotion WHERE id = p.promotion_id) AS promotion_start_date, \n        (SELECT end_date FROM Promotion WHERE id = p.promotion_id) AS promotion_end_date \nFROM    parts p\nLEFT JOIN\n        image i\nON      i.id = p.image_id\nWHERE   EXISTS (\n        SELECT  NULL\n        FROM    Parts_Category pc\n        WHERE   pc.category_id = '40'\n                AND pc.parts_id = p.id\n        UNION ALL\n        SELECT  NULL\n        FROM    Parts_Category pc\n        WHERE   pc.main_category_id = '40'\n                AND pc.parts_id = p.id\n        )\n        AND p.status = 'A'\nORDER BY\n        p.status DESC, p.level DESC, p.warehouse DESC, p.updated DESC\nLIMIT   15