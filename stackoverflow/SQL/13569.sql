CREATE OR REPLACE PACKAGE TestCallCount AS\n    FUNCTION StringLen(SrcStr VARCHAR) RETURN INTEGER;\n    FUNCTION StringLen2(SrcStr VARCHAR) RETURN INTEGER DETERMINISTIC;\n    FUNCTION GetCallCount RETURN INTEGER;\n    FUNCTION GetCallCount2 RETURN INTEGER;\nEND TestCallCount;\n\nCREATE OR REPLACE PACKAGE BODY TestCallCount AS\n    TotalFunctionCalls INTEGER := 0;\n    TotalFunctionCalls2 INTEGER := 0;\n\n    FUNCTION StringLen(SrcStr VARCHAR) RETURN INTEGER AS\n    BEGIN\n        TotalFunctionCalls := TotalFunctionCalls + 1;\n        RETURN Length(SrcStr);\n    END;\n    FUNCTION GetCallCount RETURN INTEGER AS\n    BEGIN\n        RETURN TotalFunctionCalls;\n    END;\n\n    FUNCTION StringLen2(SrcStr VARCHAR) RETURN INTEGER DETERMINISTIC AS\n    BEGIN\n        TotalFunctionCalls2 := TotalFunctionCalls2 + 1;\n        RETURN Length(SrcStr);\n    END;\n    FUNCTION GetCallCount2 RETURN INTEGER AS\n    BEGIN\n        RETURN TotalFunctionCalls2;\n    END;\n\nEND TestCallCount;\n\n\n\n\nSELECT a,TestCallCount.StringLen('foo') FROM(\n    SELECT 0 as a FROM dual\n    UNION\n    SELECT 1 as a FROM dual\n    UNION\n    SELECT 2 as a FROM dual\n);\n\nSELECT TestCallCount.GetCallCount() AS TotalFunctionCalls FROM dual;