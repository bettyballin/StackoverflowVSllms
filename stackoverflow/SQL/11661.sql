CREATE DATABASE [NullableFKTest]\nGO\nUSE [NullableFKTest]\nGO\nCREATE TABLE OneTable \n(\n    OneId  [int] NOT NULL,\n    CONSTRAINT [PK_OneTable] PRIMARY KEY CLUSTERED \n    (\n        [OneId] ASC\n    )\n)\nCREATE TABLE ManyTable (ManyId  [int] IDENTITY(1,1) NOT NULL, OneId [int] NULL)\nGO\nIF NOT EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK_ManyTable_OneTable]') AND parent_object_id = OBJECT_ID(N'[dbo].[ManyTable]') )\nALTER TABLE [dbo].[ManyTable]  WITH CHECK ADD CONSTRAINT [FK_ManyTable_OneTable] FOREIGN KEY([OneId])\n    REFERENCES [dbo].[OneTable] ([OneId])   \nGO\n\n--let's get a value in here\ninsert into OneTable(OneId) values(1)\nselect* from OneTable\n\n--let's try creating a valid relationship to the FK table OneTable\ninsert into ManyTable(OneId) values (1) --fine\n--now, let's try NULL\ninsert into ManyTable(OneId) values (NULL) --also fine\n--how about a non-existent OneTable entry?\ninsert into ManyTable(OneId) values (5) --BOOM! - FK violation\n\nselect* from ManyTable\n--1, 1\n--2, NULL\n\n--cleanup\nALTER TABLE ManyTable DROP CONSTRAINT FK_ManyTable_OneTable\nGO\ndrop TABLE OneTable\nGO\ndrop TABLE ManyTable\nGO\nUSE [Master]\nGO\nDROP DATABASE NullableFKTest