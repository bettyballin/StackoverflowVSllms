INSERT DefinitionInProfile \n    (ProfileID, DefinitionID)\nSELECT\n    P.ProfileID, D.DefinitionID\nFROM\n    --All permutations of P and D\n    Profile P\n    CROSS JOIN\n    Definition D\nWHERE\n    --Edit (added 2 rows)\n    --But filter and lookup type -> id\n    P.ProfileType = ProfileTypeA\n    AND\n    --End edit\n    --But not where the defid is already there for that profileid\n    NOT EXISTS (SELECT * --or 1!!\n        FROM\n            DefinitionInProfile DP\n        WHERE\n            DP.ProfileID = P.ProfileID AND\n            DP.DefinitionID= D.DefinitionID)