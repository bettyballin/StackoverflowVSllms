declare @startID int, @endID int, @rowsEach int\nselect @startID = 0, @endID = 2, @rowsEach = 3\n\n\nselect *\nfrom\n(\n    select memID, foo, bar, foobar, row_number() over (partition by dense_rank order by dense_rank) [rank_row]\n    from\n    (\n        select memID, foo, bar, foobar, dense_rank() over (order by memID) [dense_rank]\n        from #test\n        where memID between @startID and @endID\n    ) a\n) b\nwhere rank_row <= @rowsEach