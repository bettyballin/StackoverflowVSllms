This should be close to what you need - maybe a line termination problem, depending on your platform:\n\n    set pagesize 0\n    set linesize 300\n    spool wrapper.sql\n    select\n    'spool '||object_name||'.sql'||chr(10)||\n    'begin \n    dbms_metadata.get_ddl('||chr(39)||object_type||chr(39)||','||chr(39)||object_name||chr(39)||')'||' end;'||chr(10)||\n    '/'||chr(10)||\n    'spool off'\n    from user_objects\n    where object_type = 'PROCEDURE'\n;\nspool off