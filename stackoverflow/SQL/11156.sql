SELECT lvl\n     , u.object_id\n     , u.object_type\n     , LPAD (' ', lvl) || object_name obj\n   FROM ( SELECT LEVEL lvl, object_id\n            FROM SYS.public_dependency s\n         START WITH s.object_id =\n                      ( SELECT object_id\n                          FROM user_objects\n                         WHERE object_name = UPPER ('&OBJECT_NAME')\n                           AND object_type = UPPER ('&OBJECT_TYPE'))\n         CONNECT BY s.object_id = PRIOR referenced_object_id\n         GROUP BY LEVEL, object_id) tree\n      , user_objects u\n  WHERE tree.object_id = u.object_id\nORDER BY lvl\n/