WITH\n  x AS( SELECT 1 id FROM dual UNION SELECT 2 FROM dual UNION SELECT 3 FROM dual ),\n  y AS( SELECT 1 id, 1 nr, 'B' code FROM dual\n        UNION SELECT 1, 2, 'A'  FROM dual\n        UNION SELECT 2, 2, 'A' FROM dual\n) -- end of test data\nSELECT  *\nFROM    (\n        SELECT  x.id, y.nr, y.code, ROW_NUMBER() OVER (PARTITION BY x.id ORDER BY y.nr) AS rn\n        FROM    x\n        LEFT OUTER JOIN y\n        ON   y.id = x.id\n)\nWHERE rn = 1