-- PREPARE\n    SET NOCOUNT ON\n\n    -- VARIABLES\n    DECLARE @tblName NVARCHAR(150)\n    DECLARE @colName NVARCHAR(150)\n    DECLARE @tblID int\n    DECLARE @first bit\n    DECLARE @lookFor nvarchar(250)\n    DECLARE @replaceWith nvarchar(250)\n\n-- CHANGE PARAMETERS\nSET @lookFor =  ('bla')\n\n\n\n    SET @replaceWith = ''\n\n    -- TEXT VALUE DATA TYPES\n    DECLARE @supportedTypes TABLE ( xtype NVARCHAR(20) )\n    INSERT INTO @supportedTypes SELECT XTYPE FROM SYSTYPES WHERE NAME IN ('varchar','char','nvarchar','nchar','xml','ntext','text')\n    --INSERT INTO @supportedTypes SELECT XTYPE FROM SYSTYPES WHERE NAME IN ('text')\n\n    -- ALL USER TABLES\n    DECLARE cur_tables CURSOR FOR \n    SELECT SO.name, SO.id FROM SYSOBJECTS SO WHERE XTYPE='U'\n    OPEN cur_tables\n    FETCH NEXT FROM cur_tables INTO @tblName, @tblID\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        -------------------------------------------------------------------------------------------\n        -- START INNER LOOP - All text columns, generate statement\n        -------------------------------------------------------------------------------------------\n        DECLARE @temp VARCHAR(max)\n        DECLARE @count INT\n        SELECT @count = COUNT(name) FROM SYSCOLUMNS WHERE ID = @tblID AND \n            XTYPE IN (SELECT xtype FROM @supportedTypes)\n\n        IF @count > 0\n        BEGIN\n            -- fetch supported columns for table\n            DECLARE cur_columns CURSOR FOR \n                SELECT name FROM SYSCOLUMNS WHERE ID = @tblID AND \n                    XTYPE IN (SELECT xtype FROM @supportedTypes)\n            OPEN cur_columns\n            FETCH NEXT FROM cur_columns INTO @colName\n\n            -- generate opening UPDATE cmd\n            PRINT 'UPDATE ' + @tblName + ' SET'\n            SET @first = 1\n\n            -- loop through columns and create replaces\n            WHILE @@FETCH_STATUS = 0\n            BEGIN\n                IF (@first=0) PRINT ','\n                PRINT @colName +\n                    ' = REPLACE(convert(nvarchar(max),' +  @colName + '),''' + @lookFor +\n                    ''',''' + @replaceWith + ''')'\n\n                SET @first = 0\n\n                FETCH NEXT FROM cur_columns INTO @colName\n            END\n            PRINT 'GO'\n\n            CLOSE cur_columns\n            DEALLOCATE cur_columns\n        END\n        ------------------------------------------------------------------------------------------- \n        -- END INNER\n        -------------------------------------------------------------------------------------------\n\n        FETCH NEXT FROM cur_tables INTO @tblName, @tblID\n    END\n\n    CLOSE cur_tables\n    DEALLOCATE cur_tables