/*This script will find any text value in the database*/\n/*Output will be directed to the Messages window. Don't forget to look there!!!*/\n\nSET NOCOUNT ON\nDECLARE @valuetosearchfor varchar(128), @objectOwner varchar(64)\nSET @valuetosearchfor = '%staff%' --should be formatted as a like search \nSET @objectOwner = 'dbo'\n\nDECLARE @potentialcolumns TABLE (id int IDENTITY, sql varchar(4000))\n\nINSERT INTO @potentialcolumns (sql)\nSELECT \n    ('if exists (select 1 from [' +\n    [tabs].[table_schema] + '].[' +\n    [tabs].[table_name] + \n    '] (NOLOCK) where [' + \n    [cols].[column_name] + \n    '] like ''' + @valuetosearchfor + ''' ) print ''SELECT * FROM [' +\n    [tabs].[table_schema] + '].[' +\n    [tabs].[table_name] + \n    '] (NOLOCK) WHERE [' + \n    [cols].[column_name] + \n    '] LIKE ''''' + @valuetosearchfor + '''''' +\n    '''') as 'sql'\nFROM information_schema.columns cols\n    INNER JOIN information_schema.tables tabs\n        ON cols.TABLE_CATALOG = tabs.TABLE_CATALOG\n            AND cols.TABLE_SCHEMA = tabs.TABLE_SCHEMA\n            AND cols.TABLE_NAME = tabs.TABLE_NAME\nWHERE cols.data_type IN ('char', 'varchar', 'nvchar', 'nvarchar','text','ntext')\n    AND tabs.table_schema = @objectOwner\n    AND tabs.TABLE_TYPE = 'BASE TABLE'\nORDER BY tabs.table_catalog, tabs.table_name, cols.ordinal_position\n\nDECLARE @count int\nSET @count = (SELECT MAX(id) FROM @potentialcolumns)\nPRINT 'Found ' + CAST(@count as varchar) + ' potential columns.'\nPRINT 'Beginning scan...'\nPRINT ''\nPRINT 'These columns contain the values being searched for...'\nPRINT ''\nDECLARE @iterator int, @sql varchar(4000)\nSET @iterator = 1\nWHILE @iterator <= (SELECT Max(id) FROM @potentialcolumns)\nBEGIN\n    SET @sql = (SELECT [sql] FROM @potentialcolumns where [id] = @iterator)\n    IF (@sql IS NOT NULL) and (RTRIM(LTRIM(@sql)) <> '')\n    BEGIN\n        --SELECT @sql --use when checking sql output\n        EXEC (@sql)\n    END\n    SET @iterator = @iterator + 1\nEND\n\nPRINT ''\nPRINT 'Scan completed'