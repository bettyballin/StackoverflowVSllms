CREATE PROCEDURE `related_stories`(IN param1 VARCHAR(255), IN param2 VARCHAR(255), IN param3 VARCHAR(255), IN publishDate INT(11), IN tlimit INT(11))\nBEGIN\n\nSET  @query =CONCAT( '\n\nselect s.* from \n(\n\nselect * from \n(\n SELECT something where condition IN (',param1,')\n) as table1\n\nUNION ALL\n\nselect * from \n(\n SELECT something where condition IN (',param2,')\n) as table2\n\nUNION ALL\n\nselect * from \n(\n SELECT something where condition IN (',param3,')\n) as table3\n\n) as s\n\nWHERE (s.publish_date < ',publishDate,') \nGROUP BY id limit ',tlimit,';');\n\nPREPARE stmtInsert FROM @query;\nEXECUTE stmtInsert;\n\nEND