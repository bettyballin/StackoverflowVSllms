<textarea id="text-area" rows="20" cols="100"></textarea>\n\n<script>\ndocument.getElementById("text-area").onkeydown = function(e) {\n  if (!e && event.keyCode == 9)\n  {\n    event.returnValue = false;\n    insertAtCursor(document.getElementById("text-area"), "    ");\n  }\n  else if (e.keyCode == 9)\n  {\n    e.preventDefault();\n    insertAtCursor(document.getElementById("text-area"), "    ");\n  }\n};\n\n//http://alexking.org/blog/2003/06/02/inserting-at-the-cursor-using-javascript#comment-3817\nfunction insertAtCursor(myField, myValue) {\n  //IE support\n  if (document.selection) {\n    var temp;\n    myField.focus();\n    sel = document.selection.createRange();\n    temp = sel.text.length;\n    sel.text = myValue;\n    if (myValue.length == 0) {\n      sel.moveStart('character', myValue.length);\n      sel.moveEnd('character', myValue.length);\n    } else {\n      sel.moveStart('character', -myValue.length + temp);\n    }\n    sel.select();\n  }\n  //MOZILLA/NETSCAPE support\n  else if (myField.selectionStart || myField.selectionStart == '0') {\n    var startPos = myField.selectionStart;\n    var endPos = myField.selectionEnd;\n    myField.value = myField.value.substring(0, startPos) + myValue + myField.value.substring(endPos, myField.value.length);\n    myField.selectionStart = startPos + myValue.length;\n    myField.selectionEnd = startPos + myValue.length;\n  } else {\n    myField.value += myValue;\n  }\n}\n</script>