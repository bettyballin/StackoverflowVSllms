class Twitter\n  include HTTParty\n  base_uri 'twitter.com'\n\n  def initialize(u, p)\n    @auth = {:username => u, :password => p}\n  end\n\n  # which can be :friends, :user or :public\n  # options[:query] can be things like since, since_id, count, etc.\n  def timeline(which=:friends, options={})\n    options.merge!({:basic_auth => @auth})\n    self.class.get("/statuses/#{which}_timeline.json", options)\n  end\n\n  def post(text)\n    options = { :query => {:status => text}, :basic_auth => @auth }\n    self.class.post('/statuses/update.json', options)\n  end\nend\n\n# usage examples.\ntwitter = Twitter.new('username', 'password')\ntwitter.post("It's an HTTParty and everyone is invited!")\ntwitter.timeline(:friends, :query => {:since_id => 868482746})\ntwitter.timeline(:friends, :query => 'since_id=868482746')