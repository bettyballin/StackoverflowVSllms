class Position\n  has_many :candidate_positions\n  has_many :candidates, :through => :candidate_positions\nend\n\nclass Candidate\n  has_many :candidate_positions\n  has_many :positions, :through => :candidate_positions\n  has_many :past_employments\n  accepts_nested_attributes_for :past_employments\n  accepts_nested_attributes_for :candidate_positions\nend\n\nclass PastEmployment\n  belongs_to :candidate\nend\n\nclass CandidatePosition\n  belongs_to :candidate\n  belongs_to :position\nend