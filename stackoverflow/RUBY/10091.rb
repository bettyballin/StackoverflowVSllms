puts %x{uptime}\n\nIO.popen("ps aruxl") { |readme|\n    pslist = readme.to_a\n    pslist.shift # remove header line\n    pslist.each_with_index { |i,index|\n      ps = i.split\n      psh = { user: ps[0], pid: ps[1], pcpu: ps[2], pmem: ps[3],\n              vsz: ps[4], rss: ps[5], tty: ps[6], stat: ps[7],\n              time: ps[8], uid: ps[9], ppid: ps[10], cpu: ps[11], pri: ps[12], \n              nice: ps[13], wchan: ps[14], cmd: ps[16..ps.size].join(" ") }\n      printf("%-6s %-6s %-6s %s", "PID:", "%CPU:", "%Mem", "Command\n") if index == 0\n      printf("%-6d %-6.1f %-6.1f %s\n", \n        psh[:pid].to_i, psh[:pcpu].to_f, psh[:pmem].to_f, psh[:cmd]) if index < 10\n\n    }\n\n}