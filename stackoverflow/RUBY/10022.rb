keywords = input.split(/\s+/)\nqueries = []\nvars = []\n\nkeywords.each do |keyword|\n  queries << "(classifications.species LIKE '%?%' OR \n               classifications.family LIKE '%?%' OR \n               classifications.trivial_names LIKE '%?%' OR\n               place LIKE '%?%')"\n  vars = vars << keyword << keyword << keyword << keyword\nend\n\noptions[:conditions] = [queries.join(' AND '), vars].flatte