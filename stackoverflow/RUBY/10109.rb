class Class\n  def initialize_with(*attrs, &block)\n    attrs.each do |attr|\n      attr_accessor attr\n    end\n    (class << self; self; end).send :define_method, :new do |*args|\n      obj = allocate\n      init_args, surplus_args = args[0...attrs.size], args[attrs.size..-1]\n      attrs.zip(init_args) do |attr, arg|\n        obj.instance_variable_set "@#{attr}", arg\n      end\n      obj.send :initialize, *surplus_args\n      obj\n    end\n  end\nend