function search($array, $key, $value)\n{\n    $results = array();\n\n    if (is_array($array)) {\n        if (isset($array[$key]) && $array[$key] == $value) {\n            $results[] = $array;\n        }\n\n        foreach ($array as $subarray) {\n            $results = array_merge($results, search($subarray, $key, $value));\n        }\n    }\n\n    return $results;\n}\n\n$arr = array(0 => array(id=>1,name=>"cat 1"),\n             1 => array(id=>2,name=>"cat 2"),\n             2 => array(id=>3,name=>"cat 1"));\n\nprint_r(search($arr, 'name', 'cat 1'));