$image = imagecreatefromgif($source_file);\n// create a true color image of the same size\n$image2 = imagecreatetruecolor(imagesx($image), imagesy($image));\n// copy the original gif image on to the true color image\nimagecopy($image2, $image, 0, 0, 0, 0, imagesx($image), imagesy($image));\n// copy the watermark onto the new true color image\nimagecopymerge($image2, $watermark, $x, $y, 0, 0, $water_width, $water_height, 65);\n// write the new image to disk\nimagegif($image2, $source_file);