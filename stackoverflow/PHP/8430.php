$fileStr = file_get_contents('path/to/file');\n$newStr  = '';\n\n$commentTokens = array(T_COMMENT);\n    \nif (defined('T_DOC_COMMENT')) {\n    $commentTokens[] = T_DOC_COMMENT; // PHP 5\n}\n\nif (defined('T_ML_COMMENT')) {\n    $commentTokens[] = T_ML_COMMENT;  // PHP 4\n}\n\n$tokens = token_get_all($fileStr);\n\nforeach ($tokens as $token) {    \n    if (is_array($token)) {\n        if (in_array($token[0], $commentTokens)) {\n            continue;\n        }\n        \n        $token = $token[1];\n    }\n\n    $newStr .= $token;\n}\n\necho $newStr;