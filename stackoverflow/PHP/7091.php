<?php\n\n    echo geturl('http://some-url', 'http://referring-url');\n\n    function geturl($url, $referer) { \n\n        $headers[] = 'Accept: image/gif, image/x-bitmap, image/jpeg, image/pjpeg,text/html,application/xhtml+xml'; \n        $headers[] = 'Connection: Keep-Alive'; \n        $headers[] = 'Content-type: application/x-www-form-urlencoded;charset=UTF-8'; \n        $useragent = 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.0.3705; .NET CLR 1.1.4322; Media Center PC 4.0)'; \n\n        $process = curl_init($url); \n        curl_setopt($process, CURLOPT_HTTPHEADER, $headers); \n        curl_setopt($process, CURLOPT_HEADER, 0); \n        curl_setopt($process, CURLOPT_USERAGENT, $useragent);\n        curl_setopt($process, CURLOPT_REFERER, $referer);\n        curl_setopt($process, CURLOPT_TIMEOUT, 30); \n        curl_setopt($process, CURLOPT_RETURNTRANSFER, 1); \n        curl_setopt($process, CURLOPT_FOLLOWLOCATION, 1); \n\n        $return = curl_exec($process); \n        curl_close($process); \n\n        return $return; \n    } \n\n?>