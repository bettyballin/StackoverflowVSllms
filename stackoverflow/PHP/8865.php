<?php\n\ndefine ('XMLFILE', 'http://ws.audioscrobbler.com/2.0/artist/vasco%20rossi/images.rss');\necho "<pre>";\n\n$items = array ();\n$i = 0;\n\n$xmlReader = new XMLReader();\n$xmlReader->open(XMLFILE, null, LIBXML_NOBLANKS);\n\n$isParserActive = false;\n$simpleNodeTypes = array ("title", "description", "media:title", "link", "author", "pubDate", "guid");\n\nwhile ($xmlReader->read ())\n{\n    $nodeType = $xmlReader->nodeType;\n\n    // Only deal with Beginning/Ending Tags\n    if ($nodeType != XMLReader::ELEMENT && $nodeType != XMLReader::END_ELEMENT) { continue; }\n    else if ($xmlReader->name == "item") {\n        if (($nodeType == XMLReader::END_ELEMENT) && $isParserActive) { $i++; }\n        $isParserActive = ($nodeType != XMLReader::END_ELEMENT);\n    }\n\n    if (!$isParserActive || $nodeType == XMLReader::END_ELEMENT) { continue; }\n\n    $name = $xmlReader->name;\n\n    if (in_array ($name, $simpleNodeTypes)) {\n        // Skip to the text node\n        $xmlReader->read ();\n        $items[$i][$name] = $xmlReader->value;\n    } else if ($name == "media:thumbnail") {\n        $items[$i]['media:thumbnail'] = array (\n                "url" => $xmlReader->getAttribute("url"),\n                "width" => $xmlReader->getAttribute("width"),\n                "height" => $xmlReader->getAttribute("height"),\n                "type" => $xmlReader->getAttribute("type")\n        );\n    } else if ($name == "media:content") {\n        $items[$i]['media:content'] = array (\n                "url" => $xmlReader->getAttribute("url"),\n                "width" => $xmlReader->getAttribute("width"),\n                "height" => $xmlReader->getAttribute("height"),\n                "filesize" => $xmlReader->getAttribute("fileSize"),\n                "expression" => $xmlReader->getAttribute("expression")\n        );\n    }\n}\n\nprint_r($items);\necho "</pre>";\n\n?>