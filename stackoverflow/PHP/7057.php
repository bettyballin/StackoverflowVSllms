function getDirectorySize($path)\n{\n  $totalsize = 0;\n  $totalcount = 0;\n  $dircount = 0;\n  if ($handle = opendir ($path))\n  {\n    while (false !== ($file = readdir($handle)))\n    {\n      $nextpath = $path . '/' . $file;\n      if ($file != '.' && $file != '..' && !is_link ($nextpath))\n      {\n        if (is_dir ($nextpath))\n        {\n          $dircount++;\n          $result = getDirectorySize($nextpath);\n          $totalsize += $result['size'];\n          $totalcount += $result['count'];\n          $dircount += $result['dircount'];\n        }\n        elseif (is_file ($nextpath))\n        {\n          $totalsize += filesize ($nextpath);\n          $totalcount++;\n        }\n      }\n    }\n  }\n  closedir ($handle);\n  $total['size'] = $totalsize;\n  $total['count'] = $totalcount;\n  $total['dircount'] = $dircount;\n  return $total;\n}\n\nfunction sizeFormat($size)\n{\n    if($size<1024)\n    {\n        return $size." bytes";\n    }\n    else if($size<(1024*1024))\n    {\n        $size=round($size/1024,1);\n        return $size." KB";\n    }\n    else if($size<(1024*1024*1024))\n    {\n        $size=round($size/(1024*1024),1);\n        return $size." MB";\n    }\n    else\n    {\n        $size=round($size/(1024*1024*1024),1);\n        return $size." GB";\n    }\n\n}