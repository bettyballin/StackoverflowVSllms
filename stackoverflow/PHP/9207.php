<?php\n\nclass User\n{\n    private $_data;\n\n    public function __construct($userdata, $preferences)\n    {\n        $this->_data = $userdata;\n    }\n\n    public function getPreferencesData($preferences)\n    {\n        $result = array();\n        $prefs = $this->_data['preferences'];\n        foreach($preferences as $key => $value)\n        {\n            if($value == "1")\n                $result[] = $this->_data[$key];\n        }\n        return $result;\n    }\n}\n\n$mypreferences = array("name" => 1, "birthdate" => 0); // show e.g. name and birthdate\n$mydata = array("name" => "Gaius Julius Caesar", "birthdate" => "July 13th -100");\n$testuser = new User($mydata);\nprint_r($test->getPreferencesData($mypreferences));\n\n?>