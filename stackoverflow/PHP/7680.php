$filename = base64_url_decode($_REQUEST['file']);\nheader("Cache-Control: public");\nheader('Content-disposition: attachment; filename='.basename($filename));\nheader("Content-Transfer-Encoding: binary");\nheader('Content-Length: '. filesize($filename));\n\n//  Put either file counting code here, either a db or static files\n//\nreadfile($filename);  //and spit the user the file\n\nfunction base64_url_decode($input) {\n    return base64_decode(strtr($input, '-_,', '+/='));\n}