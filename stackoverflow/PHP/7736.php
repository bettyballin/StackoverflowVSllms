$tableformat = '<table><thead>%s</thead><tbody>%s</tbody></table>';\n$rowformat   = '<tr>%s</tr>'; \n$cellformat  = '<td>%s</td>'; \n\n$hdata = '';\nforeach( $data[0] as $cellname => $cellvalue )\n{\n   $hdata  .= sprintf( $cellformat, $cellname ); \n}\n$hdata = sprintf( $rowformat, $hdata ); \n$rdata = "";\nforeach( $data as $rownum => $rowvalue ) \n{ \n   $row = "";\n   foreach( $rowvalue as $colname => $colvalue ) \n   {\n       $row .= sprintf( $cellformat, $colvalue );  \n   }\n   $rdata .= sprintf($rowformat,$row); \n}\nreturn sprintf( $tableformat, $hdata, $rdata ); 