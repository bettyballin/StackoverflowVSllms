$result = preg_match('/\n  ^ ([^(]+?)\n  (\s* \( ([^)]++) \))?\n  (\s* \[ ([^\]]++) \])?\n  \s*\n  $/x', $mystring, $matches);\n\nprint_r($matches);