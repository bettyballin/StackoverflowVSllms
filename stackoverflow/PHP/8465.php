function foldersize($path) {\n    $total_size = 0;\n    $files = scandir($path);\n\n    foreach($files as $t) {\n        if (is_dir(rtrim($path, '/') . '/' . $t)) {\n            if ($t<>"." && $t<>"..") {\n                $size = foldersize(rtrim($path, '/') . '/' . $t);\n                $total_size += $size;\n            }\n        } else {\n            $size = filesize(rtrim($path, '/') . '/' . $t);\n            $total_size += $size;\n        }   \n    }\n    return $total_size;\n}\n\nfunction format_size($size) {\n    $mod = 1024;\n\n    $units = explode(' ','B KB MB GB TB PB');\n    for ($i = 0; $size > $mod; $i++) {\n        $size /= $mod;\n    }\n\n    return round($size, 2) . ' ' . $units[$i];\n}\n\n$SIZE_LIMIT = 5368709120; // 5 GB\n$sql="select * from users order by id";\n$result=mysql_query($sql);\nwhile($row=mysql_fetch_array($result)) {\n    $disk_used = foldersize("C:/xampp/htdocs/freehosting/".$row['name']);\n    $disk_remaining = $SIZE_LIMIT - $disk_used;\n    print 'Name: ' . $row['name'] . '<br>';\n    print 'diskspace used: ' . format_size($disk_used) . '<br>';\n    print 'diskspace left: ' . format_size($disk_remaining) . '<br><hr>';\n}