$module_dir = substr(str_replace("\\","/",$this->getFrontController()->getModuleDirectory()),0,strrpos(str_replace("\\","/",$this->getFrontController()->getModuleDirectory()),'/'));\n    $temp = array_diff( scandir( $module_dir), Array( ".", "..", ".svn"));\n    $modules = array();\n    $controller_directorys = array();\n    foreach ($temp as $module) {\n        if (is_dir($module_dir . "/" . $module)) {\n            array_push($modules,$module);\n            array_push($controller_directorys, str_replace("\\","/",$this->getFrontController()->getControllerDirectory($module)));\n        }\n    }\n\n    foreach ($controller_directorys as $dir) {\n        foreach (scandir($dir) as $dirstructure) {\n            if (is_file($dir  . "/" . $dirstructure)) {\n                if (strstr($dirstructure,"Controller.php") != false) {\n                    include_once($dir . "/" . $dirstructure);\n                }\n            }\n\n        }\n    }\n\n    $default_module = $this->getFrontController()->getDefaultModule();\n\n    $db_structure = array();\n\n    foreach(get_declared_classes() as $c){\n        if(is_subclass_of($c, 'Zend_Controller_Action')){\n            $functions = array();\n            foreach (get_class_methods($c) as $f) {\n                if (strstr($f,"Action") != false) {\n                    array_push($functions,substr($f,0,strpos($f,"Action")));\n                }\n            }\n            $c = strtolower(substr($c,0,strpos($c,"Controller")));\n\n            if (strstr($c,"_") != false) {\n                $db_structure[substr($c,0,strpos($c,"_"))][substr($c,strpos($c,"_") + 1)] = $functions;\n            }else{\n                $db_structure[$default_module][$c] = $functions;\n            }\n        }\n    }       \n}