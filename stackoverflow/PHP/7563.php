<?php\n$dom=new DOMDocument();\n$dom->load("file.xml");\n\n$root=$dom->documentElement; // This can differ (I am not sure, it can be only documentElement or documentElement->firstChild or only firstChild)\n\n$nodesToDelete=array();\n\n$markers=$root->getElementsByTagName('marker');\n\n// Loop trough childNodes\nforeach ($markers as $marker) {\n    $type=$marker->getElementsByTagName('type')->item(0)->textContent;\n    $title=$marker->getElementsByTagName('title')->item(0)->textContent;\n    $address=$marker->getElementsByTagName('address')->item(0)->textContent;\n    $latitude=$marker->getElementsByTagName('latitude')->item(0)->textContent;\n    $longitude=$marker->getElementsByTagName('longitude')->item(0)->textContent;\n\n    // Your filters here\n\n    // To remove the marker you just add it to a list of nodes to delete\n    $nodesToDelete[]=$marker;\n}\n\n// You delete the nodes\nforeach ($nodesToDelete as $node) $node->parentNode->removeChild($node);\n\necho $dom->saveXML();\n?>