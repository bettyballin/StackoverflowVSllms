<?php\nfunction fetch($sql)\n{\n    $query = mysql_query($sql);\n    return mysql_fetch_assoc($query);\n}\n\nfunction calculate($week1, $week2)\n{\n    if ($week1 == 0)\n    {\n        $week1 = 1;\n    }\n    return ($week2 / $week1) * 100;\n}\n\n$q1 = "SELECT SUM(hits) as hits FROM table WHERE DATE_SUB(CURDATE(),INTERVAL 1 week) <= date";\n$first_week_hits = fetch($q1);\n\n$q2 = "SELECT SUM(hits) as hits FROM table WHERE DATE_SUB(CURDATE(),INTERVAL 2 week) <= date";\n$second_week_hits = fetch($q2);\n\n$percent = $str_percent = calculate($first_week_hits['hits'], $second_week_hits['hits']);\nif ($percent > 0)\n{\n     $str_percent = '+'.$percent; // :)\n}\necho "I have ".$str_percent."% of popularity";\n?>