$html // Your html\n\npreg_match_all('/<module\s*([^>]*)\s*\/?>/', $html, $customTags, PREG_SET_ORDER);\n\nforeach ($customTags as $customTag) {\n $originalTag=$customTag[0];\n $rawAttributes=$customTag[1];\n\n preg_match_all('/([^=\s]+)="([^"]+)"/', $rawAttributes, $attributes, PREG_SET_ORDER);\n\n $formatedAttributes=array();\n\n foreach ($attributes as $attribute) {\n  $name=$attribute[1];\n  $value=$attribute[2];\n\n  $formatedAttributes[$name]=$value;\n }\n\n $html=str_replace($originalTag, yourFunction($formatedAttributes), $html);\n}