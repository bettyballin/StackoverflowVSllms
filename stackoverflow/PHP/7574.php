/*checks if email is well formed and optionally the existence of a MX at that domain*/\nfunction checkEmail($email, $domainCheck = false)\n{\n    if (preg_match('/^[a-zA-Z0-9\._-]+\@(\[?)[a-zA-Z0-9\-\.]+'.\n                   '\.([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/', $email)) {\n        if ($domainCheck && function_exists('checkdnsrr')) {\n            list (, $domain)  = explode('@', $email);\n            if (checkdnsrr($domain, 'MX') || checkdnsrr($domain, 'A')) {\n                return true;\n            }\n            return false;\n        }\n        return true;\n    }\n    return false;\n}