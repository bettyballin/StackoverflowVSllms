class\n    ClassMatcher\nextends\n    IteratorIterator\nimplements\n    RecursiveIterator\n{\n\n    protected $matches;\n\n    public function hasChildren() {\n        return preg_match_all(\n            '#class (\w+)\b#ism',\n            file_get_contents($this->current()->getPathname()),\n            $this->matches\n        );\n    }\n\n    public function getChildren() {\n        $classes = $this->matches[1];\n\n        return new RecursiveArrayIterator(\n            array_combine(\n                $classes,                                                       // class name as key\n                array_fill(0, count($classes), $this->current()->getPathname()) // file path as value\n            )\n        );\n    }\n}