<?php\n$xml = '<docs>\n  <folder>\n    <name>Folder name</name>\n    <date>20.06.2009</date>\n    <folder>\n      <name>Subfolder1</name>\n      <date></date>\n    </folder>\n    <folder>\n      <name>Subfolder2</name>\n      <date></date>\n      <folder>\n        <name>Subfolder3</name>\n        <date></date>\n      </folder>\n    </folder>\n  </folder>\n</docs>';</p>\n\n<p>$doc = new SimpleXMLElement($xml);\n$pathToParentelement = '//folder[name="Subfolder3"]';\n$element = $doc->xpath($pathToParentelement);\nisset($element[0]) or die('not found');<br>\n$newFolder = $element[0]->addChild("folder");\n$newFolder->name = "Subfolder4.1";\n$newFolder->date = date(DATE_RFC822);<br>\n// let's see the result\necho $doc->asxml();