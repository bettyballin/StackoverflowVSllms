public function onlyNeeded($action) {\n    $form = $this->form;\n\n    //get $formelement by reference so it can be modified\n    foreach ($form as & $formelement) {\n\n        //$key becomes the index of current $param in $formelement['params']\n        foreach ($formelement['params'] as $key => $param) {\n           if ($param['on'] != $action) {\n               unset($formelement['params'][$key]);\n           }\n        }\n    }\n    return $form;\n}