function isUTF8($string){\n    return preg_match('%(?:\n    [\xC2-\xDF][\x80-\xBF]        # non-overlong 2-byte\n    |\xE0[\xA0-\xBF][\x80-\xBF]               # excluding overlongs\n    |[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}      # straight 3-byte\n    |\xED[\x80-\x9F][\x80-\xBF]               # excluding surrogates\n    |\xF0[\x90-\xBF][\x80-\xBF]{2}    # planes 1-3\n    |[\xF1-\xF3][\x80-\xBF]{3}                  # planes 4-15\n    |\xF4[\x80-\x8F][\x80-\xBF]{2}    # plane 16\n    )+%xs', $string);\n}