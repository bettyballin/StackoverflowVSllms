function findTipsByUserAndFriends($userId) {\n  //FriendsUser is automagically created by CakePHP "with" association\n  $conditions = array('FriendsUser.user_id'=>$userId);\n  $fields = 'FriendsUser.friend_id';\n  //get a list friend ids for the given user\n  $friendIds = $this->Tip->User->FriendsUser->find('list', compact('conditions', 'fields'));\n  //get list of all userIds for whom you want the tips\n  $userIds = array($userId) + $friendIds;\n  $conditions = array('Tip.user_id'=>$userIds);\n  $tips = $this->Tip->find('all', compact('conditions'));\n  return $tips;\n}