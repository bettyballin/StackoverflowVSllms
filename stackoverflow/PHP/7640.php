$hCurl = curl_init();\ncurl_setopt($hCurl, CURLOPT_PUT,            true);\ncurl_setopt($hCurl, CURLOPT_HEADER,         true);\ncurl_setopt($hCurl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($hCurl, CURLOPT_CONNECTTIMEOUT, CURL_TIMEOUT_SECS);\ncurl_setopt($hCurl, CURLOPT_URL,            "$oMessage->url/att/$fid");\ncurl_setopt($hCurl, CURLOPT_HTTPHEADER,     $aCurlHeaders);\n// TODO it could be possible that fopen() would return an invalid handle or not work altogether.  Should handle that\n$fp = fopen ($finfo['tmp_name'], "r");\ncurl_setopt($hCurl, CURLOPT_INFILE,         $fp);\ncurl_setopt($hCurl, CURLOPT_INFILESIZE,     $finfo['size']);\n\n$sResp = curl_exec($hCurl);