<?php\n$maxWidth  = 250;\n$maxHeight = 500;\n\n$size = getimagesize($url);\nif ($size) {\n    $imageWidth  = $size[0];\n    $imageHeight = $size[1];\n    $wRatio = $imageWidth / $maxWidth;\n    $hRatio = $imageHeight / $maxHeight;\n    $maxRatio = max($wRatio, $hRatio);\n    if ($maxRatio > 1) {\n        $outputWidth = $imageWidth / $maxRatio;\n        $outputHeight = $imageHeight / $maxRatio;\n    } else {\n        $outputWidth = $imageWidth;\n        $outputHeight = $imageHeight;\n    }\n}\n?>