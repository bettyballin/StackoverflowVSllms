class LocalSoapClient extends SoapClient\n{\n\n  public function __call($function_name, $arguments)\n  {\n    $result = false;\n    $max_retries = 5;\n    $retry_count = 0;\n\n    while(! $result && $retry_count < $max_retries)\n    {\n      try\n      {\n        $result = parent::__call($function_name, $arguments);\n      }\n      catch(SoapFault $fault)\n      {\n        if($fault->faultstring != 'Could not connect to host')\n        {\n          throw $fault;\n        }\n      }\n      sleep(1);\n      $retry_count ++;\n    }\n    if($retry_count == $max_retries)\n    {\n      throw new SoapFault('Could not connect to host after 5 attempts');\n    }\n    return $result;\n  }\n}