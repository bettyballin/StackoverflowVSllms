function YQLQuery(query, callback) {\n    this.query = query;\n    this.callback = callback || function(){};\n    this.fetch = function() {\n\n        if (!this.query || !this.callback) {\n            throw new Error('YQLQuery.fetch(): Parameters may be undefined');\n        }\n\n        var scriptEl = document.createElement('script'),\n            uid = 'yql' + +new Date(),\n            encodedQuery = encodeURIComponent(this.query.toLowerCase()),\n            instance = this;\n\n        YQLQuery[uid] = function(json) {\n            instance.callback(json);\n            delete YQLQuery[uid];\n            document.body.removeChild(scriptEl);\n        };\n\n        scriptEl.src = 'http://query.yahooapis.com/v1/public/yql?q='\n                     + encodedQuery + '&format=json&callback=YQLQuery.' + uid; \n        document.body.appendChild(scriptEl);\n\n    };\n}