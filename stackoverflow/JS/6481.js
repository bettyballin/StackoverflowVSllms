var listClasses = function( pattern ){\n    var allClassesTmp = {}, allClasses = []; \n    var rx = pattern ? (new RegExp(pattern)) : (new RegExp(".*"));\n\n    $('*[class]').each( function(){ \n        var cn = this.className.split(/\s+/); \n        for(var i=cn.length;--i>-1;){ \n            if(rx.test(cn[i]))allClassesTmp[ cn[i] ] = 1 \n        } \n    }); \n    for(var i in allClassesTmp)allClasses.push(i); \n    return allClasses;\n}