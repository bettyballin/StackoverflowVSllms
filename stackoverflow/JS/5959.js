var curTableCell = null; // "Softclicked" - not part of the selection (1)\n\n// We call this in the click event below.  You'd probably want this for keyboard events as well (for arrow key nav, etc.)\nfunction softclick(element) {\n    $(curTableCell).removeClass('softclicked');\n    curTableCell = element;\n    $(element).addClass('softclicked');\n}\n\n$('td, th').click(function() {\n    if(keyHeld) { // Dunno how you do this (I'm not good at Javascript)\n        $(this).toggleClass('selected'); // Explicitly added/removed to/from selection (2)\n    } else {\n        softclick(this);\n    }\n});\n\n/* When you want to do something on selection: */\n$('td.selected, th.selected').css({borderColor: 'red', borderWidth: '1px'});\n\n/* When you want to do something on selected tables (3): */\n$('td.selected, th.selected').parents('table')\n    .css({borderColor: 'red', borderWidth: '1px'});\n$('td.selected, th.selected').parents('table').children('td') // Change things on all of table's cells\n    .css({borderColor: 'red', borderWidth: '1px'});\n$('td.selected, th.selected, td.softclicked, th.softclicked').parents('table').children('td') // Change things on all of table's cells, including tables of "softclicked" cells\n    .css({borderColor: 'red', borderWidth: '1px'});