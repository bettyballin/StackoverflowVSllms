// this creates the selected variable\n// we are going to store the selected objects in here\nvar selected = $([]), offset = {top:0, left:0}; \n\n// initiate the selectable id to be recognized by UI\n$("#selectable").selectable({\n    filter: 'div',\n});\n\n// declare draggable UI and what we are going to be doing on start\n$("#selectable div").draggable({\n     start: function(ev, ui) {\n        selected = $(".ui-selected").each(function() {\n           var el = $(this);\n            el.data("offset", el.offset());\n        });\n\n        if( !$(this).hasClass("ui-selected")) $(this).addClass("ui-selected");\n        offset = $(this).offset();\n    },\n    drag: function(ev, ui) {\n        var dt = ui.position.top - offset.top, dl = ui.position.left - offset.left;\n\n        // take all the elements that are selected expect $("this"), which is the element being dragged and loop through each.\n        selected.not(this).each(function() {\n             // create the variable for we don't need to keep calling $("this")\n             // el = current element we are on\n             // off = what position was this element at when it was selected, before drag\n             var el = $(this), off = el.data("offset");\n             el.css({top: off.top + dt, left: off.left + dl});\n        });\n    }\n});