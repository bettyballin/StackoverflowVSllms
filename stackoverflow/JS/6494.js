var counter = 0;\n\nfunction makeRequest() {\n  var xhr = // yada yada yada, get your XmlHttpRequest instance\n  xhr.onreadystatechange = function() {\n    if(this.readyState == 4) {\n      // Do whatever, based on the counter variable\n      counter += 1\n      if(counter < 5)\n        makeRequest();\n    }\n    else {\n      // Do whatever, based on the counter variable\n    }\n  }\n  xhr.open();\n}