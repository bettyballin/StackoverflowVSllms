function fix_name(name) {\n    var replacer = function (whole,prefix,word) {\n        ret = [];\n        if (prefix) {\n            ret.push(prefix.charAt(0).toUpperCase());\n            ret.push(prefix.substr(1).toLowerCase());\n        }\n        ret.push(word.charAt(0).toUpperCase());\n        ret.push(word.substr(1).toLowerCase());\n        return ret.join('');\n    }\n    var pattern = /\b(ma?c)?([a-z]+)/ig;\n    return name.replace(pattern, replacer);\n}