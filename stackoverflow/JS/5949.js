// ==UserScript==\n// @name           test\n// @namespace      johnweldon.com\n// @description    test\n// @include        *\n// ==/UserScript==\n\n(function() { \n    try {\n        var xpath = "//a[@href]";                // get all links\n        var res = document.evaluate(xpath, document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,  null);\n        var str = "<div><ul>";\n        for ( var i = 0; i < res.snapshotLength; i++) {\n            str = str + "\n<li>" + res.snapshotItem(i);\n        }\n        str += "</ul></div>";\n\n        var ev = document.createElement("div");  // parent element for our display\n        ev.innerHTML = str;                      //quick and dirty\n        document.body.appendChild(ev);\n    }\n    catch (e) {\n        alert(e.message);\n    }\n}())