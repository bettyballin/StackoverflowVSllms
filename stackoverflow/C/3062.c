// Returns true if thread times could be queried and its results are usable,\n// false otherwise. Error handling is minimal, considering throwing detailed\n// exceptions instead of returning a simple boolean.\nbool get_remote_thread_times(DWORD thread_id, FILETIME & kernel_time, FILETIME & user_time)\n{\n  FILETIME creation_time = { 0 };\n  FILETIME exit_time = { 0 };\n  HANDLE thread_handle = OpenThread(THREAD_QUERY_INFORMATION, FALSE, thread_id);\n  if (thread_handle == INVALID_HANDLE) return false;\n\n  bool success = GetThreadTimes(thread_handle, &creation_time, &exit_time, &kernel_time, &user_time) != 0;\n\n  CloseHandle(thread_handle);\n  return success;\n}