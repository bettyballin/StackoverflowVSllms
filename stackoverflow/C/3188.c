SECURITY_ATTRIBUTES  sa;\n\n sa.nLength = sizeof(SECURITY_ATTRIBUTES);\n sa.bInheritHandle = FALSE;  \n\n // Call function to set the DACL. The DACL\n // is set in the SECURITY_ATTRIBUTES \n // lpSecurityDescriptor member.\n if (!CreateMyDACL(&sa))\n {\n     // Error encountered; generate message and exit.\n     printf("Failed CreateMyDACL\n");\n     exit(1);\n }\n\n RegCreateKeyEx(HKEY_LOCAL_MACHINE, subKey, 0, NULL, 0, KEY_ALL_ACCESS, &sa, &hKey, NULL);