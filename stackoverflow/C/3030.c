#include <iostream>\ntemplate <class T>\nvoid bar(T* ptr);\n\nclass MyClass  // note that this isn't a template class\n{\nprivate:\n    void foo();\n\n    template <class T>\n    friend void bar(T*);  // ERROR: compiler gives me all kinds of grief\n};\n\nvoid MyClass::foo()\n{\n    std::cout << "fooed!" << std::endl;\n}\n\ntemplate <class T>\nvoid bar(T* ptr)\n{\n    if (ptr)\n    {\n        MyClass obj;\n\n        obj.foo();\n    }\n}\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\n    int someObj = 1;\n    bar(&someObj);\n\n    return 0;\n}