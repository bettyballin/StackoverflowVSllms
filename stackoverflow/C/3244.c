int main(int argc, char *argv[]) {\n    GtkWidget* window;\n    GtkWidget* content;\n    GtkWidget* sw;\n\n    GtkRequisition size;\n    GtkWidget* viewport;\n\n    gtk_init(&argc, &argv);\n    window = gtk_window_new(GTK_WINDOW_TOPLEVEL);\n\n    sw = gtk_scrolled_window_new(NULL, NULL);\n    gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(sw),\n            GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);\n    gtk_container_add(GTK_CONTAINER(window), sw);\n    gtk_widget_show(sw);\n\n    content = gtk_button_new_with_label("This is a very, very"\n            "very very very very very very very very long text");\n    gtk_scrolled_window_add_with_viewport(GTK_SCROLLED_WINDOW(sw), content);\n    gtk_widget_show(content);\n\n    gtk_widget_show(window);\n\n    viewport = gtk_widget_get_ancestor(content, GTK_TYPE_VIEWPORT);\n    gtk_widget_size_request(viewport, &size);\n    gtk_widget_set_size_request(sw, size.width, size.height);\n\n    gtk_main();\n\n    return 0;\n}