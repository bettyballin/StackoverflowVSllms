#include <stdlib.h>\n#include <string.h>\n\nstatic void swap(int *a, int *b) {\n    if (a != b) {\n        int c = *a;\n        *a = *b;\n        *b = c;\n    }\n}\n\nvoid bubblesort(int *a, int l) {\n    int i, j;\n\n    for (i = l - 2; i >= 0; i--)\n        for (j = i; j < l - 1 && a[j] > a[j + 1]; j++)\n            swap(a + j, a + j + 1);\n}\n\nvoid selectionsort(int *a, int l) {\n    int i, j, k;\n    for (i = 0; i < l; i++) {\n        for (j = (k = i) + 1; j < l; j++)\n            if (a[j] < a[k])\n                k = j;\n        swap(a + i, a + k);\n    }\n}\n\nstatic void hsort_helper(int *a, int i, int l) {\n    int j;\n\n    for (j = 2 * i + 1; j < l; i = j, j = 2 * j + 1)\n        if (a[i] < a[j])\n            if (j + 1 < l && a[j] < a[j + 1])\n                swap(a + i, a + ++j);\n            else\n                swap(a + i, a + j);\n        else if (j + 1 < l && a[i] < a[j + 1])\n            swap(a + i, a + ++j);\n        else\n            break;\n}\n\nvoid heapsort(int *a, int l) {\n    int i;\n\n    for (i = (l - 2) / 2; i >= 0; i--)\n        hsort_helper(a, i, l);\n\n    while (l-- > 0) {\n        swap(a, a + l);\n        hsort_helper(a, 0, l);\n    }\n}\n\nstatic void msort_helper(int *a, int *b, int l) {\n    int i, j, k, m;\n\n    switch (l) {\n        case 1:\n            a[0] = b[0];\n        case 0:\n            return;\n    }\n\n    m = l / 2;\n    msort_helper(b, a, m);\n    msort_helper(b + m, a + m, l - m);\n    for (i = 0, j = 0, k = m; i < l; i++)\n        a[i] = b[j < m && !(k < l && b[j] > b[k]) ? j++ : k++];\n}\n\nvoid mergesort(int *a, int l) {\n    int *b;\n\n    if (l < 0)\n        return;\n\n    b = malloc(l * sizeof(int));\n    memcpy(b, a, l * sizeof(int));\n    msort_helper(a, b, l);\n    free(b);\n}\n\nstatic int pivot(int *a, int l) {\n    int i, j;\n\n    for (i = j = 1; i < l; i++)\n        if (a[i] <= a[0])\n            swap(a + i, a + j++);\n\n    swap(a, a + j - 1);\n\n    return j;\n}\n\nvoid quicksort(int *a, int l) {\n    int m;\n\n    if (l <= 1)\n        return;\n\n    m = pivot(a, l);\n    quicksort(a, m - 1);\n    quicksort(a + m, l - m);\n}\n\nstruct node {\n    int value;\n    struct node *left, *right;\n};\n\nvoid btreesort(int *a, int l) {\n    int i;\n    struct node *root = NULL, **ptr;\n\n    for (i = 0; i < l; i++) {\n        for (ptr = &root; *ptr;)\n            ptr = a[i] < (*ptr)->value ? &(*ptr)->left : &(*ptr)->right;\n        *ptr = malloc(sizeof(struct node));\n        **ptr = (struct node){.value = a[i]};\n    }\n\n    for (i = 0; i < l; i++) {\n        struct node *node;\n        for (ptr = &root; (*ptr)->left; ptr = &(*ptr)->left);\n        a[i] = (*ptr)->value;\n        node = (*ptr)->right;\n        free(*ptr);\n        (*ptr) = node;\n    }\n}