#include <winsock2.h>\n#include <ws2tcpip.h>\n#include <wspiapi.h>\n\nvoid tryconnect(const char * host, const char * port)\n{\n    SOCKET Socket = INVALID_SOCKET;\n    struct addrinfo *resAddrInfo = NULL;\n    struct addrinfo *ptr = NULL;\n    struct addrinfo hints;\n    int result = 0;\n\n    printf("Connecting to %s:%s\n", host, port);\n\n    ZeroMemory(&hints, sizeof(hints));\n    hints.ai_family = AF_UNSPEC;\n    hints.ai_socktype = SOCK_STREAM;\n    hints.ai_protocol = IPPROTO_TCP;\n\n    result = getaddrinfo(host, port, &hints, &resAddrInfo);\n    if (result != 0)\n    {\n        printError("getaddrinfo failed");\n        return;\n    }\n\n    ptr = resAddrInfo;\n    Socket = WSASocket(ptr->ai_family, ptr->ai_socktype, ptr->ai_protocol, NULL, 0, WSA_FLAG_OVERLAPPED);\n    if (Socket == INVALID_SOCKET)\n    {\n        printError("Error Creating Socket");\n        freeaddrinfo(resAddrInfo);\n        return;\n    }\n\n    result = WSAConnect(Socket, ptr->ai_addr, (int)ptr->ai_addrlen, NULL, NULL, NULL, NULL);\n    if (result != 0)\n    {\n        printError("Error Connecting");\n        closesocket(Socket);\n        freeaddrinfo(resAddrInfo);\n        return;\n    }\n\n    freeaddrinfo(resAddrInfo);\n    printf("Success!\n\n");\n}