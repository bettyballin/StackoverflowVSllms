to_rcv = (len - currentlen < TCP_BlockSize) ? len - currentlen : TCP_BlockSize;\nresult = recv( sock, buf + currentLen, to_rcv);