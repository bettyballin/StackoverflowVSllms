std::vector<std::string> getNextLineAndSplitIntoTokens(std::istream& str)\n{\n    std::vector<std::string>   result;\n    std::string                line;\n    std::getline(str,line);\n\n    std::stringstream          lineStream(line);\n    std::string                cell;\n\n    while(std::getline(lineStream,cell, ','))\n    {\n        result.push_back(cell);\n    }\n    // This checks for a trailing comma with no data after it.\n    if (!lineStream && cell.empty())\n    {\n        // If there was a trailing comma then add an empty element.\n        result.push_back("");\n    }\n    return result;\n}