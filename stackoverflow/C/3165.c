#include <iostream>\n#include <memory>\n\nnamespace {\n    struct A {\n        virtual void f()\n        {\n            std::cout<<"inside A's f()\n";\n        }\n\n        template <typename T> void f(T t)\n        {\n            std::cout<<T::i<<'\t';\n            this->f();\n        }\n    };\n\n    struct B : A {\n        void f()\n        {\n            std::cout<<"hello\t";\n            A::f();\n        }\n    };\n\n    struct C {\n        static const unsigned int i = 5;\n    };\n\n    struct D {\n        enum { i = 6 };\n    };\n}\n\nint main()\n{\n    std::auto_ptr<A> b(new B());\n    b->f(C());\n    b->f(D());\n}