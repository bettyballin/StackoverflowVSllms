for(i=0; i<8; i++) ivec[i] = 'i';\nBF_cbc_encrypt(inputz, outputz, strlen(inputz), &key, ivec, BF_ENCRYPT);\n\n// won't decrypt right:\nBF_cbc_encrypt(inputz, outputz, strlen(inputz), &key, ivec, BF_DECRYPT);\n// without resetting the ivec to all 'i's, the decryption will fail.\n\n// This would work though:\n\nfor(i=0; i<8; i++) ivec[i] = 'i';\nBF_cbc_encrypt(inputz, outputz, strlen(inputz), &key, ivec, BF_ENCRYPT);\n\nfor(i=0; i<8; i++) ivec[i] = 'i';\nBF_cbc_encrypt(inputz, outputz, strlen(inputz), &key, ivec, BF_DECRYPT);