<!-- Check if there are any model state errors -->\n<if condition="${ViewData.ModelState.IsValid == false}">\n    <ul>\n        <!-- Loop through each entry in ModelState -->\n        <each loop="var key in ViewData.ModelState.Keys">\n            var state = (ModelState)ViewData.ModelState[key];\n            <if condition="${state.Errors.Count > 0}">\n                <li>${key}: \n                    <each loop="ModelError err in state.Errors">\n                        ${err.ErrorMessage} \n                    </each>\n                </li>\n            </if>\n        </each>\n    </ul>\n</if>\n\n<!-- Input field with conditional error class -->\n<input type="text" value="${Model.Name}" \n       class="text ?{ViewData.ModelState.ContainsKey("Name") && ViewData.ModelState["Name"].Errors.Count > 0} error"\n       id="Name" name="Name" />