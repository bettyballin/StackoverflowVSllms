<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>File Download Busy Indicator</title>\n    <style>\n        #busy-indicator {\n            display: none;\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background-color: white;\n            padding: 20px;\n            border: 1px solid black;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n        }\n    </style>\n</head>\n<body>\n\n<form id="downloadForm">\n    <!-- Your form fields here -->\n    <button type="submit">Download PDF</button>\n</form>\n\n<div id="busy-indicator">\n    <p>Please wait, your file is being generated...</p>\n    <img src="path/to/loading.gif" alt="Loading...">\n</div>\n\n<script>\ndocument.getElementById('downloadForm').addEventListener('submit', function(event) {\n    event.preventDefault(); // Prevent the form from submitting normally\n\n    var busyIndicator = document.getElementById('busy-indicator');\n    busyIndicator.style.display = 'block'; // Show the busy indicator\n\n    // Set a timeout to hide the busy indicator after assuming download has started\n    setTimeout(function() {\n        busyIndicator.style.display = 'none';\n    }, 10000); // Adjust this time based on your server response times\n\n    // Trigger the file download\n    var form = event.target;\n    var formElements = form.elements;\n\n    // Create a form data object and append all formData values to it.\n    var formData = new FormData();\n    for (var i = 0; i < formElements.length; i++) {\n        if (!formElements[i].name) {\n            continue;\n        }\n        formData.append(formElements[i].name, formElements[i].value);\n    }\n\n    // Send the form via AJAX or just submit it as a normal form\n    fetch(form.action, {\n        method: 'POST',\n        body: formData\n    }).then(response => {\n        if (response.ok) {\n            return response.blob();\n        }\n        throw new Error('Error downloading file');\n    }).then(blob => {\n        var url = window.URL.createObjectURL(blob);\n        var a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = 'file.pdf'; // Suggested filename\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n    }).catch(error => {\n        console.error('There has been a problem with your fetch operation:', error);\n    });\n});\n</script>\n\n</body>\n</html>