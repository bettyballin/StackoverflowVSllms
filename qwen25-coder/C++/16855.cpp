#include <windows.h>\n#include <iostream>\n\nint main() {\n    HANDLE hPipe = CreateNamedPipe(\n                    TEXT("\\\\.\\pipe\\MyNamedPipe"),       // Pipe name\n                    PIPE_ACCESS_DUPLEX,                  // Read and write access\n                    PIPE_TYPE_MESSAGE | PIPE_READMODE_MESSAGE | PIPE_WAIT,\n                    1,                                     // Number of instances\n                    BUFSIZE,                               // Output buffer size\n                    BUFSIZE,                               // Input buffer size\n                    0,                                     // Client time-out interval\n                    NULL);                                   // Default security attributes\n\n    if (hPipe == INVALID_HANDLE_VALUE) {\n        std::cout << "CreateNamedPipe failed with error code " << GetLastError() << std::endl;\n        return 1;\n    }\n\n    std::cout << "Waiting for client to connect" << std::endl;\n\n    BOOL result = ConnectNamedPipe(hPipe, NULL);\n\n    if (!result) {\n        // The pipe is being closed\n        std::cout << "ConnectNamedPipe failed with error code " << GetLastError() << std::endl;\n        CloseHandle(hPipe);\n        return 1;\n    }\n\n    std::cout << "Client connected" << std::endl;\n\n    // Read from and write to the pipe...\n\n    DisconnectNamedPipe(hPipe);\n    CloseHandle(hPipe);\n\n    return 0;\n}