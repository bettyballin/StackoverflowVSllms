#include <windows.h>\n#include <iostream>\n\nBOOL WINAPI ConsoleHandler(DWORD dwCtrlType) {\n    switch (dwCtrlType) {\n        case CTRL_C_EVENT:\n            std::cout << "CTRL+C pressed. Cleaning up and exiting..." << std::endl;\n            // Perform cleanup here if necessary.\n            return TRUE;  // Block default termination\n        default:\n            return FALSE;\n    }\n}\n\nint main() {\n    if (SetConsoleCtrlHandler(ConsoleHandler, TRUE)) {\n        std::cout << "Control handler is installed." << std::endl;\n    } else {\n        std::cerr << "Failed to install control handler." << std::endl;\n        return 1;\n    }\n\n    // Simulate long-running process\n    for (;;) {\n        std::this_thread::sleep_for(std::chrono::seconds(1));\n    }\n\n    return 0;\n}