#include <windows.h>\n#include <stdio.h>\n\nBOOL IsBufferEmpty(HANDLE hPipe) {\n    DWORD bytesAvail, bytestXfer;\n    char buffer[1];\n\n    if (hPipe == INVALID_HANDLE_VALUE) {\n        return TRUE; // Handle is invalid, so consider the buffer empty.\n    }\n\n    if (!PeekNamedPipe(hPipe, buffer, sizeof(buffer), &bytesAvail, NULL, &bytestXfer)) {\n        DWORD error = GetLastError();\n        if (error != ERROR_PIPE_BUSY) {\n            printf("Error in PeekNamedPipe: %lu\n", error);\n            return TRUE; // Error occurred, assume empty.\n        }\n    }\n\n    return bytesAvail == 0;\n}\n\nint main() {\n    HANDLE hPipe = CreateFile(\n        TEXT("\\\\.\\pipe\\yourpipename"),   // Pipe name\n        GENERIC_READ,                     // Access modes\n        0,                                // No sharing\n        NULL,                             // Default security attributes\n        OPEN_EXISTING,                    // Opens existing pipe\n        0,                                // Default attributes\n        NULL                              // No template file\n    );\n\n    if (hPipe == INVALID_HANDLE_VALUE) {\n        printf("Could not open pipe. Error: %lu\n", GetLastError());\n        return 1;\n    }\n\n    if (IsBufferEmpty(hPipe)) {\n        printf("Buffer is empty.\n");\n    } else {\n        printf("Data is available in the buffer.\n");\n    }\n\n    CloseHandle(hPipe);\n    return 0;\n}