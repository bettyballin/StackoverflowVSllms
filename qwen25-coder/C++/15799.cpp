#include <cmath>\n#include <limits>\n\ndouble log_subtract(double x, double y) {\n    if (x == std::numeric_limits<double>::infinity()) return x; // exp(inf) - anything is inf\n    if (y == std::numeric_limits<double>::infinity()) return -std::numeric_limits<double>::infinity(); // exp(anything) - exp(inf) is 0\n\n    double max_val = std::max(x, y);\n    double min_val = std::min(x, y);\n\n    // Ensure we are subtracting a smaller number from a larger one:\n    if (x < y) return -std::numeric_limits<double>::infinity(); // log(exp(y) - exp(x)) is undefined for x < y due to negativity\n\n    return max_val + log1p(-exp(min_val - max_val));\n}