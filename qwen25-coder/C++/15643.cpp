#include "mex.h"\n#include <windows.h>\n\nvoid mexFunction(int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[]) {\n    HANDLE hMapFile;\n    LPCTSTR pBuf;\n\n    // Open the existing file mapping object.\n    hMapFile = OpenFileMapping(\n                        FILE_MAP_ALL_ACCESS,   // read/write access\n                        FALSE,\n                        szName);\n\n    if (hMapFile == NULL) {\n        mexErrMsgIdAndTxt("MATLAB:memorymap","Could not open file map.\n");           \n    }\n\n    // Get a pointer to the file-mapped shared memory.\n    pBuf = (LPTSTR) MapViewOfFile(hMapFile,   // handle to map object\n                                   FILE_MAP_ALL_ACCESS, // read/write permission\n                                   0,\n                                   0,\n                                   BUFSIZE);\n\n    if (pBuf == NULL) {\n        mexErrMsgIdAndTxt("MATLAB:memorymap","Could not map view of file.\n");           \n       CloseHandle(hMapFile);\n    }\n\n    // Copy data from the shared memory to MATLAB variable\n    plhs[0] = mxCreateString((char*)pBuf);\n\n    UnmapViewOfFile(pBuf);\n    CloseHandle(hMapFile);\n}