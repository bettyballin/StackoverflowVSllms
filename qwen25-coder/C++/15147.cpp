// Assuming spritewidth, spriteheight, bushwidth, bushheight are defined correctly\n\n// Collision detection\nbool isColliding = (sprite->x < bush->x + bushwidth) &&\n                  (sprite->x + spritewidth > bush->x) &&\n                  (sprite->y < bush->y + bushheight) &&\n                  (sprite->y + spriteheight > bush->y);\n\nif (osl_keys->held.down) {\n    if (!isColliding) {\n        sprite->y += 3;\n    } else {\n        // Align the bottom of the sprite with the top of the bush without overlapping\n        sprite->y = bush->y - spriteheight;\n    }\n}\n\nif (osl_keys->held.up) {\n    if (!isColliding) {\n        sprite->y -= 3;\n    } else {\n        // Align the top of the sprite with the bottom of the bush without overlapping\n        sprite->y = bush->y + bushheight;\n    }\n}\n\nif (osl_keys->held.right) {\n    if (!isColliding) {\n        sprite->x += 3;\n    } else {\n        // Align the right edge of the sprite with the left edge of the bush without overlapping\n        sprite->x = bush->x - spritewidth;\n    }\n}\n\nif (osl_keys->held.left) {\n    if (!isColliding) {\n        sprite->x -= 3;\n    } else {\n        // Align the left edge of the sprite with the right edge of the bush without overlapping\n        sprite->x = bush->x + bushwidth;\n    }\n}