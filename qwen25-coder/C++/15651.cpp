#include <windows.h>\n\nint CreateConsole()\n{\n    AllocConsole();\n    AttachConsole(GetCurrentProcessId());\n\n    // Set the console output to UTF-8\n    SetConsoleOutputCP(CP_UTF8);\n\n    FILE* pFile;\n    freopen_s(&pFile, "CONOUT$", "w", stdout);\n    return 1;\n}\n\nint main()\n{\n    if (!CreateConsole())\n        return -1;\n\n    wprintf(L"%s\n", L"test");\n    printf("This is a test.\n");\n\n    system("pause");\n    FreeConsole();\n\n    return 0;\n}