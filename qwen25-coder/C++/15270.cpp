#include <QApplication>\n#include <QLabel>\n#include <QTextDocument>\n\nint main(int argc, char *argv[]) {\n    QApplication app(argc, argv);\n\n    const QString html = "<pre>foo\tbar</pre>";\n\n    QLabel label;\n    QTextDocument *document = new QTextDocument(&label);\n    label.setDocument(document);\n\n    // Set a custom style sheet\n    document->setDefaultStyleSheet("pre { white-space: pre; font-family: monospace; }");\n\n    // Set the tab stop width (in terms of spaces)\n    document->setDocumentMargin(0);\n    document->documentLayout()->registerHandler(QTextDocument::PreFormat, new QTextObjectInterface(document));\n    QTextOption option;\n    option.setTabStopDistance(4 * QFontMetrics(label.font()).horizontalAdvance(' ')); // 4 spaces\n    document->setDefaultTextOption(option);\n\n    document->setHtml(html);\n    label.adjustSize();\n    label.show();\n\n    return app.exec();\n}