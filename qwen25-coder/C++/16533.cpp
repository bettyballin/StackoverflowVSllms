#include <functional>\n#include <numeric>\n\ntemplate<class Ret, class Iter>\nRet count_permutations(Iter first, Iter last) {\n    std::size_t n = std::distance(first, last);\n    return std::accumulate(std::make_reverse_iterator(&n + 1), \n                           std::make_reverse_iterator(&n - n),\n                           Ret{1},\n                           std::multiplies<Ret>());\n}