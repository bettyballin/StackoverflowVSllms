#include <windows.h>\n#include <pwinbase.h> // For SYSTEM_POWER_CAPABILITIES\n#include <iostream>\n\nbool IsOnACPower() {\n    SYSTEM_POWER_CAPABILITIES spc;\n    if (GetPwrCapabilities(&spc)) {\n        return spc.ACLineStatus == 1; // TRUE means on AC power\n    }\n    std::cerr << "Failed to get power capabilities" << std::endl;\n    return false;\n}\n\nint main() {\n    if (IsOnACPower()) {\n        std::cout << "The system is running on AC power." << std::endl;\n    } else {\n        std::cout << "The system is not running on AC power." << std::endl;\n    }\n    return 0;\n}