#include <windows.h>\n\n// Declare function pointers for the functions you want to expose from other DLLs\ntypedef int (*MyFunctionType)();\n\nHMODULE hFirstDll = NULL;\nMyFunctionType MyFunctionFromFirstDll = NULL;\n\nBOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)\n{\n    switch (fdwReason)\n    {\n        case DLL_PROCESS_ATTACH:\n            // Load other DLLs\n            hFirstDll = LoadLibrary(TEXT("first.dll"));\n            if (hFirstDll) {\n                MyFunctionFromFirstDll = reinterpret_cast<MyFunctionType>(GetProcAddress(hFirstDll, "MyFunction"));\n                if (!MyFunctionFromFirstDll) {\n                    FreeLibrary(hFirstDll);\n                    return FALSE;\n                }\n            } else {\n                return FALSE;\n            }\n            break;\n\n        case DLL_PROCESS_DETACH:\n            // Free loaded DLLs\n            if (hFirstDll) {\n                FreeLibrary(hFirstDll);\n            }\n            break;\n    }\n    return TRUE;  // Successful DLL_PROCESS_ATTACH.\n}\n\nextern "C" __declspec(dllexport) int CallMyFunctionFromFirstDll()\n{\n    if (MyFunctionFromFirstDll) {\n        return MyFunctionFromFirstDll();\n    } else {\n        // Handle error: function could not be loaded\n        return -1;\n    }\n}