#ifndef REPLACE_ALL_H_\n#define REPLACE_ALL_H_\n\n#include <string>\n\ntemplate <class T>\nT replace_all(\n        const T &search,\n        const T &replace,\n        const T &subject) {\n    T result;\n\n    typename T::size_type done = 0;\n    typename T::size_type pos;\n    while ((pos = subject.find(search, done)) != T::npos) {\n        result.append(subject, done, pos - done);\n        result.append(replace);\n        done = pos + search.size();\n    }\n    result.append(subject, done, subject.max_size());\n    return result;\n}\n\n#endif // REPLACE_ALL_H_