#include <stdio.h>\n#include <stdlib.h>\n#include <poppler-cpp/poppler-document.h>\n#include <poppler-cpp/poppler-page.h>\n\nint main(int argc, char *argv[]) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <filename>\n", argv[0]);\n        return 1;\n    }\n\n    const char* filename = argv[1];\n    poppler::document* doc = poppler::document::load_from_file(filename);\n\n    if (!doc || doc->is_locked()) {\n        fprintf(stderr, "Failed to load PDF document.\n");\n        delete doc;\n        return 1;\n    }\n\n    int num_pages = doc->pages();\n    for (int i = 0; i < num_pages; ++i) {\n        poppler::page* page = doc->create_page(i);\n        printf("%s\n", page->text().c_str());\n        delete page;\n    }\n\n    delete doc;\n\n    return 0;\n}