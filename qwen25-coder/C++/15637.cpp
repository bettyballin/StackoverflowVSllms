#include <winsock2.h>\n#include <ws2tcpip.h>\n\nint flushSocket(SOCKET sock) {\n    u_long mode = 1;\n    // Disable socket send operations\n    if (ioctlsocket(sock, FIONBIO, &mode) != NO_ERROR) {\n        return -1; // Handle error\n    }\n\n    // Flush pending writes\n    DWORD bytesFlushed;\n    if (WSAIoctl(sock, SIO_FLUSH, NULL, 0, NULL, 0, &bytesFlushed, NULL, NULL) == SOCKET_ERROR) {\n        int err = WSAGetLastError();\n        return -err; // Handle error code appropriately\n    }\n\n    return 0; // Success\n}