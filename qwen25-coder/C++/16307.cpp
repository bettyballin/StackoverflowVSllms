#include <iostream>\n#include <GL/glut.h>\n#include "ImageProcessor.h"\n#include "BitmapImage.h"\n\nusing namespace std;\n\nvoid InitGL();\nvoid Reshape(int newWidth, int newHeight);\nvoid Display(void);\nvoid HandleMenuInput();\n\nBitmapImage* b = nullptr;\nImageProcessor ip;\n\nint main(int argc, char *argv[]) {\n    // Initialize GLUT and OpenGL in the main thread\n    glutInit(&argc, argv);\n    glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH);\n    glutInitWindowSize(800, 600);\n    glutCreateWindow("OpenGL Image Display");\n\n    b = new BitmapImage();\n    InitGL();\n\n    // Set up GLUT callbacks\n    glutDisplayFunc(Display);\n    glutReshapeFunc(Reshape);\n    glutIdleFunc(HandleMenuInput); // Use idle function to check for input\n\n    glutMainLoop(); // Start the OpenGL event loop\n    return 0;\n}\n\nvoid InitGL() {\n    glClearColor(0.0, 0.0, 0.0, 1.0);\n    glEnable(GL_DEPTH_TEST);\n}\n\nvoid Reshape(int newWidth, int newHeight) {\n    glViewport(0, 0, newWidth, newHeight);\n}\n\nvoid Display(void) {\n    if (b != nullptr && b->IsLoaded()) { // Ensure bitmap is loaded\n        glClear(GL_COLOR_BUFFER_BIT);\n        b->Draw();\n        glutSwapBuffers();\n    }\n}\n\n// Handle user input in the idle function\n// This checks for input and updates the image accordingly\nvoid HandleMenuInput() {\n    static bool waitingForInput = true;\n    if (waitingForInput) {\n        char choice;\n        string path = "TestImages\\";\n        string filename;\n\n        cout << "Enter filename: ";\n        cin >> filename;\n        path += filename;\n\n        delete b; // Free previous BitmapImage object\n        b = new BitmapImage(path);\n\n        waitingForInput = false;\n    } else {\n        char input;\n        if (cin.peek() != '\n' && !cin.eof()) { // Check for available input\n            cin >> input;\n            switch (input) {\n                case '1':\n                    ip.InvertColour(*b);\n                    break;\n                case '2':\n                    ip.LineThinning(*b);\n                    break;\n            }\n            glutPostRedisplay(); // Request a redraw\n        } else if (!cin.fail()) { // Wait for next input\n            waitingForInput = true; // Ready to accept new filename\n        }\n    }\n}