int CMyPane::OnCreate(LPCREATESTRUCT lpCreateStruct)\n{\n    CDockablePane::OnCreate(lpCreateStruct);\n\n    if (m_toolBar.Create(this, AFX_DEFAULT_TOOLBAR_STYLE, IDR_MY_TOOLBAR) &&\n        m_toolBar.LoadToolBar(IDR_MY_TOOLBAR))\n    {\n        // Create a image list from the bitmap resource\n        CMFCToolBarButtonImage imageSet;\n        imageSet.SetImageSize(CSize(24, 24));\n        il.CreateFromImage(IDB_MY_TOOLBAR_24, RGB(255, 0, 255), (UINT)-1);\n\n        // Set the image list to the toolbar\n        m_toolBar.SetImages(&imageSet);\n\n        if (theApp.m_bHiColorIcons)\n        {\n            m_toolBar.CleanUpLockedImages();\n            m_toolBar.LoadBitmap(IDB_MY_TOOLBAR_24, 0, 0, TRUE);\n        }\n\n        m_toolBar.SetPaneStyle(m_toolBar.GetPaneStyle() | CBRS_TOOLTIPS | CBRS_FLYBY);\n        m_toolBar.SetPaneStyle(m_toolBar.GetPaneStyle() & ~(CBRS_GRIPPER | CBRS_SIZE_DYNAMIC | CBRS_BORDER_TOP | CBRS_BORDER_BOTTOM | CBRS_BORDER_LEFT | CBRS_BORDER_RIGHT));\n\n        m_toolBar.SetOwner(this);\n        m_toolBar.SetRouteCommandsViaFrame(FALSE);\n    }\n\n    return 0;\n}