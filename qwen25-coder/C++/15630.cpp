#include <windows.h>\n#include <winhttp.h>\n#include <stdio.h>\n\n#pragma comment(lib, "winhttp.lib")\n\nvoid PrintProxySettings() {\n    WINHTTP_CURRENT_USER_IE_PROXY_CONFIG config;\n    if (WinHttpGetIEProxyConfigForCurrentUser(&config)) {\n        printf("Auto-detect: %s\n", (config.fAutoDetect ? "True" : "False"));\n        if (config.lpszAutoConfigUrl != NULL) {\n            printf("Auto-config URL: %s\n", config.lpszAutoConfigUrl);\n        }\n        if (config.lpszProxy != NULL) {\n            printf("Proxy: %s\n", config.lpszProxy);\n        }\n        if (config.lpszProxyBypass != NULL) {\n            printf("Proxy bypass: %s\n", config.lpszProxyBypass);\n        }\n\n        // Free the memory.\n        if (config.lpszAutoConfigUrl)\n            GlobalFree(config.lpszAutoConfigUrl);\n\n        if (config.lpszProxy)\n            GlobalFree(config.lpszProxy);\n\n        if (config.lpszProxyBypass)\n            GlobalFree(config.lpszProxyBypass);\n    } else {\n        printf("Failed to get IE proxy config for current user.\n");\n    }\n}\n\nint main() {\n    PrintProxySettings();\n    return 0;\n}