// Disable the submit button when starting the AJAX calls\n$(document).on("click", "#submitButton", function() {\n    var $button = $(this);\n    $button.prop("disabled", true); // Disable button\n\n    var deferreds = [];\n\n    $("input:checked").parent("form").each(function(index) {\n        var rowNum = index; // Assuming the row number can be derived like this or adjust accordingly\n        var amt = $('#XAmt' + rowNum).val();\n        var xId = $('#XId' + rowNum).val();\n        var xNum = $('#XNumber' + rowNum).val();\n        \n        var queryString = "xAmt=" + encodeURIComponent(amt) + "&xNumber=" + encodeURIComponent(xNum) + "&xId=" + encodeURIComponent(xId);\n\n        // Start loading spinner or animation\n        $('#coda_' + rowNum).removeClass("loader").addClass("loading");\n\n        // Store the AJAX deferred object in an array\n        deferreds.push($.ajax({\n            url: "x.asp",\n            cache: false,\n            type: "POST",\n            data: queryString,\n            success: function(html) {\n                $('#result_' + rowNum).empty().append(html);\n                // Stop loading spinner or animation\n                $('#coda_' + rowNum).removeClass("loading").addClass("loader");\n            },\n            error: function() {\n                console.error('AJAX call failed for row:', rowNum);\n            }\n        }));\n    });\n\n    // When all AJAX calls are complete, enable the submit button\n    $.when.apply(null, deferreds).done(function() {\n        $button.prop("disabled", false); // Re-enable button on completion of all requests\n    }).fail(function() {\n        console.error('One or more AJAX calls failed.');\n        $button.prop("disabled", false); // Ensure to re-enable the button even if some fail\n    });\n});