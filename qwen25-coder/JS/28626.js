<script type="text/javascript">\n    // Initial data embedded in the page\n    var products = <%= GetProductsAsJson() %>; // Assume GetProductsAsJson method serializes product data to JSON\n\n    function checkInventory(product, size) {\n        // Check initial client-side data first\n        for (var i = 0; i < products.length; i++) {\n            if (products[i].Color === product.Color && products[i].Size === size) {\n                updateUI(products[i]);\n                return;\n            }\n        }\n\n        // Fallback to server call if not found in initial data (e.g., new sizes/colors added)\n        $.ajax({\n            type: "POST",\n            url: "InventoryLookupHandler.ashx",\n            data: { color: product.Color, size: size },\n            dataType: "json",\n            success: function(response) {\n                updateUI(response);\n            },\n            error: function(xhr, status, error) {\n                console.error("Error fetching inventory:", status, error);\n            }\n        });\n    }\n\n    function updateUI(productData) {\n        // Update UI with product data\n    }\n</script>