$(document).ready(function () {\n    var status = "before";\n    alert("before:" + status);\n\n    $('#week_tag').click(function () {\n        if (status == "before") {\n            alert("afterclick:" + status);\n            var form_date_set = $("input[name='date_set']").val();\n\n            $.post("/tortus/index.php/daylog/build_summary",\n                { date_set: form_date_set },\n                function (html) {\n                    $("#week_summary").html(html);\n\n                    // Update the existing status variable\n                    status = "after";\n                    alert("inside callback after:" + status);\n                });\n        }\n\n        $('#week_summary').toggle('blind');\n\n        alert("outside callback after:" + status);\n    });\n});