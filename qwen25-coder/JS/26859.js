function AjaxRequest(p_RequestMethod, p_DestinationURL) {\n    this.XMLHttpRequestObject = GetXMLHttpRequestObject();\n\n    this.RequestedMethod = p_RequestMethod.toUpperCase(); // Ensure method is uppercase\n    this.DestinationURL = p_DestinationURL;\n\n    this.XMLHttpRequestObject.open(this.RequestedMethod, this.DestinationURL);\n\n    this.OnStateChange = function(Callback) {\n        this.XMLHttpRequestObject.onreadystatechange = Callback;\n    }\n\n    this.Send = function(p_Content) {\n        if (this.RequestedMethod === 'POST') {\n            // Set the request header for POST requests\n            this.XMLHttpRequestObject.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        }\n        this.XMLHttpRequestObject.send(p_Content);\n    }\n\n    this.GetState = function() {\n        return this.XMLHttpRequestObject.readyState;\n    }\n\n    this.GetResponseText = function() {\n        return this.XMLHttpRequestObject.responseText;\n    }\n\n    this.GetResponseStatus = function() {\n        return this.XMLHttpRequestObject.status;\n    }\n\n    this.GetResponseStatusText = function() {\n        return this.XMLHttpRequestObject.statusText;\n    }\n}\n\nfunction GetData() {\n    var content = document.querySelector('textarea').value; // Get the text from textarea\n    Request = new AjaxRequest('POST', 'http://www.kalekold.net/ajax/Ajax.php');\n    Request.OnStateChange(StateChange);\n    Request.Send(content); // Send the content of the textarea\n}\n\nfunction StateChange() {\n    window.alert("State: " + Request.GetState());\n    window.alert("Response: " + Request.GetResponseStatus());\n    window.alert("Response Text: " + Request.GetResponseStatusText());\n\n    if(Request.GetState() == COMPLETE && Request.GetResponseStatus() == OK) {\n        Result = Request.GetResponseText();\n        window.alert(Result);\n    }\n}