$(document).ready(function() {\n    // Function to get messages and update the chat div every 3 seconds\n    function getMessages() {\n        $.ajax({\n            url: 'messages.php',\n            success: function(data) {\n                $('#chat').html(data);\n                setTimeout(getMessages, 3000); // Refresh every 3000 milliseconds (3 seconds)\n            },\n            error: function() {\n                console.error("Error loading messages.");\n            }\n        });\n    }\n\n    // Call getMessages initially\n    getMessages();\n\n    // Function to add a new message\n    $('#submit-button-id').click(function(event) {\n        event.preventDefault(); // Prevent form submission if using a button inside a form\n\n        $.ajax({\n            url: 'add.php',\n            method: 'POST',\n            data: $('#chatmessage').serialize(),\n            success: function() {\n                $('#messagetext').val(''); // Clear the input field after successful addition\n            },\n            error: function() {\n                console.error("Error adding message.");\n            }\n        });\n    });\n});