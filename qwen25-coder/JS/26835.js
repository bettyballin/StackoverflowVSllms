const express = require('express');\nconst app = express();\nconst fs = require('fs');\nconst path = require('path');\n\napp.use((req, res, next) => {\n    let oldWrite = res.write;\n    let oldEnd = res.end;\n\n    const chunks = [];\n\n    res.write = function (chunk) {\n        chunks.push(new Buffer(chunk));\n        return oldWrite.apply(res, arguments);\n    };\n\n    res.end = function (chunk) {\n        if (typeof chunk !== 'undefined')\n            chunks.push(new Buffer(chunk));\n\n        let body = Buffer.concat(chunks).toString('utf8');\n        \n        // Check if the response is HTML\n        if (res.getHeader('Content-Type') && res.getHeader('Content-Type').includes('text/html')) {\n            const pos = body.lastIndexOf('</body>');\n            if (pos !== -1) {\n                body = body.substring(0, pos) + '<script src="your-script.js"></script>' + body.substring(pos);\n            }\n        }\n\n        oldEnd.call(res, body);\n    };\n\n    next();\n});\n\napp.get('/', function (req, res) {\n    res.sendFile(path.join(__dirname, 'index.html'));\n});\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => console.log(`Server is listening on port ${port}`));