// Generate a CSRF token upon page load and store it in a meta tag or variable\nvar csrf_token = '<?= $token ?>'; // Assume you generate a token in your PHP\n\nfunction castVote(itemID, direction) {\n    $.ajax({\n        url: '/vote.php',\n        type: 'POST',\n        data: { item_id: itemID, vote: direction, user_id: <?php echo $_SESSION['user_id']; ?>, csrf_token: csrf_token },\n        dataType: 'json',\n        success: function(response) {\n            if (response.success) {\n                // Update the UI to reflect the new vote count\n                console.log('Vote successful');\n            } else {\n                alert('Error in voting: ' + response.message);\n            }\n        },\n        error: function() {\n            alert('An error occurred while casting your vote.');\n        }\n    });\n}