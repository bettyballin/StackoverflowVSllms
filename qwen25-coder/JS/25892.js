jQuery.validator.addMethod("duplicate", function(value, element, params) {\n    var defer = $.Deferred();\n    var object_settings = this.settings;\n    params.data[$(element).attr("name")] = value;\n\n    $.post(params.url, params.data, function(response) {\n        if (response === 'true') {\n            defer.resolve(true);\n        } else {\n            object_settings.messages[element.name] = { duplicate: response };\n            defer.reject();\n        }\n    }, 'text');\n\n    return defer.promise();\n}, "Duplicate check in progress"); // Initial default message