$(document).ready(function() {\n    var isConfirmed = false;\n\n    $('form').on('submit', function(event) {\n        if (!isConfirmed) {\n            event.preventDefault(); // Prevent default form submission\n\n            // Perform AJAX request\n            $.ajax({\n                url: $(this).attr('action'),\n                method: $(this).attr('method'),\n                data: new FormData(this),\n                processData: false,\n                contentType: false,\n                success: function(response) {\n                    if (confirm(response.message)) { // Assuming response contains a message to confirm\n                        isConfirmed = true; // Set flag to true indicating user confirmed\n                        $('form').off('submit'); // Remove the submit event handler\n                        setTimeout(function() { \n                            $('form').get(0).submit(); // Trigger standard form submission\n                        }, 1); // Use setTimeout to ensure it bypasses current stack\n                    }\n                },\n                error: function(xhr, status, error) {\n                    console.error("AJAX Error: " + status + error);\n                }\n            });\n        }\n    });\n});