let lastMessageTime = Date.now();\n\nfunction checkHeartbeat() {\n    if (Date.now() - lastMessageTime > 58 * 1000) { // 58 seconds to be safe\n        sendKeepAliveData();\n    }\n}\n\nfunction sendKeepAliveData() {\n    // Send a low-bandwidth keep-alive message, e.g., a simple JSON object\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', '/keepalive');\n    xhr.send(JSON.stringify({ type: 'heartbeat' }));\n}\n\nsetInterval(checkHeartbeat, 10 * 1000); // Check every 10 seconds