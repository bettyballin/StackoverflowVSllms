function checkForTrayApp() {\n    var timeout, started = Date.now();\n    \n    // Create hidden iframe\n    var iframe = document.createElement('iframe');\n    \n    // Attempt to navigate using custom protocol\n    iframe.src = 'trayapp://check-installed';\n\n    document.body.appendChild(iframe);\n\n    // Function to detect if the iframe is loaded or not after a timeout\n    function checkIframeResponse() {\n        clearTimeout(timeout);\n        \n        var duration = Date.now() - started;\n        console.log('Duration:', duration);\n\n        if (duration < 10 ) { // If time taken very small, it's likely that protocol handler opened the app. Adjust this threshold.\n            console.log('TrayApp is installed.');\n            return true; // Application is installed\n        } else {\n            console.log('TrayApp is not installed or failed to open.');\n            return false; // Application might not be installed or handling failed (redirected to browser as plain URL)\n        }\n    }\n\n    timeout = setTimeout(checkIframeResponse, 50); // Give the iframe some time before assuming failure\n\n    // Optionally remove iframe after a certain amount of time\n    setTimeout(function() {\n        document.body.removeChild(iframe);\n        checkIframeResponse();\n    }, 500);\n\n    return false; // Initially assumed not installed until iframe loading is checked.\n}\n\n// Call function to check and log the result.\nif (checkForTrayApp()) {\n    console.log('Proceed with calling trayapp:// URLs');\n} else {\n    console.log('Please install or enable Tray App.');\n}