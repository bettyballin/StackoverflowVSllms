$(document).ready(function() {\n    var messageInput = $('#yourTextBoxId'); // Replace with your textbox ID\n\n    function saveCaretPosition(input) {\n        if ("selectionStart" in input && document.activeElement === input) {\n            return { start: input.selectionStart, end: input.selectionEnd };\n        }\n        else if (document.selection) { // For Internet Explorer\n            var range = document.selection.createRange();\n            try {\n                var selLength = document.selection.createRange().text.length;\n                range.moveStart('character', -input.value.length);\n                return { start: range.text.length - selLength, end: range.text.length };\n            }\n            catch (e) { // In case the input is read-only\n                return { start: 0, end: 0 };\n            }\n        }\n    }\n\n    function restoreCaretPosition(input, position) {\n        if (!position || !input) return;\n        if ("selectionStart" in input && document.activeElement === input) {\n            input.selectionStart = position.start;\n            input.selectionEnd   = position.end;\n        }\n        else if (document.selection && input.createTextRange) { // For Internet Explorer\n            var range = input.createTextRange();\n            range.collapse(true);\n            range.moveStart("character", position.start);\n            range.moveEnd("character", position.end - position.start);\n            range.select();\n        }\n    }\n\n    function fetchData() {\n        var currentCaretPosition = saveCaretPosition(messageInput[0]);\n        $.ajax({\n            url: 'your-url', // Replace with your URL\n            type: 'GET',\n            success: function(response) {\n                // Update your divs here\n                messageInput.focus();\n                restoreCaretPosition(messageInput[0], currentCaretPosition);\n            }\n        });\n    }\n\n    setInterval(fetchData, 2000); // Fetch data every 2 seconds\n});