// Import tweetnacl.js from https://cdn.jsdelivr.net/npm/tweetnacl@1.0.3/\nconst nacl = require('tweetnacl');\n\nfunction generateKeyPair() {\n    // Generate key pair for user\n    return nacl.sign.keyPair();\n}\n\nfunction encrypt(plainText, publicKey) {\n    // Encrypt data with the recipient's public key\n    return nacl.box(\n        nacl.util.encodeUTF8(plainText),\n        nacl.randomBytes(nacl.box.nonceLength),\n        publicKey,\n        nacl.sign_keyPair().secretKey // This should be a generated shared secret between sender and receiver\n    );\n}\n\nfunction decrypt(boxed, nonce, privateKey) {\n    // Decrypt data with the recipient's private key\n    const message = nacl.box.open(boxed, nonce, publicKeyOfSender, privateKey);\n    return message ? nacl.util.decodeUTF8(message) : null;\n}