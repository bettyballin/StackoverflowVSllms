function updateField(data, operationType) {\n    $.ajax({\n        type: "POST",\n        url: "./server", // Use the same URL or differentiate based on operationType\n        data: {\n            name: data.fieldname,\n            sequenceno: data.sequenceno,\n            operation: operationType // New parameter to indicate operation type\n        },\n        success: function (msg) {\n            // Handle success for both insert and update\n        }\n    });\n}\n\n// For initial insertion\n$(".TextFieldSettings #fieldTitle").change(function () {\n    var fieldname = $(".TextFieldSettings #fieldTitle").val();\n    var data = {\n        fieldname: fieldname,\n        sequenceno: counter\n    };\n    updateField(data, 'insert');\n});\n\n// For updating fields after clicking on the display panel\n$("#displayPanel div").live("click", function () {\n    var div_id = $(this).attr("id");\n\n    var htm = $.ajax({\n        type: "GET",\n        url: "./getattributes/" + div_id,\n        async: false\n    }).responseText;\n    var myObject = eval('(' + htm + ')');\n\n    gettype = myObject.attributes[0]["type"];\n    getlabel = myObject.attributes[0]["labels"];\n    getsize = myObject.attributes[0]["size"];\n\n    if (gettype === 'Text') {\n        $(".TextFieldSettings").show(function () {\n            $(".TextFieldSettings #fieldTitle").val(getlabel);\n\n            // Set size options\n            if (getsize === '100') {\n                $("#fieldSize option:contains(Small)").attr("selected", true);\n            } else if (getsize === '200') {\n                $("#fieldSize option:contains(Medium)").attr("selected", true);\n            } else {\n                $("#fieldSize option:contains(Large)").attr("selected", true);\n            }\n\n            // Change fieldname\n            $(".TextFieldSettings #fieldTitle").change(function () {\n                var fieldname = $(".TextFieldSettings #fieldTitle").val();\n                var data = {\n                    fieldname: fieldname,\n                    sequenceno: div_id\n                };\n                updateField(data, 'update');\n            });\n        });\n    }\n});