$(function() {\n    function loadTable() {\n        $.ajax({\n            url: "place/place_list.php",\n            cache: false,\n            success: function(html) {\n                $("#place_container").html(html);\n                // Rebind events to new elements\n                bindEvents();\n            }\n        });\n    }\n\n    function bindEvents() {\n        $(".edit").on("click", function() {\n            const row = $(this).closest('tr');\n            row.find('.edit, .delete').hide().\n                prevAll('.place_name').hide().\n                prevAll('.inputfield_td').show().\n                nextAll('.cancel, .save').show();\n        });\n\n        $(".cancel").on("click", function() {\n            const row = $(this).closest('tr');\n            row.find('.cancel, .save').hide().\n                prevAll('.edit').show().\n                prevAll('.place_name').show().\n                prevAll('.inputfield_td').hide();\n        });\n\n        $(".save").on("click", function() {\n            const row = $(this).closest('tr');\n            var myvariable1 = row.find(".inputfield_place").val();\n            var myvariable2 = row.find('.inputfield_td').attr('id').replace('inputfield_td_', '');\n\n            $.post("place/place_list.php", {action: "edit", name: myvariable1, id: myvariable2}, function() {\n                row.find('[class*=td]').each(function() {\n                    $(this).html('').hide();\n                });\n                row.find('.place_name').text(myvariable1).show().\n                    nextAll('.edit').show().\n                    nextAll('delete').show().prevAll('.cancel, .save').hide();\n            });\n        });\n\n        $(".delete").on("click", function() {\n            const row = $(this).closest('tr');\n            var myvariable3 = row.find('.inputfield_td').attr('id').replace('inputfield_td_', '');\n\n            $.post("place/place_list.php", {action: "delete", id: myvariable3}, function() {\n                row.remove();\n            });\n        });\n\n        $(".new").on("click", function() {\n            var myvariable4 = $('.inputfield_visible').val();\n            if (myvariable4) {\n                $.post("place/place_list.php", {action: "new", name: myvariable4}, loadTable);\n            }\n        });\n    }\n\n    bindEvents(); // Initialize event bindings\n    loadTable(); // Load the table on document ready\n});