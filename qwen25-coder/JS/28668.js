const negotiator = require('negotiator');\n\n  app.get('/resource', (req, res) => {\n      const accept = req.headers.accept;\n      const n = new negotiator(req);\n      const type = n.mediaType(['application/json', 'text/xml']);\n      \n      if (type === 'application/json') {\n          res.json({ message: 'This is JSON' });\n      } else if (type === 'text/xml') {\n          res.type('xml').send('<message>This is XML</message>');\n      }\n  });