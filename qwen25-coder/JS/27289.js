$(document).ready(function() {\n    var didScroll = false;\n    var lastScrollTop = 0;\n\n    // Throttle function to limit the rate at which the scroll handler fires your function.\n    function debounce(func, wait) {\n        let timeout;\n\n        return function executedFunction(...args) {\n            const later = () => {\n                clearTimeout(timeout);\n                func(...args);\n            };\n\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    }\n\n    // Your scroll logic\n    function onScroll() {\n        didScroll = true;\n    }\n\n    $(window).on('scroll', debounce(onScroll, 100));\n\n    setInterval(function () {\n        if (didScroll) {\n            didScroll = false;\n\n            var st = $(this).scrollTop();\n            \n            // Compare with lastScrollTop to determine the scroll direction and position.\n            if (st > lastScrollTop){\n                // downscroll code\n                console.log('downscroll');\n            } else {\n                // upscroll code\n                console.log('upscroll');\n            }\n            lastScrollTop = st;\n        }\n    }, 50);\n});