$(document).ready(function() {\n  $('.selected').click(function(e) {\n    e.stopPropagation();\n    $('.options').slideToggle();\n  });\n\n  $(document).click(function() {\n    $('.options').slideUp();\n  });\n\n  $('.options li').click(function(e) {\n    e.stopPropagation();\n    var childUl = $(this).find('ul');\n    if (childUl.length > 0) {\n      childUl.slideToggle();\n    } else {\n      alert('Selected: ' + $(this).text());\n    }\n  });\n});