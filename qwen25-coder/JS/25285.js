const express = require('express');\nconst bodyParser = require('body-parser');\nconst createDOMPurify = require('dompurify');\nconst { JSDOM } = require('jsdom');\n\n// Set up DOM for server-side sanitization\nconst window = new JSDOM('').window;\nconst DOMPurify = createDOMPurify(window);\n\nconst app = express();\napp.use(bodyParser.json());\n\n// Function to validate URLs against whitelist and generate embed code\nfunction generateEmbedCode(url) {\n    // Example regex pattern: Allows embedding YouTube and Google Maps iframe URLs only\n    const youtubePattern = /^https:\/\/www\.youtube\.com\/embed\/[a-zA-Z0-9_-]+$/;\n    const googleMapsPattern = /^https:\/\/www\.google\.com\/maps\/embed\?.+/;\n\n    if (youtubePattern.test(url)) {\n        return `<iframe width="560" height="315" src="${url}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;\n    } else if (googleMapsPattern.test(url)) {\n        // Further sanitization for Google Maps can be added here\n        return `<iframe width="600" height="450" src="${url}" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>`;\n    }\n    \n    throw new Error('Invalid URL');\n}\n\napp.post('/embed', (req, res) => {\n    const url = req.body.url;\n    try {\n        let embedCode = generateEmbedCode(url);\n        // Sanitize the generated embed code for safety\n        const safeEmbedCode = DOMPurify.sanitize(embedCode);\n        res.json({ success: true, embed_code: safeEmbedCode });\n    } catch (error) {\n        res.json({ success: false, error: 'Invalid URL provided.' });\n    }\n});\n\napp.listen(3000, () => console.log('Server running on port 3000'));