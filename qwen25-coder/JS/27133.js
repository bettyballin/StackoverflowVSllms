document.observe("dom:loaded", function() {\n  resizeIt = function(event) {\n    var textarea = event.target;\n    var lines = textarea.value.split('\n');\n    var lineCount = Math.max(lines.length, 1);\n\n    // Calculate the number of lines needed for long lines that exceed cols\n    lines.each(function(line) {\n      lineCount += Math.ceil(line.length / textarea.cols) - 1;\n    });\n\n    textarea.rows = lineCount;\n  };\n\n  $$('textarea#iso_address').each(function(textarea) {\n    textarea.observe('input', resizeIt);\n    textarea.observe('change', resizeIt);\n    // Initial resizing\n    Event.simulate(textarea, 'input');\n  });\n});