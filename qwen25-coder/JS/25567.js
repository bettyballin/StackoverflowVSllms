(function() {\n    var originalOpen = XMLHttpRequest.prototype.open;\n    var originalSend = XMLHttpRequest.prototype.send;\n\n    XMLHttpRequest.prototype.open = function(method, url) {\n        this._method = method;\n        this._url = url;\n        this.addEventListener('readystatechange', handleReadyStateChange, false);\n        originalOpen.apply(this, arguments);\n    };\n\n    XMLHttpRequest.prototype.send = function(data) {\n        // You can modify the data or log it here if needed\n        originalSend.call(this, data);\n    };\n\n    function handleReadyStateChange() {\n        if (this.readyState === 4) { // DONE\n            console.log('Request to:', this._url);\n            console.log('Response status:', this.status);\n            console.log('Response text:', this.responseText);\n\n            // Handle response manipulations here if needed\n        }\n    }\n\n    // IE doesn't use addEventListener, so we need to handle it differently\n    if (typeof window.attachEvent !== 'undefined') {\n        var originalAttachEvent = XMLHttpRequest.prototype.attachEvent;\n\n        XMLHttpRequest.prototype.attachEvent = function(type, listener) {\n            if (type.toLowerCase() === 'onreadystatechange') {\n                this.onreadystatechange = function() {\n                    listener.call(this);\n                    handleReadyStateChange.call(this);\n                };\n            } else {\n                originalAttachEvent.apply(this, arguments);\n            }\n        };\n    }\n})();