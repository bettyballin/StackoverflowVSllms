<script type="text/javascript">\nfunction selectUser(anchor) {\n    // Remove all 'selected' classes from #user_selector child divs\n    var userSelector = document.getElementById('user_selector');\n    var users = userSelector.getElementsByClassName('user');\n    for (var i = 0; i < users.length; i++) {\n        users[i].classList.remove('selected');\n    }\n    \n    // Add 'selected' class to the parent div.user of anchor\n    var userDiv = anchor.parentElement;\n    userDiv.classList.add('selected');\n\n    // Execute the onSelect function with the correct context\n    var onSelectFnString = userSelector.getAttribute('onSelect');\n    if (onSelectFnString) {\n        try {\n            var onSelectFn = new Function(onSelectFnString);\n            onSelectFn.call(userSelector);\n        } catch (e) {\n            console.error("Error executing onSelect function:", e);\n        }\n    }\n}\n</script>