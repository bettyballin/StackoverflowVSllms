$(document).ready(function() {\n    // Store selected items in memory\n    var selectedItems = {};\n\n    // Dropdown change event\n    $('select').change(function() {\n        var $this = $(this);\n        var optionValue = $this.val();\n\n        if (optionValue && !selectedItems.hasOwnProperty(optionValue)) { \n            // Add to the list of selected items\n            selectedItems[optionValue] = $this.find("option[value='" + optionValue + "']").text(); \n\n            // Create a new item in the results list with a remove button\n            $('#selectedIngredients').append($('<li>', {\n                text: selectedItems[optionValue],\n                appendTo: $('<a>', {\n                    href: '#',\n                    html: ' Remove'\n                }).on('click', function(event) { \n                    event.preventDefault();\n                    \n                    // Remove from memory and UI\n                    delete selectedItems[optionValue];\n                    $(this).parent().remove();\n\n                    // Re-enable in dropdown\n                    $this.append($('<option>', {\n                        value: optionValue,\n                        text: selectedItems[optionValue]\n                    }));\n                })\n            }));\n\n            // "Please select" the placeholder again without triggering change event\n            $this.val('');\n        }\n    });\n\n    // Function to refresh dropdown list while keeping 'Please select' on top\n    function updateDropdown(removedItem) {\n        $('select').empty().append($('<option>', { \n            value: "",\n            text: "Please select"\n        }));\n\n        var options = [];\n        \n        // Create array of remaining options\n        $('select option[value!=""]').each(function() {\n            options.push({val: $(this).val(), txt: $(this).text()});\n        });\n        \n        // Sort array ignoring the case and reconstruct dropdown\n        options.sort((a, b) => a.txt.toLowerCase().localeCompare(b.txt.toLowerCase())).forEach(function(item) {\n            $('select').append($('<option>', { \n                value: item.val,\n                text: item.txt\n            }));\n        });\n\n        if (removedItem) {\n            // Append the removed item and sort again\n            options.push({val: removedItem.value, txt: removedItem.text});\n            \n            options.sort((a, b) => a.txt.toLowerCase().localeCompare(b.txt.toLowerCase())).forEach(function(item) {\n                $('select').append($('<option>', { \n                    value: item.val,\n                    text: item.txt\n                }));\n            });\n        }\n    }\n\n    // Button to submit selected items (trigger search)\n    $('#submitSearch').click(function() {\n        console.log('Selected Items:', selectedItems);\n        \n        // Navigate to results page with query parameter(s)\n        // window.location.href = 'results.php?' + $.param(selectedItems); \n        // Example: results.php?beef-mince=Beef+mince&carrots=Carrots\n\n        // Clear state for new search\n        selectedItems = {};\n    });\n});