$(document).ready(function() {\n    // List of labels to choose from\n    const labelList = ['Work', 'Personal', 'Promotions', 'Social'];\n\n    // Append options to select element\n    $.each(labelList, function(index, value) {\n        $('#labels').append($('<option>', { value: index, text : value }));\n    });\n\n    // Initialize Select2\n    $('#labels').select2({\n        placeholder: "Select labels",\n        allowClear: true,\n        matcher: function(params, data) {\n            if (data.params.term == null || $.trim(data.params.term).length === 0) {\n                return data;\n            }\n            // Custom matching logic here, if needed\n            return data;\n        }\n    });\n\n    // Enable search to apply label directly when only one match is found and enter is pressed\n    $('#label-search').on('keypress', function(event){\n        const term = $(this).val();\n        if (event.which == 13) { // press Enter key\n            const matchedLabels = labelList.filter(label => label.toLowerCase().includes(term.toLowerCase()));\n            if (matchedLabels.length === 1) {\n                applyLabel(matchedLabels[0]);\n            }\n        }\n    });\n\n    // Trigger the widget with 'L' key press\n    $(document).on('keydown', function(event){\n        if (event.key === "l" || event.key === "L") {\n            $("#labels").select2("open");\n        }\n    });\n\n    // Event listener for applying labels\n    $('#apply-labels').click(function(){\n        var selectedLabels = $('#labels').val();\n        console.log('Selected labels:', selectedLabels);\n        $.each(selectedLabels, function(index, value){\n            applyLabel(labelList[value]);\n        });\n    });\n\n    // Dummy function to simulate label application\n    function applyLabel(label) {\n        console.log("Applying label: " + label);\n        // Implement your logic here to add the label to the message\n    }\n});