var list = document.getElementById("list");\n   for (var i = 0; i < list.childNodes.length; i++) {\n       if (list.childNodes[i].nodeType === Node.ELEMENT_NODE) { // Check for element node\n           list.childNodes[i].addEventListener("click", foo, false);\n       }\n   }\n\n   function foo() {\n       var index = Array.prototype.indexOf.call(list.children, this); // Use children to avoid text nodes\n       console.log(index);\n   }