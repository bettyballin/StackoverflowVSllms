<script type="text/javascript">\n    $(document).ready(function(){\n        $('#rate_box a').each(function(i) {\n            var $this = $(this); // Store the current jQuery object for use inside click handler\n            $this.click(function(event) {\n                event.preventDefault(); // Prevent any default action of the link\n\n                alert("Index: "+(i+1)); // Adjust if your index should be 1-based\n                \n                $.post("../includes/process/rating.php", {id: "<?php echo htmlspecialchars($game_id); ?>", type: "game", rating: i+1},\n                    function(data) {\n                        $('#rate_box a').off('click'); // Use .off() to unbind all click handlers\n                        $('#status').html(data).fadeIn("normal");\n                });\n            });\n        });\n    });\n</script>