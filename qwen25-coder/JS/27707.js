function GetRecordSet(layer, sql) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', 'get_records.php', true);\n    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");\n    \n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                try {\n                    var response = JSON.parse(xhr.responseText);\n                    fetchComplete(layer, response);\n                } catch (e) {\n                    console.error("Error parsing JSON:", e);\n                }\n            } else {\n                console.error("Request failed. Status:", xhr.status);\n            }\n        }\n    };\n    \n    xhr.send('sql=' + encodeURIComponent(sql));\n}\n\nfunction fetchComplete(layer, data) {\n    if (!data || !Array.isArray(data)) {\n        console.error("Invalid data received");\n        return;\n    }\n\n    var html = [];\n    for (var i = 0; i < data.length; i++) {\n        // Generate HTML here based on your data\n        html.push('<li>' + JSON.stringify(data[i]) + '</li>');\n    }\n    \n    document.getElementById('layer_' + layer).innerHTML = '<ul>' + html.join('\n') + '</ul>';\n}