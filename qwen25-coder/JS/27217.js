window.addEvent('domready', function() {\n    var shouts = "timed.php";\n    var log = $('log_res');\n\n    function updateData(url, target) {\n        log.empty().addClass('ajax-loading').setHTML('<img src="spinner.gif" alt="Loading..." />'); // Add spinner image here\n        new Ajax(url, {\n            method: 'get',\n            onComplete: function(responseText, responseXML) {\n                $(target).empty().adopt(new Element('div').setHTML(responseText)); // Update target with AJAX response data\n                log.removeClass('ajax-loading');\n            }\n        }).request();\n    }\n\n    var update = function() { \n        updateData(shouts, 'log_res'); \n    };\n    update();           // call it immediately\n    update.periodical(10000);   // and then periodically\n});