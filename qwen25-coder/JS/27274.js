$.ajax({\n    type: "post",\n    url: "http://myServer/cgi-bin/broker",\n    dataType: "text",\n    data: {\n        '_service': 'myService',\n        '_program': 'myProgram',\n        'start': start,\n        'end': end\n    },\n    beforeSend: function() {\n        $("#loading").removeClass("hide");\n    },\n    timeout: 5000,\n    error: function(xhr, status, error) { // Include xhr and error as parameters\n        $("#loading").addClass("hide");\n\n        // Log detailed information for debugging\n        console.error("AJAX Error: " + status + "\n" +\n                      "HTTP Status Code: " + xhr.status + "\n" +\n                      "Status Text: " + xhr.statusText + "\n" +\n                      "Response Text: " + xhr.responseText + "\n" +\n                      "Error Thrown: " + error);\n\n        // Handle specific errors\n        if (status === "timeout") {\n            $("#error").append("The request timed out, please resubmit.");\n        } else {\n            $("#error").append("ERROR: " + status);\n        }\n    },\n    success: function(request) {\n        $("#loading").addClass("hide");\n        try {\n            var t = JSON.parse(request); // Prefer JSON.parse over eval\n        } catch (e) {\n            console.error("JSON parsing error:", e);\n            $("#error").append("Error parsing response.");\n        }\n    }\n});