const express = require('express');\nconst multer = require('multer');\nconst nodemailer = require('nodemailer');\nconst path = require('path');\n\nconst app = express();\nconst upload = multer({ dest: 'uploads/' });\n\napp.post('/upload-and-send-email', upload.single('attachment'), (req, res) => {\n    const file = req.file;\n    const to = req.body.to;\n    const subject = req.body.subject;\n    const body = req.body.body;\n\n    let mailAttachment = [];\n    if (file) {\n        mailAttachment.push({\n            filename: file.originalname,\n            path: file.path\n        });\n    }\n\n    // Setup nodemailer transporter and send email logic here\n    let transporter = nodemailer.createTransport({\n        service: 'gmail',\n        auth: {\n            user: 'your-email@gmail.com',\n            pass: 'your-password'\n        }\n    });\n\n    const mailOptions = {\n        from: '"Your Name" <your-email@gmail.com>',\n        to,\n        subject,\n        text: body,\n        attachments: mailAttachment\n    };\n\n    transporter.sendMail(mailOptions, (error, info) => {\n        if (error) {\n            res.json({ message: 'Error sending email', error });\n        } else {\n            res.json({ message: 'Email sent successfully!' });\n        }\n\n        // Optionally clean up files after processing\n        if (file) {\n            fs.unlinkSync(file.path);\n        }\n    });\n});\n\napp.listen(3000, () => console.log('Server started on port 3000'));