function test() {\n    var d = new doh.Deferred();\n\n    // Start with the first asynchronous call\n    Comm.login('larry', '123', function(result, msg) {\n        try {\n            // check with doh.t and doh.is \n            doh.assertTrue(result, "First login should succeed");\n\n            // Continue the chain by returning a new deferred for logout\n            var d1 = new doh.Deferred();\n            Comm.logout(); /* synchronous */\n            doh.assertTrue(true, "Logout should be successful");\n            d1.callback(true); // Assuming logout is always successful\n            return d1;\n        } catch (e) {\n            d.errback(e);\n        }\n    }).then(function() {\n        // Start the second asynchronous call after logout\n        var d2 = new doh.Deferred();\n        Comm.login('alex', 'asdf', function(result, msg) {\n            try {\n                // check with doh.t and doh.is\n                doh.assertTrue(result, "Second login should succeed");\n                d2.callback(true);\n            } catch (e) {\n                d2.errback(e);\n            }\n        });\n        return d2;\n    }).then(function() {\n        // All steps completed successfully\n        d.callback(true); \n    }).catch(function(error) {\n        d.errback(error);\n    });\n\n    return d;\n}