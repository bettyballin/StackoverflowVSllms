var updater = new Ajax.PeriodicalUpdater('content', '/Doc?' + d.getTime(), {\n    method: 'post',\n    frequency: 5,\n    onSuccess: function(transport) {\n        // Process successful response here if needed\n        console.log('Update Successful:', transport.responseText);\n        \n        // Fetch CSS and title as you were doing it\n        new Ajax.Request('/%css_path%?' + d.getTime(), {\n            method: 'post',\n            onSuccess: function(transport) {\n                if (css.styleSheet) { css.styleSheet.cssText = transport.responseText; }\n                else { \n                    var new_css_data = document.createTextNode(transport.responseText);\n                    css.replaceChild(new_css_data, css_data); \n                    css_data = new_css_data;\n                } \n            }\n        });\n\n        new Ajax.Request('/%title_path%?' + d.getTime(), {\n            method: 'post',\n            onSuccess: function(transport) {\n                document.title = transport.responseText;\n            }\n        });\n    },\n    onFailure: function() {\n        // Handle failure here, e.g., log it or do nothing\n        console.log('Request Failed');\n    },\n    onComplete: function(transport) {\n        // This will run after both success and failure\n        if (!transport.status || (transport.status >= 400 && transport.status <= 599)) {\n            // If there is no status or it's an error status, do not clear the content\n            console.log('Request completed with error:', transport.statusText);\n        }\n    }\n});