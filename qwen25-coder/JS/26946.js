var queues = <%= Html.Raw(Json.Encode(ViewBag.AvailableQueues)) %>;\n$($.jqId("requestQueuesText"), $theForm).autocomplete(queues, {\n    minChars: 1,\n    formatItem: function(row) {\n        return row.Description;               \n    },\n    multiple: true,\n    multipleSeparator: ";",\n    onChange: function(currentValue) {\n        if (currentValue && currentValue.length >= this.options.minChars) {\n            // Proceed only if currentValue is defined and meets minChars requirement\n        }\n    }\n});\n\n// Ensure autocomplete is closed when dialog is closed\n$theForm.find("#yourDialogId").on('dialogclose', function() {\n    var autocompleteElement = $($.jqId("requestQueuesText"), $theForm);\n    autocompleteElement.autocomplete("close");\n    autocompleteElement.trigger('focusout');\n});