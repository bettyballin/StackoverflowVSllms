$(document).ready(function() {\n    $('#loading').hide();\n    var timer;\n\n    $('#q').keyup(function(){\n        clearTimeout(timer); // Clear the previous timeout\n\n        timer = setTimeout(function() { // Set new timeout\n            $('#loading').show();\n            $.post("keyterms.php", {\n                q: $('#q').val()\n            }, function(response){\n                $('#qResult').fadeOut();\n                setTimeout(function() {\n                    finishAjax('qResult', response);\n                }, 400);\n            });\n        }, 2000); // 2 seconds delay\n    });\n});