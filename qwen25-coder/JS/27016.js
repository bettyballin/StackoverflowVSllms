function getRealOffset(element) {\n    let left = 0;\n    let top = 0;\n\n    // Check if the element is fixed positioned.\n    const style = window.getComputedStyle(element);\n    if (style.position === 'fixed') {\n        // For fixed position, offset is relative to the viewport.\n        left += element.offsetLeft;\n        top += element.offsetTop;\n    } else {\n        // Otherwise, sum up offsets of all parents until no more offsetParent.\n        while (element) {\n            left += element.offsetLeft;\n            top += element.offsetTop;\n            element = element.offsetParent;\n        }\n    }\n\n    return { left, top };\n}\n\n// Usage\nconst e = document.querySelector('div');\nconst position = getRealOffset(e);\nconsole.log(`Element is at ${position.left}px from the left and ${position.top}px from the top.`);