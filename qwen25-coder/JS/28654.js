let videoPlayer = document.getElementById('video');\nlet updateInterval;\n\nvideoPlayer.addEventListener('play', () => {\n    updateInterval = setInterval(() => {\n        localStorage.setItem(`progress-${window.location.href}`, videoPlayer.currentTime);\n        // Send progress to server in real time or periodically\n        syncProgressWithServer(videoPlayer.currentTime);\n    }, 5000); // every 5 seconds\n});\n\nvideoPlayer.addEventListener('pause', () => {\n    clearInterval(updateInterval);\n});\n\nfunction syncProgressWithServer(currentTime) {\n    fetch('/api/update-progress', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ time: currentTime, videoId: window.location.href })\n    });\n}