function isVisible(element) {\n  // Ensure the element is accessible\n  if (!element || !element.visible()) {\n    return false;\n  }\n\n  // Check for styles that hide the element\n  var style = document.defaultView.getComputedStyle(element);\n  if (style.visibility === 'hidden' || style.display === 'none') {\n    return false;\n  }\n\n  // Check if the element is within the viewport\n  var rect = element.getBoundingClientRect();\n  if (\n    rect.bottom < 0 || // Above the visible area\n    rect.right < 0 || // Left of the visible area\n    rect.left > (window.innerWidth || document.documentElement.clientWidth) || // Right of the visible area\n    rect.top > (window.innerHeight || document.documentElement.clientHeight)\n  ) {\n    return false;\n  }\n\n  // Check if any parent is hidden or not displaying content\n  var parent = element.parentNode;\n  while (parent !== document.documentElement) {\n    style = document.defaultView.getComputedStyle(parent);\n    if (\n      style.display === 'none' ||\n      style.opacity === '0'\n    ) {\n      return false;\n    }\n    parent = parent.parentNode;\n  }\n\n  return true;\n}\n\n// Usage\nvar element = $('yourElementId'); // Prototype's $ function to get the element\nif (isVisible(element)) {\n  console.log('Element is visible');\n} else {\n  console.log('Element is not visible');\n}