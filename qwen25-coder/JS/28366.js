let lineItemCount = 0;\nconst smartDropInstances = [];\n\nfunction AddLineItem() {\n    const lineItemsParent = document.getElementById("lineItems");\n    const newRow = lineItemTemplateNode.cloneNode(true);\n    \n    // Change IDs in the new row to be unique\n    const inputs = newRow.querySelectorAll('[id]');\n    inputs.forEach(input => {\n        input.id += `-${lineItemCount}`;\n    });\n\n    // Update the JavaScript code reference in the new row\n    const scriptElement = newRow.querySelector('script');\n    if (scriptElement) {\n        scriptElement.textContent = scriptElement.textContent.replace(\n            "new SmartDropDown('uomSDD'", \n            `new SmartDropDown('uomSDD-${lineItemCount}'`\n        );\n    }\n\n    lineItemsParent.appendChild(newRow);\n    \n    // Create a new SmartDropDown instance and store it in the array\n    const newSmartDropDown = new SmartDropDown(`uomSDD-${lineItemCount}`, '75', '1', '7', '', '', '', '', 2);\n    smartDropInstances.push(newSmartDropDown);\n\n    lineItemCount++;\n}