$(function() {\n    // Function to calculate the maximum width of options for a given select element\n    function getMaxOptionWidth(select) {\n        var tempSpan = $('<span></span>').appendTo('body');\n        \n        // Copy styles from first option to span for accurate measurement\n        if (select.find('option').length > 0) {\n            var firstOption = select.find('option').first();\n            tempSpan.css({\n                'font-family': firstOption.css('font-family'),\n                'font-size': firstOption.css('font-size'),\n                'font-weight': firstOption.css('font-weight'),\n                'display': 'inline-block',\n                'visibility': 'hidden'\n            });\n        }\n\n        var maxWidth = 0;\n        \n        select.find('option').each(function() {\n            tempSpan.text($(this).text());\n            maxWidth = Math.max(maxWidth, tempSpan.width());\n        });\n\n        // Remove the temporary span\n        tempSpan.remove();\n\n        return maxWidth;\n    }\n\n    $('select').each(function() {\n        var $select = $(this);\n        \n        // Store original width and calculate max option width\n        $select.data('OriginalWidth', $select.outerWidth())\n               .data('ResizeToWidth', getMaxOptionWidth($select));\n\n        // Bind events to change size on focus and blur\n        $select.focus(function() {\n            $(this).width($(this).data('ResizeToWidth'));\n        }).blur(function() {\n            $(this).width($(this).data('OriginalWidth'));\n        });\n    });\n\n    // Remove the temporary span if it remains for any reason\n    $('#CurrentOptWidth').remove();\n});