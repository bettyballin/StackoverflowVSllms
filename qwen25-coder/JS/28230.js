let activeRequests = 0;\n\nfunction showBusyIcon() {\n    if (activeRequests === 0) {\n        // Code to show busy icon, e.g., document.getElementById('busy-icon').style.display = 'block';\n        console.log("Showing busy icon");\n    }\n    activeRequests++;\n}\n\nfunction hideBusyIcon() {\n    activeRequests--;\n    if (activeRequests <= 0) {\n        // Ensure we never go negative\n        activeRequests = 0;\n        // Code to hide busy icon, e.g., document.getElementById('busy-icon').style.display = 'none';\n        console.log("Hiding busy icon");\n    }\n}\n\nfunction doAction() {\n    showBusyIcon();\n    \n    longRunningAsynchronousProcess(function() {\n        // Callback function run when process finishes\n        hideBusyIcon();\n    });\n}\n\n// Example of an external or nested asynchronous call\ndocument.getElementById('add-markers-button').addEventListener('click', function() {\n    showBusyIcon(); // Manually start busy indicator for external call\n    google.maps.event.addListenerOnce(map, 'idle', function() {\n        // Assume this event fires when the map markers are fully loaded\n        hideBusyIcon();\n    });\n    addMarkersToMap(); // This is an external function that doesn't directly provide callbacks\n});