function setProxy(proxyServer, proxyPort) {\n  const proxySettings = {\n    proxyType: 'manual',\n    http: `${proxyServer}:${proxyPort}`,\n    ssl: `${proxyServer}:${proxyPort}`\n  };\n  browser.proxy.settings.set({value: proxySettings}).then(() => {\n    console.log("Proxy settings updated.");\n  }, (error) => {\n    console.error(`Error setting proxy: ${error}`);\n  });\n}\n\nfunction resetProxy() {\n  const directConnection = {proxyType: 'direct'};\n  browser.proxy.settings.set({value: directConnection}).then(() => {\n    console.log("Proxy reset to direct connection.");\n  }, (error) => {\n    console.error(`Error resetting proxy: ${error}`);\n  });\n}\n\nbrowser.runtime.onMessageExternal.addListener((message, sender) => {\n  if (sender.id !== 'your-extension-id') return; // verify the caller\n  switch (message.action) {\n    case "change-proxy":\n      setProxy(message.proxyServer, message.proxyPort);\n      break;\n    case "reset-proxy":\n      resetProxy();\n      break;\n    default:\n      console.warn("Unknown action:", message.action);\n  }\n});