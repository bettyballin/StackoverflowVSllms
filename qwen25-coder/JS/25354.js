let closingReason;\n\nfunction showCustomDialog() {\n    const result = confirm("Do you want to close?");\n    if (result) {\n        // User clicked OK\n        closingReason = 'OK';\n        window.close();  // This works only if the script opened the window\n    } else {\n        // User clicked Cancel\n        closingReason = 'Cancel';\n    }\n}\n\n// Prompt the custom dialog when attempting to close\nwindow.onbeforeunload = function(e) {\n    showCustomDialog();\n};\n\nwindow.onunload = function() {\n    switch (closingReason) {\n        case 'OK':\n            // Handle OK action\n            console.log('Window closed by clicking OK');\n            break;\n        case 'Cancel':\n            // Handle Cancel action\n            console.log('Window close cancelled');\n            break;\n        default:\n            // User clicked the X button\n            console.log('Window closed by clicking X or another means');\n    }\n};