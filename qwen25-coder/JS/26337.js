function checkUsername(username) {\n    // Get the element where we will display the loading spinner or error message\n    var feedbackElement = document.getElementById('usernameFeedback');\n    \n    // Display the spinning hourglass icon (or any other loading indicator)\n    feedbackElement.innerHTML = '<img src="loading.gif" alt="Loading..."> Checking...';\n    \n    // Create a new XMLHttpRequest object\n    var xhr = new XMLHttpRequest();\n    \n    // Configure it: GET-request for the URL /check-username.php?name=username\n    xhr.open('GET', '/check-username.php?name=' + encodeURIComponent(username), true);\n    \n    // Set up a function to handle the response\n    xhr.onload = function() {\n        if (xhr.status >= 200 && xhr.status < 300) {\n            // Parse and display the result\n            var jsonResponse = JSON.parse(xhr.responseText);\n            if (jsonResponse.isAvailable) {\n                feedbackElement.innerHTML = 'Username is available!';\n            } else {\n                feedbackElement.innerHTML = 'Username is taken.';\n            }\n        } else {\n            feedbackElement.innerHTML = 'Error checking username: ' + xhr.statusText;\n        }\n    };\n    \n    // Set up a function to handle network errors\n    xhr.onerror = function() {\n        feedbackElement.innerHTML = 'Network error while checking username';\n    };\n    \n    // Send the request with the username parameter\n    xhr.send();\n}\n\n// Example usage when a user types in their desired username:\ndocument.getElementById('usernameInput').addEventListener('input', function(event) {\n    var username = event.target.value;\n    if (username.length > 2) { // Check only if the username is long enough\n        checkUsername(username);\n    }\n});