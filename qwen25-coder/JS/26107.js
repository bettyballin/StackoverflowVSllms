var gmap = function() {\n    // Ensure it's used with 'new'\n    if (!(this instanceof gmap)) {\n        return new gmap();\n    }\n\n    this.add = function() {\n        alert('add');\n\n        // Return the current instance to allow chaining\n        return this;\n    };\n};\n\n// Correct usage: create an instance of gmap and then call .add()\nvar test = new gmap().add().add();  // This will alert 'add' twice in sequence.