jQuery.fn.tablerize = function() {\n    return this.each(function() {\n        var table;\n        $(this).find('li').each(function(i) {\n            var values = $(this).html().split('*');\n            if(i == 0) {\n                table = $('<table>');\n                var thead = $('<thead>');\n                $.each(values, function(y) {\n                    thead.append($('<th>').html(values[y]));\n                });\n                table.append(thead);\n                // Explicitly add a tbody\n                var tbody = $('<tbody>');\n                table.append(tbody);\n            } else {\n               var tr = $('<tr>');\n               $.each(values, function(y) {\n                   tr.append($('<td>').html(values[y]));\n               });\n               // Append rows to the tbody instead of table directly\n               $('tbody', table).append(tr);\n            }\n        });\n        $(this).after(table).remove();\n    });\n};