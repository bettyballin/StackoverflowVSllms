var ajaxReq = function(url, callback) {\n    var xhr = window.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest();\n\n    // Check if the request was successful\n    var httpSuccess = function(xhr) {\n        try {\n            return (!xhr.status && xhr.status == 0 || (xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || xhr.status == 1223);\n        } catch (e) { }\n        return false;\n    };\n\n    if (!xhr) {\n        return 404; // Not Found\n    }\n\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState === 4) { // Check if request is complete\n            if (httpSuccess(xhr)) {\n                callback(xhr);\n            } else {\n                window.alert('Request failed with status: ' + xhr.status);\n            }\n        }\n    };\n\n    xhr.open('GET', url, true);\n\n    try {\n        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");\n        xhr.setRequestHeader("Accept", "text/xml, application/xml, text/plain");\n    } catch (ex) {\n        window.alert('error: ' + ex.toString());\n    }\n\n    try {\n        xhr.send('');\n    } catch (e) {\n        return 400; // Bad Request\n    }\n\n    return xhr;\n};\n\nwindow.onload = function() {\n    ajaxReq('ConferenceRoomSchedules.xml', function(xhr) {\n        window.document.getElementById('schedule').innerHTML = xhr.responseText;\n\n        if (xhr.responseXML) {\n            try {\n                window.alert(xhr.responseXML.documentElement.nodeName);\n            } catch (e) {\n                window.alert('Error accessing XML document: ' + e.message);\n            }\n        } else {\n            window.alert('responseXML is null');\n        }\n    });\n};