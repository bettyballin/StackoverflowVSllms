$(document).ready(function() {\n  function fetchNewMessages() {\n    $.ajax({\n      url: '/messages/fetch_new',\n      type: 'GET',\n      dataType: 'json',\n      success: function(data) {\n        if (data.messages.length > 0) {\n          // Append new messages to the existing list\n          $('#message-list').append(data.messages).hide().fadeIn(1000);\n        }\n      },\n      error: function(error) {\n        console.error('Error fetching new messages:', error);\n      }\n    });\n  }\n\n  // Fetch new messages every 2 minutes\n  setInterval(fetchNewMessages, 2 * 60 * 1000); // Convert to milliseconds\n\n  // Initial fetch on page load\n  fetchNewMessages();\n});