(function($) {\n    var ajaxQueue = [];\n    \n    $.ajaxSetup({\n        beforeSend: function(jqXHR, settings) {\n            if(!settings.queueAjax) return;\n            \n            // If the queue is not already running start it up!\n            if(ajaxQueue.length === 0) runNextAjax();\n            \n            // Add this request to the ajax queue\n            ajaxQueue.push({jqXHR: jqXHR, settings: settings});\n        },\n        complete: function(jqXHR, settings) {\n            if(!settings.queueAjax) return;\n\n            // Mark this ajax call as finished\n            finishAjaxRequest(jqXHR);\n            \n            // Run next ajax request in line (if any)\n            runNextAjax();\n        }\n    });\n\n    var runningAjax = null;\n    \n    var runNextAjax = function() {\n        if(ajaxQueue.length === 0 || runningAjax !== null) return;\n\n        var item = ajaxQueue.shift();\n\n        runningAjax = item.jqXHR;\n\n        // Run the request with the original settings\n        $.ajax(item.settings);\n    };\n    \n    var finishAjaxRequest = function(jqXHR) {\n        if(runningAjax === jqXHR) runningAjax = null;\n    };\n})(jQuery);\n\n// Usage:\n$.ajax({\n    url: 'your-url',\n    method: 'POST',\n    queueAjax: true,\n    done: function(response) {\n        console.log('Request successful:', response);\n    },\n    fail: function(jqXHR, textStatus, errorThrown) {\n        console.error('Request failed:', textStatus, errorThrown);\n    }\n});