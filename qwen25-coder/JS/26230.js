var xmlhttp;\n\nfunction GetXmlHttpObject() {\n    try {\n        return new XMLHttpRequest();\n    } catch (e) {}\n    try {\n        return new ActiveXObject("Msxml2.XMLHTTP");\n    } catch (e) {}\n    try {\n        return new ActiveXObject("Microsoft.XMLHTTP");\n    } catch (e) {}\n    return null;\n}\n\nfunction GetEmailId() {\n    xmlhttp = GetXmlHttpObject();\n    if (xmlhttp == null) {\n        alert ("Your browser does not support XMLHTTP!");\n        return;\n    }\n    var url="http://server.com/GetPostEmail.php?sid="+Math.random();\n    xmlhttp.onreadystatechange=statechangedLogin2;\n    xmlhttp.open("GET", url, true);\n    xmlhttp.send(null);\n}\n\nfunction statechangedLogin2() {\n    if(xmlhttp.readyState==4) {\n        if(xmlhttp.status==200) { // Check HTTP status\n            if(xmlhttp.responseText=="Login again") {\n                window.location.href="http://server.com/profile.html"; // Use .href explicitly\n            }\n        } else {\n            alert("There was a problem with the request: " + xmlhttp.statusText);\n        }\n    }\n}