$(document).ready(function () {\n    $.ajax({\n        url: 'nav.xml',\n        type: 'GET',\n        dataType: 'xml',\n        error: function (XMLHttpRequest, textStatus, errorThrown) {\n            alert('Error: ' + textStatus + ", " + errorThrown);\n        },\n        success: function (xml) {\n            // Start with the root node\n            var nodeList = parseXmlNode(xml);\n            \n            $('#list').append(nodeList);\n        }\n    });\n});\n\nfunction parseXmlNode(xmlNode) {\n    var ul = $('<ul></ul>');\n    $(xmlNode).find('siteMapNode').each(function () {\n        var url = $(this).attr('url');\n        var title = $(this).attr('title');\n\n        // Create list item for current node\n        var li = $('<li><a href="' + url + '">' + title + '</a></li>');\n\n        // Recursively find children and append to the current list item if any\n        if ($(this).children('siteMapNode').length > 0) {\n            li.append(parseXmlNode(this));\n        }\n\n        ul.append(li);\n    });\n    return ul;\n}