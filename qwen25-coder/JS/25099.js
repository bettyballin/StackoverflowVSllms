async function encryptData(data) {\n    const encoder = new TextEncoder();\n    const key = await window.crypto.subtle.generateKey(\n        { name: "AES-GCM", length: 256 },\n        true,\n        ["encrypt", "decrypt"]\n    );\n    const iv = window.crypto.getRandomValues(new Uint8Array(12));\n    const encrypted = await window.crypto.subtle.encrypt(\n        {\n            name: "AES-GCM",\n            iv: iv\n        },\n        key,\n        encoder.encode(data)\n    );\n    return { encrypted, key, iv };\n}