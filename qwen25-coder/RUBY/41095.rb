# Gemfile\ngem 'acts_as_commentable_with_threading'\n\n# In your model (e.g., app/models/article.rb)\nclass Article < ApplicationRecord\n  acts_as_commentable_with_threading\nend\n\n# Controller to handle comments (e.g., app/controllers/comments_controller.rb)\ndef create\n  @comment = current_user.comments.build(comment_params)\n  @comment.commentable_id = params[:article_id]\n  @comment.commentable_type = "Article"\n\n  if @comment.save\n    flash[:notice] = 'Comment was successfully created.'\n    redirect_to article_path(@comment.commentable)\n  else\n    flash[:error] = 'There was a problem saving your comment.'\n    # Redirect back to the article or wherever you need.\n  end\nend\n\nprivate\n\ndef comment_params\n  params.require(:comment).permit(:content, :title)\nend