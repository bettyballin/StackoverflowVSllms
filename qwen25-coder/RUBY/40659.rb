def create\n  @review = Review.new(params[:review])\n\n  # Instantiate the vendor from the URL id\n  @vendor = Vendor.find(params[:vendor_id])\n  @review.vendor = @vendor\n\n  if @review.save\n    flash[:notice] = 'Review was successfully created.'\n    respond_to do |format|\n      format.html { redirect_to review_path(@review) }\n      format.xml  { render :xml => @review, :status => :created, :location => @review }\n    end\n  else\n    respond_to do |format|\n      format.html {\n        # Redirect back to new review page with vendor ID\n        redirect_to new_vendor_review_path(@vendor)\n      }\n      format.xml  { render :xml => @review.errors, :status => :unprocessable_entity }\n    end\n  end\nend