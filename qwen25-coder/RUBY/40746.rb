# Ensure the external encoding is set to UTF-8\nEncoding.default_external = Encoding::UTF_8\n\ndir_path = 'C:/path/to/directory'\nfiles = Dir.glob(File.join(dir_path, '*'))\n\nfiles.each do |file|\n  puts "Handling file: #{file}"\n  begin\n    # Move or handle the file here\n    File.rename(file, "D:/new/path/#{File.basename(file)}")\n  rescue => e\n    puts "Error moving file #{file}: #{e.message}"\n  end\nend