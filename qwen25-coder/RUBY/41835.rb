require 'ruby-prof'\n\n# Enable profiling\nRubyProf.start\n\n# Code to profile goes here\ndef sample_method\n  (1..1_000).each do |i|\n    Math.sqrt(i)\n  end\nend\n\nsample_method\n\n# Fetch the results from the profiler\nresult = RubyProf.stop\n\n# Print a flat profile to text\nprinter = RubyProf::FlatPrinter.new(result)\nprinter.print(STDOUT, min_percent: 1.0)\n\n# Alternatively, you can write the report to a file and open it in any browser for a graphical view:\n# printer = RubyProf::GraphHtmlPrinter.new(result)\n# File.open("ruby_prof_report.html", "w") do |f|\n#   printer.print(f)\n# end