require 'prometheus/client'\n\n   # Create a registry for your app's stats.\n   registry = Prometheus::Client.registry\n\n   # Initialize a counter metric with some labels.\n   http_requests_total = registry.counter(:http_requests_total, "A counter of http requests made.")\n\n   # Somewhere in your code that handles HTTP requests:\n   http_requests_total.increment(labels: {handler: 'home'})\n\n   # Expose the endpoint\n   require 'prometheus/client/rack/collector'\n\n   use Prometheus::Client::Rack::Exporter, registry: registry\n\n   run ->(_env) { [200, {}, ['Hello world']] }