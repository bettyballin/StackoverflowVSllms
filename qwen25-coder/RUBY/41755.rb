require File.dirname(__FILE__) + '/../../test_helper'\nrequire 'action_view/test_case'\nrequire 'rails/application_routes_url_helpers'\n\nclass ListingsHelperTest < ActionView::TestCase\n  include Rails.application.routes.url_helpers\n\n  def setup\n    # Create a mock request object\n    @request = ActionController::TestRequest.new\n    # Set default URL options required by url_for\n    host! "test.host"\n    stub_host!\n  end\n\n  def host!(host)\n    @default_url_options = { host: host }\n  end\n\n  def stub_host!\n    allow(ActionDispatch::Routing).to receive(:extract_request_environment).and_return(@request.env)\n  end\nend