require 'loofah'\n\nmodule HTMLSanitizer\n\n  def self.sanitize_html(input)\n    # Allowed tags and attributes can be configured\n    allowed_tags = %w[b strong i em u a p br img]\n    allowed_attributes = %w[href src alt title]\n\n    # Create a Loofah document from the input string\n    doc = Loofah.fragment(input)\n\n    # Strip all tags except the allowed ones\n    clean_doc = doc.scrub!(Loofah::HTML5::Scrub.allowed_elements(allowed_tags))\n                   .scrub!(Loofah::HTML5::Scrub.allowed_attributes(allowed_attributes))\n\n    # Return sanitized HTML string\n    clean_doc.to_html\n  end\n\nend