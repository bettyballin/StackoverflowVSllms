class Employee < ActiveResource::Base\n  self.site = "http://example.com"\n\n  def self.collection_path(prefix_options = {}, query_options = nil)\n    if prefix_options.has_key?(:company_id)\n      "/companies/#{prefix_options[:company_id]}/employees"\n    else\n      super\n    end\n  end\n\n  def self.element_path(id, prefix_options = {}, query_options = nil)\n    "/employees/#{id}"\n  end\n\n  def save_with_nested_resource\n    if new?\n      path = self.class.collection_path(company_id: company_id)\n      response = connection.post(path, encode(self))\n      load_attributes_from_response(response)\n      true\n    else\n      save_without_nested_resource\n    end\n  end\n\n  alias_method_chain :save, :nested_resource\nend