class Thing < ApplicationRecord\n  after_update :update_total_sum\n\n  private\n\n  def update_total_sum\n    old_amount = self.amount_was # Get the old value\n    new_amount = self.amount     # The current (new) value\n\n    difference = new_amount - old_amount\n    total = Total.first_or_initialize # Assuming you have only one total record\n\n    total.sum += difference\n    total.save!\n  end\nend