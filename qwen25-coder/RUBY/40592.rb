require 'irb'\n\n# Paths for the pipes\nrequest_pipe = '/tmp/irb_request.pipe'\nresponse_pipe = '/tmp/irb_response.pipe'\n\n# Ensure the pipes exist\nunless File.exist?(request_pipe)\n  puts "Creating request pipe..."\n  system("mkfifo #{request_pipe}")\nend\n\nunless File.exist?(response_pipe)\n  puts "Creating response pipe..."\n  system("mkfifo #{response_pipe}")\nend\n\n# Open the pipes\nopen(request_pipe, 'r') do |req|\n  open(response_pipe, 'w') do |res|\n    binding.irb(IRB::Irb.new(IRB::WorkSpace.new(binding), nil, req, res))\n  end\nend