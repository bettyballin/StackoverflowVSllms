require 'webrick'\n\nclass SimpleProxy < WEBrick::HTTPProxyServer\nend\n\ndef run_proxy(port=8080)\n  server = SimpleProxy.new(\n    Port: port,\n    Logger: WEBrick::Log::new($stdout),\n    AccessLog: [[ $stdout, "%h %l %u %t \"%r\" %>s %b"]]\n  )\n\n  trap("INT") {\n    server.shutdown\n  }\n\n  server.start\nend\n\nputs "Starting simple proxy server on port 8080..."\nrun_proxy(8080)