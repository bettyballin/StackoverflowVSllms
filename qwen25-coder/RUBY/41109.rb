# Sample log parsing logic enhancement\ndef extract_email_from_bounce(line)\n  if line =~ /550\+No\+such\+recipient/i\n    # Perform some context checking, like previous lines\n    return @last_sent_email if @last_sent_email\n  elsif line =~ /Address\srejected\s(\S+@\S+)/i\n    return $1\n  end\nend\n\n# Assuming log processing loop\nfile.each_line do |line|\n  @last_sent_email = extract_email_from_sender(line) if send_pattern.match?(line)\n  bounce_email = extract_email_from_bounce(line)\n  if bounce_email\n    puts "Bounced email: #{bounce_email}"\n  end\nend