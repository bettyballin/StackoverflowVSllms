# In external_video.rb model\nrequire 'addressable/uri'\n\nclass ExternalVideo < ApplicationRecord\n  ALLOWED_HOSTS = ['www.youtube.com', 'player.vimeo.com'] # Add other allowed hosts\n\n  def embed_html\n    uri = Addressable::URI.parse(video_source)\n    return '' unless ALLOWED_HOSTS.include?(uri.host)\n\n    case uri.host\n    when 'www.youtube.com'\n      youtube_video_id = uri.query_values['v']\n      content_tag(:iframe, nil, src: "https://www.youtube.com/embed/#{youtube_video_id}", frameborder: 0, allowfullscreen: true)\n    when 'player.vimeo.com'\n      vimeo_video_path = uri.path.gsub('/video/', '')\n      content_tag(:iframe, nil, src: "https://player.vimeo.com/video/#{vimeo_video_path}", width: 640, height: 360, frameborder: 0, allowfullscreen: true)\n    else\n      ''\n    end\n  end\n\n  # Assuming video_source is the URL field in your ExternalVideo model\nend