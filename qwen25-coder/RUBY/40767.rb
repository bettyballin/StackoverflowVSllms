# Define factories using FactoryBot syntax\nFactoryBot.define do\n  factory :sender do\n    name "Dummy Name"\n  end\n\n  factory :message do\n    text "Dummy Text"\n    association :sender\n\n    # Define a trait to customize the sender association\n    transient do\n      owner { nil }\n    end\n\n    after(:create) do |msg, evaluator|\n      msg.sender = evaluator.owner if evaluator.owner.present?\n    end\n  end\nend