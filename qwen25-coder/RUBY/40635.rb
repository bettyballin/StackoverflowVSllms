module DateTimeUtils\n  def self.calculate_start_and_end_times\n    now = Time.now\n    if now.hour >= 17 && now.hour <= 23\n      # night\n      n = now + 1.day\n      startd = Time.local(now.year, now.month, now.day, 17, 00, 00)\n      endd = Time.local(n.year, n.month, n.day, 8, 00, 00)\n    elsif now.hour >= 0 && now.hour <= 7\n      # morning\n      n = now - 1.day\n      startd = Time.local(n.year, n.month, n.day, 8, 00, 00)\n      endd = Time.local(now.year, now.month, now.day, 17, 00, 00)\n    end\n\n    [startd, endd]\n  end\nend