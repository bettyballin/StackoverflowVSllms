# app/controllers/a_bs_controller.rb\nclass ABsController < ApplicationController\n  def new\n    @a = A.find(params[:a_id])\n    @b = B.new # or @b = @a.bs.build if appropriate for your needs\n  end\n\n  def create\n    @a = A.find(params[:a_id])\n    @b = B.find_or_create_by(b_params)\n    @a.bs << @b\n    redirect_to @a\n  rescue ActiveRecord::RecordInvalid => e\n    render :new, status: :unprocessable_entity\n  end\n\n  def destroy\n    @a = A.find(params[:a_id])\n    # Find through join model for HABTM if needed\n    @b = B.find(params[:id])\n    @a.bs.delete(@b)\n    redirect_to @a\n  end\n\n  private\n  def b_params\n    params.require(:b).permit(:name, :other_attributes) # Adjust based on your model\n  end\nend