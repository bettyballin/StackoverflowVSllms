require 'hpricot'\n\nhtml_content = <<-HTML\n<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">\n<html>\n    <head>\n        <title>Data Protection Checks</title>\n        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n    </head>\n    <body>\n        <div>\n        This is what I want to grab.\n        </div>\n        <p>\n        I also want to grab this text\n        </p>\n    </body>\n</html>\nHTML\n\ndoc = Hpricot(html_content)\ntext = (doc/'//text()').map(&:to_s).join('').squeeze(' ')\n\nputs text