# lib/tcp_server.rb\n\nrequire 'socket'\n\nmodule TcpServerModule\n  def self.start(port = 12345)\n    Thread.new do\n      server = TCPServer.open(port)\n      puts "TCP Server started on port #{port}..."\n\n      loop do\n        client_thread(Thread.new(server.accept) { |client|\n          request = client.read_nonblock(4096, exception: false)\n          if request\n            # Process the request here\n            Rails.logger.info "Received data: #{request}"\n\n            # If you need to use ActiveRecord\n            ApplicationRecord.connection_pool.with_connection do\n              # Your AR logic goes here\n            end\n\n            client.puts "Data received"\n          else\n            client.close\n          end\n        })\n      end\n    end\n  end\nend