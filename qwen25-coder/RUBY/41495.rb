module TestThree\n  module Foo\n    def foo\n      42\n    end\n  end\n\n  module Bar\n    include Foo # Include Foo into Bar first.\n  end\n\n  class Quux\n    include Bar # Now Bar includes Foo, so Quux will have the method lookup path correct.\n  end\nend\n\n# TestThree::Quux.ancestors => [TestThree::Quux, TestThree::Bar, TestThree::Foo, Object, Kernel]\nputs TestThree::Quux.new.foo # => 42