def create\n     @document = Document.new(document_params)\n     if @document.save\n       generate_thumbnail(@document.file_path) unless @document.file.blank?\n       redirect_to documents_path, notice: "Document uploaded successfully."\n     else\n       render :new\n     end\n   end\n\n   private\n\n   def document_params\n     params.require(:document).permit(:file_data)\n   end\n\n   def generate_thumbnail(pdf_path)\n     require 'pdf-thumbnailer'\n     thumb = PdfThumbnailer.new_thumbnail pdf_path, page: 1, size: '200x300'\n     path_to_store = Rails.root.join('public', 'uploads', 'thumbnails', "#{File.basename(pdf_path)}.png")\n     File.open(path_to_store, 'wb') { |f| f.write(thumb) }\n     # Store the thumbnail path in your model if needed\n   end