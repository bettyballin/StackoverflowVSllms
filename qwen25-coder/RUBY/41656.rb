require 'yaml'\n\nclass Foo\n  attr_accessor :new_instance_variable\n\n  def initialize\n    @new_instance_variable = 0\n  end\n\n  # Override this method to set default values after loading from YAML\n  def init_with(coder)\n    coder.map.each do |ivar, value|\n      instance_variable_set(:"@#{ivar}", value)\n    end\n    self.new_instance_variable ||= 0  # Ensure the new variable has its default if nil\n  end\nend\n\n# Example usage:\nfoo = Foo.new\nputs foo.to_yaml\n\nloaded_foo = YAML.load(foo.to_yaml)\nputs loaded_foo.new_instance_variable  # Outputs: 0