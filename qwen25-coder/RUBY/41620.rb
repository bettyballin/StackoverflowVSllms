class BuildingsController < ApplicationController\n  def create\n    @site = Site.find(params[:site_id])\n    @building = @site.buildings.new(building_params)\n\n    if @building.save\n      respond_to do |format|\n        format.html { redirect_to site_manager_index_path }\n        format.js # This will look for a create.js.erb file in views/buildings/\n      end\n    else\n      respond_to do |format|\n        format.html { render :new }\n        format.json { render json: @building.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  private\n\n  def building_params\n    params.require(:building).permit(:name, :location)\n  end\nend