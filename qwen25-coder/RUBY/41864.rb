module DynamicSetters\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n\n  module ClassMethods\n    def add_custom_setter(*fields)\n      fields.each do |field|\n        class_eval <<-RUBY, __FILE__, __LINE__ + 1\n          def #{field}=(value)\n            begin\n              Date.parse(value)\n            rescue ArgumentError\n              @dates_bad = true\n            end\n            self.write_attribute(:#{field}, value)\n          end\n        RUBY\n      end\n    end\n  end\nend\n\nclass YourModel < ApplicationRecord\n  include DynamicSetters\n\n  add_custom_setter :check_sent, :another_date_field, # other date fields you want to have the custom setter\nend