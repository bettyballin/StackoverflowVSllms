<configuration>\n  <system.serviceModel>\n    <services>\n      <!-- Define the Routing Service -->\n      <service name="System.ServiceModel.Routing.RoutingService" behaviorConfiguration="routingBehavior">\n        <host>\n          <baseAddresses>\n            <add baseAddress="net.tcp://localhost:8090/router/" />\n          </baseAddresses>\n        </host>\n        <!-- Add a TCP binding endpoint for the Routing Service -->\n        <endpoint address=""\n                  binding="netTcpBinding"\n                  contract="System.ServiceModel.Routing.IRequestReplyRouter" />\n      </service>\n    </services>\n\n    <behaviors>\n      <serviceBehaviors>\n        <behavior name="routingBehavior">\n          <routing routeOnHeadersOnly="false" filterTables="filterTable1"/>\n        </behavior>\n      </serviceBehaviors>\n    </behaviors>\n\n    <client>\n      <!-- Add the real service endpoints -->\n      <endpoint name="primaryService"\n                address="net.tcp://PrimaryServer:8090/MyService/"\n                binding="netTcpBinding"\n                contract="IMyService" />\n\n      <endpoint name="failoverService"\n                address="net.tcp://FailoverServer:8090/MyService/"\n                binding="netTcpBinding"\n                contract="IMyService" />\n    </client>\n\n    <!-- Define routing information -->\n    <routing>\n      <filters>\n        <filter name="MatchAll"\n                filterType="MatchAll"/>\n      </filters>\n      <filterTables>\n        <filterTable name="filterTable1">\n          <!-- Apply the Matching Filter to a combination of Client and Service Endpoints -->\n          <add filterName="MatchAll" endpointConfiguration="primaryService" priority="2"/>\n          <add filterName="MatchAll" endpointConfiguration="failoverService" backupList="primaryService" priority="1"/>\n        </filterTable>\n      </filterTables>\n    </routing>\n  </system.serviceModel>\n</configuration>