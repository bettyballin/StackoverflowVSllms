<xsl:stylesheet version="1.0"\n    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n    <xsl:output method="text" />\n\n    <!-- Define a key to match ROLE elements by their @name attribute -->\n    <xsl:key name="role-by-name" match="ROLE" use="@name" />\n\n    <xsl:template match="/ROLEACTIONINFO">\n        <xsl:for-each select="ROLE">\n            <!-- Calculate the number of unique roles before the current one -->\n            <xsl:value-of select="@name" />\n            <xsl:text> </xsl:text>\n            <xsl:value-of select="count(preceding-sibling::ROLE[generate-id() = generate-id(key('role-by-name', @name)[1])]) + 1" />\n            <xsl:text>&#xa;</xsl:text>\n        </xsl:for-each>\n    </xsl:template>\n\n</xsl:stylesheet>