<configuration>\n  <system.webServer>\n    <rewrite>\n      <outboundRules>\n        <rule name="Strip Port" preCondition="RemovePort">\n          <match filterByTags="A, Area, Base, Form, Frame, Head, IFrame, Img, Input, Link, Script" pattern="(https?|ftp)://([^/]+):801(.*)" />\n          <action type="Rewrite" value="{R:1}://{R:2}{R:3}" />\n        </rule>\n        <preConditions>\n          <preCondition name="RemovePort">\n            <add input="{HTTP_X_FORWARDED_PROTO}" pattern="\w+" negate="true" />\n          </preCondition>\n        </preConditions>\n      </outboundRules>\n    </rewrite>\n  </system.webServer>\n</configuration>