<system.serviceModel>\n  <services>\n    <service behaviorConfiguration="secureBehavior" name="YourNamespace.YourService">\n      <endpoint address="" binding="netTcpBinding" bindingConfiguration="secureNetTcpBinding" contract="YourNamespace.IYourContract">\n        <identity>\n          <dns value="localhost"/>\n        </identity>\n      </endpoint>\n    </service>\n  </services>\n\n  <bindings>\n    <netTcpBinding>\n      <binding name="secureNetTcpBinding" maxBufferSize="65536" maxReceivedMessageSize="2147483647">\n        <security mode="TransportWithMessageCredential">\n          <message clientCredentialType="Windows" />\n          <transport clientCredentialType="Windows" protectionLevel="EncryptAndSign" />\n        </security>\n      </binding>\n    </netTcpBinding>\n  </bindings>\n\n  <behaviors>\n    <serviceBehaviors>\n      <behavior name="secureBehavior">\n        <serviceSecurityAudit auditLogLocation="Application" serviceAuthorizationAuditLevel="FailureAndSuccess"/>\n        <serviceCredentials>\n          <windowsAuthentication includeWindowsGroups="false" allowAnonymousLogons="false"/>\n        </serviceCredentials>\n      </behavior>\n    </serviceBehaviors>\n  </behaviors>\n</system.serviceModel>