<class name="Component" table="Components">\n    <id name="Id" column="Id">\n        <generator class="native"/>\n    </id>\n    \n    <!-- Self-referential mapping -->\n    <many-to-one name="Parent" column="ParentId"/>\n    <bag name="SubComponents" inverse="true">\n        <key column="ParentId"/>\n        <one-to-many class="Component"/>\n    </bag>\n\n    <!-- Mapping to ComponentGroup -->\n    <many-to-one name="Group" column="GroupId"/>\n</class>