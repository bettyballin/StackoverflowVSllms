<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="1.0"\n    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n    <!-- Match the root element to start processing -->\n    <xsl:template match="/">\n        <result>\n            <!-- Select 'a' nodes that have a 'b' child with type="foo" and value="1" -->\n            <xsl:for-each select="//*[local-name()='a'][*[local-name()='b' and @type='foo' and @value='1']]">\n                <a id="{@id}"/>\n            </xsl:for-each>\n        </result>\n    </xsl:template>\n\n</xsl:stylesheet>