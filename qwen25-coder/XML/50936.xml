<?xml version="1.0" encoding="UTF-8"?>\n<server xmlns="urn:jboss:service:7.2">\n    <mbean code="org.jboss.resource.security.ConfiguredIdentityLoginModule"\n           name="jboss.jca:service=LocalTxCM,name=MyDataSourceManagedConnectionFactory">\n        <!-- JAAS Login Module Configuration -->\n        <attribute name="Principal">dbuser</attribute>\n        <attribute name="UserName">dbuser</attribute>\n        <attribute name="Password">password</attribute>\n        <attribute name="ManagedConnectionFactoryName">jboss.jca:service=LocalTxCM,name=MyDataSource</attribute>\n    </mbean>\n\n    <!-- DataSource Configuration -->\n    <mbean code="org.jboss.resource.adapter.jdbc.local.LocalManagedConnectionFactory"\n           name="jboss.jca:service=LocalTxDS,name=MyDataSource">\n        <depends optional-attribute-name="OldRarDeployment">jboss.jca:service=RARDeployment,name=jboss-local-jdbc.rar</depends>\n        <depends optional-attribute-name="ManagedConnectionPool">\n            jboss.jca:service=ManagedConnectionPool,name=MyDataSource\n        </depends>\n        <depends optional-attribute-name="OldRarDeployment">jboss.jca:service=RARDeployment,name=jboss-local-jdbc.rar</depends>\n\n        <!-- DataSource properties -->\n        <config-property name="ConnectionURL">\n            jdbc:mysql://localhost:3306/mydb\n        </config-property>\n        <config-property name="DriverClass">\n            com.mysql.jdbc.Driver\n        </config-property>\n    </mbean>\n\n    <mbean code="org.jboss.resource.connectionmanager.JBossManagedConnectionPool"\n           name="jboss.jca:service=ManagedConnectionPool,name=MyDataSource">\n        <depends optional-attribute-name="ManagedConnectionFactoryName">jboss.jca:service=LocalTxCM,name=MyDataSource</depends>\n        <!-- Pool configuration -->\n    </mbean>\n\n    <mbean code="org.jboss.resource.connectionmanager.JBossManagedConnectionPool$OnePool"\n           name="jboss.jca:service=OnePoolDS,name=MyDataSource">\n        <depends optional-attribute-name="ManagedConnectionFactory">jboss.jca:service=LocalTxCM,name=MyDataSource</depends>\n    </mbean>\n\n    <!-- XA datasource if needed -->\n</server>