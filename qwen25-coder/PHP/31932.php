$xmlString = <<<XML\n<gesmes:Envelope xmlns:gesmes="http://www.ecb.int/vocabulary/2002-08-01/eurofxref">\n    <gesmes:subject>Reference rates</gesmes:subject>\n    <gesmes:Sender>\n        <gesmes:name>European Central Bank</gesmes:name>\n    </gesmes:Sender>\n    <Cube>\n        <Cube time="2009-07-13">\n            <Cube currency="USD" rate="1.3975"/>\n            <Cube currency="JPY" rate="129.03"/>\n            <Cube currency="BGN" rate="1.9558"/>\n            <Cube currency="CZK" rate="26.028"/>\n        </Cube>\n    </Cube>\n</gesmes:Envelope>\nXML;\n\n// Load the XML string into a DOMDocument\n$dom = new DOMDocument();\n$dom->loadXML($xmlString);\n\n// Create an instance of DOMXPath for querying\n$xpath = new DOMXPath($dom);\n\n// Register the namespace if it's used in your XML\n$xpath->registerNamespace('gesmes', 'http://www.ecb.int/vocabulary/2002-08-01/eurofxref');\n\n// Select all Cube elements that have a currency attribute\n$cubes = $xpath->query("//Cube[@currency]");\n\n// Iterate through the NodeList and output each node's attributes\nforeach ($cubes as $cube) {\n    echo "Currency: " . $cube->getAttribute('currency') . ", Rate: " . $cube->getAttribute('rate') . "\n";\n}