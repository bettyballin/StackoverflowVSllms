// Database.php\nclass Database {\n    private $connection;\n\n    public function __construct($host, $username, $password, $dbname) {\n        $this->connection = new mysqli($host, $username, $password, $dbname);\n        if ($this->connection->connect_error) {\n            die("Connection failed: " . $this->connection->connect_error);\n        }\n    }\n\n    public function query($sql) {\n        return $this->connection->query($sql);\n    }\n\n    // Other methods as needed\n}\n\n// User.php\nclass User {\n    private $db;\n\n    public function __construct($db) {\n        $this->db = $db;\n    }\n\n    public function login($username, $password) {\n        $stmt = $this->db->query("SELECT * FROM users WHERE username = '" . mysqli_real_escape_string($this->db->connection, $username) . "'");\n        $user = $stmt->fetch_assoc();\n\n        if ($user && password_verify($password, $user['password'])) {\n            session_start();\n            $_SESSION['user_id'] = $user['id'];\n            return true;\n        }\n        return false;\n    }\n\n    // Other methods as needed\n}\n\n// index.php or your form handler file\nsession_start();\n\nrequire_once 'Database.php';\nrequire_once 'User.php';\n\n$db = new Database('localhost', 'username', 'password', 'dbname');\n$user = new User($db);\n\nif ($_SERVER['REQUEST_METHOD'] == "POST") {\n    $action = strtolower($_POST['action']);\n    if ($action === 'login') {\n        if ($user->login($_POST['username'], $_POST['password'])) {\n            header("Location: home.php");\n        } else {\n            echo "Login Failed";\n        }\n    }\n}\n\n// login form same as yours\n?>