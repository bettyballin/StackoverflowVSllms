<?php\n// Function to detect the preferred language\nfunction getPreferredLanguage() {\n    // Get a list of languages from the HTTP_ACCEPT_LANGUAGE header\n    $langs = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);\n    // Take out just the first part (before any semicolon) and normalize it\n    return strtolower(substr(chop($langs[0], ';'), 0, 2));\n}\n\n// Detect the preferred language\n$preferredLang = getPreferredLanguage();\n\n// Default to English if no preference is detected or supported languages are not listed.\nif ($preferredLang == 'fr') {\n    $lang = 'fr';\n} else {\n    $lang = 'eng'; // default to english\n}\n\n// Redirect based on the detected language or default\nheader("Location: index.php?lang=$lang");\nexit;\n?>