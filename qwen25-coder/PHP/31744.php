<?php\n\nfunction getWhois($domain) {\n    // Determine TLD and corresponding whois server\n    $tld = substr(strrchr($domain, '.'), 1);\n    $whoisservers = array(\n        "com" => "whois.verisign-grs.com",\n        "net" => "whois.verisign-grs.com",\n        "org" => "whois.pir.org",\n        "info" => "whois.afilias.info",\n        // Add more TLDs and their respective WHOIS servers as needed\n    );\n\n    if (!array_key_exists($tld, $whoisservers)) {\n        return "Error: No appropriate whois server found for this TLD.";\n    }\n\n    // Connect to the server using a socket\n    $server = $whoisservers[$tld];\n    $port = 43;\n    $timeout = 10;\n\n    if ($fp = fsockopen($server, $port, $errno, $errstr, $timeout)) {\n        fputs($fp, $domain . "\r\n"); // Send the domain to the server\n\n        $out = "";\n        while (!feof($fp)) { // Read the response\n            $out .= fgets($fp);\n        }\n        fclose($fp);\n\n        return $out;\n    } else {\n        return "Error: Could not connect to whois server.";\n    }\n}\n\n// Example usage:\necho getWhois("example.com");\n\n?>