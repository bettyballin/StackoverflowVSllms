<?php\n\n// Run .bat file and capture output\n$output = [];\n$exit_code = 0;\n\nexec('cmd /c C:\dir\file.bat', $output, $exit_code);\n\nif ($exit_code === 0) { // Successful execution\n\n    // Example line in output: "Server ID: i-1234567890abcdef0"\n    // Let's assume the server ID is always prefixed with "Server ID:"\n    foreach ($output as $line) {\n        if (strpos($line, 'Server ID:') !== false) {\n            $serverId = trim(str_replace('Server ID:', '', $line));\n            break;\n        }\n    }\n\n    // Now you can use $serverId in your next command\n    if (!empty($serverId)) {\n        // Command to associate IP address with the server\n        shell_exec("cmd /c ec2-associate-address -i {$serverId} ip.###.###.###");\n    } else {\n        echo "Server ID not found.";\n    }\n\n} else {\n    echo "Error executing .bat file.";\n}\n\n?>