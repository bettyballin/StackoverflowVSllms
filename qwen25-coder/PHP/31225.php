$str = "keyword keyword 'keyword 1 and keyword 2' another 'one more'".'"another keyword" yes,one,two';\n\n// Use a capturing group to avoid including quotes in results\npreg_match_all('/(?:\'([^\']+)\'|"([^"]+)"|([a-zA-Z0-9_]+))/i', $str, $matches);\n\n// Flatten the array and remove empty elements\n$result = array_filter(array_merge($matches[1], $matches[2], $matches[3]));\n\necho "<pre>"; print_r($result); echo "</pre>";