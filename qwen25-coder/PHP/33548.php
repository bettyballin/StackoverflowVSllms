<?php\nif ($_SERVER["REQUEST_METHOD"] == "POST") {\n    if (isset($_FILES['userfile']) && $_FILES['userfile']['error'] == 0) {\n        $fileName = $_FILES['userfile']['name'];\n        $tmpName = $_FILES['userfile']['tmp_name'];\n        $fileSize = $_FILES['userfile']['size'];\n        $fileType = $_FILES['userfile']['type'];\n\n        // Check if file size is within the limit\n        if ($fileSize > 500000) { // 5MB\n            die("Error: File too large.");\n        }\n\n        // Read file contents\n        $fp = fopen($tmpName, 'rb');\n        $content = fread($fp, filesize($tmpName));\n        fclose($fp);\n\n        // Connect to the database\n        $mysqli = new mysqli('localhost', 'user', 'password', 'database');\n\n        // Check connection\n        if ($mysqli->connect_error) {\n            die("Connection failed: " . $mysqli->connect_error);\n        }\n\n        // Prepare and bind\n        $stmt = $mysqli->prepare("INSERT INTO upload (name, size, type, content) VALUES (?, ?, ?, ?)");\n        $stmt->bind_param("sdis", $fileName, $fileSize, $fileType, $content);\n\n        // Execute the statement\n        if ($stmt->execute()) {\n            echo "<br>File $fileName uploaded<br>";\n        } else {\n            echo "Error: " . $stmt->error;\n        }\n\n        // Close connections\n        $stmt->close();\n        $mysqli->close();\n    } else {\n        die("Error: No file uploaded or an error during upload.");\n    }\n}\n?>