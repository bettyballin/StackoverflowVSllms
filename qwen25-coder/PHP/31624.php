// Install the library via Composer:\n// composer require abraham/twitteroauth\n\nrequire "vendor/autoload.php";\nuse Abraham\TwitterOAuth\TwitterOAuth;\n\ndefine('CONSUMER_KEY', 'your_consumer_key');\ndefine('CONSUMER_SECRET', 'your_consumer_secret');\n\nsession_start();\n\nif (!isset($_SESSION['access_token'])) {\n    $connection = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET);\n    $request_token = $connection->oauth('oauth/request_token', array('oauth_callback' => 'YOUR_CALLBACK_URL'));\n\n    $_SESSION['oauth_token'] = $request_token['oauth_token'];\n    $_SESSION['oauth_token_secret'] = $request_token['oauth_token_secret'];\n\n    // If everything goes well..\n    $url = $connection->url("oauth/authorize", ["oauth_token" => $request_token['oauth_token']]);\n    header('Location: ' . $url);\n}\n\nif (isset($_GET['oauth_verifier'])) {\n    $connection = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET,\n        $_SESSION['oauth_token'], $_SESSION['oauth_token_secret']);\n\n    try {\n        $access_token = $connection->oauth("oauth/access_token", ["oauth_verifier" => $_GET['oauth_verifier']]);\n\n        $_SESSION['access_token'] = $access_token;\n\n        // You can now use this token to make API requests.\n        unset($_SESSION['oauth_token']);\n        unset($_SESSION['oauth_token_secret']);\n\n        echo "Success! Access Token: " . $_SESSION['access_token']['oauth_token'];\n    } catch (\Exception $e) {\n        exit("There was an issue getting the access token: " . $e->getMessage());\n    }\n}