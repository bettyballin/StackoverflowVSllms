class Application_Plugin_Auth extends Zend_Controller_Plugin_Abstract\n{\n    public function preDispatch(Zend_Controller_Request_Abstract $request)\n    {\n        $auth = Zend_Auth::getInstance();\n        \n        // Define the login controller and action that are open to all users\n        $openActions = array(\n            'login' => array('index', 'authenticate'),  // Adjust according to your login form route\n        );\n\n        // Get current module, controller, and action\n        $module     = $request->getModuleName();\n        $controller = $request->getControllerName();\n        $action     = $request->getActionName();\n\n        // Check if the user is not authenticated and is trying to access a non-open page\n        if (!$auth->hasIdentity() && \n            ($module !== 'default' || !isset($openActions[$controller]) || !in_array($action, $openActions[$controller]))) {\n            // Redirect to login page or any other specified page\n            $request->setModuleName('default')\n                    ->setControllerName('login')\n                    ->setActionName('index');\n        }\n    }\n}