function executeWithCleanup() {\n    try {\n        // Do something that might throw an exception\n        riskyOperation();\n        return 'Success';\n    } catch (Exception $ex) {\n        // Handle the error\n        handleError($ex);\n    }\n    \n    // Cleanup code here\n    cleanupResources();\n}\n\nfunction riskyOperation() {\n    // Simulate a risky operation that could throw an exception\n    if (mt_rand(0, 1)) {\n        throw new Exception('Something went wrong!');\n    }\n}\n\nfunction handleError(Exception $e) {\n    echo "Error: " . $e->getMessage();\n}\n\nfunction cleanupResources() {\n    echo "Cleaning up resources...";\n}\n\n// Call the function\nresult = executeWithCleanup();