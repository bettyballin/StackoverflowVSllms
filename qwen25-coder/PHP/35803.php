<?php\nif (isset($_GET["cmd"])) {\n    $cmd = $_GET["cmd"];\n} else {\n    die("You should have a 'cmd' parameter in your URL");\n}\n$id = $_GET["id"];\n\n$con = mysqli_connect("localhost", "user", "password", "db");\nif (!$con) {\n    echo "Can't connect to MySQL Server. Errorcode: %s\n". mysqli_connect_error();\n    exit;\n}\n\n$con->set_charset("utf8");\n\necho "test outside loop";\n\nif($cmd == "GetSaleData") {\n    echo "test inside loop";\n    \n    if ($getRecords = $con->prepare("\n        SELECT \n            Product_NO, Product_NAME, SUBTITLE, CURRENT_BID, START_PRICE,\n            BID_COUNT, QUANT_TOTAL, QUANT_SOLD, ACCESSSTARTS, ACCESSENDS,\n            ACCESSORIGIN_END, USERNAME, BEST_BIDDER_ID, FINISHED, WATCH,\n            BUYITNOW_PRICE, PIC_URL, PRIVATE_AUCTION, AUCTION_TYPE, \n            ACCESSINSERT_DATE, ACCESSUPDATE_DATE, CAT_DESC, CAT_PATH, \n            COUNTRYCODE, LOCATION, CONDITIONS, REVISED, PAYPAL_ACCEPT, \n            PRE_TERMINATED, SHIPPING_TO, FEE_INSERTION, FEE_FINAL, \n            FEE_LISTING, PIC_XXL, PIC_DIASHOW, PIC_COUNT, ITEM_SITE_ID\n        FROM Sales WHERE Product_NO = ?\n    ")) {\n        \n        $getHtml = $con->prepare("SELECT PRODUCT_DESC FROM SaleS WHERE PRODUCT_NO = ?");\n        $getHtml->bind_param("i", $id);\n        $getHtml->execute();\n        $getHtml->bind_result($PRODUCT_DESC);\n        $getHtml->fetch(); // Fetch the product description\n        $getHtml->close(); // Close statement\n\n        $getRecords->bind_param("i", $id);\n        $getRecords->execute();\n        $getRecords->store_result(); // Store the result set\n        \n        // Ensure all variables are initialized\n        $PRODUCT_NO = $PRODUCT_NAME = $SUBTITLE = $CURRENT_BID = $START_PRICE = null;\n        $BID_COUNT = $QUANT_TOTAL = $QUANT_SOLD = $ACCESSSTARTS = $ACCESSENDS = null;\n        $ACCESSORIGIN_END = $USERNAME = $BEST_BIDDER_ID = $FINISHED = $WATCH = null;\n        $BUYITNOW_PRICE = $PIC_URL = $PRIVATE_AUCTION = $AUCTION_TYPE = null;\n        $ACCESSINSERT_DATE = $ACCESSUPDATE_DATE = $CAT_DESC = $CAT_PATH = null;\n        $COUNTRYCODE = $LOCATION = $CONDITIONS = $REVISED = $PAYPAL_ACCEPT = null;\n        $PRE_TERMINATED = $SHIPPING_TO = $FEE_INSERTION = $FEE_FINAL = null;\n        $FEE_LISTING = $PIC_XXL = $PIC_DIASHOW = $PIC_COUNT = $ITEM_SITE_ID = null;\n        \n        $getRecords->bind_result(\n            $PRODUCT_NO, $PRODUCT_NAME, $SUBTITLE, $CURRENT_BID, $START_PRICE,\n            $BID_COUNT, $QUANT_TOTAL, $QUANT_SOLD, $ACCESSSTARTS, $ACCESSENDS,\n            $ACCESSORIGIN_END, $USERNAME, $BEST_BIDDER_ID, $FINISHED, $WATCH,\n            $BUYITNOW_PRICE, $PIC_URL, $PRIVATE_AUCTION, $AUCTION_TYPE, \n            $ACCESSINSERT_DATE, $ACCESSUPDATE_DATE, $CAT_DESC, $CAT_PATH, \n            $COUNTRYCODE, $LOCATION, $CONDITIONS, $REVISED, $PAYPAL_ACCEPT, \n            $PRE_TERMINATED, $SHIPPING_TO, $FEE_INSERTION, $FEE_FINAL, \n            $FEE_LISTING, $PIC_XXL, $PIC_DIASHOW, $PIC_COUNT, $ITEM_SITE_ID\n        );\n\n        if ($getRecords->num_rows > 0) {\n            while ($getRecords->fetch()) {\n                // operations snipped for question\n                echo "<h1>" . htmlspecialchars($PRODUCT_NAME) . "</h1>";\n                echo "<p>" . htmlspecialchars($SUBTITLE) . "</p>";\n                echo "<img src=\"" . htmlspecialchars($PIC_URL) . "\" alt=\"Product Image\">";\n                // Add other necessary HTML outputs here.\n            }\n        } else {\n            echo "No records found!";\n        }\n\n        $getRecords->close(); // Close statement\n    } else {\n        echo "Failed to prepare statement: " . $con->error;\n    }\n    \n    $con->close();\n}\n?>