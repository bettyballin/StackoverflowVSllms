<?php\n\nfunction getFtpPath($user, $pass, $host) {\n    return "ftp://$user:$pass@$host/";\n}\n\nfunction listFilesFromFtp($ftpPath) {\n    $files = [];\n    if ($dh = @opendir($ftpPath)) {\n        while (false !== ($filename = readdir($dh))) {\n            // Skip current directory pointer and parent directory pointer\n            if (!in_array($filename, ['.', '..'])) {\n                $files[] = $filename;\n            }\n        }\n        closedir($dh);\n    } else {\n        echo "Failed to open FTP handle.\n";\n    }\n\n    return $files;\n}\n\nfunction downloadFileFromFtp($ftpPath, $localPath) {\n    if (@copy($ftpPath, $localPath)) {\n        echo "Successfully downloaded file: $ftpPath\n";\n    } else {\n        echo "Failed to download file: $ftpPath\n";\n    }\n}\n\n$bl_ftp_user = 'your-username';\n$bl_ftp_password = 'your-password';\n$bl_ftp_host = 'your-host.com';\n\n$ftpRoot = getFtpPath($bl_ftp_user, $bl_ftp_password, $bl_ftp_host);\n$files = listFilesFromFtp($ftpRoot);\n\nforeach ($files as $file) {\n    // Example: Download files with .txt extension\n    if (substr($file, -4) === '.txt') {\n        downloadFileFromFtp("{$ftpRoot}{$file}", "./local/{$file}");\n    }\n}\n\n?>