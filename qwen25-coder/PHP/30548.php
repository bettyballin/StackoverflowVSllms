function batchInsertSearchResults() {\n    $filePath = '/path/to/log/search-results.log';\n    if (!file_exists($filePath)) return;\n\n    $lines = file($filePath);\n    if (!$lines) return;\n\n    // Split into batches of 1000\n    $batches = array_chunk($lines, 1000);\n\n    foreach ($batches as $batch) {\n        $values = [];\n        foreach ($batch as $line) {\n            $data = json_decode(trim($line), true);\n            if (is_array($data) && !empty($data)) {\n                $values[] = "({$data['search_id']}, {$data['result_id']})";\n            }\n        }\n\n        // Insert values into the database\n        if (!empty($values)) {\n            $sql = "INSERT INTO search_results (search_id, result_id) VALUES " . implode(', ', $values);\n            $mysqli->query($sql);\n        }\n    }\n\n    // Clear processed lines or rotate files as needed.\n}\n\n// Call this function from the cron job script\nbatchInsertSearchResults();