<?php\n\n// Step 1: Connect to your MySQL database\ntry {\n    $pdo = new PDO('mysql:host=localhost;dbname=your_database', 'username', 'password');\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    die("Could not connect to the database: " . $e->getMessage());\n}\n\n// Step 2: Fetch all menu items\n$stmt = $pdo->query('SELECT * FROM your_table ORDER BY parent_menu_id, weight');\n$menuItems = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n// Step 3: Build a tree structure\n$tree = [];\n\nforeach ($menuItems as $item) {\n    if ($item['parent_menu_id'] == 0) {\n        // Top-level menu items\n        $tree[$item['id']] = ['info' => $item, 'children' => []];\n    } else {\n        // Sub-menu items\n        $tree[$item['parent_menu_id']]['children'][$item['id']] = [\n            'info' => $item,\n            'children' => []\n        ];\n    }\n}\n\n// Step 4: Function to display the hierarchical menu\nfunction buildMenu($items) {\n    echo '<ul>';\n    foreach ($items as $item) {\n        echo '<li>' . htmlspecialchars($item['info']['menu_title']);\n        \n        if (!empty($item['children'])) {\n            buildMenu($item['children']);\n        }\n        \n        echo '</li>';\n    }\n    echo '</ul>';\n}\n\n// Step 5: Display the menu\nbuildMenu($tree);\n\n?>