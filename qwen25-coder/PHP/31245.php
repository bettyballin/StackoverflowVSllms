// Prepare an insert statement and an update statement\n$stmt_insert = $db->prepare("INSERT INTO topten (title, path, visitors, time) VALUES (?, ?, ?, ?)");\n$stmt_update = $db->prepare("UPDATE topten SET visitors = visitors + ? WHERE title = ?");\n\nforeach($results as $printresults) {\n    $title = $printresults['title'];\n    $path = $printresults['path'];\n    $visitors = $printresults['visitors'];\n    $time = time(); // or get the timestamp in your preferred way\n\n    // Check if the record exists\n    $stmt_check = $db->prepare("SELECT title FROM topten WHERE title = ?");\n    $stmt_check->execute([$title]);\n    $record_exists = $stmt_check->fetch(PDO::FETCH_ASSOC);\n\n    if ($record_exists) {\n        // Record exists, update visitors count\n        $stmt_update->execute([$visitors, $title]);\n    } else {\n        // Record does not exist, insert new record\n        $stmt_insert->execute([$title, $path, $visitors, $time]);\n    }\n}