<?php\n\nfunction normalizeString($string) {\n    // Define words to ignore at the start of titles\n    $ignoreWords = ['The', 'A', 'An'];\n    \n    // Decode UTF-8 string and convert it to lower case\n    $normal = mb_strtolower($string, "UTF-8");\n    \n    // Remove punctuation except apostrophes\n    $normal = preg_replace('/[^\p{L}\p{N}\' ]/u', '', $normal);\n    \n    // Strip ignored words at the start of the title\n    foreach ($ignoreWords as $word) {\n        if (strpos($normal, mb_strtolower($word . ' ', "UTF-8")) === 0) {\n            $normal = substr($normal, mb_strlen($word . ' ', "UTF-8"));\n        } elseif ($normal === mb_strtolower($word, "UTF-8")) {\n            // In case the title is just one of the ignored words\n            $normal = '';\n        }\n    }\n    \n    // Normalize characters with accents and others to their base form (e.g., ã => a)\n    $normal = normalizer_normalize($normal, Normalizer::FORM_KD);\n    $normal = preg_replace('/\p{Mn}/u', '', $normal); // Remove diacritics\n    \n    return trim($normal);\n}\n\n// Example usage\n$title = "The Ärt of War";\n$sortValue = normalizeString($title);\n\necho "Normalized Sort Value: " . $sortValue;\n\n?>