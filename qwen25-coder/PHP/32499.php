<?php\nsession_start();\n$text = substr(str_shuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"), 0, 6);\n$_SESSION['captcha'] = $text;\n\n$width = 120;\n$height = 40;\n$image = imagecreatetruecolor($width, $height);\n\n// Colors\n$bgColor = imagecolorallocate($image, 255, 255, 255);\n$textColor = imagecolorallocate($image, 20, 40, 100);\n\nimagefilledrectangle($image, 0, 0, $width - 1, $height - 1, $bgColor);\n\n// Path to a small font file\n$fontFile = 'path/to/small-font.ttf';\n\n// Add text\nimagettftext($image, 24, 0, 5, 30, $textColor, $fontFile, $text);\n\nheader('Content-Type: image/png');\nimagepng($image);\nimagedestroy($image);\n?>