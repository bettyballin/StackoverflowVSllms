<?php\n\n// URL of the login page\n$loginUrl = 'https://example.com/login';\n// URL of the page to access after logging in\n$targetUrl = 'https://example.com/target_page';\n\n// Authentication data\n$username = 'your_username';\n$password = 'your_password';\n\n// Initialize session and cookies\n$ch = curl_init();\n// This is where we will store all the details from response\n$responseCookies = '';\n\n// Step 1: Log in to get the session information/cookie\ncurl_setopt($ch, CURLOPT_URL, $loginUrl);\ncurl_setopt($ch, CURLOPT_POST, true);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query([\n    'username' => $username,\n    'password' => $password\n]));\ncurl_setopt($ch, CURLOPT_COOKIEJAR, '/tmp/cookie.txt'); // Store cookies here\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n\n$responseFromLogin = curl_exec($ch);\n\nif (strpos($responseFromLogin, 'Login successful') !== false) {\n    echo "Logged in successfully.\n";\n} else {\n    echo "Failed to log in.\n";\n}\n\n// Step 2: Use the session information/cookie to access other pages\ncurl_setopt($ch, CURLOPT_URL, $targetUrl);\ncurl_setopt($ch, CURLOPT_COOKIEFILE, '/tmp/cookie.txt'); // Send cookies stored in this file\n\n$responseFromTarget = curl_exec($ch);\n\nif ($responseFromTarget) {\n    echo "Content of the target page:\n";\n    echo $responseFromTarget;\n} else {\n    echo "Failed to get content from target page.\n";\n}\n\ncurl_close($ch);\n?>