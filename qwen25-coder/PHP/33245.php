// Database connection setup with MySQLi, assuming $conn is your mysqli object\nfunction fetchAllData($tableName) {\n    $query = "SELECT * FROM {$tableName}";\n    $result = mysqli_query($GLOBALS['conn'], $query);\n    \n    if (!$result) {\n        throw new Exception("Database query failed: " . mysqli_error($GLOBALS['conn']));\n    }\n    \n    return $result;\n}\n\nfunction displayInfo($result, callable $displayFunction) {\n    while ($row = mysqli_fetch_array($result)) {\n        $displayFunction($row);\n    }\n}\n\n// Example of a specific display function\nfunction displayTableData(array $row) {\n    echo "<tr><td>{$row['field1']}</td><td>{$row['field2']}</td></tr>\n";\n}\n\n// Usage\ntry {\n    $conn = new mysqli('host', 'user', 'password', 'database');\n    \n    if ($conn->connect_error) {\n        throw new Exception("Connection failed: " . $conn->connect_error);\n    }\n\n    $result = fetchAllData('table');\n    displayInfo($result, 'displayTableData');\n\n} catch (Exception $e) {\n    echo "Error: {$e->getMessage()}";\n}