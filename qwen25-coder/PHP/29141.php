<?php\n$db = pg_connect("host=localhost port=5432 dbname=lang user=user password=password") or die(":(");\npg_set_client_encoding($db, "UTF-8");\n\nif (array_key_exists('sub', $_REQUEST)) {\n    $lan = $_REQUEST['lan'];\n\n    // Use prepared statements\n    $query = 'INSERT INTO table1 (japan) VALUES ($1)';\n    $result = pg_prepare($db, "my_query", $query);\n    if (!$result) {\n        die("Error in preparing query: ".pg_last_error());\n    }\n\n    $result = pg_execute($db, "my_query", array($lan));\n    if (!$result) {\n        die("Error in executing query: ".pg_last_error());\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html lang="ja">\n<head>\n    <meta charset="UTF-8">\n    <title>Insert Japanese Text</title>\n</head>\n<body>\n  <form action="" method="get">\n    <input type="text" name="lan" />\n    <input type="submit" name="sub" value="Submit" />\n  </form>\n</body>\n</html>