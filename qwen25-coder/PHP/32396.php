<?php\n\n/**\n * Implements hook_block_info().\n */\nfunction my_custom_module_block_info() {\n  $blocks = array();\n  \n  // Define a new block.\n  $blocks['api_data'] = array(\n    'info' => t('API Data'),\n    'cache' => DRUPAL_CACHE_PER_ROLE,\n  );\n  \n  return $blocks;\n}\n\n/**\n * Implements hook_block_view().\n */\nfunction my_custom_module_block_view($delta = '') {\n  $block = array();\n\n  switch ($delta) {\n    case 'api_data':\n      // Fetch data from external API.\n      $client = \Drupal::httpClient();\n      try {\n        $response = $client->request('GET', 'https://api.example.com/data');\n        if ($response->getStatusCode() == 200) {\n          $data = json_decode($response->getBody(), true);\n          $block['content'] = my_custom_module_render_api_data($data);\n        }\n      } catch (\Exception $e) {\n        \Drupal::logger('my_custom_module')->error('Error fetching data from API: @message', array('@message' => $e->getMessage()));\n        $block['content'] = t('An error occurred while loading data.');\n      }\n      break;\n  }\n\n  return $block;\n}\n\n/**\n * Helper function to render the fetched data.\n */\nfunction my_custom_module_render_api_data($data) {\n  // Process and create markup for the API data.\n  return theme_item_list(array(\n    'items' => array_map(function ($item) { return t('@title - @description', ['@title' => $item['title'], '@description' => $item['description']]); }, \n    $data),\n  ));\n}