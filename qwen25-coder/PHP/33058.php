<?php\nheader('Content-Type: text/plain');\n\n// Assume messages are fetched from a database or other storage\nfunction getNewMessages($lastMessageId) {\n    // Simulate fetching new messages\n    $messages = [\n        1 => "Hello, world!",\n        2 => "Welcome to the chat.",\n        // Add more messages as needed...\n    ];\n\n    $newMessages = [];\n    foreach ($messages as $id => $message) {\n        if ($id > $lastMessageId) {\n            $newMessages[] = ["id" => $id, "text" => $message];\n        }\n    }\n\n    return json_encode($newMessages);\n}\n\n// Check for the last message ID received by the client\n$lastMessageId = isset($_GET['lastMessageId']) ? intval($_GET['lastMessageId']) : 0;\n\nwhile (true) {\n    $messagesJson = getNewMessages($lastMessageId);\n\n    if (!empty($messagesJson)) {\n        echo $messagesJson;\n        break;\n    }\n\n    // Sleep for a short period to avoid high CPU usage\n    sleep(5);\n}\n?>