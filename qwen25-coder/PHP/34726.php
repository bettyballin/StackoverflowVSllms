<?php\n// Preprocess inputs\n$first_name = trim($first_name) === "" ? null : "'".mysqli_real_escape_string($conn, $first_name)."'";\n$last_name = trim($last_name) === "" ? null : "'".mysqli_real_escape_string($conn, $last_name)."'";\n$email_add = trim($email_add) === "" ? null : "'".mysqli_real_escape_string($conn, $email_add)."'";\n$password = trim($password) === "" ? null : "'".mysqli_real_escape_string($conn, $password)."'";\n$gender = trim($gender) === "" ? null : "'".mysqli_real_escape_string($conn, $gender)."'";\n$city = trim($city) === "" ? null : "'".mysqli_real_escape_string($conn, $city)."'";\n$DOB = trim($DOB) === "" ? "NULL" : "'".mysqli_real_escape_string($conn, $DOB)."'"; // For dates, NULL needs to be unquoted\n$pin = trim($pin) === "" ? "NULL" : (int)$pin; // Convert pin to integer or use quotes for string\n\n// Prepare the query using prepared statements\n$stmt = $conn->prepare("INSERT INTO customer(first_name, last_name, email, password, gender, city, dob, pin) VALUES (?, ?, ?, ?, ?, ?, ?, ?)");\n$stmt->bind_param("sssssisi", $first_name, $last_name, $email_add, $password, $gender, $city, $DOB, $pin);\n$stmt->execute();\n\nif ($stmt->affected_rows > 0) {\n    echo "New record created successfully";\n} else {\n    echo "Error: " . $stmt->error;\n}\n$stmt->close();\n?>