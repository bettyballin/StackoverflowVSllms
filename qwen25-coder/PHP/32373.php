<?php\n\n$string = "http://foo.bar.com/some_directory/xx/a12.php?whatever=youwant";\n\n// Regular expression pattern\n$pattern = '/\/([a-z]{2})\/([^\.]+)\.php/';\n\nif (preg_match($pattern, $string, $matches)) {\n    $xxPart = $matches[1]; // This will be "xx"\n    $a12Part = $matches[2]; // This will be "a12"\n\n    echo "Extracted 'xx': " . htmlspecialchars($xxPart) . "\n";\n    echo "Extracted 'a12': " . htmlspecialchars($a12Part) . "\n";\n} else {\n    echo "No matches found.";\n}\n\n?>