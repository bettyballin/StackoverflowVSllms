function getThumbnailPath($site_path, $photo_url) {\n    if (empty($photo_url)) {\n        return false;\n    }\n\n    // Construct the base file path\n    $file = $site_path . 'images/userphoto/' . $photo_url;\n\n    // Check if the original file exists\n    if (!file_exists($file)) {\n        return false;\n    }\n\n    // Extract the file extension assuming a 3-character extension without dot, e.g., "jpg"\n    $extension = substr($photo_url, -4);\n    \n    // Ensure it starts with a dot (e.g., ".jpg")\n    if (strpos($extension, '.') !== 0) {\n        $extension = '.' . $extension;\n    }\n\n    // Remove the extension and append "_thumb" or "_thumb1"\n    $thumbnail_name = substr_replace($photo_url, '_thumb' . $extension, -strlen($extension));\n\n    // Check if the thumbnail file exists\n    $thumbnail_path = $site_path . 'images/userphoto/' . $thumbnail_name;\n    if (file_exists($thumbnail_path)) {\n        return $thumbnail_name;\n    }\n\n    return false;\n}\n\n// Usage\n$photo_url = '2/34/12/thepicture.jpg';\n$thumbnail_url = getThumbnailPath('/path/to/site/', $photo_url);\n\nif ($thumbnail_url) {\n    echo "Thumbnail URL: " . $thumbnail_url;\n} else {\n    echo "Thumbnail not found.";\n}