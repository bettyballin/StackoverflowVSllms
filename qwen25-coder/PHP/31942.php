$css = "body { background: #f00; font: 12px Arial; }";\n\npreg_match_all('/(?<selector>[A-Za-z0-9#._\[\]=]+)\s*{(?:(?:\s*(?<properties>[A-Za-z0-9-_]+)\s*:\s*(?<values>[^;]+);\s*)+)/', $css, $matches);\n\n$results = [];\nforeach ($matches[0] as $index => $fullMatch) {\n    $selector = trim($matches['selector'][$index]);\n    preg_match_all('/\s*(?<properties>[A-Za-z0-9-_]+)\s*:\s*(?<values>[^;]+)/', $matches[2][$index], $props);\n    \n    $results[] = [\n        'full' => $fullMatch,\n        'selector' => $selector,\n        'properties' => array_map('trim', $props['properties']),\n        'values' => array_map('trim', $props['values'])\n    ];\n}\n\nprint_r($results);