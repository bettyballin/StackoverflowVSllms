<?php\n\n$xmlContent = <<<XML\n<factions>\n    <faction id="69" key="darnassus" name="Darnassus" reputation="35023"/>\n    <faction id="930" key="exodar" name="Exodar" reputation="26805"/>\n    <faction id="54" key="gnomereganexiles" name="Gnomeregan Exiles" reputation="23433"/>\n    <faction id="47" key="ironforge" name="Ironforge" reputation="29410"/>\n</factions>\nXML;\n\n$simplexml = simplexml_load_string($xmlContent);\n\n$reputationTiers = [\n    ['name' => 'Hated',      'max' => 4000,],\n    ['name' => 'Hostile',    'max' => 6000,],\n    ['name' => 'Unfriendly', 'max' => 8000,],\n    ['name' => 'Neutral',    'max' => 12000,],\n    ['name' => 'Friendly',   'max' => 20000,],\n    ['name' => 'Honored',    'max' => 35000,],\n    ['name' => 'Revered',    'max' => 87500,],\n    ['name' => 'Exalted',    'max' => 200000,]\n];\n\nforeach ($simplexml->faction as $faction) {\n    $currentRep = (int)$faction['reputation'];\n    \n    // Determine the tier\n    $tierInfo = end($reputationTiers); // Default to last tier if none match\n    foreach ($reputationTiers as $tier) {\n        if ($currentRep <= $tier['max']) {\n            $tierInfo = $tier;\n            break;\n        }\n    }\n    \n    echo sprintf("Faction: %s, Current Reputation: %d/%d, Tier: %s\n",\n        (string)$faction['name'],\n        $currentRep,\n        $tierInfo['max'],\n        $tierInfo['name']\n    );\n}\n\n?>