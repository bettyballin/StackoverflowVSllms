// Table structure: user_read_posts(user_id INT, post_id INT, PRIMARY KEY(user_id, post_id))\n\nfunction markForumUnread($userId) {\n    // Fetch unread forums based on the last visit timestamp\n    $lastVisitTimestamp = getUserLastVisitTimestamp($userId);\n    return getUnreadForumsSince($lastVisitTimestamp);\n}\n\nfunction markPostRead($userId, $postId) {\n    global $conn; // Assume $conn is your database connection\n    $stmt = $conn->prepare("INSERT INTO user_read_posts (user_id, post_id) VALUES (?, ?)");\n    $stmt->bind_param("ii", $userId, $postId);\n    $stmt->execute();\n}\n\nfunction getUserLastVisitTimestamp($userId) {\n    // Retrieve last visit timestamp from your users table\n}\n\nfunction getUnreadForumsSince($timestamp) {\n    global $conn;\n    $stmt = $conn->prepare("\n        SELECT DISTINCT f.forum_id \n        FROM forums f \n        JOIN posts p ON f.forum_id = p.post_parent_forum \n        WHERE p.created_at > ?\n        AND NOT EXISTS (\n            SELECT 1 FROM user_read_posts urp\n            WHERE urp.user_id = ? AND urp.post_id = p.post_id\n        )\n    ");\n    $stmt->bind_param("si", $timestamp, $userId);\n    $stmt->execute();\n    return $stmt->get_result()->fetch_all(MYSQLI_ASSOC);\n}