public function sortedPhotogsByLocation($location)\n{\n    $q = new Doctrine_RawSql();\n    $result = $q->select('{p.*}')\n                ->from('photographers p')\n                ->addComponent('p', 'Photographer')\n                ->where('p.city_id = ?', $location->id)\n                // Use CONCAT to safely concatenate strings in ORDER BY clause\n                ->orderBy('(CASE WHEN p.lname < ? THEN 1 ELSE 0 END), p.lname ASC', [$location->photographer_sort])\n                ->execute();\n    return $result;\n}