<?php\n\nfunction resizeImage($originalFile, $destFile, $newWidth, $newHeight) {\n    // Get the type of the image file (2 = JPEG, 3 = PNG)\n    $info = getimagesize($originalFile);\n    $imgType = $info[2];\n    \n    if ($imgType == IMAGETYPE_JPEG) {\n        $image = imagecreatefromjpeg($originalFile);\n    } elseif ($imgType == IMAGETYPE_PNG) {\n        $image = imagecreatefrompng($originalFile);\n    } else {\n        throw new Exception('Unsupported file type.');\n    }\n    \n    // Calculate the ratio if keeping proportions\n    // For this example, assume we want exact dimensions regardless of aspect ratio\n    $resizedImage = imagescale($image, $newWidth, $newHeight);\n    \n    if ($imgType == IMAGETYPE_JPEG) {\n        imagejpeg($resizedImage, $destFile, 80); // Quality is set to 80%\n    } elseif ($imgType == IMAGETYPE_PNG) {\n        imagepng($resizedImage, $destFile);\n    }\n    \n    // Free up memory\n    imagedestroy($image);\n    imagedestroy($resizedImage);\n}\n\n// Usage example:\n$originalFile = 'path/to/original/image.jpg';\n$destFile = 'path/to/resized/image.jpg';\n\ntry {\n    resizeImage($originalFile, $destFile, 800, 600); // Resize to 800x600\n} catch (Exception $e) {\n    echo 'Error: ', $e->getMessage(), "\n";\n}\n\n?>