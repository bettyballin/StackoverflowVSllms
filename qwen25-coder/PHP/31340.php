<?php\n\nfunction checkDomainAvailability($domain) {\n    // Remove any existing http:// or www.\n    $domain = preg_replace('/^https?:\/\/|www\./i', '', $domain);\n\n    // Assume .com for the example, you can modify this as needed\n    if (strpos($domain, '.') === false) {\n        $domain .= '.com';\n    }\n\n    // WHOIS Server for .com domains\n    $whoisServer = 'whois.verisign-grs.com';\n\n    // Open a socket connection to the WHOIS server on port 43\n    if ($connection = fsockopen($whoisServer, 43)) {\n        // Send the domain name, followed by new line\n        fputs($connection, $domain . "\r\n");\n\n        // Read response from the server\n        $response = '';\n        while (!feof($connection)) {\n            $response.= fgets($connection, 128);\n        }\n\n        fclose($connection);\n\n        if (strpos($response, 'No match for domain') !== false) {\n            return true; // Domain is available\n        } else {\n            return false; // Domain is not available\n        }\n    } else {\n        throw new Exception("Error connecting to the WHOIS server.");\n    }\n}\n\n// Example usage:\n$domain = "example.com";\n$isAvailable = checkDomainAvailability($domain);\n\nif ($isAvailable) {\n    echo $domain . ' is available!';\n} else {\n    echo $domain . ' is not available.';\n}\n?>