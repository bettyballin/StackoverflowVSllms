<?php\n\nfunction findBestMatch($patterns, $subject) {\n    $bestMatch = null;\n    $bestPosition = -1;\n    $maxLength = 0;\n\n    foreach ($patterns as $pattern) {\n        if (preg_match($pattern, $subject, $matches, PREG_OFFSET_CAPTURE)) {\n            $match = $matches[0];\n            $position = $match[1];\n            $length = strlen($match[0]);\n\n            // Check if this match is better\n            if ($bestPosition == -1 || \n                $position < $bestPosition || \n                ($position == $bestPosition && $length > $maxLength)) {\n                    \n                $bestMatch = $pattern;\n                $bestPosition = $position;\n                $maxLength = $length;\n            }\n        }\n    }\n\n    return [\n        'matchPattern' => $bestMatch,\n        'matchPosition' => $bestPosition,\n        'matchLength' => $maxLength\n    ];\n}\n\n$a = '#/[a-z]#i';\n$b = '/Moo/x';\n\n$patterns = [$a, $b];\n$subject = "some text with /A and Moo";\n\n$result = findBestMatch($patterns, $subject);\n\necho "Best Match Pattern: " . htmlspecialchars($result['matchPattern']) . "\n";\necho "Match Position: " . $result['matchPosition'] . "\n";\necho "Match Length: " . $result['matchLength'] . "\n";\n\n?>