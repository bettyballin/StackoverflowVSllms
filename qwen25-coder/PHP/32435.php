function clean_html($html) {\n    $dom = new DOMDocument();\n    // Suppress warnings for malformed HTML\n    @$dom->loadHTML(mb_convert_encoding($html, 'HTML-ENTITIES', 'UTF-8'));\n    $xpath = new DOMXPath($dom);\n    \n    // Remove unwanted elements and attributes here\n    foreach ($xpath->query('//*[not(self::a or self::p or self::strong)]') as $node) {\n        $node->parentNode->removeChild($node);\n    }\n    foreach ($xpath->query('//*[@style]') as $node) { // Example: remove style attribute\n        $node->removeAttribute('style');\n    }\n\n    return $dom->saveHTML();\n}\n\n$clean_html = clean_html($_POST['user_input']);\necho htmlspecialchars($clean_html, ENT_QUOTES);