function storeRegistrationKey($userId, $key) {\n    $db = JFactory::getDbo();\n    $query = $db->getQuery(true);\n\n    $query->insert($db->quoteName('#__registration_keys'))\n          ->columns($db->quoteName(['user_id', 'registration_key']))\n          ->values((int)$userId . ', ' . $db->quote($key));\n\n    try {\n        $db->setQuery($query);\n        $db->execute();\n    } catch (Exception $e) {\n        return false;\n    }\n\n    return true;\n}