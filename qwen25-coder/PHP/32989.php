<?php\n\nfunction getPoFileMsgids($filename) {\n    $msgids = [];\n    if (file_exists($filename)) {\n        $lines = file($filename, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);\n        $insideMsgid = false;\n        $currentMsgid = '';\n\n        foreach ($lines as $line) {\n            if (preg_match('/^msgid "(.*)"$/', $line, $matches)) {\n                // Start of a new msgid\n                if ($insideMsgid && $currentMsgid !== '') {\n                    $msgids[] = $currentMsgid;\n                    $currentMsgid = '';\n                }\n                $currentMsgid = $matches[1];\n                $insideMsgid = true;\n            } elseif (preg_match('/^"(.*)"$/', $line, $matches) && $insideMsgid) {\n                // Continuation of current msgid\n                $currentMsgid .= $matches[1];\n            } else {\n                // End of current msgid\n                if ($insideMsgid && $currentMsgid !== '') {\n                    $msgids[] = $currentMsgid;\n                    $currentMsgid = '';\n                    $insideMsgid = false;\n                }\n            }\n        }\n\n        // Add the last msgid if one is incomplete in the file\n        if ($insideMsgid && $currentMsgid !== '') {\n            $msgids[] = $currentMsgid;\n        }\n    } else {\n        throw new Exception("File not found: " . $filename);\n    }\n\n    return $msgids;\n}\n\ntry {\n    $msgids = getPoFileMsgids('mydomain.po');\n    foreach ($msgids as $msgid) {\n        // Do something with each msgid\n        do_something_awesome($msgid);\n    }\n} catch (Exception $e) {\n    echo 'Error: ',  $e->getMessage();\n}\n\nfunction do_something_awesome($msgid) {\n    // Place your logic here\n    echo "Message ID: " . $msgid . PHP_EOL;\n}\n?>