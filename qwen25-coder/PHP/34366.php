<?php\n\nfunction getYouTubeComments($videoId, $apiKey) {\n    $comments = [];\n    $url = "https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId=$videoId&key=$apiKey&order=time";\n\n    while (true) {\n        // Fetch the comments\n        $response = file_get_contents($url);\n        if (!$response) break;\n        $data = json_decode($response, true);\n\n        // Check for errors\n        if (isset($data['error'])) {\n            error_log('Error fetching YouTube comments: ' . print_r($data['error'], true));\n            break;\n        }\n\n        // Add the current page of comments to our list\n        foreach ($data['items'] as $item) {\n            $topLevelComment = $item['snippet']['topLevelComment'];\n            $comments[] = [\n                'text' => $topLevelComment['snippet']['textDisplay'],\n                'authorName' => $topLevelComment['snippet']['authorDisplayName'],\n                'publishedAt' => $topLevelComment['snippet']['publishedAt']\n            ];\n        }\n\n        // If there's a next page, prepare the URL to fetch it\n        if (isset($data['nextPageToken'])) {\n            $url = "https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId=$videoId&key=$apiKey&order=time&pageToken={$data['nextPageToken']}";\n        } else {\n            break;\n        }\n    }\n\n    return $comments;\n}\n\n$videoId = 'YOUR_VIDEO_ID';\n$apiKey = 'YOUR_YOUTUBE_API_KEY';\n$allComments = getYouTubeComments($videoId, $apiKey);\n\nforeach ($allComments as $comment) {\n    echo "Author: {$comment['authorName']} - Commented at: {$comment['publishedAt']}\n";\n    echo "Comment: {$comment['text']}\n\n";\n}\n\n?>