public function process() {\n    if ($this->request->is('post')) {\n        $actionType = $this->request->getData('action_type');\n\n        if ($actionType === 'register') {\n            // Handle registration logic\n            $user = $this->Users->newEntity();\n            $user = $this->Users->patchEntity($user, $this->request->getData());\n            if ($this->Users->save($user)) {\n                $this->Flash->success(__('Registration successful.'));\n                return $this->redirect(['action' => 'index']);\n            } else {\n                $this->Flash->error(__('Unable to register user."));\n            }\n        } elseif ($actionType === 'login') {\n            // Handle login logic\n            $user = $this->Auth->identify();\n            if ($user) {\n                $this->Auth->setUser($user);\n                return $this->redirect(['controller' => 'Users', 'action' => 'dashboard']);\n            } else {\n                $this->Flash->error(__('Invalid username or password, try again'));\n            }\n        }\n    }\n}