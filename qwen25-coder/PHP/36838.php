function addRoundedCorners($src, $dest, $radius = 12) {\n    $im = imagecreatefromjpeg($src);\n    if (!$im) return false;\n\n    $width = imagesx($im);\n    $height = imagesy($im);\n\n    // Create a mask for the rounded corners\n    $mask = imagecreatetruecolor($width, $height);\n    $transparent = imagecolorallocate($mask, 255, 0, 255);\n    imagecolortransparent($mask, $transparent);\n    imagefilledellipse($mask, $radius - 1, $radius - 1, $radius * 2, $radius * 2, $transparent);\n    imagefilledrectangle($mask, 0, $radius, $width, $height - $radius, $transparent);\n    imagefilledellipse($mask, $width - $radius + 1, $radius - 1, $radius * 2, $radius * 2, $transparent);\n    imagefilledrectangle($mask, $radius, 0, $width - $radius, $height, $transparent);\n    imagefilledellipse($mask, $radius - 1, $height - $radius + 1, $radius * 2, $radius * 2, $transparent);\n    imagefilledellipse($mask, $width - $radius + 1, $height - $radius + 1, $radius * 2, $radius * 2, $transparent);\n\n    // Merge mask and original image\n    imagesavealpha($mask, true);          \n    imagealphablending($im, false);\n    imagesetbrush($im, $mask);\n    imagefilledrectangle($im, 0, 0, $width - 1, $height - 1, IMG_COLOR_BRUSHED);\n\n    // Save the result\n    imagejpeg($im, $dest);\n    imagedestroy($im);\n    imagedestroy($mask);\n}