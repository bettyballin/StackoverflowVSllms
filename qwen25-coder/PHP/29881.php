// Function to get a database connection\nfunction getDatabaseConnection() {\n    $conn = new mysqli('host', 'username', 'password', 'database');\n    if ($conn->connect_error) {\n        die("Connection failed: " . $conn->connect_error);\n    }\n    return $conn;\n}\n\n// Example usage\n$conn = getDatabaseConnection();\nif ($conn) {\n    // Perform database operations here\n    $result = $conn->query("SELECT * FROM table");\n    \n    if ($result) {\n        while($row = $result->fetch_assoc()) {\n            // Process each row\n        }\n        $result->free();\n    }\n\n    // Close the connection when done\n    $conn->close();\n}