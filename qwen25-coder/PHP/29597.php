<?php\n$fileName = basename($_GET['textFile']); // Sanitize filename to prevent directory traversal\n\n$fileFullPath = 'text/' . $fileName . '.txt';\n\nif (file_exists($fileFullPath)) {\n    // Use file_get_contents with SEEK_END for better performance on large files\n    $handle = fopen($fileFullPath, "r");\n    fseek($handle, -1, SEEK_END);\n\n    if (fgetc($handle) !== "\n") { // If last character isn't a newline, prepend it\n        fseek($handle, -1, SEEK_cur);\n        $lines[] = fgets($handle);\n    } else {\n        // Last line might be empty if the file ends with a newline\n        while (($line = fgets($handle)) !== false) {\n            if ($line !== PHP_EOL && $line !== "\r\n") {\n                $lines[] = trim($line); // Trim to remove EOL characters\n            }\n        }\n    }\n\n    fclose($handle);\n    \n    echo array_pop($lines); // Output the last line\n} else {\n    http_response_code(404);\n    echo 0;\n}\n?>