require_once 'path/to/htmlpurifier/HTMLPurifier.auto.php';\n\n$config = HTMLPurifier_Config::createDefault();\n$config->set('Core.Encoding', 'UTF-8'); // replace with your encoding\n$config->set('HTML.Doctype', 'XHTML 1.0 Transitional'); // choose doctype\n\n// Define allowed tags and attributes if needed\n$config->set('HTML.AllowedElements', array('p', 'br', 'a', 'strong', 'em')); // specify permitted tags\n$config->set('CSS.AllowedProperties', array()); // disallow all CSS properties, or specify as needed\n\n$purifier = new HTMLPurifier($config);\n\n// $user_html comes from WMD Editor\n$safe_html = $purifier->purify($user_html);