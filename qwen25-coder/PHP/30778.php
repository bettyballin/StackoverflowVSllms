<?php\nsession_start();\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['logout'])) {\n    // Get the current username from session\n    $username = $_SESSION['username'];\n\n    // Unset all session variables\n    session_unset();\n\n    // Destroy the session cookie\n    if (ini_get("session.use_cookies")) {\n        $params = session_get_cookie_params();\n        setcookie(session_name(), '', time() - 42000,\n            $params["path"], $params["domain"],\n            $params["secure"], $params["httponly"]\n        );\n    }\n\n    // Destroy the session\n    session_destroy();\n\n    // Connect to your database\n    $db = new PDO('mysql:host=localhost;dbname=testDB', 'dbuser', 'dbpass');\n\n    // Set user status to offline in the database\n    $stmt = $db->prepare("UPDATE users SET is_online = 0 WHERE username = :username");\n    $stmt->execute([':username' => $username]);\n\n    // Redirect or show a message\n    header('Location: login.php');\n}\n?>