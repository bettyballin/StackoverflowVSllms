<?php\n// Sample data retrieval from MySQL\n$pdo = new PDO('mysql:host=localhost;dbname=test', 'root', '');\n$sql = "SELECT id, title, parent_id FROM menu_items";\n$stmt = $pdo->query($sql);\n$menuItems = $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n// Function to build a nested array with hierarchical data\nfunction buildTree(array $elements, $parentId = 0) {\n    $branch = [];\n    foreach ($elements as $element) {\n        if ($element['parent_id'] == $parentId) {\n            $children = buildTree($elements, $element['id']);\n            // Append children to the current element\n            if ($children) {\n                $element['children'] = $children;\n            }\n            $branch[] = $element;\n        }\n    }\n    return $branch;\n}\n\n// Function to generate URLs recursively\nfunction generateUrls(array $items, $base = '') {\n    foreach ($items as $item) {\n        $fullPath = rtrim($base . '/' . strtolower(str_replace(' ', '-', $item['title'])), '/');\n        echo "<li><a href=\"{$fullPath}\">" . htmlspecialchars($item['title']) . "</a>";\n        if (isset($item['children'])) {\n            echo '<ul>';\n            generateUrls($item['children'], $fullPath);\n            echo '</ul>';\n        }\n        echo '</li>';\n    }\n}\n\n// Build the menu tree\n$menuTree = buildTree($menuItems);\n\n// Start outputting menu HTML with URLs\necho '<ul>';\ngenerateUrls($menuTree);\necho '</ul>';\n?>