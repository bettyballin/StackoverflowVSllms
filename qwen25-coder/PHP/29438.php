function countNeedlesInHaystack($needle, $haystack) {\n    // Prepare a case-insensitive pattern for matching\n    $pattern = '/\b(' . implode('|', array_map(function($n) { return preg_quote($n, '/'); }, $needle)) . ')\b/i';\n\n    $result = [];\n    \n    foreach ($haystack as $string) {\n        // Split the string into words\n        $words = preg_split('/\s+/', strtolower($string));\n        \n        // Use a set to keep track of matched needles\n        $matchedNeedles = [];\n\n        foreach ($words as $word) {\n            // Check if any needle is at the beginning of the word\n            if (preg_match($pattern, $word, $matches)) {\n                $matchedNeedles[$matches[1]] = true;\n            }\n        }\n\n        // Count how many unique needles matched\n        $result[$string] = count($matchedNeedles);\n    }\n\n    return $result;\n}\n\n$needle = array('ba', 'hot', 'resta');\n$haystack = array(\n    'Southern Hotel',\n    'Grange Restaurant & Hotel',\n    'Austral Hotel',\n    'Barsmith Hotel',\n    'Errestas'\n);\n\n$result = countNeedlesInHaystack($needle, $haystack);\nprint_r($result);