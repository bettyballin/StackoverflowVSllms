function homepage($userId = null)\n{\n    // Read the user ID from session\n    $userId = $this->Session->read('User.UserId');\n\n    if (!$userId) {\n        // Handle no user ID in session\n        $this->Flash->error('User ID not found in session');\n        return $this->redirect(['controller' => 'users', 'action' => 'login']);\n    }\n\n    // Use the user ID as needed\n    $this->set(compact('userId'));\n}