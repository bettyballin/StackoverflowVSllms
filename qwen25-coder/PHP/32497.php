function parse_malformed_json($malformedJson) {\n    // Remove trailing commas in objects/arrays\n    $cleanedJson = preg_replace('/,\s*([\]}])/', '$1', $malformedJson);\n    \n    // Add quotes around property names if they are not already quoted\n    $cleanedJson = preg_replace('/([{,]\s*)([a-zA-Z_][\w]*):/m', '$1"$2":', $cleanedJson);\n\n    return json_decode($cleanedJson);\n}\n\n$malformedJsonString = '{foo:"bar",}';\n$parsedData = parse_malformed_json($malformedJsonString);\n\nif ($parsedData !== null) {\n    echo "Parsed Data: ";\n    print_r($parsedData);\n} else {\n    echo 'Failed to parse JSON.';\n}