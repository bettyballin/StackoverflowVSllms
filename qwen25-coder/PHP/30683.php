class Debug {\n    private $logQueries = false; // Set to true for debugging\n\n    public function logQuery($query) {\n        if ($this->logQueries) {\n            file_put_contents('queries.log', $query . PHP_EOL, FILE_APPEND);\n        }\n    }\n}\n\nfunction processRecord($record) {\n    // Assume some processing here\n    $sql = buildComplexSQLQuery($record);\n    \n    // Log query conditionally\n    $debug = new Debug();\n    $debug->logQuery($sql);\n\n    // Execute query and other operations...\n\n    // Unset large objects or variables if no longer needed\n    unset($sql);\n    unset($debug);\n}\n\n// Example usage in your import script\nwhile (($data = fgetcsv($fileHandle)) !== FALSE) {\n    processRecord($data);\n}