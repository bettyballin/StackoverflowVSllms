class User {\n    private $dbconn;\n\n    public function __construct() {\n        // Attempt to connect to the database\n        $this->dbconn = pg_connect("host=YourHost dbname=YourDB user=YourUser password=YourPassword");\n        \n        if (!$this->dbconn) {\n            throw new Exception('Could not establish a connection to the database.');\n        }\n    }\n\n    public function connection($email, $password) {\n        // Prepare and execute parameterized query\n        $result = pg_prepare($this->dbconn, "check_user", "SELECT passhash_md5 FROM users WHERE email=$1;");\n        \n        if ($result) {\n            $passHashResults = pg_execute($this->dbconn, "check_user", array($email));\n            \n            if ($passHashResults && pg_num_rows($passHashResults) > 0) {\n                $row = pg_fetch_assoc($passHashResults);\n                \n                // Verify password (ensure to use a strong hashing algorithm like bcrypt)\n                return password_verify($password, $row['passhash_md5']);\n            }\n        }\n\n        return false;\n    }\n}