$output = "<loginsuccess>";\n\n// Check if there is at least one row in the result set\nif ($row = mysql_fetch_array($result)) {\n    // Rewind the result pointer back to the start after checking\n    mysql_data_seek($result, 0);\n    \n    for ($i = 1; $row = mysql_fetch_array($result); $i++) {\n        $output .= "<keyword>" . htmlspecialchars($_POST['keyword']) . "</keyword><name>" . htmlspecialchars($row['url']) . "</name><occur>" . htmlspecialchars($row['occurrences']) . "</occur><queryTime>" . substr(($end_time - $start_time), 0, 5) . "</queryTime>";\n    }\n} else {\n    $output .= "no";\n}\n\n$output .= "</loginsuccess>";