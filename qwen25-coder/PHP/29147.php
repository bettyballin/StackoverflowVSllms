// Example using mysqli\n$connection = new mysqli("your_host", "your_username", "your_password", "your_database");\n\nif ($connection->connect_error) {\n    die("Connection failed: " . $connection->connect_error);\n}\n\n$stmt = $connection->prepare(\n    "SELECT s.*, UNIX_TIMESTAMP(s.`date`) AS `date`, f.userid as favoritehash\n     FROM songs s\n     LEFT JOIN favorites f ON f.favorite = s.id AND f.userid = ?\n    "\n);\n\n$userhash = mysqli_real_escape_string($connection, $userhash);\n$stmt->bind_param("s", $userhash);\n$stmt->execute();\n$result = $stmt->get_result();\n\nwhile ($row = $result->fetch_assoc()) {\n    // process your results\n}\n\n$stmt->close();\n$connection->close();