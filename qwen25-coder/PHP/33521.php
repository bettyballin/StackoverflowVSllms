$search_dept = $_POST['search_dept'];\n\n$conn = odbc_connect($odbc_name, $user_name, $pass_wd);\n\nif ($conn) {\n    // Prepare the statement to use parameters.\n    $query_prepare = "SELECT person.* \n                      FROM department \n                      JOIN person \n                      ON department.department_id=person.department_id \n                      WHERE department.dept_name=?";\n\n    if($stmt = odbc_prepare($conn, $query_prepare)) {\n        // Bind the parameter\n        if(odbc_execute($stmt, array($search_dept))) {\n            echo '..stuff';\n            while ($row = odbc_fetch_array($stmt)) {\n                // ...echo stuff\n            }\n            echo '...stuff';\n        } else {\n            echo 'Query was unsuccessful: ' . odbc_errormsg();\n        }\n\n        // Free the statement resource when done.\n        odbc_free_result($stmt);\n    } else {\n        echo 'Prepare failed: ' . odbc_errormsg();\n    }\n\n    odbc_close($conn);  // Close the connection\n} else {\n    echo 'Unable to connect to database';\n}