function decodeValue($cookie) {\n    $matches = preg_match('/^(a|n|d|b|s|o)\:(.*)$/', urldecode($cookie), $match);\n    \n    if (!$matches || !isset($match[1])) {\n        return null; // non state cookie\n    }\n    \n    $type = $match[1];\n    $v = $match[2];\n\n    switch ($type) {\n        case 'n':\n            return floatval($v);\n        case 'd':\n            return date_create_from_format('U', strtotime($v));\n        case 'b':\n            return ($v == "1");\n        case 'a':\n            $all = [];\n            $values = explode('^', $v);\n            foreach ($values as $value) {\n                $all[] = decodeValue($value); // recursive call\n            }\n            return $all;\n        case 'o':\n            $all = [];\n            $values = explode('^', $v);\n            foreach ($values as $pair) {\n                list($key, $value) = explode('=', $pair);\n                $all[$key] = decodeValue($value); // recursive call\n            }\n            return $all;\n        default:\n            return $v;\n    }\n}\n\n// Example usage\n$encodedCookie = 'a:n:100^b:1^o:k=v';\n$result = decodeValue($encodedCookie);\nprint_r($result);