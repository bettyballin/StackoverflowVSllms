<?php\nsession_start();\n\n// Check if user is logged in\nif (!isset($_SESSION['logged_in']) || $_SESSION['logged_in'] !== true) {\n    header("HTTP/1.0 403 Forbidden");\n    echo "Access denied.";\n    exit();\n}\n\n// Assume image ID can be passed in URL as `image.php?id=123`\n$image_id = isset($_GET['id']) ? intval($_GET['id']) : 0;\n\nif ($image_id <= 0) {\n    header("HTTP/1.0 404 Not Found");\n    echo "Image not found.";\n    exit();\n}\n\n// Retrieve image path based on $image_id from your database\n$image_path = 'path_to_your_images/' . $image_id . '.jpg'; // Adjust file name or fetch from DB\n\nif (!file_exists($image_path)) {\n    header("HTTP/1.0 404 Not Found");\n    echo "Image not found.";\n    exit();\n}\n\n// Set the content type header to image/jpeg\nheader('Content-Type: image/jpeg');\n\n// Output the image\nreadfile($image_path);\n?>