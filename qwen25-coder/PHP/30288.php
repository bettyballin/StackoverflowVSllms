class dbal {\n    private $master;\n    private $slave;\n\n    public function __construct() {\n        $this->master = new mysqli('master_host', 'user', 'password', 'database');\n        $this->slave = new mysqli('slave_host', 'user', 'password', 'database');\n\n        if ($this->master->connect_error || $this->slave->connect_error) {\n            throw new Exception("Failed to connect to MySQL);\n        }\n    }\n\n    public function query($sql, $is_write = false) {\n        $connection = $is_write ? $this->master : $this->slave;\n        return $connection->query($sql);\n    }\n}\n\n// Usage example\n$db = new dbal();\n$db->query("SELECT * FROM table", false); // Read query to slave\n$db->query("INSERT INTO table (column) VALUES ('value')", true); // Write query to master