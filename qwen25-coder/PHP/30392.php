<?php\n$baseDir = __DIR__; // Set this to your desired base directory\n$currentPath = isset($_GET['path']) ? urldecode($_GET['path']) : '';\n$fullPath = $baseDir . '/' . $currentPath;\n\nif (!file_exists($fullPath) || !is_dir($fullPath)) {\n    die("Directory does not exist");\n}\n\n$files = scandir($fullPath);\n$directories = [];\n$fileList = [];\n\nforeach ($files as $file) {\n    if (in_array($file, ['.', '..'])) continue;\n    if (is_dir(realpath("$fullPath/$file"))) {\n        $directories[] = $file;\n    } else {\n        $fileList[] = $file;\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>File Browser</title>\n    <style>\n        ul { list-style: none; padding:0; margin: 0;}\n        a { display:block; text-decoration:none; color: #00f;}\n        a:hover { background-color: #eee;}\n    </style>\n</head>\n<body>\n<h1>Directory Listing</h1>\n<ul>\n<?php if ($currentPath !== '') : ?>\n    <li><a href="?path=<?= urlencode(substr_replace($currentPath, '', -strlen(end(explode('/', $currentPath))))); ?>">.. Parent Directory</a></li>\n<?php endif; ?>\n\n<?php foreach ($directories as $directory) : ?>\n    <li><a href="?path=<?= urlencode(rtrim("$currentPath/$directory", '/')); ?>"><?="$directory/" ?></a></li>\n<?php endforeach; ?>\n\n<?php foreach ($fileList as $file) : ?>\n    <li><a download="<?=basename($file); ?>" href="?download=<?=base64_encode(realpath("$fullPath/$file")); ?>"><?=$file; ?></a></li>\n<?php endforeach; ?>\n\n</ul>\n<?php\nif (isset($_GET['download'])) {\n    $filePath = base64_decode($_GET['download']);\n    if (file_exists($filePath) && is_file($filePath)) {\n        header('Content-Description: File Transfer');\n        header('Content-Type: application/octet-stream');\n        header('Content-Disposition: attachment; filename="' . basename($filePath) . '"');\n        header('Expires: 0');\n        header('Cache-Control: must-revalidate');\n        header('Pragma: public');\n        header('Content-Length: ' . filesize($filePath));\n        readfile($filePath);\n        exit;\n    }\n}\n?>\n</body>\n</html>