private function GenerateImage()\n{\n    $original = imagecreatefrompng($this->ImagePath());\n\n    $x = imagesx($original);\n    $y = imagesy($original);\n\n    $image = imagecreatetruecolor($x, $y); // Use true color for better handling of transparency\n\n    imagealphablending($image, false); // Turn off blending\n    imagesavealpha($image, true); // Save the alpha channel\n\n    imagecopyresampled($image, $original, 0, 0, 0, 0, $x, $y, $x, $y);\n\n    // Create a semi-transparent color if needed\n    $colour = imagecolorallocatealpha($image, $this->RGB[0], $this->RGB[1], $this->RGB[2], 0); // Last parameter is alpha (0-127)\n\n    imagealphablending($image, true); // Enable blending to mix colors correctly\n    imagefill($image, 0, 0, $colour);\n    imagealphablending($image, false); // Turn off blending again after filling\n\n    imagesavealpha($image, true); // Make sure the alpha channel is saved\n\n    $result = imagepng($image, $this->GeneratedPath());\n    \n    imagedestroy($original);\n    imagedestroy($image);\n\n    return $result;\n}