function convertAndSanitize($input) {\n    // Convert input from Windows-1251 to UTF-8\n    $utf8Input = iconv('Windows-1251', 'UTF-8//TRANSLIT', $input);\n    \n    // Use htmlspecialchars on the UTF-8 encoded string\n    return htmlspecialchars($utf8Input, ENT_QUOTES | ENT_HTML5, 'UTF-8');\n}\n\nforeach ($_POST as $key => $value) {\n    $_POST[$key] = convertAndSanitize($value);\n}\n\n// Now you can use the form data from $_POST safely\necho $_POST['yourFormFieldName'];