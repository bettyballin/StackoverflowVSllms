<?php\nrequire_once('connect.php');\n\ntry {\n    // Establishing connection using PDO\n    $pdo = new PDO("mysql:host=$host;dbname=$db;charset=utf8", $user, $password);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    $stmt = $pdo->query("SELECT text FROM cache_table ORDER BY RAND() LIMIT 1");\n    $row = $stmt->fetch();\n\n    if ($row) {\n        // Remove unnecessary whitespace and output JSON\n        $output = str_replace(["\n", "\r"], "", $row['text']);\n        header('Content-Type: application/json');\n        echo $output;\n    } else {\n        http_response_code(404);\n        echo json_encode(['error' => 'No data found']);\n    }\n\n} catch (PDOException $e) {\n    http_response_code(500);\n    echo json_encode(['error' => 'Database error: ' . $e->getMessage()]);\n}\n?>