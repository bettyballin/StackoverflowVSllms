<?php\n// Assuming $pdo is your PDO connection object\n\n// Start transaction\n$pdo->beginTransaction();\n\ntry {\n    // Check if the data exists (this will lock the row for other transactions)\n    $stmt = $pdo->prepare("SELECT * FROM your_table WHERE conditions FOR UPDATE");\n    $stmt->execute();\n    $dataExists = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if (!$dataExists) {\n        // Insert new data\n        $insertStmt = $pdo->prepare("INSERT INTO your_table (column1, column2) VALUES (:value1, :value2)");\n        $insertStmt->execute([':value1' => 'yourValue1', ':value2' => 'yourValue2']);\n    }\n\n    // Commit the transaction\n    $pdo->commit();\n} catch (\Exception $e) {\n    // Rollback in case of error\n    $pdo->rollBack();\n    throw $e;\n}\n?>