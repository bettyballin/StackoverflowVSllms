function getUserRecords($userId, $userRole) {\n    // Database connection\n    $conn = new mysqli('localhost', 'username', 'password', 'database');\n\n    if ($conn->connect_error) {\n        die("Connection failed: " . $conn->connect_error);\n    }\n\n    // Define access rules for each role\n    $accessRules = [\n        'city_user' => "WHERE cityId IN (SELECT cityId FROM user_cities WHERE userId = ?)",\n        'national_user' => "" // No restriction on national or higher-level users\n    ];\n\n    // Prepare SQL statement with dynamic conditions based on user roles\n    if(isset($accessRules[$userRole])) {\n        $sql = "SELECT * FROM records " . $accessRules[$userRole];\n    } else {\n        // Default behavior for unknown roles (should not happen)\n        return [];\n    }\n\n    // Use prepared statements to prevent SQL injection\n    $stmt = $conn->prepare($sql);\n    if ($stmt) {\n        $stmt->bind_param("i", $userId); // 'i' denotes the type is integer\n        $stmt->execute();\n        $result = $stmt->get_result();\n\n        $records = [];\n        while ($row = $result->fetch_assoc()) {\n            $records[] = $row;\n        }\n        $stmt->close();\n    } else {\n        echo 'Error preparing SQL query: ' . $conn->error;\n    }\n\n    $conn->close();\n    return $records;\n}