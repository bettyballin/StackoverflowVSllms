<?php\n\n// Assuming $pdo is a PDO connection to your database\n\n// Disable foreign key checks and autocommit\n$pdo->exec("SET autocommit=0;");\n$pdo->exec("SET foreign_key_checks=0;");\n\n$fileHandle = fopen('split_file', 'r');\n$insertCommands = [];\n$valuesBatch = [];\n\nwhile (($line = fgets($fileHandle)) !== false) {\n    // Process each line and prepare the data for insertion\n    $data = str_getcsv(trim($line));\n    $valuesBatch[] = "('" . implode("', '", array_map(fn($value) => $pdo->quote($value), $data)) . "')";\n\n    // Batch size can be adjusted\n    if (count($valuesBatch) == 1000) {\n        $insertCommands = implode(', ', $valuesBatch);\n        $query = "INSERT INTO your_table_name (col1, col2, col3) VALUES {$insertCommands};";\n        $pdo->exec($query);\n        $valuesBatch = [];\n    }\n}\n\n// Insert any remaining data\nif (!empty($valuesBatch)) {\n    $insertCommands = implode(', ', $valuesBatch);\n    $query = "INSERT INTO your_table_name (col1, col2, col3) VALUES {$insertCommands};";\n    $pdo->exec($query);\n}\n\nfclose($fileHandle);\n\n// Re-enable foreign key checks and commit transaction\n$pdo->exec("SET foreign_key_checks=1;");\n$pdo->commit();\n\n?>