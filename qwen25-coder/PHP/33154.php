<?php\n\nrequire 'RequestLoggerMiddleware.php';\nrequire 'Response.php';\n\n// Simulate a request handling process\nfunction handleRequest($request) {\n    // Simulate some processing and error condition\n    $response = new Response();\n    if (false) { // Condition to simulate an error\n        $response->setStatusCode(500);\n    }\n    \n    return $response;\n}\n\n// Middleware invocation around the request handler\n$middleware = new RequestLoggerMiddleware();\n\n$response = $middleware->handle(\n    ['uri' => '/some-path'],\n    function($request) {\n        return handleRequest($request);\n    }\n);\n\n?>