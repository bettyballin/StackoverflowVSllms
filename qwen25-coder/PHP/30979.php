<?php\n// your_module_name.module\n\n/**\n * Implementation of hook_nodeapi().\n */\nfunction your_module_name_nodeapi(&$node, $op, $arg = NULL, $teaser = FALSE) {\n  if ($op == 'view' && $node->type == 'article') {\n    // Replace the node link with a custom URL\n    $title_clean = drupal_clean_css_identifier(check_plain($node->title));\n    $node_url_custom = url("node/{$node->nid}/$title_clean", array('absolute' => TRUE));\n    \n    // Update all links within this node's view to use the custom URL\n    if (!empty($node->content['links'])) {\n      foreach ($node->content['links'] as &$link) {\n        if (isset($link['href']) && $link['href'] == "node/{$node->nid}") {\n          $link['href'] = "node/{$node->nid}/$title_clean";\n          $link['url'] = $node_url_custom;\n        }\n      }\n    }\n\n    // Ensure all other possible node links are adjusted.\n    if (isset($node->body)) {\n      $node->body = preg_replace('/node\/' . $node->nid . '\/?/', "node/{$node->nid}/$title_clean", $node->body);\n    }\n  }\n}