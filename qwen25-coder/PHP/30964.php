//get an unupdated record\n$arr_record;\nwhile(count($arr_record) > 0)\n{\n    //strings are derived from $arr_record\n    geocode($string1);\n    geocode($string2);\n    geocode($string3);\n    array_pop($arr_record);\n}\n\nfunction geocode($string) {\n   //if successful\n      update($coords);\n}\n\nfunction update($coords) {\n   //update the database\n   header('Location: http://localhost/thisfile.php');\n   exit(); // Add this line to stop execution after redirect\n}