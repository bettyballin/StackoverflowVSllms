foreach($userfolders as $uf) {\n    $uf = sprintf($uf, $user_id);\n    $uf = ltrim($uf,'/');\n    $path = trim($base . '/' . $uf);\n\n    // Debugging: Output paths and their states\n    echo "Checking path: ".escapeshellarg($path)."\n";\n    if (file_exists($path)) {\n        var_dump(lstat($path));\n    }\n\n    $res = is_dir($path);\n    $this->assertFalse($res, "Expected $path to not be a directory");\n}