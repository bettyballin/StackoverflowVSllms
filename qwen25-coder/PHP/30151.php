<?php\nif ($_SERVER["REQUEST_METHOD"] == "POST") {\n    $name = $_POST['name'];\n    $email = $_POST['email'];\n    $dataEntries = explode('|', $_POST['data_entries']); // Assuming data is separated by pipes\n\n    // Database connection\n    $mysqli = new mysqli("localhost", "user", "password", "database");\n\n    if ($mysqli->connect_error) {\n        die("Connection failed: " . $mysqli->connect_error);\n    }\n\n    // Insert into main table and get the last inserted ID\n    $stmt = $mysqli->prepare("INSERT INTO users (name, email) VALUES (?, ?)");\n    $stmt->bind_param("ss", $name, $email);\n    $stmt->execute();\n    $userId = $mysqli->insert_id;\n\n    // Insert into related data table for each entry\n    foreach ($dataEntries as $entry) {\n        $stmtData = $mysqli->prepare("INSERT INTO user_data_entries (user_id, data_entry) VALUES (?, ?)");\n        $stmtData->bind_param("is", $userId, trim($entry));\n        $stmtData->execute();\n    }\n\n    $stmt->close();\n    $stmtData->close();\n    $mysqli->close();\n\n    echo "Data inserted successfully.";\n}\n?>