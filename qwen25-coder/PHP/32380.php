<?php\n\n// Define your connection variables\n$localFile = '/path/to/local/file.xml';\n$remoteFile = '/path/to/remote/file.xml';\n$host = 'your.remote.host';\n$username = 'your_username';\n$password = 'your_password';\n\n// Create a new SSH2 connection\nif (!$connection = ssh2_connect($host, 22)) {\n    die('Connection failed');\n}\n\n// Authenticate using username and password\nif (!ssh2_auth_password($connection, $username, $password)) {\n    die('Authentication failed ... is the key file readable?');\n}\n\n// Create an SFTP session from the SSH connection\nif (!$sftp = ssh2_sftp($connection)) {\n    throw new \Exception("Unable to initiate SFTP session");\n}\n\n// Stream the file to the destination server\n$stream = fopen("ssh2.sftp://{$sftp}" . $remoteFile, 'w');\nif ($stream) {\n    if (file_exists($localFile)) {\n        // Read from local file and write it to the stream\n        if ($data_to_send = file_get_contents($localFile)) {\n            fwrite($stream, $data_to_send);\n            fclose($stream);\n            echo "File successfully moved to remote server";\n        } else {\n            throw new \Exception("Failed to read file");\n        }\n    } else {\n        throw new \Exception("Local file does not exist.");\n    }\n} else {\n    throw new \Exception("Failed to open the remote file stream.");\n}\n\n?>