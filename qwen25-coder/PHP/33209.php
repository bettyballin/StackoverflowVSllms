$filename = 'path/to/your/file.ext';\n$filesize = filesize($filename);\n\nif (isset($_SERVER['HTTP_RANGE'])) {\n    // Parse the range header to get start and end positions\n    $range = $_SERVER['HTTP_RANGE'];\n    list(, $range) = explode('=', $range);\n    if (!strpos($range, ',')) { // Single-range request\n        list($startPos, $endPos) = explode('-', $range);\n        if (empty($endPos)) {\n            $endPos = $filesize - 1;\n        }\n    } else { // Multiple ranges not supported\n        header('HTTP/1.1 416 Requested Range Not Satisfiable');\n        exit;\n    }\n\n    $startPos = intval($startPos);\n    if (!empty($endPos)) {\n        $endPos = intval($endPos);\n        if ($endPos > $filesize - 1) {\n            $endPos = $filesize - 1;\n        }\n    } else {\n        $endPos = $filesize - 1;\n    }\n\n    // Set the appropriate headers for partial content\n    header('HTTP/1.1 206 Partial Content');\n    header("Content-Range: bytes $startPos-$endPos/$filesize");\n} else {\n    // No range requested, send entire file\n    $startPos = 0;\n    $endPos = $filesize - 1;\n\n    // Set headers for full content\n    header("Content-Length: " . ($endPos - $startPos + 1));\n}\n\n// Common headers\nheader("Pragma: public");\nheader("Expires: 0");\nheader("Cache-Control: must-revalidate, post-check=0, pre-check=0");\nheader("Content-Type: application/octet-stream");\nheader("Content-Disposition: attachment; filename=\"" . basename($filename) . "\"");\nheader("Content-Transfer-Encoding: binary");\n\n// Open file and output the requested part\n$handle = @fopen($filename, 'rb');\nfseek($handle, $startPos);\nwhile (!feof($handle)) {\n    print fread($handle, min(1024 * 16, ($endPos - ftell($handle) + 1)));\n}\nfclose($handle);\nexit;