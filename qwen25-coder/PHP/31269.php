$str = "Check out www.example.com or visit http://example.org";\n\n// Use preg_replace_callback for more control\n$updatedString = preg_replace_callback(\n    '/(www\.[^\s]+)|(http:\/\/[^\s]+)/',\n    function ($matches) {\n        // If the match starts with 'www.', prepend 'http://'\n        if (strpos($matches[0], 'www.') === 0) {\n            return '<a href="http://' . $matches[0] . '">' . $matches[0] . '</a>';\n        }\n        // Otherwise, assume it's already a full URL\n        return '<a href="' . $matches[0] . '">' . $matches[0] . '</a>';\n    },\n    $str\n);\n\necho $updatedString;