<?php \nsession_start();\n// Initialize the array if the session variable does not exist\nif (!isset($_SESSION['sessRView'])) {\n    $_SESSION['sessRView'] = array();\n}\n\n// Get the current session array\n$RView = $_SESSION['sessRView'];\n\n// Create an associative array for the new product\n$newProduct = array(\n    "ID" => $row_rsPrd['PrdID'],\n    "RefCode" => $row_rsPrd['RefCode'],\n    "Name" => $row_rsPrd['Name']\n);\n\n// Check if the new product is already in the list to avoid duplicates\n$productExists = false;\nforeach ($RView as $product) {\n    if ($newProduct["ID"] == $product["ID"]) {\n        $productExists = true;\n        break;\n    }\n}\n\n// Add the new product if it does not exist\nif (!$productExists) {\n    array_unshift($RView, $newProduct);\n}\n\n// Remove the oldest product if there are more than 5 products\nif (count($RView) > 5) {\n    array_pop($RView);\n}\n\n// Update the session with the revised array\n$_SESSION['sessRView'] = $RView;\n\n// Display the last viewed products\necho "<ul>";\nforeach ($RView as $product) {\n    echo "<li><a href='?PrdID=" . htmlspecialchars($product["ID"]) . "'>" \n         . htmlspecialchars($product["RefCode"])\n         . "</a> : "\n         . htmlspecialchars($product["Name"])\n         . "</li>";\n}\necho "</ul>";\n?>