function foo() {\n    global $fu;\n    global $bah; // Mapping happens once here\n    if (something()) {\n        $fu->doSomething(); // Uses the already mapped $fu\n    } else {\n        $bah->doSomething(); // Uses the already mapped $bah\n    }\n}\n\nfunction bar() {\n    if (something()) {\n        global $fu;\n        $fu->doSomething();\n        // Mapping happens here for each call where 'something()' is true\n    } else {\n        global $bah;\n        $bah->doSomething();\n        // Mapping happens here for each call where 'something()' is false\n    }\n}