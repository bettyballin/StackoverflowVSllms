// Define the path to the user directory and ensure it exists\n$dirToCreate = ".." . $_SESSION['s_USER_URL'];\n@mkdir($dirToCreate, 0755, TRUE); // Use 0755 permissions instead of 0777 for better security\n\n// Define the full path to the file\n$ourFileName = $dirToCreate . "/index.php";\n\n// Open the file in write mode (creates the file if it doesn't exist)\n$ourFileHandle = fopen($ourFileName, 'w') or die("Can't open file");\nfclose($ourFileHandle);\n\n// Reopen the file in append mode to add data\n$ourFileHandle = fopen($ourFileName, 'a') or die("Can't write to file");\n\n// Data to write\n$stringData = "<?php echo 'Hi'; ?>";\n\n// Write data to the file\nfwrite($ourFileHandle, $stringData);\n\n// Close the file handle\nfclose($ourFileHandle);