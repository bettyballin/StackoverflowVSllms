<?php\n\nfunction isDuplicateEmail($email) {\n    try {\n        // Database connection code here, e.g., using PDO or MySQLi.\n        $pdo = new PDO('mysql:host=your_host;dbname=your_db', 'username', 'password');\n        $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n        $stmt = $pdo->prepare("SELECT COUNT(*) FROM users WHERE email = :email");\n        $stmt->execute(['email' => $email]);\n        \n        return (bool) $stmt->fetchColumn();\n    } catch (PDOException $e) {\n        // Log the error to a file or your logging service\n        error_log('Database error: ' . $e->getMessage());\n        \n        throw new Exception("Internal Error");\n    }\n}\n\n// Usage:\ntry {\n    if (isDuplicateEmail('test@example.com')) {\n        echo "Email already exists.";\n    } else {\n        echo "Email is available.";\n    }\n} catch (Exception $e) {\n    // Handle generic error message\n    echo "An unexpected error occurred. Please try again later.";\n}\n\n?>