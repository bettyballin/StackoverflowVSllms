$ftp_server = "host";\n$ftp_username = "username";\n$ftp_password = "password";\n\n// Connect to FTP server\n$conn_id = ftp_connect($ftp_server);\n$login_result = ftp_login($conn_id, $ftp_username, $ftp_password);\n\n$file_list = ftp_nlist($conn_id, "/path/");\n\nforeach ($file_list as $remote_file) {\n    // Temporary local path for the file\n    $local_temp_file = tempnam(sys_get_temp_dir(), 'ftp');\n    \n    // Download file from FTP server to temporary location\n    if (ftp_get($conn_id, $local_temp_file, $remote_file, FTP_BINARY)) {\n        // Determine MIME type locally\n        $mime_type = mime_content_type($local_temp_file);\n        \n        echo "File: " . basename($remote_file) . ", MIME Type: " . $mime_type . "\n";\n    } else {\n        echo "Failed to download file: " . basename($remote_file) . "\n";\n    }\n    \n    // Clean up temporary file\n    unlink($local_temp_file);\n}\n\n// Close FTP connection\nftp_close($conn_id);