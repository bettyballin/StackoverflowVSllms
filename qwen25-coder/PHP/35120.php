<?php\n$mysqli = new mysqli("localhost", "user", "password", "database");\n\nif ($mysqli->connect_error) {\n    die('Connect Error (' . $mysqli->connect_errno . ') ' . $mysqli->connect_error);\n}\n\n$stmt = $mysqli->prepare("\nSELECT * FROM table1 WHERE id = ? \nUNION ALL \nSELECT * FROM table1 WHERE id = ? AND NOT EXISTS (SELECT 1 FROM table1 WHERE id = ?)\nLIMIT 1;\n");\n\n$id_a = 'a';\n$id_b = 'b';\n\n$stmt->bind_param("sss", $id_a, $id_b, $id_a);\nif ($stmt->execute()) {\n    $result = $stmt->get_result();\n    while ($row = $result->fetch_assoc()) {\n        print_r($row);\n    }\n} else {\n    echo "Error: " . $mysqli->error;\n}\n\n$stmt->close();\n$mysqli->close();\n?>