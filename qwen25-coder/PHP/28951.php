<?php\n\nfunction splitGIFs($inputPath) {\n    $handle = fopen($inputPath, "rb");\n    if ($handle) {\n        $buffer = '';\n        $counter = 1;\n        \n        while (!feof($handle)) {\n            // Read the first few bytes to check for GIF signature\n            $signature = fread($handle, 6);\n            \n            if ($signature === 'GIF87a' || $signature === 'GIF89a') {\n                // Reset buffer and put back signature since it's part of the image data\n                $buffer = $signature;\n                \n                while (true) {\n                    $byte = fread($handle, 1);\n                    \n                    // Append byte to buffer\n                    $buffer .= $byte;\n                    \n                    // Check if we've reached the end of a GIF file\n                    // This is simplified and assumes images don't contain '0x00' at non-end positions\n                    if ($byte == chr(0) && strlen($buffer) > 0) {\n                        break;\n                    }\n                }\n                \n                // Write buffer to new GIF file\n                $outputPath = "output_$counter.gif";\n                file_put_contents($outputPath, substr($buffer, 0, -1)); // Exclude the last character used as a delimiter check\n                $counter++;\n            } else {\n                // Move back by 6 bytes if we didn't find a GIF signature and read one byte further in each loop\n                fseek($handle, -5, SEEK_CUR);\n            }\n        }\n\n        fclose($handle);\n    }\n}\n?>