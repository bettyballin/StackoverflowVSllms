function markNewsAsReadForGuest($newsItemId) {\n        if (!isset($_COOKIE['read_articles'])) {\n            $_COOKIE['read_articles'] = [];\n        } else {\n            $_COOKIE['read_articles'] = json_decode($_COOKIE['read_articles'], true);\n        }\n        $articles = array_unique(array_merge($_COOKIE['read_articles'], [$newsItemId]));\n        setcookie('read_articles', json_encode($articles), time() + (4 * 7 * 24 * 60 * 60)); // 4 weeks\n    }\n\n    function getNewArticlesForGuest() {\n        global $conn;\n        $knownArticles = isset($_COOKIE['read_articles']) ? json_decode($_COOKIE['read_articles'], true) : [];\n        $ids = implode(',', array_map(function($i) { return (int)$i; }, $knownArticles));\n        $result = $conn->query("SELECT * FROM news_items WHERE id NOT IN ($ids)");\n        return $result;\n    }