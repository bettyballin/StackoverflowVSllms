<?php\nfunction getClosestLocations($userLat, $userLon, $radius = 50) { // Radius in kilometers\n    // Database connection\n    $host = 'localhost';\n    $db = 'your_database_name';\n    $username = 'your_db_username';\n    $passwd = 'your_db_password';\n\n    try {\n        $pdo = new PDO("mysql:host=$host;dbname=$db", $username, $passwd);\n        $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n        // Prepare the query to calculate distance\n        $stmt = $pdo->prepare("\n            SELECT *, \n                (6371 * acos(\n                    cos(radians(:userLat)) * cos(radians(latitude)) *\n                    cos(radians(longitude) - radians(:userLon)) +\n                    sin(radians(:userLat)) * sin(radians(latitude))\n                 )) AS distance\n             FROM locations\n             HAVING distance <= :radius\n             ORDER BY distance ASC\n             LIMIT 10;\n        ");\n\n        // Bind parameters and execute query\n        $stmt->bindParam(':userLat', $userLat);\n        $stmt->bindParam(':userLon', $userLon);\n        $stmt->bindParam(':radius', $radius);\n        $stmt->execute();\n\n        return $stmt->fetchAll(PDO::FETCH_ASSOC);\n\n    } catch (PDOException $e) {\n        echo 'Connection failed: ' . $e->getMessage();\n        die;\n    }\n}\n\n// Example usage\n$userLat = 9.9921962; // Latitude of Hamburg, DE\n$userLon = 53.5534074; // Longitude of Hamburg, DE\n\n$closestLocations = getClosestLocations($userLat, $userLon);\n\nforeach ($closestLocations as $location) {\n    echo "Location: {$location['name']}, Distance: " . round($location['distance'], 2) . " km\n";\n}\n?>