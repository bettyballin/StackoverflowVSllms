function getSessionArray($sessionData) {\n    // Split the session data by semicolons\n    $parts = preg_split('/([a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*)\|/', $sessionData, -1, PREG_SPLIT_NO_EMPTY | PREG_SPLIT_DELIM_CAPTURE);\n\n    // Initialize an empty array to hold the session data\n    $sessionArray = [];\n\n    // Iterate over the parts and unserialize them\n    for ($i = 0; $i < count($parts); $i += 2) {\n        $key = $parts[$i];\n        if (isset($parts[$i + 1])) {\n            $value = unserialize($parts[$i + 1]);\n            $sessionArray[$key] = $value;\n        }\n    }\n\n    return $sessionArray;\n}\n\n// Example usage:\n$encodedSessionData = 'foo|i:1;bar|s:3:"bar";baz|b:0;';\n$sessionArray = getSessionArray($encodedSessionData);\nprint_r($sessionArray);