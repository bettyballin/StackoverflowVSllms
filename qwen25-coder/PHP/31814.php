$file = 'largefile.xml';\n   $size = filesize($file);\n   $range = isset($_SERVER['HTTP_RANGE']) ? $_SERVER['HTTP_RANGE'] : null;\n   \n   // Handle range request\n   list(, $range) = explode('=', $range);\n   if ($range !== null && strpos($range, '-') === false) {\n       HTTP_ECHO::http_error(400, 'Malformatted Range header');\n   }\n   \n   list($start, $end) = explode('-', $range);\n   \n   if (is_numeric($end) || !$end ) $end = $size - 1;\n   if (is_numeric($start)) $start = min($start,$size - 1);\n   \n   header("HTTP/1.1 206 Partial Content");\n   header("Content-Type: application/xml; charset=utf-8");\n   header("Accept-Ranges: bytes");\n   header("Content-Length:". ($end - $start + 1));\n   header("Content-Disposition: attachment; filename=\"$file\";");\n   header("Content-Range: bytes $start-$end/$size");\n   \n   for($i=$start; $i<=$end;$i++){\n       echo fread(fopen($file,'r'), 1);\n       ob_flush();\n       flush();\n   }