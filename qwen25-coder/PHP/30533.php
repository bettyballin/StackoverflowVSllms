<?php\n\n$dom = new DOMDocument();\n@$dom->loadHTML(mb_convert_encoding($string, 'HTML-ENTITIES', 'UTF-8'));\n\n// Get all p tags content\n$pTags = $dom->getElementsByTagName('p');\nforeach ($pTags as $tag) {\n    echo htmlspecialchars($dom->saveXML($tag)) . "\n";\n}\n\n// Similarly for ul and ol\n$ulTags = $dom->getElementsByTagName('ul');\nforeach ($ulTags as $tag) {\n    echo htmlspecialchars($dom->saveXML($tag)) . "\n";\n}\n\n$olTags = $dom->getElementsByTagName('ol');\nforeach ($olTags as $tag) {\n    echo htmlspecialchars($dom->saveXML($tag)) . "\n";\n}\n?>