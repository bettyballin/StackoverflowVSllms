<?php\n\n$name = 'Username'; # Username (MUST start with a capital letter)\n$pass = 'password'; # Password (plaintext, will be hashed later down)\n$email = 'email@example.com';   # Email (automatically gets confirmed after the creation process)\n$path = "/path/to/mediawiki";\n\nputenv("MW_INSTALL_PATH={$path}");\nrequire_once("{$path}/includes/WebStart.php");\n\n$pass = User::crypt( $pass );\n\n$user = new User();\n\nif ( !$user->setName($name) ) {\n    die("Invalid username");\n}\n\n$user->setPassword( $pass );\n$user->setEmail( $email );\n$user->addToDatabase();\n$user->confirmEmail(); # Manually confirm email\n$user->saveSettings();\n\n# Update site stats manually as this is batch operation\n$ssUpdate = new SiteStatsUpdate( 0, 0, 0, 0, 1 );\n$ssUpdate->doUpdate();\n\necho "User {$name} created successfully.\n";\n\n?>