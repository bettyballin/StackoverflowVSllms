function validate_post_data($data, $postarr) {\n    // Assume we need to check for custom fields if the post is in a specific category\n    $categories_to_check = array('your-category-slug');\n    $has_category = has_category($categories_to_check, $postarr['ID']);\n\n    if ($has_category && empty(get_post_meta($postarr['ID'], 'custom_field_key', true))) {\n        // Save an error message as a transient\n        set_transient('new_post_error', __('You are missing some Custom Fields.', 'text-domain'), 30);\n        \n        // Optionally, prevent saving the post or change its status to pending\n        $data['post_status'] = 'pending';\n    }\n\n    return $data;\n}\nadd_filter('wp_insert_post_data', 'validate_post_data', 10, 2);\n\nfunction display_custom_field_error() {\n    if ($error_message = get_transient('new_post_error')) {\n        ?>\n        <div class="notice notice-error is-dismissible">\n            <p><?php echo esc_html($error_message); ?></p>\n        </div>\n        <?php\n        // Delete the transient to prevent it from reappearing\n        delete_transient('new_post_error');\n    }\n}\nadd_action('admin_notices', 'display_custom_field_error');