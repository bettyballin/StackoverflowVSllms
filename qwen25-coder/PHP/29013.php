function fixCase($str) {\n    // Check if the string is all lowercase\n    $allLower = strtolower($str) === $str;\n    \n    // Check if the string is all uppercase\n    $allUpper = strtoupper($str) === $str;\n    \n    // If it's either all lower or all upper, apply title case\n    if ($allLower || $allUpper) {\n        return ucwords(strtolower($str));\n    }\n    \n    // Otherwise, return the original string\n    return $str;\n}