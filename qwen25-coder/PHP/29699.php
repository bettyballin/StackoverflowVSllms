function buildTree($items, $parentId = 1) {\n    $branch = [];\n    \n    foreach ($items as &$item) {\n        if ($item['depth'] == $parentId) {\n            $children = buildTree($items, $item['id']);\n            if ($children) {\n                $item['children'] = $children;\n            }\n            $branch[] = $item;\n        }\n    }\n\n    return $branch;\n}\n\nfunction generateDropdown($tree) {\n    $html = '<ul>';\n    foreach ($tree as $node) {\n        $html .= '<li>' . htmlspecialchars($node['title']);\n        if (isset($node['children'])) {\n            $html .= generateDropdown($node['children']);\n        }\n        $html .= '</li>';\n    }\n    $html .= '</ul>';\n    \n    return $html;\n}\n\n// Example usage\n$result = [\n    ['id' => 1, 'title' => 'A', 'sequence_number' => 1, 'depth' => 1],\n    ['id' => 2, 'title' => 'B', 'sequence_number' => 2, 'depth' => 1],\n    // ... rest of your data\n];\n\n$tree = buildTree($result);\necho generateDropdown($tree);