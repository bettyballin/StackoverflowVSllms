function getClientIP() {\n    $ip = null;\n    // Check if we have an X-Forwarded-For header and use it (only if we trust the proxy)\n    if (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n        $headers = explode(',', $_SERVER['HTTP_X_FORWARDED_FOR']);\n        // Take the first IP in the list, since that's the original IP\n        $ip = trim($headers[0]);\n    } else if (!empty($_SERVER['HTTP_CLIENT_IP'])) {\n        // Some proxies and load balancers use this header\n        $ip = $_SERVER['HTTP_CLIENT_IP'];\n    } else if (!empty($_SERVER['REMOTE_ADDR'])) {\n        // Default to the REMOTE_ADDR if nothing else is set\n        $ip = $_SERVER['REMOTE_ADDR'];\n    }\n    return $ip;\n}\n\n$clientIP = getClientIP();\necho "Client IP: " . $clientIP;