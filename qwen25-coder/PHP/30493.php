<?php session_start();\n\n// Sample data structure for questions and answers\n$questions = [\n    [\n        'id' => 1,\n        'question' => "What is the capital of France?",\n        'answers' => [\n            ['answer' => "Berlin", 'correct' => 0],\n            ['answer' => "Madrid", 'correct' => 0],\n            ['answer' => "Paris", 'correct' => 1],\n            ['answer' => "Rome", 'correct' => 0]\n        ]\n    ],\n    // Add more questions here\n];\n\nif (!isset($_SESSION['questions'])) {\n    $_SESSION['questions'] = $questions;\n} else {\n    $questions = $_SESSION['questions'];\n}\n\n$submitted = isset($_POST['submit']) ? $_POST['submit'] : null;\n\nif (isset($submitted) && $submitted == "1") {\n\n    echo "<form>";\n\n    foreach ($questions as $q) {\n        echo "<fieldset>";\n        echo "<label><span class=\"qNum\">Q" . $q['id'] . ": </span>" . $q['question'] . "</label>\n";\n        \n        $submittedName = "question" . $q['id'];\n        $isCorrectAnswerSubmitted = false;\n\n        foreach ($q['answers'] as $index => $answer) {\n            if ($_POST[$submittedName] == $index) {\n                if ($answer['correct']) {\n                    echo "<span class=\"correct\"><span class=\"hint\">✓</span>";\n                    $isCorrectAnswerSubmitted = true;\n                } else {\n                    echo "<span class=\"submitted\"><span class=\"hint\">✗</span>";\n                }\n            } elseif ($answer['correct'] && !$isCorrectAnswerSubmitted) {\n                // Mark the correct answer if it hasn't been shown yet\n                echo "<span class=\"thisOne\">";\n            } else {\n                echo "<span class=\"optionLine\">";\n            }\n\n            echo "<input type=\"radio\" name=\"$submittedName\" value=\"$index\" " . ($_POST[$submittedName] == $index ? 'checked' : '') . ">";\n            echo $answer['answer'] . "</span><br>";\n        }\n        \n        echo "</fieldset>\n";\n    }\n\n    echo "</form>";\n\n} else {\n?>\n<form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post">\n\n<?php foreach ($questions as &$q) { \n    // Shuffle answers for each question\n    shuffle($q['answers']);\n    \n    echo "<fieldset>";\n    echo "<label><span class=\"qNum\">Q" . $q['id'] . ": </span>" . $q['question'] . "</label>\n";\n    \n    foreach ($q['answers'] as $index => $answer) {\n        echo "\t\t<span class=\"optionLine\">";\n        echo "<input type=\"radio\" name=\"question" . $q['id'] . "\" value=\"$index\" />"\n            . $answer['answer'] . "</span><br>";\n    }\n    \n    echo "</fieldset>\n";\n} unset($q); ?>\n\n<fieldset>\n    <input type="reset" value="clear" />\n    <input type="submit" name="submit" value="submit" />\n</fieldset>\n\n</form>\n<?php } ?>\n\n<div id="variables">\n</div>\n</body>\n</html>