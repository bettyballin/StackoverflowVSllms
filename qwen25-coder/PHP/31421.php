// Step 1: Fetch all regions and store them in an associative array\n$region_result = mysql_query("SELECT * FROM region ORDER BY region");\n$regions = [];\nwhile ($row = mysql_fetch_assoc($region_result)) {\n    $regions[$row["id"]] = $row["region"];\n}\n\n// Step 2: For each user, generate the dropdown with the correct region selected\nif (@mysql_num_rows($result)) {\n    while ($r = @mysql_fetch_assoc($result)) {    \n        $fname = htmlspecialchars($r["fname"]);\n        $lname = htmlspecialchars($r["lname"]);\n        $selectedRegionId = $r["region_id"]; // Assuming you have a region_id in your user data\n        ?>\n        <form method="post" action="update_user.php">\n            <input type="text" name="fname" value="<?= $fname ?>">\n            <input type="text" name="lname" value="<?= $lname ?>">\n            \n            <select name="region">\n                <?php foreach ($regions as $id => $region): ?>\n                    <option value="<?= $id ?>" <?= $selectedRegionId == $id ? 'selected' : '' ?>>\n                        <?= htmlspecialchars($region) ?>\n                    </option>\n                <?php endforeach; ?>\n            </select>\n\n            <!-- Other user fields here -->\n\n            <button type="submit">Update</button>\n        </form>\n        <?php\n    }\n}