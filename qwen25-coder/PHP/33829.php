<?php\n$pdo = new PDO('mysql:host=localhost;dbname=your_database;charset=utf8', 'username', 'password');\n\n$stmt = $pdo->query("\n    SELECT c.category_id, cat.category_name, c.username, c.text, c.created_at\n    FROM (\n        SELECT category_id, username, text, created_at,\n               @row_number:=CASE WHEN @current_category = category_id THEN @row_number + 1 ELSE 1 END AS row_num,\n               @current_category := category_id\n        FROM comments\n        ORDER BY category_id, created_at DESC\n    ) c\n    JOIN categories cat ON c.category_id = cat.id\n    WHERE c.row_num <= 5\n    ORDER BY c.category_id, c.created_at DESC;\n");\n\necho "<ul>";\n$currentCategory = null;\nwhile ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n    if ($currentCategory !== $row['category_name']) {\n        if ($currentCategory !== null) echo "</li>";\n        echo "<li><h2>{$row['category_name']}</h2>";\n        $currentCategory = $row['category_name'];\n    }\n    echo "{$row['username']} wrote {$row['text']} on {$row['created_at']}<br>";\n}\necho "</li></ul>";\n?>