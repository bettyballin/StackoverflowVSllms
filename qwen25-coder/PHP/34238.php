case "order-state-change-notification": {\n    $Gresponse->SendAck();\n    $new_financial_state = $data[$root]['new-financial-order-state']['VALUE'];\n    \n    switch($new_financial_state) {\n        case 'CHARGED': {\n            // Assuming you have a function updateTokens() to update your database\n            $order_number = $data[$root]['google-order-number']['VALUE'];\n            $customer_id = $data[$root]['buyer-id']['VALUE']; // Adjust as needed\n            $amount = $data[$root]['total-charge-amount']['value']['currency-conversion'] ?? 0; // Get the amount if needed\n            \n            updateTokens($customer_id, $order_number); // Update your database logic here\n            break;\n        }\n        // ... other cases ...\n    }\n    break;\n}