<?php\n$stock = $_GET['s']; // Ensure to properly sanitize inputs\n$first = $stock[0];\n\n$url = "http://biz.yahoo.com/research/earncal/" . strtolower($first) . "/" . strtolower($stock) . ".html"; // Ensure lowercase for URL\n$data = file_get_contents($url);\n\nif ($data === FALSE) {\n    die("Failed to retrieve data from the URL.");\n}\n\n// Use s (dotall) and m (multiline) modifiers with additional whitespace handling\n$r_header = '/Prev\.\s*Week(.+?)Next\s*Week/s';\npreg_match($r_header, $data, $header);\n\nif (!empty($header)) {\n    // Ensure to handle multiple <b> tags if they exist or adjust regex accordingly\n    $r_date = '/<b>(.+?)<\/b>/';\n    preg_match_all($r_date, $header[1], $dates); // Use preg_match_all for all dates\n    \n    foreach ($dates[1] as $date) {\n        echo htmlspecialchars($date) . "<br>";\n    }\n} else {\n    echo "Pattern not found in the data.";\n}\n?>