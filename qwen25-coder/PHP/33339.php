function convertDateString($dateString, $format) {\n    // Set up the format string for DateTime::createFromFormat\n    // 'm#d#Y' or '#d#m#Y', where '#' is any character.\n    $search = ['#'];\n    $replace = [''];\n\n    switch ($format) {\n        case 'mdy':\n            $dateTimeFormat = 'm/d/Y';\n            break;\n        case 'dmy':\n            $dateTimeFormat = 'd/m/Y';\n            break;\n        default:\n            throw new InvalidArgumentException("Unsupported format");\n    }\n\n    // Create DateTime object from string\n    $dateTime = DateTime::createFromFormat(str_replace($search, $replace, $dateTimeFormat), str_replace($search, '', $dateString));\n\n    if (!$dateTime) {\n        throw new Exception('Invalid date and time format');\n    }\n\n    return $dateTime->format('Ymd'); // Return in yyyymmdd format\n}\n\n// Example usage:\necho convertDateString('12-25-2023', 'mdy'); // Outputs: 20231225\necho convertDateString('25-12-2023', 'dmy'); // Outputs: 20231225