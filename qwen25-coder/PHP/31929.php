<?php\n\nfunction checkProxyHealth($proxyAddress, $port, $targetUrl) {\n    // Initialize cURL session\n    $ch = curl_init();\n\n    // Set options for cURL transfer\n    curl_setopt($ch, CURLOPT_URL, $targetUrl);\n    curl_setopt($ch, CURLOPT_PROXY, $proxyAddress);\n    curl_setopt($ch, CURLOPT_PROXYPORT, $port);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n\n    // Execute the request and store the result\n    $response = curl_exec($ch);\n\n    if ($response === false) {\n        echo "Error: " . curl_error($ch);\n        return false;\n    }\n\n    // Close cURL session to free resources\n    curl_close($ch);\n\n    // Optionally, you could check for specific content in the response\n    // For now, assume any non-false response is a success\n    return $response !== false;\n}\n\n$proxyAddress = 'your.proxy.server';\n$port = 8080; // or whatever port your proxy uses\n$targetUrl = 'http://www.example.com'; // A URL to request through the proxy\n\nif (!checkProxyHealth($proxyAddress, $port, $targetUrl)) {\n    echo "The proxy server is not responding as expected.\n";\n} else {\n    echo "The proxy server is working properly.\n";\n}\n\n?>