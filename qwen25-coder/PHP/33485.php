<?php\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $db = new mysqli('host', 'user', 'password', 'database');\n    if ($db->connect_error) {\n        die("Connection failed: " . $db->connect_error);\n    }\n\n    if (isset($_POST['update'])) {\n        foreach ($_POST['title'] as $id => $title) {\n            // Prepare and bind\n            $stmt = $db->prepare("UPDATE `ta_boxs` SET title=?, search_term_1=?, search_term_2=?, search_term_3=?, exc_search_term_1=?, exc_search_term_2=?, exc_search_term_3=? WHERE id=?");\n            if ($stmt === false) {\n                die('Prepare error: ' . $db->error);\n            }\n            \n            // Bind parameters\n            $searchTerm1 = $_POST['search_term_1'][$id];\n            $searchTerm2 = $_POST['search_term_2'][$id];\n            $searchTerm3 = $_POST['search_term_3'][$id];\n            $excSearchTerm1 = $_POST['exc_search_term_1'][$id];\n            $excSearchTerm2 = $_POST['exc_search_term_2'][$id];\n            $excSearchTerm3 = $_POST['exc_search_term_3'][$id];\n\n            $stmt->bind_param("sssssss", $title, $searchTerm1, $searchTerm2, $searchTerm3, $excSearchTerm1, $excSearchTerm2, $excSearchTerm3);\n            \n            // Execute update\n            if ($stmt->execute()) {\n                echo "Record updated successfully for ID: $id";\n            } else {\n                echo "Error updating record: " . $db->error;\n            }\n\n            // Close statement\n            $stmt->close();\n        }\n    }\n}\n?>