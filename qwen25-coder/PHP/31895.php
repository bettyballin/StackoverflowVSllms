function paginateContent($content, $charsPerPage = 1024) {\n    // Ensure we don't cut off mid-tag\n    preg_match_all("/(<[^>]+>|[\w\W][^\s<]*|\s+)/", $content, $matches);\n    $tagsOrWords = $matches[0];\n    \n    $curCharCount = 0;\n    $pages = [];\n    $currentPage = '';\n    \n    foreach ($tagsOrWords as $tagOrWord) {\n        // Check if adding the current tag/word would exceed the page limit.\n        if (($curCharCount + strlen($tagOrWord)) > $charsPerPage && $currentPage !== '') {\n            // If so, finalize the current page and start a new one.\n            array_push($pages, $currentPage);\n            $currentPage = '';\n            $curCharCount = 0;\n        }\n        \n        // Add to the current page.\n        $currentPage .= $tagOrWord;\n        $curCharCount += strlen($tagOrWord);\n    }\n    \n    // Push last current page\n    if (!empty($currentPage)) {\n        array_push($pages, $currentPage);\n    }\n    \n    return $pages;\n}\n\n$content = "<p>This is a sample content that will be split into multiple pages based on the number of characters. Each page will not break mid-word or HTML tag...</p>";\n$pages = paginateContent($content);\n\nforeach ($pages as $index => $page) {\n    echo "Page ".($index+1).":<br>".$page."<hr />";\n}