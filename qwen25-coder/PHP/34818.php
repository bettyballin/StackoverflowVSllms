// Function to convert GMT datetime string to user timezone\npublic function convertGmtToLocal($gmtDateTime, $userTimeZone) {\n    $dateTime = new DateTime($gmtDateTime, new DateTimeZone('UTC'));\n    $dateTime->setTimezone(new DateTimeZone($userTimeZone));\n    return $dateTime->format('Y-m-d H:i:s');\n}\n\n// Usage example in your code where you compare dates\n$date = $oUser->dateLastActive;\n$localDate = $this->convertGmtToLocal($date, $defaultTimeZone);