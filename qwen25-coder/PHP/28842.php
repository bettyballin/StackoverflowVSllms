// Example of switching to PDO\nfunction connect($new_link = false)\n{\n    if (!$this->pdo) {\n        try {\n            $dsn = "mysql:host=" . $this->DBHost . ";port=" . $this->DBPort . ";dbname=" . $this->DBDatabase;\n            $options = [\n                PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n                PDO::ATTR_PERSISTENT => $this->DBPersistent\n            ];\n            $this->pdo = new PDO($dsn, $this->DBUser, $this->DBPassword, $options);\n        } catch (PDOException $e) {\n            $this->halt("Connection failed: " . $e->getMessage());\n            return 0;\n        }\n    }\n    return $this->pdo;\n}