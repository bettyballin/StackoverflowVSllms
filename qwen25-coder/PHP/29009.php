<?php\n\nfunction serveFile($filePath) {\n    // Check if the file actually exists\n    if (!file_exists($filePath)) {\n        http_response_code(404);\n        echo "File not found.";\n        return;\n    }\n\n    // Open the file for reading\n    $handle = fopen($filePath, 'rb');\n    if (!$handle) {\n        http_response_code(500);\n        echo "Error opening file.";\n        return;\n    }\n\n    // Disable PHP output buffering\n    ini_set('zlib.output_compression', 'Off');\n    while (ob_get_level() > 0) { ob_end_clean(); }\n\n    // Get file information\n    $fileSize = filesize($filePath);\n    $fileName = basename($filePath);\n\n    // Set headers for content type, size and disposition\n    header("Content-Type: application/octet-stream");\n    header("Content-Disposition: attachment; filename=\"$fileName\"");\n    header("Content-Length: " . $fileSize);\n\n    // Stream the file directly to the client in chunks\n    fpassthru($handle);\n    fclose($handle);\n}\n\n// Usage example:\nserveFile('/path/to/your/large-file.iso');\n\n?>