<?php\n$xmlString = '<?xml version="1.0" encoding="UTF-8"?>\n<soap-env:Envelope xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/">\n    <soap-env:Header>\n        <eb:MessageHeader xmlns:eb="http://www.ebxml.org/namespaces/messageHeader" eb:version="1.0" soap-env:mustUnderstand="1">\n            <eb:From>\n                <eb:PartyId eb:type="URI">wscompany.com</eb:PartyId>\n            </eb:From>\n            <eb:To>\n                <eb:PartyId eb:type="URI">mysite.com</eb:PartyId>\n            </eb:To>\n            <eb:CPAId>something</eb:CPAId>\n            <eb:ConversationId>moredata.com</eb:ConversationId>\n            <eb:Service eb:type="compXML">theservice</eb:Service>\n            <eb:Action>theaction</eb:Action>\n            <eb:MessageData>\n                <eb:MessageId>a certain messageid</eb:MessageId>\n                <eb:Timestamp>2009-04-11T18:43:58</eb:Timestamp>\n                <eb:RefToMessageId>mid:areference</eb:RefToMessageId>\n            </eb:MessageData>\n        </eb:MessageHeader>\n        <wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext">\n            <wsse:BinarySecurityToken valueType="String" EncodingType="wsse:Base64Binary">an impresive binary security toekn</wsse:BinarySecurityToken>\n        </wsse:Security>\n    </soap-env:Header>\n    <soap-env:Body>\n        <SessionCreateRS xmlns="http://www.opentravel.org/OTA/2002/11" version="1" status="Approved">\n            <ConversationId>the goodbye token</ConversationId>\n        </SessionCreateRS>\n    </soap-env:Body>\n</soap-env:Envelope>';\n\n$xml = simplexml_load_string($xmlString);\n\n// Register namespaces\n$namespaces = $xml->getNamespaces(true);\n$xml->registerXPathNamespace('soap', 'http://schemas.xmlsoap.org/soap/envelope/');\n$xml->registerXPathNamespace('eb', 'http://www.ebxml.org/namespaces/messageHeader');\n$xml->registerXPathNamespace('wsse', 'http://schemas.xmlsoap.org/ws/2002/12/secext');\n$xml->registerXPathNamespace('ota', 'http://www.opentravel.org/OTA/2002/11');\n\n// Accessing elements\n$headers = $xml->xpath('//soap:Header');\n$bodies = $xml->xpath('//soap:Body');\n$messageHeaders = $xml->xpath('//eb:MessageHeader');\n$securityElements = $xml->xpath('//wsse:Security');\n$sessionCreateRSs = $xml->xpath('//ota:SessionCreateRS');\n\n// Example of accessing a specific element\n$messageId = $xml->xpath('//eb:MessageId');\necho "Message ID: " . (string)$messageId[0] . "\n";\n\n// Accessing attribute\n$actionAttr = $messageHeaders[0]->attributes('http://www.ebxml.org/namespaces/messageHeader')->Action;\necho "Action Attribute: " . (string)$actionAttr . "\n";\n?>