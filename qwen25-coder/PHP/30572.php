// Define your multiple tags and files\n$tags = ['foo', 'bar', 'baz'];\n$filePaths = ['/path/to/file1.jpg', '/path/to/file2.jpg'];\n\n$boundary = uniqid();\n$dataParts = [];\n\n// Add the tags to the data parts array\nforeach ($tags as $tag) {\n    $dataParts[] = "--{$boundary}\r\nContent-Disposition: form-data; name=\"tag\"\r\n\r\n{$tag}";\n}\n\n// Add the files to the data parts array\nforeach ($filePaths as $filePath) {\n    if (file_exists($filePath)) {\n        $dataParts[] = "--{$boundary}\r\nContent-Disposition: form-data; name=\"file\"; filename=\"" . basename($filePath) . "\"\r\n".\n                       "Content-Type: application/octet-stream\r\n\r\n" .\n                       file_get_contents($filePath);\n    }\n}\n\n// Finalize the multipart data with closing boundary\n$dataString = implode("\r\n", $dataParts) . "\r\n--{$boundary}--";\n\n// Initialize cURL session\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, 'http://example.com/upload');\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $dataString);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, [\n    "Content-Type: multipart/form-data; boundary={$boundary}"\n]);\n\n// Execute and close the session\n$response = curl_exec($ch);\ncurl_close($ch);\n\necho $response;