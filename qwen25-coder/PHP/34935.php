require_once "../../includes/constants.php";\n\n// Connect to the database as necessary\n$dbh = new mysqli(DB_SERVER, DB_USER, DB_PASSWORD, DB_NAME);\nif ($dbh->connect_error) {\n    die("Unable to connect to MySQL: " . $dbh->connect_error);\n}\n\n$action = $_POST['action'] ?? '';\n$name = $_POST['name'] ?? '';\n$id = isset($_POST['id']) ? intval($_POST['id']) : null;\n\nswitch ($action) {\n    case 'new':\n        if (!empty($name)) {\n            $stmt = $dbh->prepare("INSERT INTO place (name) VALUES (?)");\n            $stmt->bind_param("s", $name);\n            $stmt->execute();\n        }\n        break;\n    case 'edit':\n        if (!is_null($id) && !empty($name)) {\n            $stmt = $dbh->prepare("UPDATE place SET name = ? WHERE id = ?");\n            $stmt->bind_param("si", $name, $id);\n            $stmt->execute();\n        }\n        break;\n    case 'delete':\n        if (!is_null($id)) {\n            $stmt = $dbh->prepare("DELETE FROM place WHERE id = ?");\n            $stmt->bind_param("i", $id);\n            $stmt->execute();\n        }\n        break;\n}\n\n$result = $dbh->query("SELECT * FROM place");\necho "<table><tbody>";\nwhile ($row = $result->fetch_assoc()) {\n    echo "<tr><td id='inputfield_td_{$row['id']}' class='inputfield_td'><input class='inputfield_place' type='text' value='{$row['name']}' /></td>"\n       . "<td class='place_name'>{$row['name']}</td>"\n       . "<td class='edit'>Edit</td><td class='cancel'>Cancel</td><td class='delete'>Delete</td><td class='save'>Save</td></tr>\n";\n}\necho "</tbody>";\necho "</table>";\necho "<input type='text' class='inputfield_visible' />";\necho "<button class='new'>New</button>";