<?php\n\n$localPath = '/path/to/your/local/trunk'; // Local path to the SVN trunk export\n$remotePath = '/var/www/html';          // Remote path on production server\n$ftpHost = 'ftp.example.com';\n$ftpUsername = 'username';\n$ftpPassword = 'password';\n\n// Connect to the FTP Server\n$connectionId = ftp_connect($ftpHost);\n$loginResult = ftp_login($connectionId, $ftpUsername, $ftpPassword);\n\nif ((!$connectionId) || (!$loginResult)) {\n    die("FTP connection failed");\n}\n\n$arrayOfFilesChanged = get_changed_files_from_svn();\n\nforeach ($arrayOfFilesChanged as $filePath) {\n    // Construct the local and remote file paths\n    $localFilePath = $localPath . '/' . $filePath;\n    $remoteFilePath = $remotePath . '/' . $filePath;\n\n    // Ensure directories exist on FTP server before uploading files\n    create_remote_directory($remoteFilePath, $connectionId);\n\n    // Upload file to the server\n    if (!ftp_put($connectionId, $remoteFilePath, $localFilePath, FTP_BINARY)) {\n        echo "Failed to upload" . $filePath;\n    }\n}\n\nfunction get_changed_files_from_svn() {\n    // Run SVN command to get list of changed files and directories\n    exec('svn status --no-ignore ' . escapeshellarg('/path/to/your/local/trunk'), $output);\n\n    $changedFiles = [];\n    foreach ($output as $line) {\n        $status = substr($line, 0, 1);\n        if ($status == 'A' || $status == 'M') { // Added or Modified\n            $filePath = trim(substr($line, 7));\n            $changedFiles[] = $filePath;\n        }\n    }\n\n    return $changedFiles;\n}\n\nfunction create_remote_directory($path, &$connection) {\n    // Create directories recursively on remote server\n    if (ftp_is_dir($connection, dirname($path))) {\n        return true;\n    }\n    if (!create_remote_directory(dirname($path), $connection)) {\n        return false;\n    }\n    return ftp_mkdir($connection, $path);\n}\n\n// Close the connection\nftp_close($connectionId);\n\n?>