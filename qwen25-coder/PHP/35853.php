function normalizeKeys(array $array) {\n    $newArray = [];\n    foreach ($array as $key => $value) {\n        $lowerKey = strtolower($key);\n        if (array_key_exists($lowerKey, $newArray)) {\n            // Handle duplicate key scenario: you can throw an exception,\n            // merge values, or append a suffix, e.g., "_1", "_2"\n            throw new Exception("Duplicate Key Encountered: " . $lowerKey);\n        }\n        $newArray[$lowerKey] = $value;\n    }\n    return $newArray;\n}\n\n$oldArray = [\n    'Name' => 'John',\n    'AGE' => 30,\n    'age' => 25, // This will trigger the exception\n];\n\ntry {\n    $normalizedArray = normalizeKeys($oldArray);\n    print_r($normalizedArray);\n} catch (Exception $e) {\n    echo $e->getMessage();\n}