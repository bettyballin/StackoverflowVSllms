if (is_uploaded_file(@$_FILES['ulimage']['tmp_name'])) {\n    // Ensure /tmp/thumb/ directory exists\n    $thumbDir = dirname(__FILE__) . "/tmp/thumb/";\n    if (!file_exists($thumbDir)) {\n        mkdir($thumbDir, 0755, true);\n    }\n\n    // Prepare paths for original and thumbnail images\n    $originalFilePath = dirname(__FILE__) . "/tmp/" . $_FILES['ulimage']['name'];\n    $thumbnailFilename = ImageHelper::treatFilename(uniqid() . "_" . $_FILES['ulimage']['name']);\n    $thumbnailFilePath = $thumbDir . $thumbnailFilename;\n\n    // Move original uploaded file to /tmp/\n    move_uploaded_file($_FILES['ulimage']['tmp_name'], $originalFilePath);\n\n    // Resize image and save as thumbnail in /tmp/thumb/\n    ImageHelper::resizeImage($originalFilePath, $thumbnailFilePath, $width, $height);\n}