<?php\n\nfunction insertBatch($dataArray) {\n    // Assuming $conn is your MySQL connection object\n    global $conn;\n\n    if (empty($dataArray)) return;\n\n    $query = "INSERT INTO stats (ip, timestamp, http_referer)\n              VALUES ";\n    foreach ($dataArray as $key => $data) {\n        $query .= "(?, ?, ?)" . (($key != count($dataArray) - 1) ? "," : ";");\n    }\n\n    $stmt = $conn->prepare($query);\n\n    // Bind values in batches\n    for ($i = 0; $i < count($dataArray); ++$i) {\n        $stmt->bind_param('sis', \n            $dataArray[$i]['ip'], \n            $dataArray[$i]['timestamp'], \n            $dataArray[$i]['http_referer']\n        );\n        if ($i == count($dataArray) - 1) {\n            $stmt->execute();\n        }\n    }\n\n    // Clear the data array after processing\n    $dataArray = [];\n}\n\n// Example usage:\n$dataBatch = [\n    ['ip' => '192.168.0.1', 'timestamp' => time(), 'http_referer' => '/some-page'],\n    // ... more data entries ...\n];\n\ninsertBatch($dataBatch);\n\n?>