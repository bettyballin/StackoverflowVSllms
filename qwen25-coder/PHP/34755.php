<?php\n\nclass ErrorController extends Zend_Controller_Action {\n\n    public function errorAction() {\n        $errors = $this->_getParam('error_handler');\n\n        if (!$errors || !$errors instanceof ArrayObject) {\n            $this->view->message = 'You have reached the error page';\n            return;\n        }\n\n        switch ($errors->type) {\n            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ROUTE:\n            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_CONTROLLER:\n            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ACTION:\n\n                // 404 error -- controller or action not found\n                $this->getResponse()->setHttpResponseCode(404);\n                $priority = Zend_Log::NOTICE;\n                $type     = '404';\n                break;\n\n            default:\n                // application error\n                $this->getResponse()->setHttpResponseCode(500);\n                $priority = Zend_Log::ERR;\n                $type     = 'Application Error';\n        }\n\n        // Log exception information\n        $logger = Zend_Registry::get('logger');\n        if ($logger) {\n            $logger->log($errors->exception, $priority);\n        }\n        \n        // Populate navigation and view variables\n        $this->view->errorType       = $type;\n        $this->view->request         = $errors->request;\n        $this->view->exception       = $errors->exception;\n    }\n\n}