if ($word_of_the_day) {\n    $safe_word = esc_sql($word_of_the_day);\n    $wotd = $wpdb->get_results("SELECT term,definition FROM glossary WHERE term = '$safe_word'");\n} \nelseif (isset($_COOKIE['WOTD'])) {\n    // Sanitize the input using prepare method\n    $wotd = $wpdb->prepare("SELECT term,definition FROM glossary WHERE term = %s", sanitize_text_field($_COOKIE['WOTD']));\n    $results = $wpdb->get_results($wotd);\n} \nelse {\n    $wotd = $wpdb->get_results("SELECT term,definition FROM glossary ORDER BY RAND() LIMIT 1");\n    foreach ($wotd as $term) {\n        setcookie("WOTD", sanitize_text_field($term->term), time() + 86400);\n        break; // No need to loop when you only want one result\n    }\n}