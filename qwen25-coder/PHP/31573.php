<?php\nfunction hasVoted($mysqli, $questionId, $userId) {\n    $stmt = $mysqli->prepare("SELECT voteId FROM votes WHERE questionId=? AND userId=?");\n    $stmt->bind_param('ii', $questionId, $userId);\n    $stmt->execute();\n    return $stmt->fetch() !== null;\n}\n\nfunction addVote($mysqli, $questionId, $userId) {\n    $stmt = $mysqli->prepare("INSERT INTO votes (questionId, userId) VALUES (?, ?)");\n    $stmt->bind_param('ii', $questionId, $userId);\n    $stmt->execute();\n}\n\nfunction removeVote($mysqli, $questionId, $userId) {\n    $stmt = $mysqli->prepare("DELETE FROM votes WHERE questionId=? AND userId=?");\n    $stmt->bind_param('ii', $questionId, $userId);\n    $stmt->execute();\n}\n\n// Usage\n$loggedInUserId = 123; // Replace with actual user ID\n$questionId = 456; // Replace with actual question ID\n\nif (hasVoted($mysqli, $questionId, $loggedInUserId)) {\n    removeVote($mysqli, $questionId, $loggedInUserId);\n} else {\n    addVote($mysqli, $questionId, $loggedInUserId);\n}\n?>