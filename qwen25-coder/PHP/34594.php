function getRawSql($pdoStatement, array $params) {\n    // Get the base SQL query from the statement\n    $query = $pdoStatement->queryString;\n    \n    // Escape all the parameters to avoid potential SQL injection\n    foreach ($params as $key => &$val) {\n        if (is_string($val)) {\n            $val = str_replace("'", "''", $val);\n        }\n        \n        // Replace :param by value or ? by value\n        if (is_numeric($key)) {\n            $query = preg_replace('/\?/', "'" . $val . "'", $query, 1);\n        } else {\n            $query = str_replace(":$key", "'" . $val . "'", $query);\n        }\n    }\n\n    return $query;\n}\n\n// Usage example:\n$stmt = $pdo->prepare("SELECT * FROM users WHERE id = :id AND status = ?");\n$params = [':id' => 1, 'status' => 'active'];\necho getRawSql($stmt, $params);