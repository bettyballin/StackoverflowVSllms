<?php\nheader("Content-type: image/png");\n\n// example: <img src="gradient.php?height=600&width=100&start=00FF00&end=ff0000" />\n$height = 100;\n$width = 100; // Adjusted width for better visualization\n$start = '000000';\n$end = 'FFFFFF';\n\nextract($_REQUEST); // overwrite using vars from url\n\n$start_r = hexdec(substr($start, 0, 2));\n$start_g = hexdec(substr($start, 2, 2));\n$start_b = hexdec(substr($start, 4, 2));\n\n$end_r = hexdec(substr($end, 0, 2));\n$end_g = hexdec(substr($end, 2, 2));\n$end_b = hexdec(substr($end, 4, 2));\n\n$image = @imagecreate($width, $height);\n\nfor ($x = 0; $x < $width; $x++) {\n    // Calculate the color for the current column\n    if ($start_r == $end_r) $new_r = $start_r;\n    else $new_r = $start_r + intval(($end_r - $start_r) * $x / ($width - 1));\n\n    if ($start_g == $end_g) $new_g = $start_g;\n    else $new_g = $start_g + intval(($end_g - $start_g) * $x / ($width - 1));\n\n    if ($start_b == $end_b) $new_b = $start_b;\n    else $new_b = $start_b + intval(($end_b - $start_b) * $x / ($width - 1));\n\n    for ($y = 0; $y < $height; $y++) {\n        // Set the pixel color\n        $row_color = imagecolorresolve($image, $new_r, $new_g, $new_b);\n        imagesetpixel($image, $x, $y, $row_color);\n    }\n}\n\nimagepng($image);\nimagedestroy($image);\n?>