<?php\nsession_start();\n\n// Redirect if not using HTTPS\nif (!isset($_SERVER['HTTPS']) || $_SERVER['HTTPS'] !== 'on') {\n    header('Location: https://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']);\n    exit();\n}\n\n// Database connection (assumes PDO)\n$dsn = "mysql:host=your_host;dbname=your_dbname;charset=utf8mb4";\n$username = "your_username";\n$password = "your_password";\n\ntry {\n    $pdo = new PDO($dsn, $username, $password);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n} catch (PDOException $e) {\n    die("Could not connect to the database: " . $e->getMessage());\n}\n\n// Login logic\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $email = $_POST['email'];\n    $user_password = $_POST['password'];\n\n    // Prepare and execute query\n    $stmt = $pdo->prepare("SELECT * FROM users WHERE email = :email LIMIT 1");\n    $stmt->execute(['email' => $email]);\n    $user = $stmt->fetch(PDO::FETCH_ASSOC);\n\n    if ($user && password_verify($user_password, $user['password'])) {\n        // Success: Set session variables and redirect\n        $_SESSION['user_id'] = $user['id'];\n        header('Location: dashboard.php');\n        exit();\n    } else {\n        $error_message = 'Invalid email or password.';\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Login</title>\n</head>\n<body>\n    <?php if (isset($error_message)) { ?>\n        <p><?php echo htmlspecialchars($error_message); ?></p>\n    <?php } ?>\n\n    <form action="login.php" method="post">\n        <label for="email">Email:</label>\n        <input type="email" id="email" name="email" required>\n        \n        <label for="password">Password:</label>\n        <input type="password" id="password" name="password" required>\n        \n        <button type="submit">Login</button>\n    </form>\n</body>\n</html>