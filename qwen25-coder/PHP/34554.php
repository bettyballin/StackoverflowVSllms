<?php\n// Assume $REAL_MAX is defined somewhere in your code as the total number of images\n$REAL_MAX = 100; // Example value\n\n// Get max from GET parameters, default to REAL_MAX if not set or invalid\n$max = isset($_GET['max']) && is_numeric($_GET['max']) ? (int)$_GET['max'] : $REAL_MAX;\n\n// Ensure $max does not exceed $REAL_MAX\nif ($max > $REAL_MAX) {\n    $max = $REAL_MAX;\n}\n\n// Calculate the minimum value, ensuring it's divisible by 5 and non-negative\n$min = max(0, intval($max / 5) * 5 - 5);\n\n// Fetch images from $min to $max\n$images_to_display = [];\nfor ($i = $min; $i < $max && $i < $REAL_MAX; $i++) {\n    // Logic to fetch image at index $i, e.g., array of filenames or database query\n    $images_to_display[] = "image_" . ($i + 1) . ".jpg"; // Example logic\n}\n\n// Display images\nforeach ($images_to_display as $image) {\n    echo '<img src="' . htmlspecialchars($image) . '" alt="Gallery Image">';\n}\n?>