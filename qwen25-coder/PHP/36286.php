<?php\n\n$username = escapeshellarg('username'); // Sanitize input\n$shareName = escapeshellarg($username);\n$path = escapeshellarg("/home/$username/public_html");\n\n$newShareConfig = <<<EOL\n\n\n\n[$shareName]\npath = $path\nbrowsable = yes\nwritable = yes\n\nEOL;\n\nfile_put_contents('/etc/smb.conf', $newShareConfig, FILE_APPEND);\n\n// Restart smb service to apply changes\nexec('systemctl restart smbd');\n?>