function truncateString($string, $length) {\n    if (strlen($string) <= $length) {\n        return $string;\n    }\n    \n    // Truncate the string to the given length minus the length of the ellipsis ('...')\n    $truncated = substr($string, 0, $length - 3);\n    \n    // Find the last space in the truncated string\n    $lastSpace = strrpos($truncated, ' ');\n    \n    if ($lastSpace !== false) {\n        // Return the truncated string up to the last space followed by an ellipsis\n        return substr($truncated, 0, $lastSpace) . '...';\n    }\n    \n    // If no spaces are found, return just the ellipsis\n    return '...';\n}\n\n$string = "Stack Overflow is as frictionless and painless to use as we could make it.";\necho truncateString($string, 28);