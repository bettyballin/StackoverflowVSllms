function createHtAccessAndPasswd($userEmail) {\n    // Create a directory for user files if it doesn't exist\n    $dir = "/path/to/user/{$userEmail}";\n    if (!file_exists($dir)) {\n        mkdir($dir, 0755, true);\n    }\n\n    // Path to .htaccess and .htpasswd files\n    $htAccessPath = "$dir/.htaccess";\n    $htPasswdPath = "$dir/.htpasswd";\n\n    // Content for .htaccess file\n    $htAccessContent = <<<EOT\nAuthType Basic\nAuthName "Restricted Access"\nAuthUserFile {$htPasswdPath}\nRequire valid-user\nEOT;\n\n    // Write the content to .htaccess file\n    file_put_contents($htAccessPath, $htAccessContent);\n\n    // Append user's email and hashed password to .htpasswd file\n    // Use crypt() with Apache's default salt prefix for MD5 encryption ($apr1$)\n    $password = generatePassword();\n    $hashedPasswordApacheMd5 = '$apr1$' . substr(md5(uniqid(rand(), true)), 0, 8) . '$';\n    $hashedPasswordApacheMd5 .= preg_replace('/.{12}/', '\0$', crypt($password, $hashedPasswordApacheMd5), 1);\n\n    file_put_contents($htPasswdPath, "$userEmail:$hashedPasswordApacheMd5\n", FILE_APPEND);\n}