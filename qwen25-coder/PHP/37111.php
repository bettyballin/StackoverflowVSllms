if (getenv('HTTP_X_FORWARDED_FOR')) {\n    $ips = explode(',', getenv('HTTP_X_FORWARDED_FOR'));\n    $ip  = trim(end($ips));  // Get the last ip in case of proxy chaining\n    $host = gethostbyaddr($ip);\n} else {\n    $ip   = getenv('REMOTE_ADDR');\n    if ($ip) {\n        $host = gethostbyaddr($ip);\n    } else {\n        // Handle the case where IP is not found\n        error_log("Could not determine client's IP address.");\n        $ip = "unknown";\n        $host = "unknown";\n    }\n}