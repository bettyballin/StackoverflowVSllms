// Define necessary constants and include paths\ndefine('IN_PHPBB', true);\n$phpbb_root_path = (defined('PHPBB_ROOT_PATH')) ? PHPBB_ROOT_PATH : __DIR__ . '/../forum/';\n$phpEx = substr(strrchr(__FILE__, '.'), 1);\n\n// Include the required files from phpBB\nrequire($phpbb_root_path . 'config.' . $phpEx);\nrequire($phpbb_root_path . 'includes/functions.' . $phpEx);\ninclude($phpbb_root_path . 'includes/session.' . $phpEx);\n\n// Start up session management for user authentification\n$user = new \phpbb\user(new \phpbb\language\language(), new \phpbb\datetime());\n$auth = new \phpbb\auth\auth();\n$auth->acl(new \phpbb\acp\auth());\n\n$dbms = 'mysqli'; // Set appropriate dbms type from phpBB config\n$dbhost = $config['dbhost'];\n$dbuser = $config['dbuser'];\n$dbpass = $config['dbpasswd'];\n$dbname = $config['dbname'];\n$table_prefix = $config['table_prefix'];\n\n// DBAL setup\n$extensibles_container = new \phpbb\di\container_builder(\n    new \phpbb\filesystem(),\n    $phpbb_root_path,\n    $phpEx\n);\n$db = new \phpbb\db\driver\mysqli();\n$db->sql_connect($dbhost, $dbuser, $dbpass, $dbname, $port = false, $socket = '');\n\n$user->session_begin();\n$auth->acl($user->data);\n\n// Check if user is Anonymous or not\nif ($user->data['username_clean'] == 'anonymous') {\n    echo "User is not logged in.";\n} else {\n    // Store necessary user data into your session or use it directly\n    $_SESSION['phpbb_user_data'] = $user->data;\n    echo "Logged in as: " . htmlspecialchars($user->data['username']);\n}