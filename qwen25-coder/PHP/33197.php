<?php\n// Load dependencies via Composer (ensure you have vendor/autoload.php)\nrequire_once 'vendor/autoload.php';\nuse Twilio\Security\RequestValidator;\n\nheader("content-type: application/json");\n$db_host = "localhost";\n$db_user = "yourDBuser";\n$db_password = "yourDBpassword";\n$db_name = "yourDBname";\n\n// Connect to MySQL\n$conn = new mysqli($db_host, $db_user, $db_password, $db_name);\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Twilio Authentication SID and Token from your account dashboard\n$account_sid = 'yourTwilioAccountSID';\n$auth_token  = 'yourTwilioAuthToken';\n\n// The URL of your script (webhook)\n$url = $_SERVER['REQUEST_SCHEME'] . '://' .$_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];\n\n// Twilio Headers for validation\n$x_twilio_signature = $_SERVER["X-Twilio-Signature"];\n$twilio_validator = new RequestValidator($auth_token);\n\n// Validate the request was from Twilio\nif ($twilio_validator->validate(\n        $url,\n        $_POST, // POST variables sent to your script as an associative array\n        $x_twilio_signature)\n) {\n    // Save the message details into database\n    $from = $conn->real_escape_string($_POST['From']);\n    $body = $conn->real_escape_string($_POST['Body']);\n\n    $sql = "INSERT INTO messages (sender, content) VALUES ('$from', '$body')";\n    if ($conn->query($sql) === TRUE) {\n        echo json_encode(["message" => "Message saved successfully"]);\n    } else {\n        echo json_encode(["error" => "Error: " . $sql . "<br>" . $conn->error]);\n    }\n} else {\n    // Respond with HTTP 403 Forbidden\n    header("HTTP/1.1 403 Forbidden", true, 403);\n    echo json_encode(["error" => "Invalid request"]);\n}\n\n$conn->close();\n?>