<?php\n$pdo = new PDO('mysql:host=your_host;dbname=your_db', 'username', 'password');\n$last1Min = time() - 60;\n$last5Mins = time() - 300;\n$last1Hr = time() - 3600;\n$last1Dy = time() - 86400;\n$last1Wk = time() - 604800;\n$last1Mnth = time() - 2592000;\n\n$sql = "\n    SELECT \n        SUM(CASE WHEN lastOnline > :last1Min THEN 1 ELSE 0 END) AS last1Min,\n        SUM(CASE WHEN lastOnline > :last5Mins THEN 1 ELSE 0 END) AS last5Mins,\n        SUM(CASE WHEN lastOnline > :last1Hr THEN 1 ELSE 0 END) AS last1Hr,\n        SUM(CASE WHEN lastOnline > :last1Dy THEN 1 ELSE 0 END) AS last1Dy,\n        SUM(CASE WHEN lastOnline > :last1Wk THEN 1 ELSE 0 END) AS last1Wk,\n        SUM(CASE WHEN lastOnline > :last1Mnth THEN 1 ELSE 0 END) AS last1Mnth\n    FROM usersonline";\n\n$stmt = $pdo->prepare($sql);\n$stmt->execute([\n    ':last1Min' => $last1Min,\n    ':last5Mins' => $last5Mins,\n    ':last1Hr' => $last1Hr,\n    ':last1Dy' => $last1Dy,\n    ':last1Wk' => $last1Wk,\n    ':last1Mnth' => $last1Mnth\n]);\n\n$row = $stmt->fetch(PDO::FETCH_ASSOC);\necho "Users online in the last minute: " . $row['last1Min'] . "<br />";\necho "Users online in the last 5 minutes: " . $row['last5Mins'] . "<br />";\necho "Users online in the last hour: " . $row['last1Hr'] . "<br />";\necho "Users online in the last day: " . $row['last1Dy'] . "<br />";\necho "Users online in the last week: " . $row['last1Wk'] . "<br />";\necho "Users online in the last month: " . $row['last1Mnth'] . "<br /><br />";\n?>