<?php\n\n$xmlData = '<?xml version="1.0"?><root><element>data</element></root>';\n$url = 'http://example.com/api/upload'; // Replace with your API endpoint\n\n$postFields = [\n    'file' => new CURLFile('php://temp', 'application/xml', 'file.xml')\n];\n\n// Open a temporary stream handle\n$streamHandle = fopen('php://temp', 'r+');\n\n// Write the XML data to the temporary stream\nfwrite($streamHandle, $xmlData);\nrewind($streamHandle); // Rewind the pointer to the beginning of the stream\n\n$postFields['file']->setStreamContext(stream_context_create([\n    'http' => [\n        'content-type' => 'application/xml',\n        'method' => 'POST'\n    ]\n]));\n\n$postFields['file']->stream = $streamHandle;\n\n$ch = curl_init($url);\n\n// Set options\ncurl_setopt_array($ch, array(\n    CURLOPT_POST => true,\n    CURLOPT_POSTFIELDS => $postFields,\n    CURLOPT_RETURNTRANSFER => true,\n    CURLOPT_HTTPHEADER => [\n        'Content-Type: multipart/form-data'\n    ]\n));\n\n$response = curl_exec($ch);\n\nif ($response === false) {\n    \error_log('cURL Error: ' . curl_error($ch));\n} else {\n    echo 'Server response: ' . $response;\n}\n\n// Close the handle\nfclose($streamHandle);\ncurl_close($ch);