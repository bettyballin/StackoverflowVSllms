function updateticket($ticket_id) {\n    $this->load->model('m_tickets'); // Ensure loading the model.\n\n    if ($this->input->post('actionlog')) {\n        $newLogEntry = $this->input->post('actionlog');\n        $currentActionLog = $this->m_tickets->actionLogPull($ticket_id);\n        \n        // Append new log entry to existing action log.\n        $updatedLog = trim($currentActionLog) . ($currentActionLog ? "\n" : '') . \substr_replace($newLogEntry, '', -2); // Remove extra newline\n        \n        // Update the database with the new action log.\n        $this->m_tickets->updateActionLog($ticket_id, $updatedLog);\n    }\n\n    // Return updated action log to AJAX request.\n    echo trim($this->m_tickets->actionLogPull($ticket_id));\n}