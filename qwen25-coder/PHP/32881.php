function getLink($sa) {\n    if ($sa === '1') {\n        return 'qp_bbl';\n    } elseif ($sa === '2') {\n        return 'qp_sbl';\n    } else {\n        throw new Exception("Invalid database selection.");\n    }\n}\n\nif (!isset($_POST['action'])) {\n    header("Location: index.php");\n    exit;\n} else {\n    try {\n        $sa = isset($_POST['select']) ? $_POST['select'] : '';\n        \n        // Validate input\n        if ($sa !== '1' && $sa !== '2') {\n            throw new Exception("Invalid database selection.");\n        }\n\n        $databaseName = getLink($sa);\n        \n        // Use a safe function to connect\n        $link = connect(HOST, USER, PASSWORD, $databaseName);\n\n        // Continue with your logic...\n        \n    } catch (Exception $e) {\n        echo "Error: " . htmlspecialchars($e->getMessage());\n        exit;\n    }\n}