<?php\ndefined('BASEPATH') OR exit('No direct script access allowed');\n\nclass Form extends CI_Controller {\n\n    public function index()\n    {\n        $this->load->view('form');\n    }\n\n    public function submit()\n    {\n        // Load form validation library\n        $this->load->library('form_validation');\n\n        // Set validation rules\n        $this->form_validation->set_rules('field1', 'Field 1', 'required|max_length[255]');\n        $this->form_validation->set_rules('field2', 'Field 2', 'required|numeric');\n\n        if ($this->form_validation->run() == FALSE)\n        {\n            // Load view with form\n            $this->load->view('form');\n        }\n        else\n        {\n            // Process form data, insert into database for example\n            $data = array(\n                'field1' => $this->input->post('field1'),\n                'field2' => $this->input->post('field2')\n            );\n\n            $this->load->model('Form_model');\n            if($this->Form_model->insert_data($data)){\n                // Success message and redirection\n                redirect('/form/success', 'refresh');\n            } else {\n                // Error handling\n                $this->load->view('form_error');\n            }\n        }\n    }\n\n    public function success()\n    {\n        echo "Form submitted successfully!";\n    }\n}