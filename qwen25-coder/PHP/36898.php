$mysqli = new mysqli("localhost", "root", "", "test");\n\nif ($mysqli->connect_error) {\n    die("Connection failed: " . $mysqli->connect_error);\n}\n\n// ... do stuff ...\nif ($someConditionForRedirection) {\n    $mysqli->close(); // Close the connection before redirecting\n    header("Location: /another-page.php");\n    exit();\n}\n\n// If not redirected, continue using the database...\n// ...\n\n$mysqli->close(); // Don't forget to close even if no redirection occurs