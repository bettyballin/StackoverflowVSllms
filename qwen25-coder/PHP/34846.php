<?php\n// Include Google Client Library\nrequire_once 'vendor/autoload.php';\n\n$client = new \Google_Client();\n$client->setApplicationName('Friend Inviter');\n$client->setScopes([\Google_Service_Contacts::CONTACTS_READONLY]);\n$client->setAuthConfig('path/to/client_secret.json'); // Path to your client secret file\n$client->addScope("https://www.googleapis.com/auth/contacts.readonly");\n$client->setAccessType('offline');\n\n// Handle the OAuth flow\nif (!isset($_GET['code'])) {\n    $auth_url = $client->createAuthUrl();\n    header('Location: ' . filter_var($auth_url, FILTER_SANITIZE_URL));\n} else {\n    $client->authenticate($_GET['code']);\n    $_SESSION['access_token'] = $client->getAccessToken();\n    header('Location: ' . filter_input(INPUT_SERVER, 'PHP_SELF'));\n}\n\n// Use the client to make an API request.\nif (isset($_SESSION['access_token']) && $_SESSION['access_token']) {\n    $client->setAccessToken($_SESSION['access_token']);\n    $service = new \Google_Service_Contacts($client);\n\n    $optParams = array(\n        'maxResults' => 10,\n        'orderBy' => 'lastModified',\n    );\n\n    $results = $service->contacts->listContacts($optParams);\n\n    if (count($results->getConnections()) == 0) {\n        print "No contacts found.\n";\n    } else {\n        foreach ($results->getConnections() as $contact) {\n            echo "Name: {$contact['displayName']}\n";\n        }\n    }\n} else {\n    print "<a href='login.php'>Login with Google</a>";\n}\n?>