add_action('save_post', function ($post_id, $post) {\n    if ('store' === $post->post_type || 'item' === $post->post_type) {\n        $action = defined('DOING_AUTOSAVE') && DOING_AUTOSAVE ? 'autosave' : 'update';\n        log_change($post->post_type, $post_id, $action);\n    }\n}, 10, 2);\n\nadd_action('before_delete_post', function ($post_id) {\n    global $wpdb;\n    $post = get_post($post_id);\n    if ('store' === $post->post_type || 'item' === $post->post_type) {\n        log_change($post->post_type, $post_id, 'delete');\n    }\n});\n\nadd_action('transition_post_status', function ($new_status, $old_status, $post) {\n    if (('draft' === $old_status && 'publish' === $new_status) || ('draft' === $new_status && 'publish' === $old_status)) {\n        log_change($post->post_type, $post->ID, 'status_change', array('from' => $old_status, 'to' => $new_status));\n    }\n}, 10, 3);\n\n// For associations (assuming you handle these in a custom table)\nadd_action('your_custom_association_create_hook', function ($item_id, $store_id) {\n    log_change('association', $item_id . '_' . $store_id, 'create');\n});\n\nadd_action('your_custom_association_delete_hook', function ($item_id, $store_id) {\n    log_change('association', $item_id . '_' . $store_id, 'delete');\n});