<?php\nnamespace App\Controller;\n\nuse App\Controller\AppController;\n\nclass PeopleController extends AppController\n{\n    public function index()\n    {\n        $query = $this->People->find();\n        \n        if ($this->request->is('post')) {\n            $surname = $this->request->getData('surname');\n            \n            // Perform a wildcard search on the surname field\n            $query->where(function ($exp, $q) use ($surname) {\n                return $exp->like('surname', '%' . $surname . '%');\n            });\n        }\n\n        $people = $this->paginate($query);\n        $this->set(compact('people'));\n    }\n}