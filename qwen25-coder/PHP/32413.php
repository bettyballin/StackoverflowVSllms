<?php\nrequire_once 'vendor/autoload.php'; // Make sure to include the Facebook SDK for PHP\n\n$fb = new \Facebook\Facebook([\n  'app_id' => '{YOUR_APP_ID}',\n  'app_secret' => '{YOUR_APP_SECRET}',\n  'default_graph_version' => 'v7.0',\n]);\n\n$helper = $fb->getRedirectLoginHelper();\n\ntry {\n  $accessToken = $helper->getAccessToken();\n} catch(\Facebook\Exceptions\FacebookResponseException $e) {\n  // When Graph returns an error\n  echo 'Graph returned an error: ' . $e->getMessage();\n  exit;\n} catch(\Facebook\Exceptions\FacebookSDKException $e) {\n  // When validation fails or other local issues\n  echo 'Facebook SDK returned an error: ' . $e->getMessage();\n  exit;\n}\n\nif (! isset($accessToken)) {\n  if ($helper->getError()) {\n    header('HTTP/1.0 401 Unauthorized');\n    echo "Error: " . $helper->getError() . "\n";\n    echo "Error Code: " . $helper->getErrorCode() . "\n";\n    echo "Error Reason: " . $helper->getErrorReason() . "\n";\n    echo "Error Description: " . $helper->getErrorDescription() . "\n";\n  } else {\n    header('HTTP/1.0 400 Bad Request');\n    echo 'Bad request';\n  }\n  exit;\n}\n\n// Logged in\ntry {\n  // Returns a `Facebook\FacebookResponse` object\n  $response = $fb->post('/me/feed', [\n    'message' => "Will this status show up and allow me to dominate the world?!"\n  ], '{access-token}'); // Replace {access-token} with a valid user access token\n\n  $graphNode = $response->getGraphNode();\n\n  echo 'Posted with id: ' . $graphNode['id'];\n\n} catch(Facebook\Exceptions\FacebookResponseException $e) {\n  echo 'Graph returned an error: ' . $e->getMessage();\n  exit;\n} catch(Facebook\Exceptions\FacebookSDKException $e) {\n  echo 'Facebook SDK returned an error: ' . $e->getMessage();\n  exit;\n}\n?>