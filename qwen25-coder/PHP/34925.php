<?php\n\n// Assume $user_id is available and represents the logged-in user's ID\n$user_id = $_SESSION['user_id'];\n\n$today = date('Y-m-d');\n\n$conn = new mysqli("localhost", "user", "password", "database");\n\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Fetch last visit and last consecutive day\n$sql = "SELECT lastvisit, last_consecutive_date, consecutive_days FROM users WHERE id = ?";\n$stmt = $conn->prepare($sql);\n$stmt->bind_param("i", $user_id);\n$stmt->execute();\n$result = $stmt->get_result();\n\n$user = $result->fetch_assoc();\n\nif ($user) {\n    $last_visit = date('Y-m-d', $user['lastvisit']);\n    $last_consecutive_date = $user['last_consecutive_date'];\n    $consecutive_days = $user['consecutive_days'];\n\n    // Check if it's a new day since last visit\n    if ($today > $last_visit) {\n        // Check if the user came back on the consecutive next day\n        if ($today == date('Y-m-d', strtotime('+1 day', strtotime($last_consecutive_date)))) {\n            // Increment consecutive days\n            $consecutive_days++;\n        } else {\n            // Reset consecutive days if not consecutive\n            $consecutive_days = 1;\n        }\n\n        // Update user data in database\n        $update_sql = "UPDATE users SET lastvisit = ?, last_consecutive_date = ?, consecutive_days = ? WHERE id = ?";\n        $update_stmt = $conn->prepare($update_sql);\n        $update_params = array(time(), $today, $consecutive_days, $user_id);\n        call_user_func_array(array($update_stmt, 'bind_param'), array_merge(array("iiss"), $update_params));\n        $update_stmt->execute();\n    }\n\n    // Check if the user reached 75 consecutive days\n    if ($consecutive_days >= 75) {\n        echo "Congratulations! You've earned your Woot-badge for logging in 75 consecutive days!";\n    }\n}\n\n$conn->close();\n\n?>