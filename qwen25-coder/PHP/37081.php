<?php\n\nrequire '/path/to/vendor/autoload.php';\n\nuse Adldap\Laravel\Facades\Adldap;\nuse Adldap\Adldap;\n\ntry {\n    // Create an instance of the Adldap2 package\n    $ad = new Adldap();\n\n    // Add a connection provider (required)\n    $config = [\n        'connections' => [\n            'default' => [\n                'hosts'            => ['your-domain-controller.com'],\n                'base_dn'          => 'dc=yourdomain,dc=com',\n                'username'         => 'cn=admin,dc=yourdomain,dc=com', // optional\n                'password'         => 'secret',                        // optional\n                'port'             => 389,\n                'use_ssl'          => false,\n                'use_tls'          => false,\n            ],\n        ],\n    ];\n\n    $ad->addProvider($config['connections']['default']);\n\n    // Connect to your LDAP server\n    if ($ad->connect()) {\n        echo "Connected successfully";\n\n        // Authenticate the user via LDAP and Active Directory\n        $username = 'user@yourdomain.com';   // The username to authenticate (should be a full distinguished name, or a domain qualified username)\n        $password = 'their-password';         // The password to authenticate\n\n        if ($ad->auth()->attempt($username, $password)) {\n            echo "Authentication successful!";\n        } else {\n            echo "Authentication failed.";\n        }\n    } else {\n        echo "Could not connect to LDAP server";\n    }\n} catch (\Adldap\Auth\BindException $e) {\n    // There was an issue binding / authenticating the user\n    echo $e->getMessage();\n}