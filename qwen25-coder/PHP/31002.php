<?php\n/**\n * Unzip class for handling zip files without using external extensions.\n */\nclass SimpleUnzip {\n    private $file = '';\n    private $data = [];\n\n    public function __construct ($file) {\n        if (!is_file($file)) trigger_error('Zip file does not exist', E_USER_ERROR);\n        $this->file = $file;\n        $this->readBinary();\n    }\n\n    public function unzip ($dir) {\n        if (substr($dir, -1) != '/') $dir .= '/';\n        if (!is_dir($dir)) mkdir($dir);\n\n        foreach ($this->data as $fn => $content)\n            file_put_contents($dir . basename($fn), $content);\n    }\n\n    private function readBinary() {\n        // Simplified reading of zip content\n        $fh = fopen($this->file, 'r');\n        fseek($fh, -22, SEEK_END); // Locate central directory locator\n\n        if (fread($fh, 4) != "\x50\x4b\x05\x06") throw new Exception('Not a valid zip file');\n\n        fseek($fh, 16, SEEK_CUR);\n        $cd_offset = unpack('v', fread($fh, 2))[1];\n        fseek($fh, 4, SEEK_CUR);\n\n        // Locate central directory\n        fseek($fh, $cd_offset, SEEK_SET);\n        while (true) {\n            if (fread($fh, 4) != "\x50\x4b\x01\x02") break;\n\n            fseek($fh, 30, SEEK_CUR);\n            $fn_len = unpack('v', fread($fh, 2))[1];\n            $extra_field_length = unpack('v', fread($fh, 2))[1];\n            $comment_length = unpack('v', fread($fh, 2))[1];\n\n            // Extract file name\n            $filename = fread($fh, $fn_len);\n            fseek($fh, $extra_field_length + $comment_length, SEEK_CUR);\n\n            if (fread($fh, 4) != "\x50\x4b\x03\x04") break;\n\n            fseek($fh, 5, SEEK_CUR);\n            $compressed_size = unpack('V', fread($fh, 4))[1];\n            $uncompressed_size = unpack('V', fread($fh, 4))[1];\n            fseek($fh, 8, SEEK_CUR);\n\n            // Read compressed data\n            $data = fread($fh, $compressed_size);\n            if ($compressed_size != $uncompressed_size) {\n                $data = gzinflate($data); // inflate the data\n            }\n\n            $this->data[$filename] = $data;\n\n            fseek($fh, 4, SEEK_CUR);\n        }\n\n        fclose($fh);\n    }\n}\n\n// Usage example:\ntry {\n    $zip = new SimpleUnzip('yourfile.zip');\n    $zip->unzip('extract_dir/');\n} catch (Exception $e) {\n    echo 'Error: ' . $e->getMessage();\n}\n?>