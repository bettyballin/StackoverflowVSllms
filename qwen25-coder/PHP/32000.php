function isSerialized($data) {\n    $data = trim($data);\n    if ($data === 'N;') return true;\n    if (!preg_match('/^([adObis]:|N;)/', $data)) return false;\n    \n    try {\n        unserialize($data, ['allowed_classes' => false]);\n    } catch (Exception $e) {\n        return false;\n    }\n\n    return true;\n}\n\n// Usage\n$value = $_SESSION['foo'];\nif (isSerialized($value)) {\n    // The value is a serialized object or data\n} else {\n    // The value is not a serialized object\n}