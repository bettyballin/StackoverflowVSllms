<?php\n\nrequire 'vendor/autoload.php';\n\nuse GuzzleHttp\Client;\n\n$client = new Client();\n\n$accessLicenseNumber = "YOUR_ACCESS_LICENSE_NUMBER";\n$username = "YOUR_USER_ID";\n$password = "YOUR_PASSWORD";\n$shipperNumber = "SHIPPER_NUMBER";\n\n$requestBody = '\n<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://tracking.fedex.com/schemas/track TrackRequest.xsd">\n    <soapenv:Header/>\n    <soapenv:Body>\n        <v11:ProcessShipmentRequest xml:lang="en-US" xmlns:v11="http://www.ups.com/XMLSchema/XOLTWS/Ship/v11.0">\n            <Request>\n                <TransactionReference>\n                    <!-- Unique client request identifier -->\n                    <CustomerContext>Your Test Request</CustomerContext>\n                </TransactionReference>\n                <RequestAction>ShipAccept</RequestAction>\n                <RequestOption>validate</RequestOption>\n            </Request>\n            <ShipmentDigest>'.base64_encode('your-shipment-digest').'</ShipmentDigest>\n        </v11:ProcessShipmentRequest>\n    </soapenv:Body>\n</soapenv:Envelope>';\n\n$options = [\n    'headers' => [\n        'Content-Type' => 'text/xml',\n        'SOAPAction' => 'http://www.ups.com/XMLSchema/XOLTWS/Ship/v11.0',\n        'Accept' => 'application/json'\n    ],\n    'body' => $requestBody\n];\n\n$response = $client->post('https://wsbeta.ups.com/services/EPS/Shipment', $options);\n$xmlResponse = simplexml_load_string($response->getBody()->getContents());\n\nif ($response->getStatusCode() == 200) {\n    // Extract and save the base64 encoded label graphic\n    $base64LabelGraphic = (string)$xmlResponse->xpath('//ShipmentResults/PackageResults/LabelImage/Image')[0];\n    file_put_contents('label.pdf', base64_decode($base64LabelGraphic));\n    echo "Label saved as label.pdf";\n} else {\n    echo "Error: " . $response->getBody()->getContents();\n}