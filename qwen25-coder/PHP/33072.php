<?php\n\nclass RequestLoggerMiddleware {\n    public function handle($request, $next) {\n        // Log request details\n        error_log("Request: " . $_SERVER['REQUEST_METHOD'] . ' ' . $_SERVER['REQUEST_URI']);\n        \n        // Call the next middleware / controller action\n        $response = $next($request);\n        \n        // Check response status code and log it if necessary\n        if ($response->getStatusCode() == 500) {\n            error_log("Error: HTTP 500 occurred while handling the request to " . $_SERVER['REQUEST_URI']);\n        }\n        \n        return $response;\n    }\n}\n\n?>