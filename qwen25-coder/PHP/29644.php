<?php\n\n// Directory for storing session files\n$sessionPath = '/var/www/sessions';\n\n// Make sure the directory exists and has proper permission\nif (!file_exists($sessionPath)) {\n    mkdir($sessionPath, 0755);\n}\n\n// Custom session handlers\nfunction open_session() {\n    global $sessionPath;\n    if (is_writable($sessionPath)) {\n        return true;\n    }\n    return false;\n}\n\nfunction close_session() {\n    return true;\n}\n\nfunction read_session($id) {\n    global $sessionPath;\n    $file = "$sessionPath/sess_$id";\n    if (file_exists($file)) {\n        return file_get_contents($file);\n    }\n    return '';\n}\n\nfunction write_session($id, $data) {\n    global $sessionPath;\n    return file_put_contents("$sessionPath/sess_$id", $data) === false ? false : true;\n}\n\nfunction destroy_session($id) {\n    global $sessionPath;\n    $file = "$sessionPath/sess_$id";\n    if (file_exists($file)) {\n        unlink($file);\n    }\n    return true;\n}\n\nfunction gc_session() {\n    global $sessionPath;\n    foreach ((glob("$sessionPath/*")) as $filename) {\n        if (filemtime($filename) + ini_get('session.gc_maxlifetime') < time()) {\n            unlink($filename);\n        }\n    }\n    return true;\n}\n\n// Register custom session functions\nsession_set_save_handler(\n    "open_session",\n    "close_session",\n    "read_session",\n    "write_session",\n    "destroy_session",\n    "gc_session"\n);\n\n// Start the session \nsession_start();\n\n// Count number of active sessions\n$number_of_users = count(glob("$sessionPath/sess_*"));\n\necho "Number of active users: $number_of_users";