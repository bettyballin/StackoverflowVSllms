<?php\n$host = 'localhost';\n$user = 'username';\n$password = 'password';\n$dbname = 'database_name';\n\n// Create connection\n$conn = new mysqli($host, $user, $password, $dbname);\n\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n$tables = [];\n$sql = "SHOW TABLES FROM $dbname";\n$result = $conn->query($sql);\n\nif ($result->num_rows > 0) {\n    while($row = $result->fetch_row()) {\n        $tables[] = $row[0];\n    }\n} else {\n    die("No tables found in $dbname");\n}\n\n$return = '';\nforeach ($tables as $table) {\n    $result = $conn->query('SELECT * FROM ' . $table);\n    if ($result->num_rows > 0) {\n        $num_fields = mysqli_num_fields($result);\n\n        $return .= 'DROP TABLE IF EXISTS `' . $table . '`;';\n        $row2 = $conn->query('SHOW CREATE TABLE `' . $table . '`');\n        $row2 = $row2->fetch_row();\n        $return .= "\n\n" . $row2[1] . ";\n\n";\n\n        for ($i = 0; $i < $num_fields; $i++) {\n            while($row = $result->fetch_row()) {\n                $return .= 'INSERT INTO `' . $table . '` VALUES(';\n                for($j=0; $j<$num_fields; $j++) {\n                    $row[$j] = str_replace("\n","\\n", addslashes($row[$j]));\n                    if (isset($row[$j])) { $return.= '"'.$row[$j].'"' ; } else { $return.= '""'; }\n                    if ($j<$num_fields-1) { $return.= ','; }\n                }\n                $return .= ");\n";\n            }\n        }\n        $return .= "\n\n\n";\n    }\n}\n\n$backup_file_name = $dbname . '_backup.sql';\nfile_put_contents($backup_file_name, $return);\n\n$conn->close();\n?>