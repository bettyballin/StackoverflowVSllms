function profile($id = null)\n{\n    if (empty($this->data['Customer'])) {\n        $this->Customer->id = $id;\n        $this->data = $this->Customer->read();\n    } else {\n        // Save the customer data first\n        $this->Customer->id = $this->data['Customer']['id'];\n        \n        // If you need to access related address, read it or set its ID manually if known\n        $customerData = $this->Customer->findById($this->data['Customer']['id']);\n        if (!empty($customerData) && isset($customerData['Address']['id'])) {\n            $this->Customer->Address->id = $customerData['Address']['id'];\n            // Now save the address data\n            $this->Customer->Address->save($this->data['Address']);\n        }\n        \n        // Save the customer data\n        $this->Customer->save($this->data['Customer']);\n    }\n}