function cleanPath($path) {\n    $path = (string) $path;\n    $path = preg_replace(\n        array(\n            '#[\n\r\t\0]*#im',      // Remove new lines, carriage returns, tabs and null bytes.\n            '#/(/)+#i',             // Replace multiple slashes with a single slash\n            '/\.{2,}/i'             // Remove two or more consecutive dots\n        ),\n        array(\n            '',\n            '/',\n            '/'\n        ),\n        $path\n    );\n    return rtrim($path,DIRECTORY_SEPARATOR);\n}