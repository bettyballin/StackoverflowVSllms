// Assuming $searchTerms and other variables are already set from GET request or elsewhere\n\n$searchTerms = $_GET['SearchKeywords'];\n$searchType = $_GET['SearchTypes'];\n$numResults = $_GET['NumberOfResults'];\n$location = $_GET['UserLocation'];\n\n$date = date('Y-m-d');\n$time = date('H:i:s');\n\n// Check if the search already exists in the last minute (to prevent quick duplicates)\n$queryCheck = "SELECT COUNT(*) as count FROM DiggerActivity_Searches WHERE SearchTerms = ? AND Date = ? AND Time >= DATE_SUB(?, INTERVAL 1 MINUTE)";\n$stmtCheck = $conn->prepare($queryCheck);\n$stmtCheck->bind_param("sss", $searchTerms, $date, $time);\n$stmtCheck->execute();\n$resultCheck = $stmtCheck->get_result();\n$row = $resultCheck->fetch_assoc();\n\nif ($row['count'] == 0) {\n    // Proceed with the insert if no duplicate found in the last minute\n    $queryInsert = "INSERT INTO DiggerActivity_Searches (SearchTerms, SearchType, NumResults, Location, Date, Time) VALUES (?, ?, ?, ?, ?, ?)";\n    $stmtInsert = $conn->prepare($queryInsert);\n    $stmtInsert->bind_param("ssisss", $searchTerms, $searchType, $numResults, $location, $date, $time);\n    $stmtInsert->execute();\n} else {\n    // Log or handle the duplicate submission scenario\n}