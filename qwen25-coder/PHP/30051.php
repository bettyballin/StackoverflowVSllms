<?php\n$targetDirectory = "./uploads/";\n$maxFileSize = 100 * 1024 * 1024; // 100MB\n$allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\n\nif ($_SERVER["REQUEST_METHOD"] == "POST") {\n    if (isset($_FILES['file'])) {\n        $fileInfo = $_FILES['file'];\n        $fileName = basename($fileInfo['name']);\n        $fileType = strtolower(pathinfo($fileName, PATHINFO_EXTENSION));\n        $safeFileName = bin2hex(random_bytes(6)).'.'.$fileType; // Generate a safe filename\n        $targetPath = $targetDirectory . $safeFileName;\n\n        if ($fileInfo["size"] > $maxFileSize) {\n            die("Error: File is too large.");\n        }\n\n        if (!in_array($fileInfo['type'], $allowedTypes)) {\n            die("Error: Invalid file type.");\n        }\n\n        if (move_uploaded_file($fileInfo["tmp_name"], $targetPath)) {\n            echo "The file ". htmlspecialchars( basename( $fileName)). " has been uploaded.";\n        } else {\n            echo "Sorry, there was an error uploading your file.";\n        }\n    }\n}\n?>\n\n<form action="" method="post" enctype="multipart/form-data">\n    Select image to upload:\n    <input type="file" name="file" id="file">\n    <input type="submit" value="Upload File" name="submit">\n</form>