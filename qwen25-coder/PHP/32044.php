// Assuming $pdo is your PDO connection and you have already inserted the image to get its ID as $imageId\n$tags = ['toronto', 'sushi', 'summer'];\n\nforeach ($tags as $tag) {\n    // First, insert or find the tag's ID\n    $stmt = $pdo->prepare("INSERT INTO tags (tag) VALUES (?) ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id)");\n    $stmt->execute([$tag]);\n    $tagId = $pdo->lastInsertId();\n\n    // Then, associate the tag with the image\n    $stmt = $pdo->prepare("INSERT INTO image_tags (imageID, tagID) VALUES (?, ?)");\n    $stmt->execute([$imageId, $tagId]);\n}