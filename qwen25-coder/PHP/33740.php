$conn = new mysqli("localhost", "my_user", "my_password", "world");\n\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n$query = "SELECT * FROM users WHERE active=1";\n$result = $conn->query($query);\n\nif ($result->num_rows > 0) {\n    while($row = $result->fetch_assoc()) {\n        echo "id: " . $row["id"]. " - Name: " . $row["name"]. "<br>";\n        if ($row["admin"] == 1) {\n            echo "This user is an admin.<br>";\n            // More nested logic here...\n        }\n    }\n} else {\n    echo "0 results";\n}\n$conn->close();