function saveArticleVersion($articleId) {\n    global $conn; // Assume MySQL connection established\n\n    $stmt = $conn->prepare("INSERT INTO article_versions (article_id, title, content) SELECT article_id, title, content FROM articles WHERE article_id = ?");\n    $stmt->bind_param("i", $articleId);\n    if (!$stmt->execute()) {\n        throw new Exception("Failed to save version: " . $stmt->error);\n    }\n}\n\nfunction updateArticle($articleId, $newTitle, $newContent) {\n    global $conn; // Assume MySQL connection established\n\n    // Save current state as a version\n    saveArticleVersion($articleId);\n\n    // Update the article with new content and title\n    $stmt = $conn->prepare("UPDATE articles SET title = ?, content = ? WHERE article_id = ?");\n    $stmt->bind_param("ssi", $newTitle, $newContent, $articleId);\n    if (!$stmt->execute()) {\n        throw new Exception("Failed to update article: " . $stmt->error);\n    }\n}