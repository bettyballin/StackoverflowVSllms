// src/Shell/WorkerQueue.php\nnamespace App\Shell;\n\nuse Cake\Console\Shell;\nuse Pheanstalk\Pheanstalk;\n\nclass WorkerQueueShell extends Shell {\n    public function main() {\n        $pheanstalk = new Pheanstalk('127.0.0.1');\n        while (true) {\n            $job = $pheanstalk->watch('default')->ignore('other_tube')->reserve();\n            if ($job !== false) {\n                $data = json_decode($job->getData(), true);\n                $this->_executeTask($data['task'], $data['params']);\n                $pheanstalk->delete($job);\n            }\n        }\n    }\n\n    private function _executeTask($action, $params) {\n        // Load the task and execute it with parameters\n        $shell = $this->Tasks->load('YourNamespace.' . ucfirst($action));\n        call_user_func_array([$shell, 'main'], $params);\n    }\n}