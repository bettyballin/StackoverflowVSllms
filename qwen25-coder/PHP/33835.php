global $post;\n$posts = get_posts(array('numberposts' => $limit));\n\nforeach ($posts as $post) {\n    setup_postdata($post); // Important to set up post data for each iteration\n\n    $title = get_the_title(); // Directly get the title without echoing\n    $permalink = apply_filters('the_permalink', get_permalink());\n    $content = apply_filters('the_content', get_post_field('post_content', $post->ID));\n\n    /* Do not print here, process as needed */\n    // print "<a href='$permalink'>$title</a><br>"; \n    // print htmlentities($content, ENT_COMPAT, "UTF-8"). "<br>";\n}\n\nwp_reset_postdata(); // Reset post data to the original query