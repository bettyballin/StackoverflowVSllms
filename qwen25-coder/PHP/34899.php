if ($stmt = $link->prepare("SELECT item FROM data WHERE id = ?")) {\n    $stmt->bind_param("i", $id);\n    $stmt->execute();\n    $stmt->bind_result($item);\n\n    while ($stmt->fetch()) {\n        /* Other code here */\n        $itemSummary = $item + $magic; // Ensure $magic is defined somewhere in your code\n\n        if ($stmt2 = $link->prepare("INSERT INTO summaries (itemID, summary) VALUES (?, ?)")) {\n            $itemID = 1; // Assuming itemID should be set. Adjust as necessary.\n            $stmt2->bind_param("is", $itemID, $itemSummary);\n            \n            if (!$stmt2->execute()) {\n                echo "Error executing inner query: " . $link->error;\n                break; // Optional: decide if you want to continue or break on error\n            }\n\n            $stmt2->close();\n        } else {\n            echo "Error preparing inner query: " . $link->error;\n            break; // Optional: decide if you want to continue or break on error\n        }\n    }\n\n    $stmt->close(); // Close the outer statement when done\n} else {\n    echo "Error preparing outer query: " . $link->error;\n}