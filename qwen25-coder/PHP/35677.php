<?php\n\nfunction deleteDirectoriesByName($ftpConnection, $directory, $targetName) {\n    // List all files/directories in the current directory\n    $entries = ftp_rawlist($ftpConnection, $directory);\n\n    foreach ($entries as $entry) {\n        // Parse FTP entry to get file properties\n        preg_match('/^([\w-]+)\s+[\d\s]+\d{1,2}\s+\d{1,2}\s+[0-9:]+\s+(.*)$/', trim($entry), $matches);\n        if (count($matches) < 3) continue; // Skip entries that don't match our pattern\n\n        list(, $type, $itemName) = $matches;\n\n        // Construct full path\n        $fullPath = rtrim(preg_replace('|/+|', '/', "$directory/$itemName"), '/');\n\n        // Check if it's a directory and not '.' or '..'\n        if ($type[0] === 'd' && basename($fullPath) !== '.' && basename($fullPath) !== '..') {\n            // Recursively delete subdirectories first\n            deleteDirectoriesByName($ftpConnection, $fullPath, $targetName);\n\n            // Check the name of the directory and delete it if it matches\n            if (basename($fullPath) === $targetName) {\n                ftp_rmdir($ftpConnection, $fullPath);\n            }\n        }\n    }\n}\n\n$ftpHost = 'your.ftp.server';\n$ftpUser = 'username';\n$ftpPassword = 'password';\n\n// Connect to FTP server\n$connId = ftp_connect($ftpHost);\n\nif (!$connId) die("FTP connection has failed!");\nif (!ftp_login($connId, $ftpUser, $ftpPassword)) die("FTP login has failed!");\n\n// Set passive mode (optional)\nftp_pasv($connId, true);\n\n// Define the top directory and target directory name to delete\n$topLevelDirectory = '/your/start/path';\n$targetDirectoryName = 'directory-to-delete';\n\n// Call the recursive function\ndeleteDirectoriesByName($connId, $topLevelDirectory, $targetDirectoryName);\n\n// Close FTP connection\nftp_close($connId);\n\n?>