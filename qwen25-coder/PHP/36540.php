$flv = 'filename'; // Ensure this is properly sanitized if coming from user input\n\n// Initialize a cURL session\n$ch = curl_init($flv);\ncurl_setopt($ch, CURLOPT_HEADER, 0);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\n// Execute the cURL request\n$data = curl_exec($ch);\n$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n\nif ($data === false || $httpCode != 200) {\n    echo 'Error downloading file';\n    exit;\n}\n\ncurl_close($ch);\n\n// Set headers for file download\nheader('Content-Description: File Transfer');\nheader('Content-Type: application/octet-stream');\nheader('Content-Disposition: attachment; filename=' . basename($flv));\nheader('Expires: 0');\nheader('Cache-Control: must-revalidate, post-check=0, pre-check=0');\nheader('Pragma: public');\n\n// Use output buffering to send the file without blocking further requests\n$chunkSize = 1024 * 8; // 8 kB chunks\nob_clean();\nflush();\n\nfor ($i = 0; $i < strlen($data); $i += $chunkSize) {\n    echo substr($data, $i, $chunkSize);\n    ob_flush();\n    flush();\n}\n\nexit;