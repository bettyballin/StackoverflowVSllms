<?php\n\nfunction getDirectMediafireLink($mediafireUrl) {\n    $ch = curl_init();\n    \n    // Set the URL to fetch\n    curl_setopt($ch, CURLOPT_URL, $mediafireUrl);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    // Fetch cookies for session handling\n    curl_setopt($ch, CURLOPT_COOKIEJAR, 'cookie.txt');\n    curl_setopt($ch, CURLOPT_COOKIEFILE, 'cookie.txt');\n    \n    $html = curl_exec($ch);\n    if (curl_errno($ch)) {\n        echo 'Error:' . curl_error($ch);\n        return null;\n    }\n    curl_close($ch);\n\n    // Load the HTML into a DOMDocument object\n    $dom = new DOMDocument();\n    @$dom->loadHTML($html); // Suppress warnings for malformed HTML\n\n    // Find the div with id 'download_link'\n    $xpath = new DOMXPath($dom);\n    $elements = $xpath->query("//div[@id='download_link']/a");\n\n    if ($elements->length) {\n        // Return the href attribute of the first link element found\n        return $elements->item(0)->getAttribute('href');\n    } else {\n        echo "Direct link not found.";\n        return null;\n    }\n}\n\n// Example usage\n$mediafireUrl = 'https://www.mediafire.com/file/yourfileid/filename.zip'; // Replace with your MediaFire file URL\n$directLink = getDirectMediafireLink($mediafireUrl);\nif ($directLink) {\n    echo "Direct download link: " . $directLink;\n}\n?>