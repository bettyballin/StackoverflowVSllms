<?php\n\nclass ExceptionHandler {\n    public function handleException($exception) {\n        // Log the exception details\n        error_log($exception->getMessage() . " - " . $exception->getTraceAsString());\n\n        try {\n            // Generate a user-friendly view based on the exception category\n            if ($exception instanceof CustomCategoryException) {\n                echo "Handling custom category exception: " . $exception->getMessage();\n            } else {\n                echo "Unexpected error occurred";\n            }\n        } catch (\Throwable $e) {\n            // Handle any errors that occur during handling of an exception\n            error_log("Exception in exception handler: " . $e->getMessage());\n        }\n    }\n\n    public static function register() {\n        set_exception_handler([new self(), 'handleException']);\n    }\n}\n\n// Define a custom exception class for demonstration\nclass CustomCategoryException extends Exception {}\n\n?>