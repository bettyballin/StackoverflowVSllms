global $post;\n$categories = get_categories('child_of=3');\nforeach ($categories as $cat) {\n    // Use an array for arguments in get_posts\n    $postslist = get_posts(array(\n        'numberposts' => 1,\n        'order' => 'DESC',\n        'category' => $cat->term_id // Changed to term_id which is the correct field\n    ));\n    foreach ($postslist as $post) {\n        setup_postdata($post); // Set up post data for use in loops\n        $option = '<li id="' . get_post_meta($post->ID, 'id', true) . '">';\n        $option .= '<a class="preview" rel="' . esc_url(get_post_meta($post->ID, 'thumbnail', true)) . '" ';\n        $option .= 'href="' . esc_url(get_permalink()) . '">';\n        $option .= esc_html($cat->name);\n        $option .= '</a>';\n        $option .= '</li>';\n        echo $option;\n    }\n    wp_reset_postdata(); // Reset the global post object after each loop iteration\n}