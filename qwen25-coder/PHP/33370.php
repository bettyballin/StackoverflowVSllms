// Corrected multidimensional array structure\npublic $form = array(\n    array(\n        'field' => 'email',\n        'rules' => array(\n            array(\n                'rule' => 'email',\n                'on' => 'create',\n                'required' => true,\n            ),\n            array(\n                'rule' => 'email',\n                'on' => 'update',\n                'required' => false,\n            )\n        )\n    )\n);\n\n// Corrected foreach loops\npublic function validate($form) {\n    foreach ($form as $fieldData) {\n        $field = $fieldData['field'];\n        $rules = $fieldData['rules'];\n\n        foreach ($rules as $ruleSet) {\n            $rule = $ruleSet['rule'];\n            $on = $ruleSet['on'];\n            $required = $ruleSet['required'];\n\n            $this->isValid($field, $rule, $on, $required);\n        }\n    }\n}\n\n// Dummy method for the sake of completeness\nprivate function isValid($field, $rule, $on, $required) {\n    // Implementation of validation logic\n    echo "Validating field: $field with rule: $rule on: $on required: " . ($required ? 'true' : 'false') . PHP_EOL;\n}