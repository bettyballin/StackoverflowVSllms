<?php\nif ($_SERVER["REQUEST_METHOD"] == "POST") {\n    // Check if file was uploaded without errors\n    if (isset($_FILES["photo"]) && $_FILES["photo"]["error"] == 0) {\n        $allowed = ["image/jpeg" => "jpg", "image/png" => "png"];\n        $filename = $_FILES["photo"]["name"];\n        $filetype = $_FILES["photo"]["type"];\n        $filesize = $_FILES["photo"]["size"];\n\n        // Verify file extension\n        $ext = pathinfo($filename, PATHINFO_EXTENSION);\n        if (!array_key_exists($filetype, $allowed)) die("Error: Please select a valid file format.");\n\n        // Verify file size - 5MB maximum\n        $maxsize = 5 * 1024 * 1024;\n        if ($filesize > $maxsize) die("Error: File size is larger than the allowed limit.");\n\n        // Check whether file exists before uploading it\n        if (file_exists("upload/" . $filename)) {\n            echo $filename . " is already exists.";\n        } else {\n            move_uploaded_file($_FILES["photo"]["tmp_name"], "upload/" . $filename);\n            echo "Your file was uploaded successfully.";\n        }\n    } else {\n        echo "Error: " . $_FILES["photo"]["error"];\n    }\n}\n?>