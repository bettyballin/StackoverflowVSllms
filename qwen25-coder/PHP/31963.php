<?php\nif (isset($_GET["pg"])) {\n    $pg = (int)$_GET["pg"]; // Cast to integer for safety\n} else {\n    $pg = 1;\n}\n\n// Validate pg value\nif ($pg < 1) {\n    $pg = 1;\n}\n\n$servername = "localhost";\n$username = "";\n$password = "";\n$dbname = "ebay";\n\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif (!$conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n$table = 'AUCTIONS';\n$page_rows = 10;\n\n$offset = ($pg - 1) * $page_rows;\n$query = "SELECT * FROM $table LIMIT $offset, $page_rows";\n$result = $conn->query($query);\n\n$rows = [];\nif ($result && $result->num_rows > 0) {\n    while ($row = $result->fetch_assoc()) {\n        $rows[] = $row;\n    }\n}\n\n$rowcount = count($rows);\n$last = ceil($rowcount / $page_rows); // Calculate last page after fetching rows\n\n// Re-check pg value against last\nif ($pg > $last) {\n    $pg = $last;\n}\n\n$self = htmlspecialchars($_SERVER['PHP_SELF'], ENT_QUOTES, 'utf-8');\necho " <a href='$self?pg=1'> <<-First</a> ";\n$previous = max(1, $pg - 1);\necho " <a href='$self?pg=$previous'> <-Previous</a> ";\necho "---------------------------";\n$next = min($last, $pg + 1);\necho " <a href='$self?pg=$next'>Next -></a> ";\necho " <a href='$self?pg=$last'>Last ->></a>";\n$conn->close();\n?>