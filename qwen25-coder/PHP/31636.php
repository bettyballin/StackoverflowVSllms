class Database {\n    private $pdo;\n\n    public function __construct($host, $dbname, $user, $pass) {\n        try {\n            $this->pdo = new PDO("mysql:host=$host;dbname=$dbname;charset=utf8", $user, $pass);\n            $this->pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n        } catch (PDOException $e) {\n            throw new Exception($e->getMessage());\n        }\n    }\n\n    public function select($table, $columns = '*', $conditions = []) {\n        $query = "SELECT " . implode(', ', (array)$columns) . " FROM $table";\n        \n        if (!empty($conditions)) {\n            $query .= ' WHERE ' . key($conditions).'=:'.$key;\n        }\n\n        $stmt = $this->pdo->prepare($query);\n        if (!empty($conditions)) {\n            foreach ($conditions as $column => $value) {\n                $stmt->bindValue(':' . $column, $value);\n            }\n        }\n        $stmt->execute();\n        return $stmt->fetchAll(PDO::FETCH_ASSOC);\n    }\n\n    public function insert($table, $data) {\n        $keys = array_keys($data);\n        $values = implode(', ', array_map(fn($key) => ":$key", $keys));\n        $query = "INSERT INTO $table (" . implode(', ', $keys) . ") VALUES ($values)";\n        $stmt = $this->pdo->prepare($query);\n\n        foreach ($data as $key => &$value) {\n            $stmt->bindParam(":$key", $value);\n        }\n\n        $success = $stmt->execute();\n        return $this->pdo->lastInsertId();\n    }\n\n    public function update($table, $data, $conditions) {\n        $set = implode(', ', array_map(fn($column) => "$column=:$column", array_keys($data)));\n        $query = "UPDATE $table SET $set WHERE ".key($conditions).'=:'.key($conditions);\n        $stmt = $this->pdo->prepare($query);\n\n        foreach ($data as $key => &$value) {\n            $stmt->bindParam(":$key", $value);\n        }\n        foreach ($conditions as $column => &$value) {\n            $stmt->bindParam(":$column", $value);\n        }\n\n        return $stmt->execute();\n    }\n\n    public function delete($table, $conditions) {\n        $query = "DELETE FROM $table WHERE ".key($conditions).'=:'.$key;\n        $stmt = $this->pdo->prepare($query);\n\n        foreach ($conditions as $column => &$value) {\n            $stmt->bindParam(":$column", $value);\n        }\n\n        return $stmt->execute();\n    }\n}