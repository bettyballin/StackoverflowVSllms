<?php\n$batchSize = 1000; // Define the number of rows per batch\n$totalCount = 0;\n$offset = 0;\n\n// Get total rows to insert for updating progress bar maximum value (can calculate before insertion)\n$stmt = $conn->query("SELECT COUNT(*) FROM source_table");\n$totalRows = $stmt->fetch_row()[0];\n\nwhile ($totalCount < $totalRows) {\n    // Insert a batch of rows\n    $sql = "INSERT INTO target_table (column1, column2, ...)\n            SELECT column1, column2, ...\n            FROM source_table\n            LIMIT {$batchSize} OFFSET {$offset}";\n\n    if ($conn->query($sql)) {\n        // Increment count of inserted rows\n        $totalCount += $batchSize;\n        // Update the progress bar on the user interface (not shown here)\n        echo "Inserted: " . round(($totalCount / $totalRows) * 100, 2) . "%\n";\n    } else {\n        echo "Error inserting batch: " . $conn->error;\n        break;\n    }\n    \n    // Increment offset for next batch\n    $offset += $batchSize;\n}\n\necho "Process completed.";\n?>