<?php\n// Directory containing images\n$directory = 'path/to/images/';\n\n// Number of images per page\n$imagesPerPage = 10;\n\n// Get current page number from the URL, default to 1\n$pageNumber = isset($_GET['page']) ? (int)$_GET['page'] : 1;\n$pageNumber = $pageNumber < 1 ? 1 : $pageNumber; // Ensure page number is at least 1\n\n// Read files from the directory and sort them\n$files = array_filter(scandir($directory), function($file) use ($directory) {\n    return is_file("$directory/$file");\n});\n\n$totalImages = count($files);\n\n// Calculate total pages\n$totalPages = ceil($totalImages / $imagesPerPage);\n\n// Ensure page number does not exceed total pages\n$pageNumber = $pageNumber > $totalPages ? $totalPages : $pageNumber;\n\n// Define start and end for the images to display on the current page\n$start = ($pageNumber - 1) * $imagesPerPage;\n$end = min($start + $imagesPerPage, $totalImages);\n\necho "<h2>Page $pageNumber of $totalPages</h2>";\n\n// Display images\nfor ($i = $start; $i < $end; $i++) {\n    echo '<img src="' . htmlspecialchars($directory . '/' . $files[$i]) . '" alt="Image ' . $i . '">';\n}\n\n// Pagination links\necho "<div class='pagination'>";\nif ($pageNumber > 1) {\n    echo '<a href="?page=' . ($pageNumber - 1) . '">Previous</a> ';\n}\nfor ($i = max(1, $pageNumber - 5); $i <= min($totalPages, $pageNumber + 5); $i++) {\n    echo '<a href="?page=' . $i . '">' . $i . '</a> ';\n}\nif ($pageNumber < $totalPages) {\n    echo '<a href="?page=' . ($pageNumber + 1) . '">Next</a>';\n}\necho "</div>";\n?>