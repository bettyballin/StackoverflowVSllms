<?php\n\n// Create a TCP/IP socket.\n$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);\nif ($socket === false) {\n    echo "socket_create() failed: reason: " . socket_strerror(socket_last_error()) . "\n";\n}\n\necho "Attempting to connect...\n";\n\n$result = socket_connect($socket, '127.0.0.1', 10000);\nif ($result === false) {\n    echo "socket_connect() failed.\nReason: ($result) " . socket_strerror(socket_last_error($socket)) . "\n";\n}\n\n// Set a timeout of 5 seconds for reading data.\nstream_set_timeout($socket, 5);\n\necho "Reading input...\n";\n\n$input = socket_read($socket, 1024);\n$info = stream_get_meta_data($socket);\n\nif ($info['timed_out']) {\n    echo 'Connection timed out!\n';\n    // Shutdown and close the socket\n    socket_shutdown($socket, 2); // 2 means forcefully close read/write\n    socket_close($socket);\n} else {\n    echo "Received input: $input\n";\n    \n    // Do something with the received data...\n\n    // Shutdown and close the socket\n    socket_shutdown($socket, 2); // 2 means forcefully close read/write\n    socket_close($socket);\n}\n?>