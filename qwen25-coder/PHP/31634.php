// Ensure $table is sanitized if it comes from user input to prevent SQL injection.\n$safeTable = mysqli_real_escape_string($con, $table);\n\n// Construct the query dynamically with the table name.\n$countQuery = "SELECT ARTICLE_NO FROM {$safeTable} WHERE upper(ARTICLE_NAME) LIKE ?";\n\nif ($numRecords = $con->prepare($countQuery)) {\n    // Concatenate wildcards directly into the parameter value.\n    $searchTerm = '%' . strtoupper($brand) . '%';\n    \n    // Bind the search term as a single parameter.\n    $numRecords->bind_param("s", $searchTerm);\n    \n    // Execute the prepared statement.\n    $numRecords->execute();\n\n    // Get the result set from the executed statement.\n    $result = $numRecords->get_result();\n    \n    // Count the number of rows in the result set.\n    $rowcount = $result->num_rows;\n\n    // Further processing...\n    $rows = getRowsByArticleSearch($query, $table, $max);\n    $last = ceil($rowcount / $page_rows);\n\n    // Always close statements and connections when done.\n    $numRecords->close();\n} else {\n    die(print_r($con->error));\n}