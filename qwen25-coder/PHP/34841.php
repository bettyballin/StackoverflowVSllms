<?php\nfunction listFiles($dir) {\n    $files = array();\n    \n    // Initialize RecursiveDirectoryIterator to iterate over the directory\n    $iterator = new RecursiveDirectoryIterator($dir, RecursiveDirectoryIterator::SKIP_DOTS);\n    \n    // Create an iterator that recurses into directories\n    foreach (new RecursiveIteratorIterator($iterator) as $file) {\n        // Add each file path to the array\n        if ($file->isFile()) {  // Check if it's a file\n            $files[] = $file->getPathname();\n        }\n    }\n\n    // Print file paths or return them\n    foreach ($files as $path) {\n        echo "$path\n";\n    }\n}\n\n// Example usage\nlistFiles('/home/user/stuff');\n?>