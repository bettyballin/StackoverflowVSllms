<?php\n// Connect to database\n$host = 'localhost';\n$dbname = 'your_db_name';\n$username = 'your_username';\n$password = 'your_password';\n\ntry {\n    $pdo = new PDO("mysql:host=$host;dbname=$dbname", $username, $password);\n} catch (PDOException $e) {\n    die($e->getMessage());\n}\n\n// Fetch data\n$query = "SELECT name, value FROM chart_data";\n$stmt = $pdo->query($query);\n$data = [];\n\nwhile ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n    $data[] = ['label' => $row['name'], 'value' => $row['value']];\n}\n\n// Chart dimensions\n$width = 400;\n$height = 300;\n\n// Create image for the chart\n$image = imagecreatetruecolor($width, $height);\n\n// Colors\n$bgColor = imagecolorallocate($image, 255, 255, 255);\n$barColor = imagecolorallocate($image, 183, 69, 40);\n$textColor = imagecolorallocate($image, 255, 255, 255);\n\n// Background\nimagefill($image, 0, 0, $bgColor);\n\n// Bar graph\n$maxValue = max(array_column($data, 'value'));\n$barWidth = ($width - 40) / count($data);\n$xOffset = 20;\n$yOffset = 10;\n\nforeach ($data as $item) {\n    $ratio = $item['value'] / $maxValue;\n    $barHeight = (int)($height * $ratio);\n\n    // Draw bar\n    imagefilledrectangle($image, $xOffset, $height - $yOffset - $barHeight, \n        $xOffset + $barWidth, $height - $yOffset, $barColor);\n    \n    // Label and value text\n    imagettftext($image, 8, 0, $xOffset, $height - $yOffset + 20, $textColor, __DIR__ . '/arial.ttf', \n        substr($item['label'], 0, 10));\n    imagettftext($image, 8, 0, $xOffset, $height - $barHeight - $yOffset - 5, $textColor, __DIR__ . '/arial.ttf',\n        number_format($item['value']));\n\n    // Move to next bar\n    $xOffset += $barWidth + 1;\n}\n\n// Output the chart directly to the browser\nheader('Content-Type: image/png');\nimagepng($image);\nimagedestroy($image);\n?>