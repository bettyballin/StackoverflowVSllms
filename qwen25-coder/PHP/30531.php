<?php\nif (isset($_GET['referrer_id'])) {\n    // Make sure to check for output sent before here.\n    ob_start(); // Start buffering\n\n    $querystringWithJunk = $_GET['referrer_id'];\n    $querystringArray = explode('/', $querystringWithJunk);\n\n    // Set the cookie with a very long expiration time (100 years)\n    if (!setcookie("referrer_id", trim($querystringArray[0]), [\n        'expires' => time() + 60 * 60 * 24 * 365 * 100,\n        'path' => '/', // Ensure cookie is available across the whole domain\n        'secure' => true, // If using HTTPS\n        'httponly' => true, // Prevent access via JavaScript\n    ])) {\n        echo "Cookie could not be set.";\n    }\n\n    ob_end_flush(); // Flush buffer and send headers\n} else {\n    echo "referrer_id query parameter is missing.";\n}\n?>