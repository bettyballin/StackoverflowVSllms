function saferDatabaseQuery($pdo, $query, $parameters) {\n    $stmt = $pdo->prepare($query);\n    if ($stmt === false) {\n        throw new Exception('There was an error preparing the query.');\n    }\n    foreach ($parameters as $key => &$value) {\n        $stmt->bindParam(":$key", $value);\n    }\n    $success = $stmt->execute();\n    if (!$success) {\n        throw new Exception('There was an error executing the query.');\n    }\n    return $stmt;\n}\n\n// Usage\ntry {\n    $pdo = new PDO('mysql:host=localhost;dbname=test', 'username', 'password');\n    $query = "SELECT * FROM users WHERE username = :username";\n    $parameters = ['username' => $_POST['username']];\n    $result = saferDatabaseQuery($pdo, $query, $parameters);\n} catch (Exception $e) {\n    echo "Error: " . $e->getMessage();\n}