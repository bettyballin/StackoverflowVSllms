$lastGroupName = null;\n\nwhile ($data = mysql_fetch_array($result)) {\n    $currentGroupName = $data['product_groups.name'];\n    \n    // Print the group name only if it's different from the last one printed\n    if ($lastGroupName !== $currentGroupName) {\n        echo "Group: " . htmlspecialchars($currentGroupName) . "<br>";\n        $lastGroupName = $currentGroupName;\n    }\n    \n    // Always print the product details\n    echo "Product ID: " . htmlspecialchars($data['products.id']) . ", ";\n    echo "Product Name: " . htmlspecialchars($data['products.name']) . "<br><br>";\n}