function formatPost($text) {\n    // Convert double new-lines to paragraph tags\n    $formattedText = nl2br($text, false);\n    // Make URLs clickable\n    $formattedText = preg_replace('/(https?:\/\/[^\s]+)/', '<a href="$1">$1</a>', $formattedText);\n\n    return $formattedText;\n}\n\n// Usage example\n$postContent = "This is the first paragraph.\n\nThis is the second paragraph with a link http://example.com";\necho formatPost($postContent);