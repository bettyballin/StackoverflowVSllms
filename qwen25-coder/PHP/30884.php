function replaceTags( $template, $newtext ) {\n    $template = preg_replace_callback('/%MYTAG%/', function() use ($newtext) {\n        return str_replace('$', '\\$', $newtext);\n    }, $template );\n    return $template;\n}\n\n$template = "Replace this: %MYTAG%";\n$newtext = "I earn $1,000,000 a year";\n\nprint replaceTags( $template, $newtext );\n\n// RESULT\n// Replace this: I earn $1,000,000 a year