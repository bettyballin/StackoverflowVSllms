// Joomla (generate token)\nsession_start();\n$secret_key = 'your_secret_key'; // Make sure this is stored securely\n$user_id = 1; // Replace with actual user ID\n$timestamp = time();\n$token = hash_hmac('sha256', $user_id . ',' . $timestamp, $secret_key);\n\n$_SESSION['sso_token'] = [\n    'token' => $token,\n    'user_id' => $user_id,\n    'expiry' => $timestamp + 300 // Token valid for 5 minutes\n];\n\n// Generate the link to Moodle with token embedded (use GET or POST)\n$link_to_moodle = "https://moodle.example.com/sso_login.php?token=" . urlencode($token) . "&user_id=" . $user_id;