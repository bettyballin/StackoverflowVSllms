<?php\nfunction getFileHash($filePath) {\n    return md5_file($filePath);\n}\n\nfunction isDuplicateFile($filePath, $dbConnection) {\n    $hash = getFileHash($filePath);\n\n    // Prepare and execute the SQL query to check if the hash already exists\n    $stmt = $dbConnection->prepare("SELECT COUNT(*) AS count FROM files WHERE file_hash = ?");\n    $stmt->bind_param("s", $hash);\n    $stmt->execute();\n    $result = $stmt->get_result();\n    $row = $result->fetch_assoc();\n\n    return $row['count'] > 0;\n}\n\n// Example usage\n$filePath = 'path/to/your/uploaded/file.txt';\n$dbConnection = new mysqli("localhost", "username", "password", "database_name");\n\nif ($dbConnection->connect_error) {\n    die("Connection failed: " . $dbConnection->connect_error);\n}\n\nif (isDuplicateFile($filePath, $dbConnection)) {\n    echo "Duplicate file detected!";\n} else {\n    // Proceed with uploading the file\n    echo "No duplicate found. Uploading...";\n\n    // Optionally, insert the new hash into the database here if it's a unique file\n}\n\n$dbConnection->close();\n?>