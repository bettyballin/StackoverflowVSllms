<?php\n\nfunction encrypt($str, $pass) {\n    // Use a strong cipher method\n    $cipherMethod = 'aes-256-cbc';\n    \n    // Generate a key from the password securely\n    $key = hash('sha256', $pass, TRUE);\n    \n    // Generate an initialization vector\n    $ivlen = openssl_cipher_iv_length($cipherMethod);\n    $iv = openssl_random_pseudo_bytes($ivlen);\n\n    // Encrypt the data\n    $ciphertextRaw = openssl_encrypt($str, $cipherMethod, $key, OPENSSL_RAW_DATA, $iv);\n\n    // Combine IV and ciphertext for safe storage/transmission\n    return base64_encode( $iv . $ciphertextRaw );\n}\n\nfunction decrypt($enc, $pass) {\n    // Use the same cipher method as in encryption\n    $cipherMethod = 'aes-256-cbc';\n\n    // Decode our data which combines IV + encrypted string\n    $c = base64_decode($enc);\n    \n    // Generate a key from the password securely\n    $key = hash('sha256', $pass, TRUE);\n\n    // Separate the IV from the ciphertext\n    $ivlen = openssl_cipher_iv_length($cipherMethod);\n    $iv = substr( $c, 0, $ivlen );\n    $ciphertextRaw = substr( $c, $ivlen );\n\n    // Decrypt the data\n    return openssl_decrypt($ciphertextRaw, $cipherMethod, $key, OPENSSL_RAW_DATA, $iv );\n}\n\n// Example usage:\n$originalText = "Hello, World!";\n$password = "mySecurePass";\n\n$encrypted = encrypt($originalText, $password);\necho "Encrypted: " . $encrypted . "\n";\n\n$decrypted = decrypt($encrypted, $password);\necho "Decrypted: " . $decrypted . "\n";\n\n?>