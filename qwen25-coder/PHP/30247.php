function getRequestedFile() {\n    $requestUri = $_SERVER['REQUEST_URI'];\n\n    // Remove everything after the question mark (?)\n    if (($pos = strpos($requestUri, '?')) !== false) {\n        $requestUri = substr($requestUri, 0, $pos);\n    }\n\n    // If the URI ends with a slash, append index.php\n    if (substr($requestUri, -1) === '/') {\n        return $requestUri . 'index.php';\n    }\n\n    // Check if it's an existing file or directory; fallback to index.php if necessary\n    if (!file_exists($_SERVER['DOCUMENT_ROOT'] . $requestUri)) {\n        // If not a real file, and ends with slash, append index.php\n        if (substr($requestUri, -1) === '/') {\n            return $requestUri . 'index.php';\n        }\n        // Try adding .php extension if missing\n        if (!file_exists($_SERVER['DOCUMENT_ROOT'] . $requestUri . '.php')) {\n            // If it still doesn't exist, assume it's a directory and use index.php\n            if (is_dir($_SERVER['DOCUMENT_ROOT'] . $requestUri)) {\n                return $requestUri . '/index.php';\n            }\n        } else {\n            return $requestUri . '.php';\n        }\n    }\n\n    // Return the cleaned URI as is, if it maps to a real file\n    return $requestUri;\n}\n\necho getRequestedFile();