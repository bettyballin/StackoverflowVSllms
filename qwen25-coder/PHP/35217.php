<?php\nif ($db = new PDO('sqlite:./db/blog.sqlite3')) {\n    $stmt = $db->prepare("SELECT title, UNIX_TIMESTAMP(date) AS timestamp FROM news ORDER BY date DESC");\n    if ($stmt->execute()) {\n        $last_year = null;\n        $last_month = null;\n        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {\n            $current_year = date("Y", $row['timestamp']);\n            $current_month_name = date("F", $row['timestamp']);\n\n            // Check if the current year is different from the last printed year\n            if ($current_year !== $last_year) {\n                echo "<h1>" . htmlspecialchars($current_year) . "</h1>";\n                $last_year = $current_year;\n                $last_month = null; // Reset month when year changes\n            }\n\n            // Check if the current month is different from the last printed month\n            if ($current_month_name !== $last_month) {\n                echo "<h2>" . htmlspecialchars($current_month_name) . "</h2>";\n                $last_month = $current_month_name;\n            }\n\n            // Output the blog post title and date\n            echo "<p>" . htmlspecialchars($row['title']) . " - " . htmlspecialchars(date("Y-m-d, H:i:s", $row['timestamp'])) . "</p>";\n        }\n    } else {\n        die($db->errorInfo());\n    }\n} else {\n    die('Failed to connect to the database.');\n}\n?>