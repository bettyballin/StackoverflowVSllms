function detectUTF8($text) {\n    return preg_match('%(?:[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})+%xs', $text);\n}\n\nfunction isCorrectlyUTF8($text) {\n    // Check if the text matches UTF-8 pattern\n    if (!detectUTF8($text)) {\n        return false;\n    }\n\n    // Decode and re-encode the text to check correctness\n    $decoded = utf8_decode($text);\n    $reEncoded = utf8_encode($decoded);\n\n    // If re-encoded text equals the original, it is correctly UTF-8 encoded\n    return $reEncoded === $text;\n}\n\n// Example usage:\n$stringsFromDB = ["your", "string", "data", "here"];\nforeach ($stringsFromDB as $str) {\n    if (isCorrectlyUTF8($str)) {\n        echo "String '$str' is correctly UTF-8 encoded.\n";\n    } else {\n        echo "String '$str' is NOT correctly UTF-8 encoded. Decoded version: '" . utf8_decode($str) . "'\n";\n    }\n}