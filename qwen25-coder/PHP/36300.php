<?php\n$string = 'piece1;piece2;piece3;piece4;piece5;piece6;piece7;piece8;';\n$parts = [];\n$currentPart = '';\n$semicolonCount = 0;\n\nfor ($i = 0; $i < strlen($string); $i++) {\n    $currentPart .= $string[$i];\n    if ($string[$i] === ';') {\n        $semicolonCount++;\n        if ($semicolonCount % 3 == 0) {\n            $parts[] = $currentPart;\n            $currentPart = '';\n        }\n    }\n}\n\n// Add the last part if there are any remaining characters\nif (!empty($currentPart)) {\n    $parts[] = $currentPart;\n}\n\nprint_r($parts);\n?>