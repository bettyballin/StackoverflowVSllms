// Fetch and cast values to floats\n$celkova_suma = (float)mysql_result($c_res, 0, 0);\n$d_suma = (float)mysql_result($d_res, 0, 0);\n\n// Ensure $_POST['sp_platby'] is valid\nif (!isset($_POST['sp_platby']) || !array_key_exists($_POST['sp_platby'], $arr)) {\n    die("Invalid payment method.");\n}\n\n$pl suma = (float)$arr[$_POST['sp_platby']];\n\n// Perform calculation\n$celkova_suma = $celkova_suma + $d_suma - $zlava_suma + $pl_suma;