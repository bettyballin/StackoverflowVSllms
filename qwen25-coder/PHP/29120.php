function getFileWithHeaders($url) {\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); // Return the transfer as a string\n    curl_setopt($ch, CURLOPT_HEADER, true);          // Include header in output\n\n    $response = curl_exec($ch);\n\n    if (curl_errno($ch)) {\n        echo 'Error:' . curl_error($ch);\n    }\n\n    curl_close($ch);\n\n    // Split response into headers and content\n    list($headers, $body) = explode("\r\n\r\n", $response, 2);\n    \n    return [\n        "headers" => $headers,\n        "content" => $body\n    ];\n}\n\n$url = "http://example.com";\n$response = getFileWithHeaders($url);\necho "Headers:\n" . $response['headers'];\necho "\n\nContent:\n" . $response['content'];