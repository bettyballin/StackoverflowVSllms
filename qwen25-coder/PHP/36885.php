// Create a new Imagick object for the output\n$outputImagick = new Imagick();\n\n// Iterate over each frame in the original animated GIF\nforeach ($_im AS $i => $frame) {\n    // Skip frames if needed. For example, to keep only the first frame:\n    if ($i === 0) {\n        // Add the selected frame to the output object\n        $outputImagick->addImage($frame);\n    }\n}\n\n// Optionally, set the format of the output image\n$outputImagick->setImageFormat('gif');\n\n// Write the result to a file or output it directly\n$outputImagick->writeImages('./output.gif', true);\n\n// Clean up resources\n$_im->destroy();\n$outputImagick->destroy();