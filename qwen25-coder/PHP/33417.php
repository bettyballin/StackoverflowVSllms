<?php\n$targetDirectory = "uploads/";\n$maxFileSize = 5 * 1024 * 1024; // 5MB max file size\n$allowedExtensions = ['jpg', 'jpeg', 'png', 'gif'];\n\nif ($_SERVER["REQUEST_METHOD"] == "POST") {\n    if (isset($_FILES['images'])) {\n        foreach ($_FILES['images']['tmp_name'] as $key => $value) {\n            $fileTmpPath = $_FILES['images']['tmp_name'][$key];\n            $fileName = $_FILES['images']['name'][$key];\n            $fileSize = $_FILES['images']['size'][$key];\n            $fileType = $_FILES['images']['type'][$key];\n\n            // Validate file size and extension\n            if ($fileSize > $maxFileSize) {\n                echo "File {$fileName} exceeds the maximum allowed size of 5MB.<br>";\n                continue;\n            }\n\n            $fileExtension = pathinfo($fileName, PATHINFO_EXTENSION);\n            $fileExtension = strtolower($fileExtension);\n\n            if (!in_array($fileExtension, $allowedExtensions)) {\n                echo "File {$fileName} has an invalid extension. Only JPG, JPEG, PNG and GIF are allowed.<br>";\n                continue;\n            }\n\n            // Generate a new file name to avoid overwriting existing files\n            $newFileName = uniqid() . '.' . $fileExtension;\n            $destPath = $targetDirectory . $newFileName;\n\n            if(move_uploaded_file($fileTmpPath, $destPath)) {\n                echo "File {$fileName} has been uploaded successfully. New file name: {$newFileName}<br>";\n            } else {\n                echo "There was an error uploading the file {$fileName}. Please try again.<br>";\n            }\n        }\n    }\n}\n?>