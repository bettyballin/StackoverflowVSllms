function preciseDate($format = 'Y-m-d H:i:s', $microSecondsOnly = false) {\n    // Get current time with microseconds\n    list($msec, $sec) = explode(' ', microtime());\n    \n    // Convert to float and add seconds\n    $microTimeFloat = (float)$msec + (float)$sec;\n    \n    if ($microSecondsOnly) {\n        return sprintf("%s.%03d", date($format, (int)$sec), $msec * 1000);\n    }\n    \n    // Return the formatted date\n    return date($format, $sec);\n}\n\n// Usage example\necho preciseDate(); // Output: 2023-10-05 14:48:30 (current time without microseconds)\necho "\n";\necho preciseDate('Y-m-d H:i:s.u'); // Output: 2023-10-05 14:48:30.123 (formatted with microseconds)\n\n// Custom function to format with microseconds\necho "\n";\necho preciseDate('Y-m-d H:i:s', true); // Output: 2023-10-05 14:48:30.123