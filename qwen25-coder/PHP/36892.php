function online_friends() {\n    $ID = $_SESSION['ID'];\n    \n    // Initialize the count of online friends\n    $count_friends = 0;\n\n    // Create a mysqli connection\n    $conn = new mysqli('host', 'username', 'password', 'database');\n\n    if ($conn->connect_error) {\n        die("Connection failed: " . $conn->connect_error);\n    }\n\n    // Prepare the SQL statement to fetch friends\n    $stmt = $conn->prepare("SELECT friend_id FROM `friends` WHERE `user_id` = ? AND `accepted` = 'TRUE'");\n    $stmt->bind_param("i", $ID);\n    $stmt->execute();\n    $stmt->store_result();\n\n    // Loop through each friend\n    while ($stmt->fetch()) {\n        $friend_id = $row['friend_id'];\n\n        // Prepare the SQL statement to check if the friend is online\n        $get_stmt = $conn->prepare("SELECT * FROM `users` WHERE `ID` = ? AND `online` = 'TRUE'");\n        $get_stmt->bind_param("i", $friend_id);\n        $get_stmt->execute();\n        $get_result = $get_stmt->get_result();\n\n        // If the friend is online, increment the count\n        if ($get_result->num_rows > 0) {\n            $count_friends++;\n        }\n\n        $get_stmt->close(); // Close the inner statement\n    }\n\n    $stmt->close(); // Close the outer statement\n    $conn->close(); // Close the connection\n\n    return $count_friends;\n}