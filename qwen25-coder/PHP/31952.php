$descriptorspec = array(\n       0 => array("pipe", "r"),  // stdin is a pipe that the child will read from\n       1 => array("pipe", "w"),  // stdout is a pipe that the child will write to\n       2 => array("file", "/tmp/error-output.txt", "a") // stderr is a file to write to\n   );\n\n   $process = proc_open('java -jar "/opt/flex3/lib/mxmlc.jar" +flexlib "/opt/flex3/frameworks" MyAS3App.as -default-size 360 280 -output MyAS3App.swf', $descriptorspec, $pipes);\n\n   if (is_resource($process)) {\n       // $pipes now looks like this:\n       // 0 => writeable handle connected to child stdin\n       // 1 => readable handle connected to child stdout\n       // Any error output will be appended to /tmp/error-output.txt\n\n       fclose($pipes[0]);\n\n       while (!feof($pipes[1])) {\n           echo fread($pipes[1], 8192);\n       }\n       fclose($pipes[1]);\n\n       $return_value = proc_close($process);\n\n       echo "command returned $return_value\n";\n   }