<?php\n\n$inputFile = 'file.csv';\n$tableName = 'file_csv';\n\n// Open the file and read lines\n$fh = fopen($inputFile, 'r');\n$headers = fgetcsv($fh); // Get headers (first line)\n$maxColumns = count($headers);\n$dataTypes = [];\n\nfor ($i = 0; $i < $maxColumns; $i++) {\n    $dataTypes[$i] = 'string'; // Default to string\n}\n\n// Sample a few rows for type inference\n$sampleSize = min(10, 1024 / $maxColumns); // Read up to 10 lines or as many as fit in 1KB\nfor ($j = 0; $j < $sampleSize; $j++) {\n    if (($data = fgetcsv($fh)) === false) break;\n    \n    foreach ($headers as $index => $header) {\n        if (isset($data[$index])) {\n            $value = trim($data[$index]);\n            \n            // Check if value is an integer\n            if (filter_var($value, FILTER_VALIDATE_INT) !== false) {\n                $dataTypes[$index] = 'integer';\n                continue;\n            }\n            \n            // Check if value is a float\n            if (filter_var($value, FILTER_VALIDATE_FLOAT) !== false && strpos($value, '.') !== false) {\n                $dataTypes[$index] = 'float';\n                continue;\n            }\n        }\n    }\n}\n\nfclose($fh);\n\n// Create table SQL statement\necho "CREATE TABLE IF NOT EXISTS `{$tableName}` (\n";\n\nforeach ($headers as $index => $header) {\n    // Determine correct type based on inferred data types\n    switch (true) {\n        case $dataTypes[$index] === 'integer':\n            $typeInfo = 'INT(11)';\n            break;\n        case $dataTypes[$index] === 'float':\n            $typeInfo = 'FLOAT';\n            break;\n        default:\n            $typeInfo = "VARCHAR(255)";\n    }\n    \n    echo "`{$header}` {$typeInfo} NOT NULL, -- Sampled type: {$dataTypes[$index]}\n";\n}\n\necho "  PRIMARY KEY  (`{$headers[0]}`)\n"; // Assuming first column can be a primary key\necho ") ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;";\n\n?>