<?php\nfunction createDynamicPNG($color, $shape = 'circle', $transparency = 0) {\n    // Create a blank image with dimensions 100x100 pixels\n    $im = imagecreatetruecolor(100, 100);\n\n    // Allocate the color from hex input\n    $rgbColor = sscanf($color, "#%2x%2x%2x");\n    $colorHex = imagecolorallocatealpha($im, $rgbColor[0], $rgbColor[1], $rgbColor[2], intval($transparency * 127));\n\n    // Set the background to be transparent\n    imagefill($im, 0, 0, $colorHex);\n\n    switch ($shape) {\n        case 'circle':\n            // Draw a circle\n            imagefilledellipse($im, 50, 50, 80, 80, $colorHex);\n            break;\n        case 'square':\n            // Draw a square\n            imagefilledrectangle($im, 10, 10, 90, 90, $colorHex);\n            break;\n        default:\n            throw new Exception("Unsupported shape.");\n    }\n\n    // Enable alpha blending and saving of alpha channel information\n    imagesavealpha($im, true);\n\n    header('Content-Type: image/png');\n    imagepng($im);\n\n    // Free up memory\n    imagedestroy($im);\n}\n\n// Example usage\ncreateDynamicPNG("#ff0000", "circle", 0.5);\n?>