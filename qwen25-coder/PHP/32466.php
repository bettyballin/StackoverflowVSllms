// array of WHERE conditions\n$param = array('customer_id' => 1, 'qty' => 2);\n$stmt = $mysqli->stmt_init();\n\n$types = ''; \n$where = ''; \n$values = [];\n$count = 0;\n\n// build the dynamic sql and param bind conditions\nforeach ($param as $key => $val) {\n    $types .= 'i'; // Assuming int types for simplicity, adjust as necessary\n    $where .= "`$key` = ? AND ";\n    $values[] = $val;\n    $count++;\n}\n\n// prepare the query -- SELECT * FROM t1 WHERE customer_id = ? AND qty = ?\n$sql = "SELECT * FROM t1 WHERE " . substr($where, 0, -4);\n$stmt->prepare($sql);\n\n// Use an anonymous function to bind parameters\n$refs = array_merge([$stmt, $types], array_map(function(&$item) {\n    return &$item;\n}, $values));\n\ncall_user_func_array(array($stmt, 'bind_param'), $refs);\n\n$stmt->execute();