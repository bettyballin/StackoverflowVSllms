<?php\n\n// Assuming $xmlString contains your XML data\n$xmlString = file_get_contents('php://input'); // This reads the raw POST data if your gateway posts directly\n\ntry {\n    // Load the XML string into SimpleXML\n    $xmlObject = simplexml_load_string($xmlString);\n\n    if ($xmlObject === false) {\n        throw new Exception("Failed to load XML");\n    }\n\n    // Convert the SimpleXML object to an associative array\n    function xmlToArray($xml) {\n        $output = [];\n        foreach ((array)$xml as $key => $value) {\n            if (count((array)$value) == 0) {\n                $output[$key] = trim((string)$value);\n            } else {\n                $output[$key] = array_map('trim', (array)$value);\n                $output[$key] = xmlToArray($value);\n            }\n        }\n\n        return $output;\n    }\n\n    // Convert XML to associative array\n    $dataArray = xmlToArray($xmlObject);\n\n    // Now you can access data like this:\n    echo "Datafeed Version: " . $dataArray['datafeed_version'] . "\n";\n    foreach ($dataArray['transactions']['transaction'] as $transaction) {\n        echo "Transaction ID: " . $transaction['id'] . "\n";\n        echo "Customer Name: " . $transaction['customer_first_name'] . ' ' . $transaction['customer_last_name'] . "\n";\n        // Process more transaction details as needed\n    }\n\n    // You can now insert the data into MySQL or process it further\n\n} catch (Exception $e) {\n    echo 'Error parsing XML: ' . $e->getMessage();\n}\n\n?>