<?php\nsession_start();\n\n$ip = $_SERVER['REMOTE_ADDR'];\n$page_url = $_SERVER['REQUEST_URI'];\n\n// Check if the user has clicked within a certain timeframe (e.g., 5 minutes)\nif (!isset($_SESSION['last_clicked_' . $page_url]) || (time() - $_SESSION['last_clicked_' . $page_url] > 300)) {\n    // Update hit count\n    try {\n        $pdo = new PDO('mysql:host=localhost;dbname=your_database;charset=utf8', 'username', 'password');\n        $stmt = $pdo->prepare("UPDATE page_hits SET hit_count = hit_count + 1, last_updated = NOW() WHERE page_url = :page_url");\n        $stmt->execute([':page_url' => $page_url]);\n\n        if ($stmt->rowCount() == 0) { // Page not found, insert new record\n            $insertStmt = $pdo->prepare("INSERT INTO page_hits(page_url, hit_count) VALUES (:page_url, 1)");\n            $insertStmt->execute([':page_url' => $page_url]);\n        }\n\n        $_SESSION['last_clicked_' . $page_url] = time(); // Update session to prevent multiple counts\n    } catch (PDOException $e) {\n        echo "Error: " . $e->getMessage();\n    }\n}\n\n// Fetch the current hit count for this page\nif ($pdo !== null) {\n    $stmt = $pdo->prepare("SELECT hit_count FROM page_hits WHERE page_url = :page_url");\n    $stmt->execute([':page_url' => $page_url]);\n    $hitData = $stmt->fetch(PDO::FETCH_ASSOC);\n}\n?>\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<title>Page Counter Example</title>\n</head>\n<body>\n<p>This page has been viewed <?= ($hitData ? htmlspecialchars($hitData['hit_count']) : 0) ?> times.</p>\n</body>\n</html>