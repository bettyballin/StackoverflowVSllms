class UsersController extends AppController {\n\n    public function beforeFilter(EventInterface $event) {\n        parent::beforeFilter($event);\n\n        // Allow all users to access the 'register' page if not logged in, otherwise deny\n        if ($this->Auth->user()) {\n            $this->Auth->deny(['register']);\n        } else {\n            $this->Auth->allow(['register']);\n        }\n    }\n\n    public function register() {\n        // Register logic here\n    }\n}