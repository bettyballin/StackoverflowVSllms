<?php\n    $items = array(12, 17, 27, 26, 5);\n\n    $placeholdersForCases = [];\n    $valuesForCases = [];\n\n    foreach ($items as $priority => $id) {\n        $placeholdersForCases[] = "WHEN ? THEN ?";\n        $valuesForCases[] = $id;\n        $valuesForCases[] = $priority;\n    }\n\n    // Create placeholders for the IN clause\n    $placeholdersForInClause = implode(',', array_fill(0, count($items), '?'));\n\n    $sql = "UPDATE `table`\n            SET `priorityLevel` = CASE ID " . implode(' ', $placeholdersForCases) . "\n            END\n            WHERE `ID` IN ({$placeholdersForInClause})";\n\n    // Prepare and bind statement\n    $stmt = $database->prepare($sql);\n    $typesString = str_repeat('ii', count($items)); // 'i' for integer, repeated for each ID and priority pair\n    $values = array_merge([$typesString], $valuesForCases, $items);\n\n    call_user_func_array(array($stmt, 'bind_param'), referencify($values));\n    $stmt->execute();\n    \n    function referencify(&$arr) {\n        return array_map(function (&$v) {return &$v;}, $arr);\n    }\n?>