<?php\n\nfunction extract_text($filePath) {\n    $fileExtension = pathinfo($filePath, PATHINFO_EXTENSION);\n    $text = '';\n\n    switch ($fileExtension) {\n        case 'pdf':\n            // Use pdftotext from Poppler-utils package\n            exec("pdftotext '$filePath' -", $output);\n            $text = implode("\n", $output);\n            break;\n        case 'doc':\n            // Use antiword for .doc files\n            exec("antiword '$filePath'", $output);\n            $text = implode("\n", $output);\n            break;\n        case 'docx':\n        case 'ppt':\n        case 'pptx':\n            // Use soffice headless mode of LibreOffice to convert any doc to txt\n            $tmpFile = tempnam(sys_get_temp_dir(), "extracted_text");\n            exec("soffice --headless --convert-to txt:Text --outdir ".escapeshellarg(dirname($tmpFile))." ".escapeshellarg($filePath));\n            if (file_exists("$tmpFile.txt")) {\n                $text = file_get_contents("$tmpFile.txt");\n                unlink("$tmpFile.txt");\n            }\n            break;\n        default:\n            // Handle other formats or errors\n    }\n\n    return $text;\n}\n\n// Example usage\n$uploadedFilePath = '/path/to/uploaded/file.docx';\n$textContent = extract_text($uploadedFilePath);\n\n// Store `$textContent` in a searchable format (DB or index)\n\n?>