<?php\n    $xmldoc = new DOMDocument();\n    $xmldoc->load('sample.xml', LIBXML_NOBLANKS);\n\n    $atvID = $_POST['activity'];\n\n    // Get all activity nodes\n    $activities = $xmldoc->getElementsByTagName('activity');\n\n    // Convert the array of IDs to integers and sort them in reverse order\n    $atvID = array_map('intval', $atvID);\n    rsort($atvID);\n\n    foreach ($atvID as $id) {\n        if ($id <= $activities->length && $id > 0) {\n            // Remove the activity node corresponding to the checkbox index\n            $xmldoc->firstChild->removeChild($activities[$id - 1]);\n        }\n    }\n\n    $xmldoc->save('sample.xml');\n?>