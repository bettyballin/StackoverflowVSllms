require_once 'Auth/OpenID/Consumer.php';\n\n// Assume $openid_url is the input from the user\n$consumer = new Auth_OpenID_Consumer($store);\ntry {\n    $endpoint = $consumer->begin($openid_url);\n\n    if (!$endpoint) {\n        // Handle failure\n        echo "Discovered no OpenID server.";\n        exit;\n    }\n\n    // Get the normalized OpenID URL\n    $normalized_openid_url = $endpoint->identity_url;\n\n    echo "Normalized OpenID URL: " . htmlspecialchars($normalized_openid_url);\n\n} catch (Auth_OpenID_DiscoveryFailureError $e) {\n    // Handle discovery failure\n    echo "Discovery failed for '$openid_url': " . $e->getMessage();\n}