<?php\nheader('Content-Type: text/xml');\n\nif(isset($_GET["song"]) && $_GET['song'] != "") {\n    $song = explode(',', $_GET["song"]);\n} else {\n    $song = array();\n}\n\n$dom = new DOMDocument("1.0");\n\n// create root element\n$root = $dom->createElement("playlist");\n$dom->appendChild($root);\n$root->setAttribute('version', "1");\n$root->setAttribute('xmlns', "http://xspf.org/ns/0/");\n$rootnext = $dom->createElement("trackList");\n$root->appendChild($rootnext);\n\nforeach ($song as $counter) {\n    if(trim($counter) == "") continue; // skip empty tokens\n    $tokens = explode(',', $counter);\n    \n    // create child element\n    $track = $dom->createElement("track");\n    $rootnext->appendChild($track);\n\n    $creator = $dom->createElement("creator", "www.musicking.in");\n    $track->appendChild($creator);\n\n    $title = $dom->createElement("title", htmlspecialchars(trim($tokens[0])));\n    $track->appendChild($title);\n\n    if (isset($tokens[1])) {\n        $location = $dom->createElement("location", htmlspecialchars(trim($tokens[1])));\n        $track->appendChild($location);\n    }\n}\n\necho $dom->saveXML();\n?>