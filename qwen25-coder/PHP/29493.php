<?php\n$defaultImage = 'default.jpg'; // Define your default image path here\n\n$imageFiles = glob("*.jpg");\nif (empty($imageFiles)) {\n    echo "<img src='$defaultImage' height=150px><br>";\n} else {\n    $closestSquare = null;\n    $minRatioDifference = 9999; // Initialize with a high number\n\n    foreach ($imageFiles as $filename) {\n        list($width, $height) = getimagesize($filename);\n        \n        if ($width == $height) { // Exact square\n            echo "$filename size " . filesize($filename) . "<br>";\n            echo '<img src="'.$filename.'" height=150px><br>';\n            break;\n        } else {\n            $ratioDifference = abs($width / $height - 1);\n            if ($ratioDifference < $minRatioDifference) {\n                $minRatioDifference = $ratioDifference;\n                $closestSquare = $filename;\n            }\n        }\n    }\n\n    if ($closestSquare !== null) {\n        echo "$closestSquare size " . filesize($closestSquare) . "<br>";\n        echo '<img src="'.$closestSquare.'" height=150px><br>';\n    } else {\n        // If no square or near-square image, display the first one\n        $firstImage = $imageFiles[0];\n        echo "$firstImage size " . filesize($firstImage) . "<br>";\n        echo '<img src="'.$firstImage.'" height=150px><br>';\n    }\n}\n?>