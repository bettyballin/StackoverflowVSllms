#!/usr/bin/php\n<?php\n\n$directory = '/path/to/your/site'; // Change this to your site directory\n\nfunction convertTagsToLower($content){\n    return preg_replace_callback(\n        '/<(\/?\w+)([^>]*)>/i',\n        function($matches) {\n            $tag = strtolower($matches[1]);\n            $attributes = preg_replace_callback('/(\S+)=(\'|")([^"]*?)\2/i', function($attr_matches) {\n                return strtolower($attr_matches[1]).'='.$attr_matches[2].$attr_matches[3].$attr_matches[2];\n            }, $matches[2]);\n\n            // Special case for <SCRIPT> tags to add type="text/javascript"\n            if ($tag === 'script') {\n                if (strpos($attributes, 'type') === false) {\n                    return '<'.$tag.' type="text/javascript"'.$attributes.'>';\n                }\n            }\n\n            return '<'.$tag.$attributes.'>';\n        },\n        $content\n    );\n}\n\nfunction processFile($filePath){\n    $content = file_get_contents($filePath);\n    if ($content === FALSE) {\n        echo "Failed to open file: $filePath\n";\n        return;\n    }\n\n    $converted = convertTagsToLower($content);\n\n    if (file_put_contents($filePath, $converted) === FALSE) {\n        echo "Failed to write file: $filePath\n";\n    } else {\n        echo "Processed: $filePath\n";\n    }\n}\n\n$files = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($directory));\nforeach ($files as $file){\n    if (!$file->isDir() && preg_match('/\.(html?|php)$/', $file->getFilename())) { // Match HTML and PHP files\n        processFile($file->getPathname());\n    }\n}\n\necho "Conversion complete.\n";\n?>