[PersistenceMode(PersistenceMode.InnerProperty)]\npublic ITemplate Template { get; set; }\n\nprotected override void CreateChildControls()\n{\n    Controls.Clear();\n\n    // Ensure that this control acts as a naming container\n    var panel = new Panel();\n    panel.ID = "PanelContainer";\n    panel.EnableViewState = true;\n    Controls.Add(panel);\n\n    if (Template != null)\n    {\n        Template.InstantiateIn(panel);\n        foreach (Control c in panel.Controls)\n        {\n            // Optionally, set IDs for the controls inside if not already set\n            if (string.IsNullOrEmpty(c.ID))\n                c.ID = "DefaultID" + Guid.NewGuid().ToString();\n        }\n    }\n\n    ChildControlsCreated = true;\n}