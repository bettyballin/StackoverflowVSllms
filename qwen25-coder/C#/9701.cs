public class Foo\n{\n    public Guid Id { get; set; }\n\n    public override bool Equals(object obj)\n    {\n        Foo otherObj = obj as Foo;\n\n        // Corrected to check if otherObj is not null and their Ids are equal\n        return otherObj != null && otherObj.Id == this.Id;\n    }\n\n    public override int GetHashCode()\n    {\n        return this.Id.GetHashCode();\n    }\n}