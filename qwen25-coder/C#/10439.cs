public class MyHttpModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += (sender, args) =>\n        {\n            var app = sender as HttpApplication;\n            if (app != null && app.Context.Session != null)\n            {\n                // Set session variable\n                app.Context.Session["test"] = "value";\n                \n                // Force session to save\n                app.Context.Session.Save();\n            }\n        };\n    }\n\n    public void Dispose() { }\n}