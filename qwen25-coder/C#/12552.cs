using System;\nusing System.Drawing;\nusing System.Windows.Forms;\n\npublic class RichTextEditorForm : Form\n{\n    private RichTextBox richTextBox;\n    private ToolStrip toolStrip;\n\n    public RichTextEditorForm()\n    {\n        InitializeComponent();\n    }\n\n    private void InitializeComponent()\n    {\n        this.richTextBox = new RichTextBox { Dock = DockStyle.Fill };\n        this.toolStrip = new ToolStrip();\n\n        // Bold button\n        var btnBold = new ToolStripButton("B", null, (s, e) => ToggleFontStyle(FontStyle.Bold));\n        btnBold.DisplayStyle = ToolStripItemDisplayStyle.Text;\n        btnBold.CheckOnClick = true;\n\n        // Italic button\n        var btnItalic = new ToolStripButton("I", null, (s, e) => ToggleFontStyle(FontStyle.Italic));\n        btnItalic.DisplayStyle = ToolStripItemDisplayStyle.Text;\n        btnItalic.CheckOnClick = true;\n\n        // Underline button\n        var btnUnderline = new ToolStripButton("U", null, (s, e) => ToggleFontStyle(FontStyle.Underline));\n        btnUnderline.DisplayStyle = ToolStripItemDisplayStyle.Text;\n        btnUnderline.CheckOnClick = true;\n\n        toolStrip.Items.Add(btnBold);\n        toolStrip.Items.Add(btnItalic);\n        toolStrip.Items.Add(btnUnderline);\n\n        this.Controls.Add(toolStrip);\n        this.Controls.Add(richTextBox);\n    }\n\n    private void ToggleFontStyle(FontStyle style)\n    {\n        var selectionFont = richTextBox.SelectionFont ?? new Font("Arial", 10);\n        var isApplied = (selectionFont.Style & style) == style;\n        if (!isApplied)\n        {\n            richTextBox.SelectionFont = new Font(selectionFont, selectionFont.Style | style);\n        }\n        else\n        {\n            richTextBox.SelectionFont = new Font(selectionFont, selectionFont.Style ^ style);\n        }\n    }\n\n    [STAThread]\n    public static void Main()\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n        Application.Run(new RichTextEditorForm());\n    }\n}