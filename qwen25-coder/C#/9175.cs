protected void ButtonSearch_Click(object sender, EventArgs e)\n{\n    // Assume startDate and endDate are your DateRange controls or methods to fetch dates.\n    DateTime startDate = Convert.ToDateTime(txtStartDate.Text);\n    DateTime endDate = Convert.ToDateTime(txtEndDate.Text);\n\n    TimeSpan dateDifference = endDate - startDate;\n\n    if (dateDifference.TotalDays > 21) // More than 3 weeks\n    {\n        string script = @"if (!warning()) { return false; }";\n        ClientScript.RegisterStartupScript(this.GetType(), "WarningMessage", script, true);\n    }\n\n    // Proceed with your search logic here\n}