using System;\nusing System.Windows.Forms;\n\npublic partial class MainForm : Form\n{\n    public MainForm()\n    {\n        InitializeComponent();\n    }\n\n    // Generic method to update UI from different threads\n    private void UpdateUI(Action action)\n    {\n        if (InvokeRequired)  // Check if we're on the wrong thread\n            this.Invoke(action);  // Execute the action on the UI thread\n        else\n            action();           // Otherwise, execute it directly\n    }\n\n    // Example usage\n    public void UpdateLabel(string text)\n    {\n        UpdateUI(() => \n        {\n            myLabel.Text = text;  // Update label safely from any thread\n        });\n    }\n}