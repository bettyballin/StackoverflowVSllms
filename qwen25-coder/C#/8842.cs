using System;\nusing System.Net;\nusing System.Net.Mail;\n\nclass Program\n{\n    static void Main()\n    {\n        using (SmtpClient client = new SmtpClient())\n        {\n            client.Host = "smtp.server.com";\n            client.Credentials = new NetworkCredential("user", "password");\n            \n            MailAddress mailFrom = new MailAddress("mymail@server.com", "My Name");\n            MailAddress mailTo = new MailAddress("yourmail@server.com");\n\n            using (MailMessage message = new MailMessage(mailFrom, mailTo))\n            {\n                message.Subject = "Test Message Subject";\n                message.Body = "This is a test message from a properly configured SMTP client.";\n                message.SubjectEncoding = System.Text.Encoding.UTF8;\n                message.BodyEncoding = System.Text.Encoding.UTF8;\n\n                // Optionally add headers that might help\n                message.Headers.Add("Return-Path", "mymail@server.com"); \n                \n                client.Send(message);\n            }\n        }\n    }\n}