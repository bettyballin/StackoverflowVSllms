using System;\nusing System.Runtime.InteropServices;\n\nclass Program\n{\n    [DllImport("Kernel32")]\n    public static extern bool SetConsoleCtrlHandler(HandlerRoutine Handler, bool Add);\n\n    public delegate bool HandlerRoutine(CtrlTypes CtrlType);\n\n    public enum CtrlTypes : uint\n    {\n        CTRL_C_EVENT = 0,\n        CTRL_BREAK_EVENT,\n        CTRL_CLOSE_EVENT,\n        CTRL_LOGOFF_EVENT = 5,\n        CTRL_SHUTDOWN_EVENT\n    }\n\n    private static bool ConsoleCtrlCheck(CtrlTypes ctrlType)\n    { \n        if(ctrlType == CtrlTypes.CTRL_CLOSE_EVENT)\n        {\n            // Perform any cleanup or save operations here\n            Console.WriteLine("Close event intercepted. Application is still running.");\n            return true; // Prevent the application from closing\n        }\n        return false; // Let other events be handled by default handlers\n    }\n\n    static void Main(string[] args)\n    {\n        SetConsoleCtrlHandler(new HandlerRoutine(ConsoleCtrlCheck), true);\n        \n        Console.WriteLine("Running...");\n        for(;;) { /* Your main program logic here */ }\n    }\n}