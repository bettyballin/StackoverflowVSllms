using System.ComponentModel.Composition;\nusing System.ComponentModel.Composition.Hosting;\n\nclass Program\n{\n    [Import]\n    public IService MyService { get; set; }\n\n    static void Main()\n    {\n        var catalog = new AggregateCatalog();\n        catalog.Catalogs.Add(new AssemblyCatalog(typeof(Program).Assembly));\n\n        using (var container = new CompositionContainer(catalog))\n        {\n            var program = new Program();\n            container.ComposeParts(program);\n\n            // Use the composed parts\n            program.MyService.DoWork();\n        }\n    }\n}