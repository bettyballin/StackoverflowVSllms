using System;\nusing System.Windows.Forms;\nusing FastColoredTextBoxNS;\n\nnamespace YourNamespace\n{\n    public partial class MainForm : Form\n    {\n        FastColoredTextBox fastColoredTextBox1;\n\n        public MainForm()\n        {\n            InitializeComponent();\n            \n            // Initialize FastColoredTextBox\n            fastColoredTextBox1 = new FastColoredTextBox();\n            fastColoredTextBox1.Dock = DockStyle.Fill;\n            this.Controls.Add(fastColoredTextBox1);\n\n            // Setup language highlighting\n            Language csharpLanguage = new CSharpLexer().CreateLanguage();\n            fastColoredTextBox1.Language = csharpLanguage;\n\n            // Set the text to the FastColoredTextBox and enable highlight (C#)\n            fastColoredTextBox1.Text = "using System;\n\nclass Program {\n    static void Main() => Console.WriteLine(\"Hello World!\");\n}";\n            fastColoredTextBox1.AutoIndentNeeded += new EventHandler<FastColoredTextBoxNS.AutoIndentEventArgs>(fastColoredTextBox1_AutoIndentNeeded);\n        }\n\n        private void fastColoredTextBox1_AutoIndentNeeded(object sender, AutoIndentEventArgs e)\n        {\n            var tb = (FastColoredTextBox)sender;\n            e.Indent = GetAutoIndent(tb, e.LineIndex);\n        }\n\n        public static string GetAutoIndent(FastColoredTextBox tb, int lineIndex)\n        {\n            // Basic auto-indent for C# braces\n            return new string(' ', 4 * GetBraceCount(tb.GetLine(lineIndex - 1).Text.Replace("\t", "    "), '{') -\n                GetBraceCount(tb.GetLine(lineIndex - 1).Text.Replace("\t", "    "), '}'));\n        }\n\n        private static int GetBraceCount(string line, char c)\n        {\n            return line.ToCharArray().Count(s => s == c);\n        }\n    }\n}