using System;\nusing System.Data;\nusing System.Data.SqlClient;\n\npublic class DatabaseHelper\n{\n    public static SqlDataReader ExecuteReader(string connectionString, string commandText)\n    {\n        var connection = new SqlConnection(connectionString);\n        var command = new SqlCommand(commandText, connection);\n\n        // Optionally add parameters here if needed.\n\n        try\n        {\n            connection.Open();\n            return command.ExecuteReader(CommandBehavior.CloseConnection);  // Ensures the connection is closed when the reader is disposed.\n        }\n        catch\n        {\n            connection.Dispose();  // Ensure the connection is disposed in case of an error.\n            throw;\n        }\n    }\n}\n\n// Usage example:\npublic void DoDatabaseWork()\n{\n    string connectionString = "your connection string here";\n    string commandText = "SELECT * FROM YourTable";\n\n    using (SqlDataReader reader = DatabaseHelper.ExecuteReader(connectionString, commandText))\n    {\n        while (reader.Read())\n        {\n            // Process the data row\n        }\n    }  // Connection is closed and disposed automatically as part of the SqlDataReader's disposal.\n}