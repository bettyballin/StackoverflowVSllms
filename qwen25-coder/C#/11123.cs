using System.Security.Principal;\nusing System.Web;\n\npublic string GetCurrentUserEmail()\n{\n    IIdentity identity = HttpContext.Current.User.Identity;\n    if (identity.IsAuthenticated && identity is FormsIdentity formsIdentity)\n    {\n        var claimsPrincipal = new ClaimsPrincipal(formsIdentity);\n        return claimsPrincipal.FindFirst(ClaimTypes.Email)?.Value;\n    }\n    return null;\n}