using System;\nusing System.Diagnostics;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        string serviceName = "YourServiceName"; // Replace with your service name\n\n        try\n        {\n            ServiceController sc = new ServiceController(serviceName);\n            Process[] processes = Process.GetProcesses();\n\n            foreach (Process process in processes)\n            {\n                if (GetMainModuleFilepath(process.Id).EndsWith(sc.ServiceType.ToString(), StringComparison.OrdinalIgnoreCase))\n                {\n                    Console.WriteLine($"Found process: {process.ProcessName} with ID: {process.Id}");\n                    // Optionally, you can kill the process using:\n                    // process.Kill();\n                    break;\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine("An error occurred: " + ex.Message);\n        }\n    }\n\n    private static string GetMainModuleFilepath(int processId)\n    {\n        string query = $"SELECT ExecutablePath FROM Win32_Process WHERE ProcessId = {processId}";\n        object searchObjQuery = new System.Management.ObjectSearcher(query).Get().GetEnumerator();\n\n        if (searchObjQuery.MoveNext())\n        {\n            System.Management.ManagementBaseObject obj = (System.Management.ManagementBaseObject)(searchObjQuery.Current);\n            return (string)obj["ExecutablePath"];\n        }\n        else\n        {\n            return null;\n        }\n    }\n}