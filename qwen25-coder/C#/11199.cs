public partial class ConnectionSettingsForm : Form\n{\n    public SqlConnectionStringBuilder ConnectionStringBuilder { get; private set; }\n\n    public ConnectionSettingsForm()\n    {\n        InitializeComponent();\n        this.ConnectionStringBuilder = new SqlConnectionStringBuilder();\n    }\n\n    private void btnConnect_Click(object sender, EventArgs e)\n    {\n        try\n        {\n            ConnectionStringBuilder.DataSource = txtServerName.Text;\n            ConnectionStringBuilder.InitialCatalog = txtDatabaseName.Text;\n\n            if (radioBtnWindowsAuth.Checked)\n            {\n                ConnectionStringBuilder.IntegratedSecurity = true;\n                ConnectionStringBuilder.UserID = null;\n                ConnectionStringBuilder.Password = null;\n            }\n            else\n            {\n                ConnectionStringBuilder.IntegratedSecurity = false;\n                ConnectionStringBuilder.UserID = txtUsername.Text;\n                ConnectionStringBuilder.Password = txtPassword.Text;\n            }\n\n            // Test connection to ensure it's valid\n            using (SqlConnection connection = new SqlConnection(ConnectionStringBuilder.ConnectionString))\n            {\n                connection.Open();\n                MessageBox.Show("Connection successful!");\n                this.DialogResult = DialogResult.OK; // Close the form on success\n            }\n        }\n        catch (SqlException ex)\n        {\n            MessageBox.Show($"Failed to connect: {ex.Message}");\n        }\n    }\n\n    private void ConnectionSettingsForm_Load(object sender, EventArgs e)\n    {\n        // Optionally, populate some fields or settings here\n    }\n}