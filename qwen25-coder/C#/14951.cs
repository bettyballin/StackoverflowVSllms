using System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Text;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static async Task Main()\n    {\n        var handler = new HttpClientHandler();\n        handler.CookieContainer = new CookieContainer();\n\n        using (var client = new HttpClient(handler))\n        {\n            // Step 1: Get the login page to retrieve any necessary cookies or form data\n            string loginPageUrl = "http://example.com/Login.aspx";\n            await client.GetAsync(loginPageUrl);\n\n            // Step 2: Prepare the POST request with your credentials\n            var postData = new FormUrlEncodedContent(new[]\n            {\n                new KeyValuePair<string, string>("UserName", "yourUsername"),\n                new KeyValuePair<string, string>("Password", "yourPassword")\n            });\n\n            // Make sure to use the correct action URL for posting login data\n            var response = await client.PostAsync("http://example.com/Login.aspx", postData);\n            if (response.IsSuccessStatusCode)\n            {\n                // Step 3: Download the protected page\n                var html = await client.GetStringAsync("http://example.com/Internal.aspx");\n                Console.WriteLine(html);\n            }\n        }\n    }\n}