Container.Register(Component.For<A>().Named("foo"));\nContainer.Register(Component.For<B>().Named("foobar"));\n\nContainer.Register(\n    AllTypes.Pick()\n    .FromAssemblyNamed("MyAssembly")\n    .If(t => t.Name.EndsWith("ABC"))\n    .Configure(c => c.LifeStyle.Is(LifestyleType.Transient)\n                     .DynamicParameters((kernel, parameters) => \n                         parameters["P"] = kernel.Resolve<A>("foo")))\n    .WithService.Select(i => typeof(I))\n);\n\nContainer.Register(\n    AllTypes.Pick()\n    .FromAssemblyNamed("MyAssembly")\n    .If(t => t.Name.EndsWith("123"))\n    .Configure(c => c.LifeStyle.Is(LifestyleType.Transient)\n                     .DynamicParameters((kernel, parameters) => \n                         parameters["P"] = kernel.Resolve<B>("foobar")))\n    .WithService.Select(i => typeof(I))\n);