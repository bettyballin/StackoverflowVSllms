public partial class MainForm : Form\n{\n    private bool exitButtonPressed = false;\n\n    public MainForm()\n    {\n        InitializeComponent();\n        this.FormClosing += MainForm_FormClosing;\n    }\n\n    private void MainForm_FormClosing(object sender, FormClosingEventArgs e)\n    {\n        if (exitButtonPressed)\n        {\n            // Handle the Exit button press scenario\n            MessageBox.Show("Exit button was pressed.");\n        }\n        else\n        {\n            // Handle other closing scenarios (e.g., Alt+F4, Close icon)\n            MessageBox.Show("Form is closing through another means.");\n        }\n\n        // Reset the flag for any subsequent form closures\n        exitButtonPressed = false;\n    }\n\n    private void exitButton_Click(object sender, EventArgs e)\n    {\n        exitButtonPressed = true;\n        this.Close(); // This will trigger FormClosing event\n    }\n}