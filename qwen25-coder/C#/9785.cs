public class ProductRepository\n{\n    private readonly ISession _session;\n\n    public ProductRepository(ISession session)\n    {\n        _session = session;\n    }\n\n    // Example method to call a stored procedure using NHibernate\n    public Product GetProductById(int productId)\n    {\n        var hqlQuery = "EXEC sp_GetProductById :ProductId";\n        return (Product)_session.CreateSQLQuery(hqlQuery)\n                                 .AddEntity(typeof(Product))\n                                 .SetParameter("ProductId", productId)\n                                 .UniqueResult();\n    }\n}