using System;\nusing System.IO;\n\nclass Program\n{\n    static void Main()\n    {\n        // Open a FileStream with write access and allow other threads to read from it.\n        using (FileStream fwriter = new FileStream("C:\\test.txt", FileMode.Append,\n            FileAccess.Write, FileShare.ReadWrite))\n        {\n            // Open another FileStream with read access and allow other threads or processes to read too.\n            using (FileStream freader = new FileStream("C:\\test.txt", FileMode.Open,\n                FileAccess.Read, FileShare.ReadWrite))\n            {\n                // Example of writing to the file\n                byte[] dataToWrite = System.Text.Encoding.UTF8.GetBytes("Test line\n");\n                fwriter.Write(dataToWrite, 0, dataToWrite.Length);\n\n                // Example of reading from the file asynchronously\n                int bytesRead;\n                byte[] buffer = new byte[1024];\n                while ((bytesRead = freader.Read(buffer, 0, buffer.Length)) > 0)\n                {\n                    string text = System.Text.Encoding.UTF8.GetString(buffer, 0, bytesRead);\n                    Console.Write(text);\n                }\n            }\n        }\n    }\n}