try\n{\n    // Code that may throw an exception\n}\ncatch (Exception ex)\n{\n    LogToEventLog(ex);\n    LogToDatabase(ex);\n}\n\n// Function to log exceptions to Windows Event Log\nprivate void LogToEventLog(Exception ex)\n{\n    string errorMessage = $"Error: {ex.Message} | Stack Trace: {ex.StackTrace}";\n    EventLog.WriteEntry("Application", errorMessage, EventLogEntryType.Error);\n}\n\n// Function to log exceptions details to a SQL Database\nprivate void LogToDatabase(Exception ex)\n{\n    string connectionString = "your-connection-string-here";\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        connection.Open();\n        string query = @"INSERT INTO ExceptionLogs (ErrorMessage, StackTrace) VALUES (@ErrorMessage, @StackTrace)";\n        using (SqlCommand command = new SqlCommand(query, connection))\n        {\n            command.Parameters.AddWithValue("@ErrorMessage", ex.Message);\n            command.Parameters.AddWithValue("@StackTrace", ex.StackTrace);\n            command.ExecuteNonQuery();\n        }\n    }\n}