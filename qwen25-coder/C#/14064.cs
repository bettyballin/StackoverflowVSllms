using System;\nusing System.Data;\nusing System.Data.SqlClient;\n\npublic DataTable GetDataTableFromDatabase(string connectionString, string query)\n{\n    DataTable dataTable = new DataTable();\n\n    using (SqlConnection connection = new SqlConnection(connectionString))\n    {\n        try\n        {\n            SqlDataAdapter dataAdapter = new SqlDataAdapter(query, connection);\n            dataAdapter.Fill(dataTable);\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine("An error occurred: " + ex.Message);\n        }\n    }\n\n    return dataTable;\n}