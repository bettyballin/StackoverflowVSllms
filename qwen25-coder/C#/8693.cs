protected void DataList1_ItemDataBound(object sender, DataListItemEventArgs e)\n{\n    if (e.Item.ItemType == ListItemType.Item || \n        e.Item.ItemType == ListItemType.AlternatingItem)\n    {\n        // Check if the current item is the third item in a row\n        int index = e.Item.DataSetIndex + 1; // +1 because indexes are zero-based\n\n        // Start a new div after every 3 items, except for the first and when it perfectly divides by 3\n        if (index % 3 == 1)\n        {\n            LiteralControl startDiv = new LiteralControl("<div>");\n            e.Item.Controls.AddAt(0, startDiv);\n        }\n\n        // End the current div after the third item in a row\n        if (index % 3 == 0)\n        {\n            LiteralControl endDiv = new LiteralControl("</div>");\n            e.Item.Controls.Add(endDiv);\n        }\n    }\n}