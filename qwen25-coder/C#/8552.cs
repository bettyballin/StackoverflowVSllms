public class FormResponseActionResult : ActionResult\n{\n    private readonly FormResponse _formResponse;\n\n    public FormResponseActionResult(FormResponse formResponse)\n    {\n        _formResponse = formResponse;\n    }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n            throw new ArgumentNullException(nameof(context));\n\n        var request = context.HttpContext.Request;\n        var response = context.HttpContext.Response;\n        \n        // Assuming you have a way to determine if it's a no-script request\n        bool isNoScriptRequest = request.Form["noscript"] != null;\n\n        if (isNoScriptRequest)\n        {\n            // Serialize the form response and store it in session\n            context.HttpContext.Session["FormResponse"] = _formResponse;\n            \n            // Redirect to the referrer or a specific URL\n            string redirectUrl = request.UrlReferrer?.ToString() ?? "/"; // Default to root if no referrer is available\n            response.Redirect(redirectUrl, true);\n        }\n        else\n        {\n            // Set the model and return a view result\n            context.Controller.ViewData.Model = JsonConvert.SerializeObject(_formResponse);\n            var viewResult = new ViewResult\n            {\n                ViewName = "YourViewName", // Specify your view name here\n                ViewData = context.Controller.ViewData,\n                TempData = context.Controller.TempData\n            };\n            viewResult.ExecuteResult(context);\n        }\n    }\n}