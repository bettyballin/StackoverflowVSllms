using (var db = Database.Context)\n{\n    var root = (from post in db.Post\n                where post.Id == rootPostId\n                select post).Single();\n\n    root.LastActivityUtc = DateTime.UtcNow;\n\n    try\n    {\n        db.SubmitChanges();\n    }\n    catch (ChangeConflictException e)\n    {\n        // Refresh original values from the database to overwrite local changes\n        db.ChangeConflicts.ResolveAll(RefreshMode.KeepCurrentValues);\n        // Alternatively, resolve conflicts and retry submitting changes if needed:\n        // db.ChangeConflicts.ResolveAll(RefreshMode.OverwriteCurrentValues);\n        // db.SubmitChanges();\n    }\n}