using System;\nusing System.Globalization;\n\npublic static string FormatCurrencyWithCode(decimal amount, CultureInfo culture)\n{\n    NumberFormatInfo nfi = (NumberFormatInfo)culture.NumberFormat.Clone();\n    // Insert the ISO 4217 currency code into the pattern\n    nfi.CurrencyPattern = $"# {nfi.CurrencySymbol}{culture.Name.Substring(0, 3).ToUpper()}";\n\n    return amount.ToString("C", nfi);\n}\n\n// Usage example:\ndecimal price = 123.12m;\nCultureInfo auCulture = new CultureInfo("en-AU");\nCultureInfo usCulture = new CultureInfo("en-US");\n\nConsole.WriteLine(FormatCurrencyWithCode(price, auCulture)); // Output: A$ AUD123.12\nConsole.WriteLine(FormatCurrencyWithCode(price, usCulture)); // Output: $ USD123.12