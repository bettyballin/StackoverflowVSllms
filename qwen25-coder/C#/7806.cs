public class MyController : Controller\n{\n    private readonly IUserRepository _userRepository;\n    private readonly IUnitOfWork _unitOfWork;\n\n    public MyController(IUserRepository userRepository, IUnitOfWork unitOfWork)\n    {\n        _userRepository = userRepository;\n        _unitOfWork = unitOfWork;\n    }\n\n    [HttpPost]\n    public ActionResult Save(UserViewModel viewModel)\n    {\n        var user = Mapper.Map<User>(viewModel);\n        \n        // Perform operations on the repository\n        _userRepository.Save(user);\n\n        // Commit all changes in this request lifecycle\n        _unitOfWork.Commit();\n\n        return RedirectToAction("Index");\n    }\n}