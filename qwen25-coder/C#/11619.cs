using Microsoft.VisualStudio.Modeling;\nusing Microsoft.VisualStudio.Modeling.Diagrams;\n\n// Assuming 'store' is your Store instance and ProjectPartition is your default partition name.\nStore store = new Store(typeof(YourDslDomainModel.DslDiagramSchema));\n\n// Create a new partition for the diagram, typically this would be an EditingScope\nusing (Transaction t = store.TransactionManager.BeginTransaction("Create Diagram"))\n{\n    ModelDoc myDocument = NewModelDoc(store);\n    FEGeneratorDiagram diag = new FEGeneratorDiagram(myDocument.Partition);\n\n    // Associate any model element to your diagram if needed\n    diag.Subject = ThisElem;\n\n    // Save the transaction to make sure changes are committed.\n    t.Commit();\n}\n\n// Helper method to create a new document, replace ModelDoc with your actual DSL Document type\nModelDoc NewModelDoc(Store store)\n{\n    return new ModelDoc(store);\n}