public System.Xml.Linq.XDocument GetXmlData()\n{\n    // Assume you have a DataTable 'dataTable' filled with data.\n    var dataTable = GetDataFromDatabase(); // Replace this with your actual method\n\n    // Convert the DataTable to XDocument\n    return ToXDocument(dataTable);\n}\n\nprivate static System.Xml.Linq.XDocument ToXDocument(DataTable table)\n{\n    using (StringWriter sw = new StringWriter())\n    {\n        table.WriteXml(sw);\n        string xmlString = sw.ToString();\n        return System.Xml.Linq.XDocument.Parse(xmlString);\n    }\n}