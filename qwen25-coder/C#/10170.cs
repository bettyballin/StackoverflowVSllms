using ValidationLibrary;\n\npublic class UserRepository\n{\n    private IValidator<string> _emailValidator = new EmailValidator();\n\n    public void SaveUser(string email)\n    {\n        if (!_emailValidator.IsValid(email))\n        {\n            string errorMessage = _emailValidator.GetErrorMessage();\n            throw new InvalidOperationException(errorMessage);\n        }\n\n        // ... save to database logic ...\n    }\n}