using System.ServiceModel;\nusing System.Windows.Forms;\npublic partial class MainForm : Form, IMainFormService\n{\n    private static readonly string BASE_ADDRESS = "net.pipe://localhost/MainFormService/MyForm";\n\n    public MainForm()\n    {\n        InitializeComponent();\n        // Start WCF service\n        var host = new ServiceHost(this, new Uri(BASE_ADDRESS));\n        host.AddServiceEndpoint(typeof(IMainFormService), \n                                 new NetNamedPipeBinding(), "./Pipe");\n        host.Open();\n    }\n\n    [STAThread]\n    static void Main(string[] args)\n    {\n        bool createdNew;\n        using (var mutex = new Mutex(true, "MobilePOSServer", out createdNew))\n        {\n            if (createdNew)\n            {\n                Application.EnableVisualStyles();\n                Application.SetCompatibleTextRenderingDefault(false);\n                Application.Run(new MainForm());\n            }\n            else\n            {\n                using (ChannelFactory<IMainFormService> channelFactory = \n                    new ChannelFactory<IMainFormService>(\n                        new NetNamedPipeBinding(),\n                        BASE_ADDRESS + "/Pipe"))\n                {\n                    var serviceClient = channelFactory.CreateChannel();\n                    if (args.Length > 0)\n                    {\n                        switch (args[0].ToLower())\n                        {\n                            case "start":\n                                serviceClient.Start();\n                                break;\n                            case "stop":\n                                serviceClient.Stop();\n                                break;\n                        }\n                    }\n                    var currentProcess = Process.GetCurrentProcess();\n                    foreach (var process in Process.GetProcessesByName(currentProcess.ProcessName))\n                    {\n                        if (process.Id != currentProcess.Id)\n                        {\n                            SetForegroundWindow(process.MainWindowHandle);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public void Start()\n    {\n        // Implement start logic\n    }\n\n    public void Stop()\n    {\n        // Implement stop logic\n    }\n\n    [System.Runtime.InteropServices.DllImport("user32.dll")]\n    static extern bool SetForegroundWindow(IntPtr hWnd);\n}