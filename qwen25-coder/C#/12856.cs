using System;\nusing System.Net.Mail;\n\npublic class EmailSender\n{\n    private readonly string[] _allowedDomains = { "@yourdomain.com" };\n\n    public void SendEmail(string recipient, string subject, string body)\n    {\n        if (IsAllowedDomain(recipient))\n        {\n            using (var smtpClient = new SmtpClient("localhost"))\n            {\n                var mailMessage = new MailMessage\n                {\n                    Subject = subject,\n                    Body = body,\n                    From = new MailAddress("test@yourdomain.com")\n                };\n                mailMessage.To.Add(new MailAddress(recipient));\n\n                smtpClient.Send(mailMessage);\n            }\n        }\n        else\n        {\n            throw new Exception($"Email recipient {recipient} does not belong to the allowed domain.");\n        }\n    }\n\n    private bool IsAllowedDomain(string email)\n    {\n        foreach (var allowed in _allowedDomains)\n        {\n            if (email.EndsWith(allowed, StringComparison.OrdinalIgnoreCase))\n            {\n                return true;\n            }\n        }\n        return false;\n    }\n}