byte[] displayFile = DatabaseFiles.getPdfById(id);\nif (displayFile == null || displayFile.Length == 0)\n{\n    Response.StatusCode = 404; // or another appropriate status code\n    return;\n}\ntry\n{\n    Response.Clear();\n    Response.AddHeader("Content-Disposition", $"attachment; filename={fileName}");\n    Response.ContentType = "application/pdf";\n    Response.BinaryWrite(displayFile);\n    Response.End(); // Ends the response, so no further content can be sent.\n}\ncatch (Exception ex)\n{\n    // Log exception here for troubleshooting\n    Response.StatusCode = 500;\n    Response.End();\n}