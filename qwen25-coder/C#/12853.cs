[HttpPost]\npublic IHttpActionResult ReceiveOrder([FromBody] OrderMessage order)\n{\n    if (order == null || order.Id == Guid.Empty)\n        return BadRequest("Invalid message.");\n\n    // Check if this order has already been processed.\n    var exists = _repository.Exists(order.Id);\n    if (exists) \n        return Conflict();\n\n    // Process the order here...\n    bool success = ProcessOrder(order);\n\n    // Send an acknowledgment back to Company B\n    var ackUrl = "http://companyb.com/api/AcknowledgeReceipt";\n    SendAcknowledgment(ackUrl, new { OrderId = order.Id, Success = success });\n\n    return Ok();\n}