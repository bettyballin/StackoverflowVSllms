using System;\nusing System.IO;\nusing System.Net.Sockets;\nusing System.Text;\n\npublic class NetworkStreamReader\n{\n    public static string ReadAllFromStream(NetworkStream ns)\n    {\n        using (var memory = new MemoryStream())\n        {\n            int readBytes;\n            var buffer = new byte[8192]; // Adjust buffer size as necessary\n\n            while ((readBytes = ns.Read(buffer, 0, buffer.Length)) > 0)\n            {\n                memory.Write(buffer, 0, readBytes);\n            }\n\n            return Encoding.UTF8.GetString(memory.ToArray());\n        }\n    }\n\n    public static void Main()\n    {\n        var client = new TcpClient();\n        // Connect to your server here using client.Connect(...);\n\n        NetworkStream ns = client.GetStream();\n\n        string returndata = ReadAllFromStream(ns);\n        string result = String.Concat(returndata, "test");\n        Console.WriteLine(result);\n\n        client.Close();\n    }\n}