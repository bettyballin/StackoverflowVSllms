void OnReceivingData(IAsyncResult ar)\n{\n    Socket socket = (Socket)ar.AsyncState;\n    int bytesReceived;\n\n    try\n    {\n        bytesReceived = socket.EndReceive(ar);\n        \n        if (bytesReceived > 0)\n        {\n            // Process your received data here\n            byte[] recvBuffer = new byte[bytesReceived];\n            Buffer.BlockCopy(sendBuffer, 0, recvBuffer, 0, bytesReceived);\n            string receivedData = Encoding.ASCII.GetString(recvBuffer);\n\n            // Update the UI or process the data as needed\n\n            // Call BeginReceive again to wait for more data\n            socket.BeginReceive(sendBuffer, 0, sendBuffer.Length, SocketFlags.None, new AsyncCallback(OnReceivingData), socket);\n        }\n    }\n    catch (SocketException ex)\n    {\n        MessageBox.Show("Error in accessing socket while receiving: " + ex.ErrorCode.ToString(), "Error", MessageBoxButtons.OK);\n    }\n    catch (ObjectDisposedException)\n    {\n        MessageBox.Show("Socket closed while receiving", "Error", MessageBoxButtons.OK);\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show("An error occurred while receiving: " + ex.Message, "Error", MessageBoxButtons.OK);\n    }\n}