protected void btnAddUser_Click(object sender, EventArgs e)\n{\n    List<string> errorMessages = new List<string>();\n\n    // Assume ValidateForm() is your custom validation method\n    if (!ValidateForm())\n    {\n        errorMessages.AddRange(Validator.GetValidationSummaryErrors(this));\n        // Add any other custom validations as needed\n    }\n\n    if (errorMessages.Count > 0)\n    {\n        string message = "";\n        foreach (string err in errorMessages)\n        {\n            message += "<li>" + Server.HtmlEncode(err) + "</li>";\n        }\n        \n        SiteMaster masterPage = this.Master as SiteMaster;\n        if (masterPage != null)\n        {\n            masterPage.SetErrorMessages(message);\n        }\n\n        // Prevent postback processing if there are errors\n        return;\n    }\n\n    // Continue with the business logic if no errors were found\n}