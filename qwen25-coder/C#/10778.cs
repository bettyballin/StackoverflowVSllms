using System;\nusing System.Data;\nusing System.Data.SqlClient;\n\nclass Program\n{\n    static void Main()\n    {\n        string connectionString = "Data Source=YourServerName;Initial Catalog=YourDatabaseName;Integrated Security=True";\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            DataSet dataSet = GetAllTablesFromDatabase(connection);\n            // Do something with the dataset\n            Console.WriteLine("DataSet populated with all table data.");\n        }\n    }\n\n    static DataSet GetAllTablesFromDatabase(SqlConnection connection)\n    {\n        SqlDataAdapter dataAdapter;\n        DataTable schemaTable;\n\n        // Get a list of tables in the current database\n        using (SqlCommand command = new SqlCommand("SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE='BASE TABLE'", connection))\n        {\n            schemaTable = new DataTable();\n            dataAdapter = new SqlDataAdapter(command);\n            dataAdapter.Fill(schemaTable);\n        }\n\n        DataSet dataSet = new DataSet();\n\n        // Loop through each table to retrieve and fill the dataset\n        foreach (DataRow row in schemaTable.Rows)\n        {\n            string tableName = row["TABLE_NAME"].ToString();\n            using (SqlCommand command = new SqlCommand($"SELECT * FROM {tableName}", connection))\n            {\n                dataAdapter = new SqlDataAdapter(command);\n                dataAdapter.Fill(dataSet, tableName);\n            }\n        }\n\n        return dataSet;\n    }\n}