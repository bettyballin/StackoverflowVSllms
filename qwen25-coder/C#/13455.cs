using System;\nusing System.Diagnostics;\nusing System.Threading;\n\nclass JabberClient {\n    static void Main(string[] args) {\n        // Register for the event that signals the application is shutting down.\n        AppDomain.CurrentDomain.ProcessExit += CurrentDomain_ProcessExit;\n        \n        Console.WriteLine("Jabber Client Running...");\n        \n        try {\n            // Simulate client running.\n            while (true) {\n                Thread.Sleep(1000);\n            }\n        } catch (Exception ex) {\n            Console.WriteLine($"Error: {ex.Message}");\n            RestartClient();\n        }\n    }\n\n    static void CurrentDomain_ProcessExit(object sender, EventArgs e) {\n        Console.WriteLine("Process is exiting. Attempting to restart...");\n        RestartClient();\n    }\n\n    static void RestartClient() {\n        // Get the current process info.\n        Process thisProc = Process.GetCurrentProcess();\n        try {\n            // Start a new process with the same executable.\n            Process.Start(thisProc.ProcessName + ".exe");\n        } catch (Exception ex) {\n            Console.WriteLine($"Failed to restart client: {ex.Message}");\n        }\n    }\n}