// Assuming your SubSonic tables are named User, Usergroup, and Relation\nusing System.Linq;\nusing System.Collections.Generic;\n\nvar users = db.User.All().ToList();\nvar usergroups = db.Usergroup.All().ToList();\nvar relations = db.Relation.All().ToList();\n\nforeach (var relation in relations)\n{\n    var user = users.FirstOrDefault(u => u.Id == relation.userId);\n    var group = usergroups.FirstOrDefault(g => g.Id == relation.groupId);\n\n    if (user != null && group != null)\n    {\n        user.BelongsTo.Add(group);\n        group.Users.Add(user);\n    }\n}