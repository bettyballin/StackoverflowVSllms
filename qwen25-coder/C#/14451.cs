using System;\nusing System.IO;\nusing System.Net;\nusing System.Net.Sockets;\n\nclass FileServer\n{\n    static void Main()\n    {\n        TcpListener listener = new TcpListener(IPAddress.Any, 5000);\n        listener.Start();\n        \n        Console.WriteLine("Waiting for a connection...");\n        TcpClient client = listener.AcceptTcpClient();\n        NetworkStream stream = client.GetStream();\n\n        string fileName = "receivedFile.bin";\n        using (FileStream fileStream = File.Create(fileName))\n        {\n            byte[] buffer = new byte[8192];\n            int bytesRead;\n            while ((bytesRead = stream.Read(buffer, 0, buffer.Length)) > 0)\n            {\n                fileStream.Write(buffer, 0, bytesRead);\n            }\n        }\n\n        stream.Close();\n        client.Close();\n        listener.Stop();\n\n        Console.WriteLine("File received and saved as {0}", fileName);\n    }\n}