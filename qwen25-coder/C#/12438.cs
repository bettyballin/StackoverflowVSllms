using System;\nusing System.Runtime.InteropServices;\nusing System.Windows.Forms;\n\nnamespace ConsoleWinFormsApp\n{\n    public partial class Form1 : Form\n    {\n        [DllImport("kernel32.dll", SetLastError = true)]\n        private static extern bool AllocConsole();\n\n        public Form1()\n        {\n            InitializeComponent();\n            if (AttachConsole(ATTACH_PARENT_PROCESS) == 0)\n                AllocConsole();\n            Console.WriteLine("This is a console message");\n        }\n\n        private const uint ATTACH_PARENT_PROCESS = 0x0ffffffff;\n\n        [DllImport("kernel32.dll", SetLastError = true)]\n        private static extern bool AttachConsole(uint dwProcessId);\n    }\n}