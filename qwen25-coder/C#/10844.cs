using Microsoft.VisualStudio.TestTools.UnitTesting;\nusing YourNamespace.Controllers; // Update namespace accordingly\nusing System.Web.Mvc;\nusing Moq;\n\n[TestClass]\npublic class YourControllerTests\n{\n    [TestMethod]\n    public void TestMethod_WhenIsMvcAjaxRequest_ReturnsJsonResult()\n    {\n        // Arrange\n        var mockHttpContext = new Mock<HttpContextBase>();\n        var mockRequest = new Mock<HttpRequestBase>();\n\n        mockRequest.Setup(x => x["X-Requested-With"]).Returns("XMLHttpRequest");  // Simulate AJAX request\n        mockHttpContext.Setup(x => x.Request).Returns(mockRequest.Object);\n\n        var controllerContext = new ControllerContext(mockHttpContext.Object, new System.Web.Routing.RouteData(), new Mock<ControllerBase>().Object);\n        \n        var sut = new YourController(); // System Under Test\n        sut.ControllerContext = controllerContext;\n\n        // Act\n        var result = sut.YourActionMethod() as JsonResult;  // Assuming your action returns JsonResult for AJAX\n\n        // Assert\n        Assert.IsNotNull(result); // Ensure the result is not null if you expect a JsonResult from an AJAX request.\n    }\n\n    [TestMethod]\n    public void TestMethod_WhenNotMvcAjaxRequest_ReturnsViewResult()\n    {\n        // Arrange\n        var mockHttpContext = new Mock<HttpContextBase>();\n        var mockRequest = new Mock<HttpRequestBase>();\n\n        mockRequest.Setup(x => x["X-Requested-With"]).Returns((string)null);  // Simulate non-AJAX request\n        mockHttpContext.Setup(x => x.Request).Returns(mockRequest.Object);\n\n        var controllerContext = new ControllerContext(mockHttpContext.Object, new System.Web.Routing.RouteData(), new Mock<ControllerBase>().Object);\n        \n        var sut = new YourController(); // System Under Test\n        sut.ControllerContext = controllerContext;\n\n        // Act\n        var result = sut.YourActionMethod() as ViewResult;  // Assuming your action returns ViewResult for non-AJAX request\n\n        // Assert\n        Assert.IsNotNull(result); // Ensure the result is not null if you expect a ViewResult from a non-AJAX request.\n    }\n}