using DotNetNuke.Entities.Portals;\nusing DotNetNuke.Security.Permissions;\n\n// Ensure the user has permission to change portal settings\nif (!PortalPermissionController.HasPortalsAdminPermission())\n{\n    throw new Exception("Access Denied");\n}\n\nvar portalId = PortalSettings.Current.PortalId;\nvar portalController = PortalController.Instance;\n\n// Set default language\nportalController.UpdatePortalSetting(portalId, "DefaultLanguage", "en-US");\n\n// Add or update supported languages\nLanguageController.AddLocale(portalId, "es-ES", false);\nLanguageController.AddLocale(portalId, "zh-CN", false);