MyListView.DataContext = data;\nMyListView.SetBinding(ListView.ItemsSourceProperty, new Binding());\nMyGridView.Columns.Clear();\n\nforeach (DataColumn col in data.Columns)\n{\n    GridViewColumn gvcol = new GridViewColumn();\n    gvcol.Header = col.ColumnName;\n\n    // Check if the column is of DateTime type and apply a custom template\n    if (col.DataType == typeof(DateTime))\n    {\n        FrameworkElementFactory textBlockFactory = new FrameworkElementFactory(typeof(TextBlock));\n        Binding binding = new Binding(col.ColumnName)\n        {\n            StringFormat = "{0:yyyy-MM-dd HH:mm:ss}" // Change this format string as needed\n        };\n        textBlockFactory.SetBinding(TextBlock.TextProperty, binding);\n        gvcol.CellTemplate = new DataTemplate { VisualTree = textBlockFactory };\n    }\n    else\n    {\n        gvcol.DisplayMemberBinding = new Binding(col.ColumnName);\n    }\n\n    MyGridView.Columns.Add(gvcol);\n}