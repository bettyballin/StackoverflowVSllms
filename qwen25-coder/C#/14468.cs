using System.Net.Http;\nusing System.Text;\nusing Newtonsoft.Json.Linq;\n\npublic async Task<string> GetAccessTokenAsync()\n{\n    var httpClient = new HttpClient();\n    var tokenEndpointUri = "https://your.authorization.server/token"; // Your OAuth server\n\n    var requestBody = new StringBuilder();\n    requestBody.Append("grant_type=client_credentials");\n    requestBody.AppendFormat("&client_id={0}", "YourClientId");\n    requestBody.AppendFormat("&client_secret={0}", "YourClientSecret");\n\n    var byteArray = Encoding.UTF8.GetBytes(requestBody.ToString());\n    httpClient.DefaultRequestHeaders.Authorization = \n        new System.Net.Http.Headers.AuthenticationHeaderValue("Basic", Convert.ToBase64String(byteArray));\n\n    var responseMessage = await httpClient.PostAsync(tokenEndpointUri, new StringContent(requestBody.ToString(), Encoding.UTF8, "application/x-www-form-urlencoded"));\n    if (responseMessage.IsSuccessStatusCode)\n    {\n        var responseBody = await responseMessage.Content.ReadAsStringAsync();\n        JObject jObject = JObject.Parse(responseBody);\n        return jObject["access_token"].ToString();\n    }\n    else\n    {\n        throw new Exception("Failed to obtain an access token");\n    }\n}