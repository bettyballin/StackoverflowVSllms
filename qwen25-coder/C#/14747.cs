using System;\nusing System.Security;\nusing System.Security.Permissions;\n\nclass SecureClass {\n    // Using LinkDemand to ensure that calling assembly has FileIOPermission.\n    [FileIOPermission(SecurityAction.LinkDemand, Read="C:\\")]\n    public void SafeMethod() {\n        Console.WriteLine("Safe method executed.");\n    }\n\n    // Using Demand to enforce runtime permission checking.\n    [FileIOPermission(SecurityAction.Demand, Write = "C:\\output.txt")]\n    public void RiskyMethod() {\n        Console.WriteLine("Risky method executed with file write permissions");\n    }\n}\n\nclass InsecureClass : SecureClass {\n    // Any derived classes must also have FileIOPermission to read from C:\.\n    [FileIOPermission(SecurityAction.InheritanceDemand, Read = "C:\\")]\n    public override void SafeMethod() {\n        base.SafeMethod();\n    }\n}