public partial class MainForm : Form {\n    private SettingsManager _settingsManager;\n\n    public MainForm() {\n        InitializeComponent();\n\n        var textBoxSetting = new TextBoxSetting(textBox1,\n            () => textBox1.Text.Length <= 10 && textBox1.Text.ToUpper() == textBox1.Text,\n            "Text must be uppercase and up to 10 characters.");\n\n        _settingsManager = new SettingsManager();\n        _settingsManager.Add(textBoxSetting);\n    }\n\n    private void btnSaveSettings_Click(object sender, EventArgs e) {\n        if (_settingsManager.ValidateAll(out var errorMessage)) {\n            _settingsManager.SaveSettings("appsettings.json");\n        } else {\n            // Show error message\n            MessageBox.Show(errorMessage, "Validation Error", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n    }\n\n    private void MainForm_Load(object sender, EventArgs e) {\n        _settingsManager.LoadSettings("appsettings.json");\n    }\n}