public interface IMyWebRequest\n{\n    string Method { get; }\n    Uri Url { get; }\n}\n\npublic interface IMyWebResponse\n{\n    int StatusCode { set; }\n}\n\npublic interface IMyWebContext\n{\n    IMyWebRequest Request { get; }\n    IMyWebResponse Response { get; }\n}\n\n// Implementation for ASP.NET HttpContext\npublic class AspNetRequest : IMyWebRequest\n{\n    private readonly HttpContext _httpContext;\n    public AspNetRequest(HttpContext httpContext)\n    {\n        _httpContext = httpContext;\n    }\n\n    public string Method => _httpContext.Request.HttpMethod;\n    public Uri Url => _httpContext.Request.Url;\n}\n\npublic class AspNetResponse : IMyWebResponse\n{\n    private readonly HttpResponse _httpResponse;\n    public AspNetResponse(HttpResponse httpResponse)\n    {\n        _httpResponse = httpResponse;\n    }\n\n    public int StatusCode \n    { \n        set => _httpResponse.StatusCode = value; \n    }\n}\n\npublic class AspNetContext : IMyWebContext\n{\n    private readonly HttpContext _httpContext;\n\n    public AspNetContext(HttpContext httpContext)\n    {\n        _httpContext = httpContext;\n    }\n\n    public IMyWebRequest Request => new AspNetRequest(_httpContext);\n    public IMyWebResponse Response => new AspNetResponse(_httpContext.Response);\n}\n\n// Implementation for HttpListenerContext\npublic class ListenerRequest : IMyWebRequest\n{\n    private readonly HttpListenerRequest _listenerRequest;\n    public ListenerRequest(HttpListenerRequest listenerRequest)\n    {\n        _listenerRequest = listenerRequest;\n    }\n\n    public string Method => _listenerRequest.HttpMethod;\n    public Uri Url => _listenerRequest.Url;\n}\n\npublic class ListenerResponse : IMyWebResponse\n{\n    private readonly HttpListenerResponse _listenerResponse;\n    public ListenerResponse(HttpListenerResponse listenerResponse)\n    {\n        _listenerResponse = listenerResponse;\n    }\n\n    public int StatusCode \n    { \n        set => _listenerResponse.StatusCode = value; \n    }\n}\n\npublic class ListenerContext : IMyWebContext\n{\n    private readonly HttpListenerContext _httpListenerContext;\n\n    public ListenerContext(HttpListenerContext httpListenerContext)\n    {\n        _httpListenerContext = httpListenerContext;\n    }\n\n    public IMyWebRequest Request => new ListenerRequest(_httpListenerContext.Request);\n    public IMyWebResponse Response => new ListenerResponse(_httpListenerContext.Response);\n}