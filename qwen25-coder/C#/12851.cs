using System;\n\nclass Program\n{\n    private static bool _keepRunning = true;\n\n    static void Main(string[] args)\n    {\n        Console.CancelKeyPress += new ConsoleCancelEventHandler(Console_CancelKeyPress);\n\n        while (_keepRunning)\n        {\n            // Simulate work or waiting here\n            Console.WriteLine("Application is running...");\n            System.Threading.Thread.Sleep(1000); // Sleep for 1 second\n        }\n\n        Console.WriteLine("Shutting down gracefully.");\n    }\n\n    private static void Console_CancelKeyPress(object sender, ConsoleCancelEventArgs e)\n    {\n        // Set the flag to stop the loop\n        _keepRunning = false;\n\n        // Set Cancel property to true to prevent the application from exiting immediately\n        e.Cancel = true;\n    }\n}