using System;\n\npublic static class ExceptionExtensions\n{\n    public static T LocateExceptionInStack<T>(this Exception exception) where T : Exception\n    {\n        while (exception != null)\n        {\n            if (exception is T)\n            {\n                return (T)exception;\n            }\n            exception = exception.InnerException;\n        }\n        return null;\n    }\n}\n\n// Usage example:\ntry\n{\n    // Some code that throws exceptions...\n}\ncatch (Exception ex)\n{\n    var someExp = ex.LocateExceptionInStack<SomeException>();\n    if (someExp != null)\n    {\n        Console.WriteLine("Found the exception: " + someExp.Message);\n    }\n    else\n    {\n        Console.WriteLine("The specified exception was not found.");\n    }\n}