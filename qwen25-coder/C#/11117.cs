using System;\nusing System.ComponentModel.DataAnnotations;\nusing System.Text.RegularExpressions;\n\npublic class NullableRegexValidator : ValidationAttribute\n{\n    private readonly string _pattern;\n\n    public NullableRegexValidator(string pattern)\n    {\n        _pattern = pattern;\n    }\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        if (value == null || string.IsNullOrEmpty(value.ToString()))\n        {\n            return ValidationResult.Success; // Return success for null or empty strings\n        }\n\n        var regex = new Regex(_pattern);\n        if (!regex.IsMatch(value.ToString()))\n        {\n            return new ValidationResult(ErrorMessage); // Use the ErrorMessage property to define your error message\n        }\n\n        return ValidationResult.Success;\n    }\n}