using (var client = new WebClient())\n{\n    try\n    {\n        var bytesReceived = client.UploadData("http://localhost", bytesToPost);\n        var response = client.Encoding.GetString(bytesReceived);\n    }\n    catch (WebException ex)\n    {\n        if (ex.Response != null)\n        {\n            using (var reader = new StreamReader(ex.Response.GetResponseStream()))\n            {\n                string errorResponse = reader.ReadToEnd();\n                // Log or display the errorResponse\n                Console.WriteLine("Server Error: " + errorResponse);\n            }\n        }\n    }\n}