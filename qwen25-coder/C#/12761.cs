using System;\n   using System.Collections.Generic;\n   using Dapper;\n   using System.Data.SqlClient;\n\n   public class UserRepository\n   {\n       private readonly string _connectionString;\n\n       public UserRepository(string connectionString)\n       {\n           _connectionString = connectionString;\n       }\n\n       public IEnumerable<User> GetAll()\n       {\n           using (var connection = new SqlConnection(_connectionString))\n           {\n               return connection.Query<User>("SELECT * FROM Users");\n           }\n       }\n   }