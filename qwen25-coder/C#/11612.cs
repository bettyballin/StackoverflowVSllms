string sql = @"\n    UPDATE user_accounts \n    SET expires = CASE \n        WHEN @setToDefault = 1 THEN DEFAULT(expires)\n        ELSE @newExpiryDate\n    END\n    WHERE id = @userId";\n\nusing (MySqlConnection conn = new MySqlConnection(connectionString))\n{\n    using (MySqlCommand cmd = new MySqlCommand(sql, conn))\n    {\n        cmd.Parameters.AddWithValue("@setToDefault", shouldSetToDefault ? 1 : 0); // Boolean flag to set default\n        cmd.Parameters.AddWithValue("@newExpiryDate", newExpiryDate == null ? DBNull.Value : (object)newExpiryDate);\n        cmd.Parameters.AddWithValue("@userId", userId);\n\n        conn.Open();\n        int affectedRows = cmd.ExecuteNonQuery();\n    }\n}