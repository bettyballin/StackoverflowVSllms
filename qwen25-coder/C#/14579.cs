using System;\nusing System.Collections.Generic;\nusing System.Net.Sockets;\nusing HttpWebServer;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var server = new Server(8080);\n\n        Dictionary<string, Resource> routes = new Dictionary<string, Resource>()\n        {\n            { @"/", (context) => "Hello from ImpromptuHTTPServer proxy!" }\n        };\n\n        server.Respond += (HttpListenerContext context) =>\n        {\n            if (routes.ContainsKey(context.Request.Url.AbsolutePath))\n            {\n                return routes[context.Request.Url.AbsolutePath](context);\n            }\n\n            return null;\n        };\n\n        Console.WriteLine("Proxy server is listening on port 8080...");\n        server.Start();\n\n        // Keep the console app running\n        Console.ReadLine();\n    }\n}