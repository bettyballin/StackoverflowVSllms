using System;\nusing Irony.Parsing;\n\nnamespace SimpleDSLDemo {\n    public class MyLanguageGrammar : Grammar {\n        public MyLanguageGrammar() {\n            // Terminals definitions\n            var number = new NumberLiteral("number");\n            var identifier = new IdentifierTerminal("identifier");\n\n            // Non-terminals\n            var statement = new NonTerminal("statement");\n            var expression = new NonTerminal("expression");\n\n            // Grammar rules\n            statement.Rule = ToTerm("print") + expression;\n            expression.Rule = number | identifier;\n\n            // Mark the start symbols (root)\n            this.MarkPunctuation(",");\n            this.Root = statement;\n        }\n    }\n\n    class Program {\n        static void Main(string[] args) {\n            var parser = new Parser(new MyLanguageGrammar());\n            var result = parser.Parse("print 42");\n            \n            if (result.Status == ParseTreeStatus.Parsed)\n                Console.WriteLine("Parsed successfully:");\n            else\n                Console.WriteLine("Parse failed with error messages:");\n\n            foreach(var msg in result.ParserMessages) {\n                Console.WriteLine(msg);\n            }\n        }\n    }\n}