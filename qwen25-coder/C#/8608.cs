using Microsoft.Win32;\n\npublic static bool IsCompressionEnabled(string sitePath)\n{\n    try\n    {\n        using (RegistryKey key = Registry.LocalMachine.OpenSubKey($@"SYSTEM\CurrentControlSet\Services\InetInfo\Parameters\CompressionSchemes"))\n        {\n            if (key != null)\n            {\n                object gzipScheme = key.GetValue("gzip");\n                // Check if the gzip scheme exists and is enabled for your site\n                return gzipScheme != null;\n            }\n        }\n\n        using (RegistryKey key = Registry.LocalMachine.OpenSubKey($@"SYSTEM\CurrentControlSet\Services\W3SVC\ASPNET\ScriptMaps"))\n        {\n            // Additional checks can be done here if needed\n        }\n\n        // Note: More detailed configuration is usually stored in IIS metabase, which is not accessible via .NET API directly.\n    }\n    catch\n    {\n        return false;\n    }\n\n    return false;\n}