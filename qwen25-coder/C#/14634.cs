public class UserRepository {\n    private DataContext _context;\n\n    public UserRepository(DataContext context) {\n        _context = context;\n    }\n\n    public void Add(User user) {\n        _context.Users.InsertOnSubmit(user);\n        _context.SubmitChanges();\n    }\n\n    public void Update(User user) {\n        // Assume the entity is already attached\n        _context.SubmitChanges();\n    }\n\n    public void Delete(User user) {\n        _context.Users.DeleteOnSubmit(user);\n        _context.SubmitChanges();\n    }\n\n    public User GetById(int id) {\n        return _context.Users.FirstOrDefault(u => u.Id == id);\n    }\n}