public TextGame.Commands.ACommand GetCommand(string command)\n{\n    TextGame.Commands.ACommand ret = null;\n    foreach (TextGame.Commands.ACommand c in this.commands)\n    {\n        Regex exp = new Regex(c.Name, RegexOptions.IgnoreCase);\n        Match match = exp.Match(command);\n        if (match.Success && match.Groups.Count > 1) // Ensure there is a captured group\n        {\n            ret = c;\n            ((Use)c).Params = match.Groups[1].Value; // Set the parameter from the captured group\n        }\n    }\n    return ret;\n}