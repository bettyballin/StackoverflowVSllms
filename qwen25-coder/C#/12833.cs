using Moq;\nusing System;\n\npublic class SqlServerClusterSimulator\n{\n    public bool IsPrimary { get; private set; }\n\n    public SqlServerClusterSimulator(bool isPrimary)\n    {\n        IsPrimary = isPrimary;\n    }\n\n    public void SimulateFailover()\n    {\n        // Simulate a failover by switching the primary node status.\n        IsPrimary = !IsPrimary;\n    }\n}\n\npublic class SqlServerTests\n{\n    [TestMethod]\n    public void TestClusterResourceAccess()\n    {\n        var mockSqlServerCluster = new Mock<SqlServerClusterSimulator>(true);\n\n        // Simulate accessing clustered resources.\n        if (mockSqlServerCluster.Object.IsPrimary)\n        {\n            Console.WriteLine("Accessing primary node resources...");\n            // Your test logic here\n        }\n        else\n        {\n            Console.WriteLine("Failing over to secondary node...");\n            mockSqlServerCluster.Object.SimulateFailover();\n            // Test failover logic\n        }\n    }\n}