using Microsoft.SharePoint;\nusing System.IO;\n\npublic class FileScanner {\n    public static void ScanFile(SPFile file) {\n        // Example method to scan a file using an external AV tool API\n        if (file != null && !string.IsNullOrEmpty(file.ServerRelativeUrl)) {\n            string filePath = Path.Combine(SPSiteDataPath.GetSiteLocalDataDirectory(file.Site), file.Name);\n            bool isSafe = ExternalAVTool.Scan(filePath);\n            if (!isSafe) {\n                // Handle infected file: quarantine, alert, etc.\n                SPList list = file.ParentFolder.ParentList;\n                list.DisableEventFiring();\n                file.Delete();\n                list.EnableEventFiring();\n            }\n        }\n    }\n}