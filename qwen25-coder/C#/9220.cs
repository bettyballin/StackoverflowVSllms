using System;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static async Task Main(string[] args)\n    {\n        // URL of the file you want to download\n        string url = "https://example.com/file.zip";\n\n        // Path where you want to save the downloaded file\n        string filePath = @"C:\downloads\file.zip";\n\n        using (HttpClient client = new HttpClient())\n        {\n            // Set a custom User-Agent header\n            client.DefaultRequestHeaders.Add("User-Agent", "Mozilla/5.0");\n\n            // Add other headers if necessary\n            client.DefaultRequestHeaders.TryAddWithoutValidation("Accept", "*/*");\n            \n            // Create and add a cookie container for handling cookies\n            var cookies = new CookieHeaderValue("name1", "value1");\n            cookies.Domain = ".example.com";\n            cookies.Path = "/";\n            client.DefaultRequestHeaders.Cookie.Add(cookies);\n\n            // Send a GET request to the specified URI\n            using (HttpResponseMessage response = await client.GetAsync(url, HttpCompletionOption.ResponseHeadersRead))\n            {\n                response.EnsureSuccessStatusCode();\n\n                // Write the response body to the specified stream\n                using (var fileStream = System.IO.File.Create(filePath))\n                {\n                    await response.Content.CopyToAsync(fileStream);\n                }\n                \n                Console.WriteLine("File downloaded successfully.");\n            }\n        }\n    }\n}