protected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        // Initialize or load any non-postback dependent data here\n    }\n    else\n    {\n        ReAddControls(); // Re-add dynamically added controls on postbacks\n    }\n}\n\nprivate void ReAddControls()\n{\n    string[] ids = Session["LiteralIDs"] as string[];\n    if (ids != null)\n    {\n        foreach (string id in ids)\n        {\n            Literal literal = new Literal();\n            literal.ID = id;\n            UpdatePanel1.ContentTemplateContainer.Controls.Add(literal);\n            PlaceHolder1.Controls.Add(literal);\n        }\n    }\n}\n\nprotected void Button1_Click(object sender, EventArgs e)\n{\n    Literal literal = new Literal();\n    string id = DateTime.Now.Ticks.ToString();\n    literal.Text = DateTime.Now.ToString();\n    literal.ID = id;\n    \n    UpdatePanel1.ContentTemplateContainer.Controls.Add(literal);\n    PlaceHolder1.Controls.Add(literal);\n\n    // Store the IDs in Session to persist them across postbacks\n    List<string> ids = Session["LiteralIDs"] as List<string>;\n    if (ids == null)\n    {\n        ids = new List<string>();\n    }\n    ids.Add(id);\n    Session["LiteralIDs"] = ids;\n}