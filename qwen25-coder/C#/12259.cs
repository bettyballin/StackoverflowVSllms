protected void Application_BeginRequest(Object sender, EventArgs e)\n{\n    try\n    {\n        // Try to connect to the DB\n        using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["YourConnectionStringName"].ToString()))\n        {\n            conn.Open();\n        }\n    }\n    catch (SqlException)\n    {\n        // Redirect to maintenance page or show a custom error message\n        Response.Clear();\n        Server.Transfer("Maintenance.aspx");\n        Context.ApplicationInstance.CompleteRequest();\n    }\n}