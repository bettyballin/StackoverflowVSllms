using System.Globalization;\nusing System.Windows.Controls;\nusing Microsoft.Xaml.Behaviors;\n\npublic class FocusOnValidationErrorBehavior : Behavior<TextBox>\n{\n    protected override void OnAttached()\n    {\n        base.OnAttached();\n        AssociatedObject.LostFocus += OnLostFocus;\n    }\n\n    private void OnLostFocus(object sender, RoutedEventArgs e)\n    {\n        var binding = BindingOperations.GetBindingExpression(AssociatedObject, TextBox.TextProperty);\n        if (binding != null && binding.HasError)\n            AssociatedObject.Focus();\n    }\n\n    protected override void OnDetaching()\n    {\n        base.OnDetaching();\n        AssociatedObject.LostFocus -= OnLostFocus;\n    }\n}