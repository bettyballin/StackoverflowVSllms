using System;\nusing System.Data;\nusing System.Web.UI.WebControls;\n\nprotected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        // Sample dataset creation\n        DataSet ds = new DataSet();\n        DataTable categoriesTable = new DataTable("Categories");\n        DataTable productsTable = new DataTable("Products");\n\n        // Adding columns to the tables\n        categoriesTable.Columns.Add(new DataColumn("CategoryID", typeof(int)));\n        categoriesTable.Columns.Add(new DataColumn("CategoryName", typeof(string)));\n\n        productsTable.Columns.Add(new DataColumn("ProductID", typeof(int)));\n        productsTable.Columns.Add(new DataColumn("CategoryID", typeof(int))); // Foreign key\n        productsTable.Columns.Add(new DataColumn("ProductName", typeof(string)));\n\n        // Adding sample data to the tables\n        categoriesTable.Rows.Add(1, "Electronics");\n        categoriesTable.Rows.Add(2, "Books");\n\n        productsTable.Rows.Add(101, 1, "Laptop");\n        productsTable.Rows.Add(102, 1, "Smartphone");\n        productsTable.Rows.Add(103, 2, "Novel");\n        productsTable.Rows.Add(104, 2, "Science Book");\n\n        // Adding tables to the dataset\n        ds.Tables.Add(categoriesTable);\n        ds.Tables.Add(productsTable);\n\n        // Creating a relation between Tables\n        DataRelation relation = new DataRelation("Category_Product",\n            categoriesTable.Columns["CategoryID"],\n            productsTable.Columns["CategoryID"]);\n        ds.Relations.Add(relation);\n\n        // Binding data to TreeView control\n        PopulateTreeView(ds);\n    }\n}\n\nprivate void PopulateTreeView(DataSet dataSet)\n{\n    // Get the root table (Categories).\n    DataTable categoryTable = dataSet.Tables["Categories"];\n\n    // Create a SiteMapNode for each node in the Categories table.\n    foreach (DataRow row in categoryTable.Rows)\n    {\n        int categoryId = (int)row["CategoryID"];\n        string categoryName = row["CategoryName"].ToString();\n\n        TreeNode categoryNode = new TreeNode(categoryName);\n        TreeView1.Nodes.Add(categoryNode);\n\n        // Get all products for the current category.\n        DataRow[] productRows = row.GetChildRows("Category_Product");\n\n        // Create a SiteMapNode for each product and add it to the \n        // corresponding category node.\n        foreach (DataRow productRow in productRows)\n        {\n            string productName = productRow["ProductName"].ToString();\n            TreeNode productNode = new TreeNode(productName);\n\n            categoryNode.ChildNodes.Add(productNode);\n        }\n    }\n}