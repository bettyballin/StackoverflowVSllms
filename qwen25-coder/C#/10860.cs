using System;\nusing System.Windows.Forms;\n\npublic class MultiScrollDataGridView : Panel\n{\n    private readonly ScrollableControl[] _scrollableControls;\n    private readonly HScrollBar[] _scrollBars;\n\n    public MultiScrollDataGridView(int partCount)\n    {\n        if (partCount < 2) throw new ArgumentException("Part count must be greater than 1.");\n        \n        _scrollableControls = new ScrollableControl[partCount];\n        _scrollBars = new HScrollBar[partCount];\n        \n        for (int i = 0; i < partCount; i++)\n        {\n            var panel = _scrollableControls[i] = CreateScrollablePanel();\n            var scrollBar = _scrollBars[i] = CreateHorizontalScrollBar(i);\n            \n            Controls.Add(panel);\n            Controls.Add(scrollBar);\n        }\n    }\n\n    private ScrollableControl CreateScrollablePanel()\n    {\n        return new FlowLayoutPanel { Dock = DockStyle.Top, AutoScroll = true };\n    }\n\n    private HScrollBar CreateHorizontalScrollBar(int partIndex)\n    {\n        var scrollBar = new HScrollBar\n        {\n            Dock = DockStyle.Bottom,\n            LargeChange = 100,\n            SmallChange = 10,\n            ValueChanged = (s, e) =>\n            {\n                _scrollableControls[partIndex].AutoScrollPosition =\n                    new System.Drawing.Point(-((HScrollBar)s).Value, _scrollableControls[partIndex].AutoScrollPosition.Y);\n            }\n        };\n        return scrollBar;\n    }\n\n    protected override void OnLayout(LayoutEventArgs levent)\n    {\n        base.OnLayout(levent);\n\n        for (int i = 0; i < _scrollableControls.Length; i++)\n        {\n            _scrollableControls[i].Width = ClientRectangle.Width / _scrollableControls.Length;\n            _scrollBars[i].Width = ClientRectangle.Width / _scrollBars.Length;\n        }\n    }\n\n    public void AddColumn(object panelIndex, object columnContent)\n    {\n        if (!(panelIndex is int index)) throw new ArgumentException("Panel index must be an integer.");\n        \n        var control = _scrollableControls[index];\n        var label = new Label { AutoSize = false, Width = 100, Text = columnContent.ToString() };\n        control.Controls.Add(label);\n    }\n}\n\npublic class MainForm : Form\n{\n    public MainForm()\n    {\n        var multiScrollGrid = new MultiScrollDataGridView(3)\n        {\n            Dock = DockStyle.Fill\n        };\n\n        for (int i = 0; i < 10; i++)\n        {\n            multiScrollGrid.AddColumn(0, $"Part 1 Col {i}");\n            multiScrollGrid.AddColumn(1, $"Part 2 Col {i}");\n            multiScrollGrid.AddColumn(2, $"Part 3 Col {i}");\n        }\n\n        Controls.Add(multiScrollGrid);\n    }\n\n    [STAThread]\n    private static void Main()\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n        Application.Run(new MainForm());\n    }\n}