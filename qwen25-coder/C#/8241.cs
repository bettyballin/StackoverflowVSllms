using System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Xml;\n\npublic class CookieContainerHandler : HttpClientHandler\n{\n    public CookieContainerHandler(CookieContainer cookies)\n    {\n        this.CookieContainer = cookies;\n    }\n}\n\nclass Program\n{\n    static async Task Main()\n    {\n        var cookieJar = new CookieContainer();\n        \n        // Add your login logic here to set the cookies in cookieJar.\n        // Example:\n        // cookieJar.Add(new Uri("http://localhost"), \n        //               new Cookie("session_id", "your_session_value"));\n        \n        using (var client = new HttpClient(new CookieContainerHandler(cookieJar)))\n        {\n            var response = await client.GetAsync("http://localhost/myxml.aspx");\n            response.EnsureSuccessStatusCode();\n            \n            string responseBody = await response.Content.ReadAsStringAsync();\n            Console.WriteLine(responseBody);\n        }\n\n        // Alternatively, if you need to use XmlReader directly:\n        using (var client = new HttpClient(new CookieContainerHandler(cookieJar)))\n        {\n            var streamTask = client.GetStreamAsync("http://localhost/myxml.aspx");\n            var xmlReaderSettings = new XmlReaderSettings();\n            \n            using (var reader = XmlReader.Create(await streamTask, xmlReaderSettings))\n            {\n                while (reader.Read())\n                {\n                    Console.Write(reader.ReadOuterXml());\n                }\n            }\n        }\n    }\n}