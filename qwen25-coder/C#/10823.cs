using System;\nusing System.Collections.Generic;\nusing System.IO;\n\nprivate string GetRandomFile(string path)\n{\n    List<string> fileList = new List<string>();\n    DirectoryInfo di = new DirectoryInfo(path);\n    // Filter files to include only jpg, gif, and png extensions\n    FileInfo[] rgFiles = di.GetFiles("*.jpg")\n                           .Concat(di.GetFiles("*.jpeg"))\n                           .Concat(di.GetFiles("*.gif"))\n                           .Concat(di.GetFiles("*.png")).ToArray();\n    \n    foreach (FileInfo fi in rgFiles)\n    {\n        fileList.Add(fi.FullName);\n    }\n\n    // Ensure there are files to pick from\n    if (fileList.Count == 0) return null;\n\n    Random r = new Random(Guid.NewGuid().GetHashCode()); // Better random seed\n    int x = r.Next(0, fileList.Count);\n\n    return fileList[x];\n}