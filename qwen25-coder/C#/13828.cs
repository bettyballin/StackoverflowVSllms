using System;\nusing System.ServiceModel;\nusing System.ServiceProcess;\n\npublic class MyWcfServiceHost : ServiceBase\n{\n    private ServiceHost myServiceHost = null;\n\n    public MyWcfServiceHost()\n    {\n        ServiceName = "MyWcfServiceHost";\n    }\n\n    static void Main()\n    {\n        ServiceBase.Run(new MyWcfServiceHost());\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        if (myServiceHost != null)\n        {\n            myServiceHost.Close();\n        }\n\n        // Create a new ServiceHost for the WCF service\n        myServiceHost = new ServiceHost(typeof(MyWcfService));\n        \n        // Ensure the netTcpBinding is configured properly along with other necessary bindings\n        try\n        {\n            // Open the ServiceHost to start listening for messages.\n            myServiceHost.Open();\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($"An error occurred: {ex.Message}");\n        }\n    }\n\n    protected override void OnStop()\n    {\n        if (myServiceHost != null)\n        {\n            myServiceHost.Close();\n            myServiceHost = null;\n        }\n    }\n}