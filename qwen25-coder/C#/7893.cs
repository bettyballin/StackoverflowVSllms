public class OrderApplicationService\n{\n    private readonly IOrderRepository _orderRepository;\n    private readonly ISecurityService _securityService;\n\n    public OrderApplicationService(IOrderRepository orderRepository, ISecurityService securityService)\n    {\n        _orderRepository = orderRepository;\n        _securityService = securityService;\n    }\n\n    public void DeleteOrder(int userId, int orderId)\n    {\n        if (!_securityService.CanDeleteOrder(userId, orderId))\n            throw new UnauthorizedAccessException("User does not have permission to delete this order.");\n\n        _orderRepository.Delete(orderId);\n    }\n}