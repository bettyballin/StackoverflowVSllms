private void Button_Click(object sender, RoutedEventArgs e) {\n    // Toggle the visibility of the panels\n    panel1.Visibility = panel1.Visibility == Visibility.Collapsed ? Visibility.Visible : Visibility.Collapsed;\n    panel2.Visibility = panel2.Visibility == Visibility.Collapsed ? Visibility.Visible : Visibility.Collapsed;\n\n    // Clear validation errors if panel1 is collapsed\n    if (panel1.Visibility == Visibility.Collapsed) {\n        Validation.ClearInvalid(DataBoundTextBox.GetBindingExpression(TextBox.TextProperty));\n    }\n}