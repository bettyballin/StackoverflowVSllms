public static void savetodatabase()\n{\n    int ID1 = -1;\n    int ID2 = -1;\n\n    using (SqlConnection con = new SqlConnection(yourConnectionString))\n    {\n        // Store the billing contact\n        SqlCommand cmd1 = new SqlCommand("SaveInfo1", con);\n        cmd1.CommandType = CommandType.StoredProcedure;\n        // ... add parameters ...\n        cmd1.Parameters.Add("@Ret", SqlDbType.Int);\n        cmd1.Parameters["@Ret"].Direction = ParameterDirection.ReturnValue;\n\n        try\n        {\n            con.Open();\n            cmd1.ExecuteNonQuery();\n            ID1 = Convert.ToInt32(cmd1.Parameters["@Ret"].Value);\n        }\n        catch (Exception ex)\n        {\n            throw new Exception("Failed to execute SaveInfo1", ex);\n        }\n\n        if (ID1 > 0)\n        {\n            SqlCommand cmd2 = new SqlCommand("SaveInfo2", con);\n            cmd2.CommandType = CommandType.StoredProcedure;\n            // ... add parameters ...\n            try\n            {\n                cmd2.ExecuteNonQuery();\n                ID2 = Convert.ToInt32(cmd2.Parameters["@Ret"].Value);\n            }\n            catch (Exception ex)\n            {\n                throw new Exception("Failed to execute SaveInfo2", ex);\n            }\n        }\n    }\n}