using (var serviceContext = new YourDataContext())\n{\n    List<Service> svcs = Service.GetServices(serviceContext);\n    using (var outputContext = new YourDataContext())\n    {\n        List<Output> outs = Output.GetOutputs(outputContext);\n\n        // Attach each Output to the serviceContext\n        foreach (var outItem in outs)\n        {\n            serviceContext.Outputs.Attach(outItem);\n        }\n\n        svcs[0].OutputCollection.AddRange(outs);\n        svcs[0].Save(serviceContext); // Ensure Save method uses serviceContext\n    }\n}