using System;\nusing System.Collections.Generic;\nusing System.Threading;\n\npublic static class ReaderWriterLockExtensions\n{\n    public static T UsingReadLock<T>(this ReaderWriterLockSlim rwl, Func<T> readAction)\n    {\n        rwl.EnterReadLock();\n        try\n        {\n            return readAction();\n        }\n        finally\n        {\n            rwl.ExitReadLock();\n        }\n    }\n\n    public static void UsingWriteLock(this ReaderWriterLockSlim rwl, Action writeAction)\n    {\n        rwl.EnterWriteLock();\n        try\n        {\n            writeAction();\n        }\n        finally\n        {\n            rwl.ExitWriteLock();\n        }\n    }\n}\n\n// Usage example:\nvar count = m_Lock.UsingReadLock(() => m_List.Count);