using System;\nusing System.DirectoryServices;\n\npublic class ActiveDirectoryHelper\n{\n    public static SearchResult GetUserDetails(string domainUsername)\n    {\n        string ldapPath = "LDAP://DC=somedomain,DC=com,DC=au"; // Update this to your LDAP path\n        using (DirectoryEntry de = new DirectoryEntry(ldapPath))\n        {\n            DirectorySearcher ds = new DirectorySearcher(de);\n            \n            // Assuming domainUsername is in format "SOMEDOMAIN\\username"\n            string username = domainUsername.Split('\\')[1];\n            \n            ds.Filter = $"(&(objectClass=user)(sAMAccountName={username}))";\n            ds.PropertiesToLoad.Add("displayName");\n            ds.PropertiesToLoad.Add("mail");\n\n            return ds.FindOne();\n        }\n    }\n\n    public static void Main()\n    {\n        string username = HttpContext.Current.Request.ServerVariables["AUTH_USER"];\n        SearchResult result = GetUserDetails(username);\n\n        if (result != null)\n        {\n            Console.WriteLine("Full Name: " + result.Properties["displayName"][0]);\n            Console.WriteLine("Email: " + result.Properties["mail"][0]);\n        }\n        else\n        {\n            Console.WriteLine("User not found.");\n        }\n    }\n}