using System;\nusing System.IO;\nusing System.Net;\n\npublic class SoapAttachmentSender\n{\n    public void SendSoapRequestWithAttachment(string soapEndpoint, string filePath)\n    {\n        HttpWebRequest webRequest = (HttpWebRequest)WebRequest.Create(soapEndpoint);\n        webRequest.ContentType = "multipart/related; type=\"text/xml\"; boundary=boundary";\n        webRequest.Method = "POST";\n\n        using (var stream = webRequest.GetRequestStream())\n        {\n            // Write the SOAP XML part\n            string soapXml =\n                "--boundary\r\n" +\n                "Content-Type: text/xml; charset=utf-8\r\n" +\n                "\r\n" +\n                "<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"><soapenv:Header/><soapenv:Body>" +\n                "<YourMethodCall><yourData/></YourMethodCall>" +\n                "</soapenv:Body></soapenv:Envelope>\r\n";\n\n            byte[] soapXmlBytes = System.Text.Encoding.UTF8.GetBytes(soapXml);\n            stream.Write(soapXmlBytes, 0, soapXmlBytes.Length);\n\n            // Write the attachment part\n            string fileContentType = "application/octet-stream"; // Adjust as necessary\n            string fileName = Path.GetFileName(filePath);\n            \n            string header =\n                "--boundary\r\n" +\n                $"Content-Type: {fileContentType}\r\n" +\n                $"Content-Location: {fileName}\r\n" +\n                "\r\n";\n\n            byte[] headerBytes = System.Text.Encoding.UTF8.GetBytes(header);\n            stream.Write(headerBytes, 0, headerBytes.Length);\n\n            // Write the actual file\n            using (FileStream fs = new FileStream(filePath, FileMode.Open))\n            {\n                byte[] buffer = new byte[fs.Length];\n                fs.Read(buffer, 0, buffer.Length);\n                stream.Write(buffer, 0, buffer.Length);\n            }\n\n            // End boundary\n            byte[] endBoundaryBytes = System.Text.Encoding.UTF8.GetBytes("\r\n--boundary--\r\n");\n            stream.Write(endBoundaryBytes, 0, endBoundaryBytes.Length);\n        }\n\n        using (var webResponse = webRequest.GetResponse())\n        {\n            using (Stream str = webResponse.GetResponseStream())\n            {\n                using (StreamReader sr = new StreamReader(str))\n                {\n                    string responseXml = sr.ReadToEnd();\n                    Console.WriteLine(responseXml);\n                }\n            }\n        }\n    }\n}