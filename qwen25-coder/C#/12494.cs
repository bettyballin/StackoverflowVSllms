using System.Net;\nusing System.Net.Mail;\n\npublic void SendBatchEmails(List<MailMessage> mailMessages, string smtpHost, int smtpPort, NetworkCredential credentials)\n{\n    using (var client = new SmtpClient(smtpHost, smtpPort))\n    {\n        client.Credentials = credentials;\n        client.EnableSsl = true; // Use SSL if required\n\n        foreach (var mail in mailMessages)\n        {\n            try\n            {\n                client.Send(mail);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine($"Failed to send email to {mail.To} with error: {ex.Message}");\n            }\n        }\n    }\n}