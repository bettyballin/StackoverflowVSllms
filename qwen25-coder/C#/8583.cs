using (Socket socketProxy = new Socket(endPoint.AddressFamily, SocketType.Stream, ProtocolType.Tcp))\n{\n    socketProxy.Connect(endPoint);\n\n    bytesSended = socketProxy.Send(byteOriginalRequest); // Simplified send\n\n    MemoryStream m2Stream = new MemoryStream();\n    while (true) // Use a loop to receive all data\n    {\n        bytesReceived = socketProxy.Receive(buffer);\n        if (bytesReceived > 0)\n            m2Stream.Write(buffer, 0, bytesReceived);\n        else\n            break; // Exit when no more data is received\n    }\n\n    byte[] finalResponse = m2Stream.ToArray();\n    bytesSended = socketClient.Send(finalResponse); // Simplified send\n\n    socketProxy.Close();\n}\nsocketClient.Close();