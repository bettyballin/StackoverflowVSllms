using System;\nusing System.Xml;\n\npublic class Program\n{\n    public static void UpdateNode(XmlDocument xml, string nodeMustExist, string nodeToBeUpdated, string newVal)\n    {\n        // Try to find the nodeToBeUpdated first\n        XmlNode xmlNodeToBeUpdated = xml.SelectSingleNode($"//*[{nodeToBeUpdated}]");\n\n        if (xmlNodeToBeUpdated != null)\n        {\n            // If it exists, update its value\n            xmlNodeToBeUpdated.InnerText = newVal;\n        }\n        else\n        {\n            // If it does not exist, find the nodeMustExist\n            XmlNode xmlNodeMustExist = xml.SelectSingleNode($"//*[{nodeMustExist}]");\n\n            if (xmlNodeMustExist != null)\n            {\n                // Create a new element and set its value\n                XmlElement newNode = xml.CreateElement(nodeToBeUpdated);\n                newNode.InnerText = newVal;\n\n                // Insert the new node right after nodeMustExist\n                xmlNodeMustExist.ParentNode.InsertAfter(newNode, xmlNodeMustExist);\n            }\n        }\n\n        // Save the XML document if necessary\n        // xml.Save("YourFilePath.xml");\n    }\n\n    public static void Main()\n    {\n        // Example usage\n        XmlDocument xmlDoc = new XmlDocument();\n        xmlDoc.LoadXml("<root><folder1><nodeMustExist /><nodeToBeUpdated>some value</nodeToBeUpdated></folder1></root>");\n\n        UpdateNode(xmlDoc, "nodeMustExist", "nodeToBeUpdated", "new Value");\n        \n        Console.WriteLine(xmlDoc.OuterXml);\n    }\n}