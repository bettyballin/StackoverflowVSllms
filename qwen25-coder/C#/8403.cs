try\n{\n    // Ensure the item is checked out or has proper permissions to modify roles.\n    if (ListItem.HasUniqueRoleAssignments)\n    {\n        for (int i = ListItem.RoleAssignments.Count - 1; i >= 0; --i)\n        {\n            ListItem.RoleAssignments.Remove(i);\n        }\n    }\n}\ncatch (Exception ex)\n{\n    // Log the exception or handle as appropriate.\n    Console.WriteLine("Error removing role assignments: " + ex.Message);\n}