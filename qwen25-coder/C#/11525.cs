using System;\nusing System.Security.Principal;\nusing System.Text;\nusing System.Web;\n\npublic class BasicAuthHttpModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.AuthenticateRequest += new EventHandler(OnAuthenticateRequest);\n    }\n\n    private void OnAuthenticateRequest(object sender, EventArgs e)\n    {\n        HttpApplication application = (HttpApplication)sender;\n        HttpContext context = application.Context;\n\n        string authHeader = context.Request.Headers["Authorization"];\n        if (!string.IsNullOrEmpty(authHeader) && authHeader.StartsWith("Basic "))\n        {\n            // Base64 decode the credentials\n            string encodedUsernamePassword = authHeader.Substring(6);\n            byte[] decodedBytes = Convert.FromBase64String(encodedUsernamePassword);\n            string usernamePassword = Encoding.UTF8.GetString(decodedBytes);\n\n            // Split into username and password\n            int seperatorIndex = usernamePassword.IndexOf(':');\n            string username = usernamePassword.Substring(0, seperatorIndex);\n            string password = usernamePassword.Substring(seperatorIndex + 1);\n\n            // Perform basic authentication check (replace with your logic)\n            if (username.Equals("foo", StringComparison.OrdinalIgnoreCase) && password == "bar")\n            {\n                IPrincipal principal = new GenericPrincipal(new GenericIdentity(username), null);\n                context.User = principal;\n            }\n        }\n    }\n\n    public void Dispose()\n    {\n        // Cleanup code here.\n    }\n}