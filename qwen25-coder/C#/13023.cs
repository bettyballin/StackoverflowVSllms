using (SqlCommand searchResult = new SqlCommand("SELECT ItemID, Name, RelDate, Price, Status FROM item_k WHERE ItemID IN (SELECT ItemID FROM @items)", searchCon))\n{\n    // Create DataTable and Populate with ItemIDs\n    DataTable dtItems = new DataTable();\n    dtItems.Columns.Add("ItemID", typeof(int));\n\n    string[] itemsArray = itemIDs.Split(',');\n    foreach (var item in itemsArray)\n    {\n        if (int.TryParse(item, out int itemId))\n            dtItems.Rows.Add(itemId);\n    }\n\n    // Add Parameter\n    SqlParameter tvpParam = searchResult.Parameters.AddWithValue("@items", dtItems);\n    tvpParam.SqlDbType = SqlDbType.Structured;\n\n    // Execute the Command\n}