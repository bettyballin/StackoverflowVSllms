var builder = WebApplication.CreateBuilder(args);\n\nbuilder.Services.AddAuthentication("Bearer")\n    .AddJwtBearer(options =>\n    {\n        options.TokenValidationParameters = new TokenValidationParameters\n        {\n            ValidateIssuer = true,\n            ValidateAudience = true,\n            ValidateLifetime = true,\n            ValidateIssuerSigningKey = true,\n\n            ValidIssuer = builder.Configuration["Jwt:Issuer"],\n            ValidAudience = builder.Configuration["Jwt:Audience"],\n            IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(builder.Configuration["Jwt:Secret']))\n        };\n    });\n\nbuilder.Services.AddAuthorization();\n\nvar app = builder.Build();\n\napp.UseHttpsRedirection();\napp.UseAuthentication(); // Add authentication\napp.UseAuthorization();\n\napp.MapControllers();\n\napp.Run();