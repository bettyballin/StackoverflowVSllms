using System;\nusing System.Collections.Generic;\nusing System.Net.Http;\nusing System.Threading.Tasks;\n\nclass SmsSender {\n    private readonly string smsGatewayUrl = "https://your-sms-gateway-url.com/send";\n    private readonly string apiKey = "your.api.key";\n\n    public async Task SendSmsToAdUsers() {\n        var usersPhoneNumber = GetActiveDirectoryUserPhoneNumbers();\n        foreach (var phoneNumber in usersPhoneNumber) {\n            await SendSms(phoneNumber);\n        }\n    }\n\n    private List<string> GetActiveDirectoryUserPhoneNumbers() {\n        // This method should be implemented to query Active Directory and collect user phone numbers\n        return new List<string> { "1234567890", "0987654321" }; // Placeholder hard-coded numbers\n    }\n\n    private async Task SendSms(string phoneNumber) {\n        using (var client = new HttpClient()) {\n            var content = $"api_key={apiKey}&number={phoneNumber}&message=Your%20SMS%20Content";\n\n            var response = await client.PostAsync(smsGatewayUrl, new StringContent(content));\n            if (!response.IsSuccessStatusCode) {\n                Console.WriteLine($"Failed to send SMS to {phoneNumber}: {await response.Content.ReadAsStringAsync()}");\n            } else {\n                Console.WriteLine($"SMS sent successfully to {phoneNumber}");\n            }\n        }\n    }\n\n    static async Task Main(string[] args) {\n        var smsSender = new SmsSender();\n        await smsSender.SendSmsToAdUsers();\n    }\n}