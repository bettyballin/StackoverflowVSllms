public partial class Shell : Window\n{\n    public static readonly DependencyProperty IsMainMenuVisibleProperty;\n\n    static Shell()\n    {\n        FrameworkPropertyMetadata metadata = new FrameworkPropertyMetadata();\n        metadata.DefaultValue = false;\n\n        IsMainMenuVisibleProperty = DependencyProperty.Register(\n            "IsMainMenuVisible", typeof(bool), typeof(Shell), metadata);\n    }\n\n    public bool IsMainMenuVisible\n    {\n        get { return (bool)GetValue(IsMainMenuVisibleProperty); }\n        set { SetValue(IsMainMenuVisibleProperty, value); }\n    }\n\n    public Shell()\n    {\n        InitializeComponent();\n        this.PreviewKeyUp += new KeyEventHandler(Shell_PreviewKeyUp);\n    }\n\n    void Shell_PreviewKeyUp(object sender, KeyEventArgs e)\n    {\n        if (e.SystemKey == Key.LeftAlt || e.SystemKey == Key.RightAlt)\n        {\n            IsMainMenuVisible = !IsMainMenuVisible;\n            e.Handled = true; // Mark as handled to prevent possible other handlers issues\n        }\n    }\n\n    private void OnExit(object sender, RoutedEventArgs e)\n    {\n        this.Close();\n    }\n}