// Attach ButtonPressEvent handler instead of PopupMenu\nthis.scrolledwindow1.ButtonPressEvent += HandleButtonPress;\n\nprivate void HandleButtonPress(object o, Gtk.ButtonPressEventArgs args)\n{\n    // Check if the right mouse button was clicked\n    if (args.Event.Button == 3) // Right click\n    {\n        Gtk.Menu mbox = new Gtk.Menu();\n        Gtk.MenuItem Test = new Gtk.MenuItem("test");\n        Test.Activated += delegate(object sender, EventArgs e) \n        { \n            Console.WriteLine("test"); \n        };\n        mbox.Append(Test);\n        mbox.ShowAll();\n\n        // Show the menu at the cursor position\n        mbox.Popup(null, null,\n                   (w, x, y, push_in) =>\n                   {\n                       Gdk.ModifierType mods;\n                       args.Event.Window.GetPointer(out _, out x, out y, out mods);\n                       return new Gdk.Rectangle(x, y, 1, 1);\n                   },\n                   new uint((int)args.Event.Button), Gtk.Global.CurrentEventTime);\n    }\n}