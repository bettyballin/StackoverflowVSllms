public void ConfigureServices(IServiceCollection services)\n{\n    services.AddSignalR();\n    services.AddTransient<IMileRepository, MileRepository>();\n    services.AddHostedService<MilesService>();\n}\n\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n        app.UseExceptionHandler("/Home/Error");\n        app.UseHsts();\n    }\n\n    app.UseRouting();\n\n    app.UseEndpoints(endpoints =>\n    {\n        endpoints.MapHub<MilesHub>("/milesHub");\n        endpoints.MapControllerRoute(\n            name: "default",\n            pattern: "{controller=Home}/{action=Index}/{id?}");\n    });\n}