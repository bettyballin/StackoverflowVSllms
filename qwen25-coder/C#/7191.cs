// Set the session value and creation time\nSession["sessionval"] = myvariable;\nSession["sessioncreated"] = DateTime.Now;\n\n// Function to get session value with expiration check\nobject GetExpiringSessionValue(string key, int minutesToExpire)\n{\n    if (Session[key] != null && Session[key + "created"] != null)\n    {\n        DateTime creationTime = (DateTime)Session[key + "created"];\n        TimeSpan span = DateTime.Now - creationTime;\n        if (span.TotalMinutes <= minutesToExpire)\n        {\n            return Session[key];\n        }\n        else\n        {\n            // Remove the session variable if expired\n            Session.Remove(key);\n            Session.Remove(key + "created");\n        }\n    }\n    return null; // Return null if not found or expired\n}\n\n// Usage\nvar value = GetExpiringSessionValue("sessionval", 5);\nif (value != null)\n{\n    // Use the session value\n}\nelse\n{\n    // Handle expiration, e.g., redirect to login page or set default value\n}