using System;\nusing System.IO;\nusing System.Text;\n\npublic class ContentTypeDetector\n{\n    public static (string contentType, string encoding) DetectContentType(string filePath)\n    {\n        // Check file extension and assume known MIME types\n        var extension = Path.GetExtension(filePath).ToLower();\n        switch (extension)\n        {\n            case ".txt":\n                return ("text/plain", DetermineTextEncoding(filePath));\n            case ".jpg":\n                return ("image/jpeg", null);\n            case ".png":\n                return ("image/png", null);\n            // Add more known extensions and MIME types as needed\n            default:\n                return (IsBinaryFile(filePath) ? "application/octet-stream" : "text/plain", DetermineTextEncoding(filePath));\n        }\n    }\n\n    private static bool IsBinaryFile(string filePath)\n    {\n        using (var fileStream = new FileStream(filePath, FileMode.Open, FileAccess.Read))\n        {\n            var buffer = new byte[4096];\n            int bytesRead;\n            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) > 0)\n            {\n                // Look for null bytes (common in binary files) or character control codes\n                foreach (var b in buffer.Take(bytesRead))\n                {\n                    if (b == 0 || (b < 32 && b != '\t' && b != '\n' && b != '\r'))\n                        return true;\n                }\n            }\n        }\n\n        return false; // No null bytes or control codes found, assume text\n    }\n\n    private static string DetermineTextEncoding(string filePath)\n    {\n        using (var fileStream = new FileStream(filePath, FileMode.Open, FileAccess.Read))\n        {\n            var encodingDetector = Encoding.UTF8.IsDetectedAsWebName;\n            var detectedEncoding = Encoding.UTF8;\n\n            // Detect possible encodings here if necessary (simplified example)\n            // This could involve reading a BOM or other specific byte patterns\n\n            return detectedEncoding.WebName;\n        }\n    }\n\n    public static void Main()\n    {\n        string filePath = "example.txt"; // Path to the file you want to check\n        var (contentType, encoding) = DetectContentType(filePath);\n        Console.WriteLine($"Content Type: {contentType}, Encoding: {encoding}");\n    }\n}