private ToolStripMenuItem CreateContextMenuItem(ToolStripMenuItem original)\n{\n    // Creates a new ToolStripMenuItem with the same Click event handler.\n    var menuItem = new ToolStripMenuItem(original.Text);\n    menuItem.Click += (s, e) => original.PerformClick();\n    menuItem.Enabled = original.Enabled;\n\n    return menuItem;\n}\n\n// Usage in MouseUp event handler\nprivate void panel_MouseUp(object sender, MouseEventArgs e)\n{\n    ctxMnuLinks.Items.Clear();\n\n    // Adding menu items to the context menu\n    ctxMnuLinks.Items.Add(CreateContextMenuItem(mnuLinksOpen));\n    ctxMnuLinks.Items.Add(new ToolStripSeparator());\n    ctxMnuLinks.Items.Add(CreateContextMenuItem(mnuLinksAdd));\n    ctxMnuLinks.Items.Add(CreateContextMenuItem(mnuLinksEdit));\n    ctxMnuLinks.Items.Add(new ToolStripSeparator());\n\n    // Show context menu if right mouse click\n    if (e.Button == MouseButtons.Right)\n    {\n        ctxMnuLinks.Show(panel, e.Location);\n    }\n}