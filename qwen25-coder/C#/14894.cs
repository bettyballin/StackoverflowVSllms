using Microsoft.Win32;\nusing System;\nusing System.Diagnostics;\n\nclass Program\n{\n    static void Main()\n    {\n        string fileExtension = ".jpg";\n        string associatedApplicationPath = GetAssociatedAppPath(fileExtension);\n\n        if (associatedApplicationPath != null)\n        {\n            Console.WriteLine($"The application for {fileExtension} is located at: {associatedApplicationPath}");\n            \n            // Launching the application with a specific file as an argument\n            string testFilePath = @"C:\path\to\your\image.jpg";\n            Process.Start(associatedApplicationPath, $"\"{testFilePath}\"");\n        }\n        else\n        {\n            Console.WriteLine($"No application found for extension {fileExtension}");\n        }\n    }\n\n    static string GetAssociatedAppPath(string fileExtension)\n    {\n        using (RegistryKey key = Registry.ClassesRoot.OpenSubKey(fileExtension))\n        {\n            if (key != null)\n            {\n                object progIdValue = key.GetValue("");\n\n                if (progIdValue != null)\n                {\n                    string progId = progIdValue.ToString();\n                    using (RegistryKey shellKey = Registry.ClassesRoot.OpenSubKey($"{progId}\\shell\\open\\command"))\n                    {\n                        if (shellKey != null)\n                        {\n                            object commandValue = shellKey.GetValue("");\n                            \n                            if (commandValue != null)\n                            {\n                                string commandString = commandValue.ToString();\n                                \n                                // Command might contain parameters like "%1" so we split and get the first part\n                                return commandString.Contains("%") \n                                           ? commandString.Substring(0, commandString.IndexOf("\"", 1)).Trim('\"') \n                                           : commandString.Trim('"');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n}