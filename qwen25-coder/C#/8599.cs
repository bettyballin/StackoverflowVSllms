void DoSqlStuff()\n{\n    using (SqlConnection sqlConn = new SqlConnection("your_connection_string"))\n    {\n        SqlCommand cmd = new SqlCommand("your_query", sqlConn);\n        \n        sqlConn.Open();\n        using (SqlDataReader sqlData = cmd.ExecuteReader())\n        {\n            while (sqlData.Read())\n            {\n                // process data\n            }\n        }\n    } // Both sqlConn and sqlData are automatically closed and disposed here\n}