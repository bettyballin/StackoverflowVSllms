public partial class _Default : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n            Session["Students"] = new List<Student>();\n            BindGrid();\n        }\n    }\n\n    private void BindGrid()\n    {\n        var students = (List<Student>)Session["Students"];\n        StudentGrid.DataSource = students;\n        StudentGrid.DataBind();\n    }\n\n    protected void StudentGrid_RowEditing(object sender, GridViewEditEventArgs e)\n    {\n        StudentGrid.EditIndex = e.NewEditIndex;\n        BindGrid();\n    }\n\n    protected void StudentGrid_RowUpdating(object sender, GridViewUpdateEventArgs e)\n    {\n        var students = (List<Student>)Session["Students"];\n        \n        int studentId = Convert.ToInt32(StudentGrid.DataKeys[e.RowIndex].Values[0]);\n        TextBox txtFirstName = (TextBox)StudentGrid.Rows[e.RowIndex].Cells[1].FindControl("txtFirstName");\n        TextBox txtLastName = (TextBox)StudentGrid.Rows[e.RowIndex].Cells[2].FindControl("txtLastName");\n        TextBox txtEmail = (TextBox)StudentGrid.Rows[e.RowIndex].Cells[3].FindControl("txtEmail");\n\n        var studentToUpdate = students.FirstOrDefault(s => s.ID == studentId);\n        if (studentToUpdate != null)\n        {\n            studentToUpdate.FirstName = txtFirstName.Text;\n            studentToUpdate.LastName = txtLastName.Text;\n            studentToUpdate.Email = txtEmail.Text;\n        }\n\n        StudentGrid.EditIndex = -1;\n        BindGrid();\n    }\n\n    protected void StudentGrid_RowCancelingEdit(object sender, GridViewCancelEditEventArgs e)\n    {\n        StudentGrid.EditIndex = -1;\n        BindGrid();\n    }\n}\n\npublic class Student\n{\n    public int ID { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string Email { get; set; }\n\n    public Student(int id, string firstName, string lastName, string email)\n    {\n        ID = id;\n        FirstName = firstName;\n        LastName = lastName;\n        Email = email;\n    }\n}