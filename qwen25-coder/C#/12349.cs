using System;\nusing System.Data.SqlClient;\n\npublic class UserService\n{\n    private string connectionString = "your_connection_string_here";\n\n    public void CreateUser(string username, string email)\n    {\n        try\n        {\n            using (SqlConnection connection = new SqlConnection(connectionString))\n            {\n                SqlCommand command = new SqlCommand("CreateUser", connection);\n                command.CommandType = System.Data.CommandType.StoredProcedure;\n                \n                // Parameters for your stored procedure\n                command.Parameters.AddWithValue("@Username", username);\n                command.Parameters.AddWithValue("@Email", email);\n\n                connection.Open();\n                int result = command.ExecuteNonQuery();\n\n                if (result == 0)\n                {\n                    throw new InvalidOperationException("User already exists.");\n                }\n            }\n        }\n        catch (SqlException ex) when (ex.Number == 2627) // SQL error number for unique constraint violation\n        {\n            Console.WriteLine("A user with the same username or email already exists.");\n        }\n        catch (InvalidOperationException ex)\n        {\n            Console.WriteLine(ex.Message);\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine("An unexpected error occurred. Please try again later.");\n            // Log detailed exception information here\n            System.Diagnostics.Debug.WriteLine(ex.ToString());\n        }\n    }\n}