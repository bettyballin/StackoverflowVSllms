using System;\nusing OpenHardwareMonitor.Hardware;\n\nclass Program\n{\n    static void Main()\n    {\n        Computer myComputer = new Computer\n        {\n            CPUEnabled = true,\n            GPUEnabled = true,\n            MotherboardEnabled = true,\n            HDDEnabled = true,\n            RAMEnabled = true,\n            FanControllerEnabled = true\n        };\n\n        myComputer.Open();\n        UpdateVisitor updateVisitor = new UpdateVisitor();\n\n        while (true)\n        {\n            myComputer.Accept(updateVisitor);\n            foreach (var hardwareItem in myComputer.Hardware)\n            {\n                if ((hardwareItem.Identifier.ToString().Contains("cpu"))\n                    || (hardwareItem.Identifier.ToString().Contains("hdd"))\n                    || (hardwareItem.Identifier.ToString().Contains("mb")))\n                {\n                    Console.WriteLine(hardwareItem.Name);\n                    foreach (var sensor in hardwareItem.Sensors)\n                    {\n                        Console.WriteLine($"  {sensor.Name}: {sensor.Value} {sensor.Unit}");\n                    }\n                }\n            }\n        }\n    }\n\n    class UpdateVisitor : IVisitor\n    {\n        public void VisitSensor(Sensor sensor) { }\n        public void VisitHardware(Hardware hardware)\n        {\n            hardware.Update();\n            foreach (var subHardware in hardware.SubHardware) subHardware.Accept(this);\n        }\n        public void VisitComputer(IComputer computer) \n        {\n            foreach (IHardware hardware in computer.Hardware) \n                hardware.Accept(this); \n        } \n\n    }\n}