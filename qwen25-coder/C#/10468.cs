using System;\nusing System.Runtime;\n\npublic class Program\n{\n    public static void Main()\n    {\n        // Register for the garbage collection started notification.\n        GC.RegisterForFullGCNotification(10, 20);\n\n        // Do some operations...\n        \n        while (true)\n        {\n            bool gen2FullGCOccurred = GC.WaitForPendingFinalizers();\n            GCMemoryInfo memoryInfo = GC.GetGCMemoryInfo();\n\n            if (memoryInfo.FullSinceLastGCCollectionCount > 0)\n            {\n                Console.WriteLine("Full garbage collection occurred. Gen1: {0}, Gen2: {1}",\n                    memoryInfo.Gen1HeapSizeBytes, memoryInfo.Gen2HeapSizeBytes);\n            }\n\n            System.Threading.Thread.Sleep(500); // Sleep for a while and check again.\n        }\n    }\n}