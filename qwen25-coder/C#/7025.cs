class Task\n{\n    public int TaskID { get; set; }\n    public string Subject { get; set; }\n    public int? ParentID { get; set; }\n}\n\npublic List<Task> GetParents(int childTaskId)\n{\n    var tasks = context.Tasks.ToList();\n\n    var parents = new List<Task>();\n    while (childTaskId.HasValue)\n    {\n        var parent = tasks.FirstOrDefault(t => t.TaskID == childTaskId.Value);\n        if (parent != null)\n        {\n            parents.Add(parent);\n            childTaskId = parent.ParentID;\n        }\n        else\n        {\n            break;\n        }\n    }\n\n    return parents;\n}