void Application_BeginRequest(object sender, EventArgs e)\n{\n    // Log the HTTP request details.\n    HttpContext context = HttpContext.Current;\n    HttpRequest request = context.Request;\n\n    using (StreamWriter writer = new StreamWriter("C:\\path\\to\\log.txt", true))\n    {\n        string logEntry =\n            $"[{DateTime.Now}] {request.HttpMethod} {request.RawUrl}\n" +\n            $"Headers:\n{string.Join("\r\n", request.Headers.AllKeys.Select(k => $"{k}: {request.Headers[k]}"))}\n";\n        \n        // Log body if content length is not zero.\n        if (request.ContentLength != 0)\n        {\n            using (StreamReader reader = new StreamReader(request.InputStream))\n            {\n                logEntry += $"Body:\n{reader.ReadToEnd()}\n";\n                request.InputStream.Position = 0; // Reset stream position\n            }\n        }\n\n        writer.WriteLine(logEntry);\n    }\n}