public class RequestInterceptorModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += OnBeginRequest;\n    }\n\n    private void OnBeginRequest(object sender, EventArgs e)\n    {\n        var app = (HttpApplication)sender;\n        var request = app.Request;\n\n        // Log the request URL and other details\n        System.Diagnostics.Debug.WriteLine($"Request to {request.Url}");\n\n        // Add your dynamic authorization logic here\n        if (!IsAuthorized(request))\n        {\n            app.Response.StatusCode = 401;\n            app.CompleteRequest();\n        }\n    }\n\n    private bool IsAuthorized(HttpRequest request)\n    {\n        // Implement your dynamic authorization logic here\n        return true; // or false, based on the condition\n    }\n\n    public void Dispose() { }\n}