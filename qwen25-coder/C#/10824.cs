public class ImageHandler : IHttpHandler\n{\n    public bool IsReusable => false;\n\n    public void ProcessRequest(HttpContext context)\n    {\n        int userID;\n        if (!int.TryParse(context.Request.QueryString["UserID"], out userID))\n        {\n            context.Response.StatusCode = 400; // Bad request\n            return;\n        }\n\n        using (SqlConnection conn = new SqlConnection("your_connection_string_here"))\n        {\n            string query = "SELECT ProfilePicture FROM UserProfile WHERE UserID = @UserID";\n            using SqlCommand cmd = new SqlCommand(query, conn);\n            cmd.Parameters.AddWithValue("@UserID", userID);\n\n            conn.Open();\n            byte[] imageBytes = (byte[])cmd.ExecuteScalar();\n\n            if (imageBytes != null && imageBytes.Length > 0)\n            {\n                context.Response.ContentType = "image/jpeg"; // Adjust if necessary\n                context.Response.BinaryWrite(imageBytes);\n            }\n            else\n            {\n                context.Response.StatusCode = 404; // Not found\n            }\n        }\n    }\n}