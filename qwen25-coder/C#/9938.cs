using WatiN.Core;\nusing WatiN.Core.Native.InternetExplorer;\n\npublic void SetupDialogMonitoring(Browser browser)\n{\n    // Subscribe to the PopUp dialog event\n    DialogWatcher popupWatcher = new PopUpDialogHandler(browser);\n    popupWatcher.PopUp += (sender, e) =>\n    {\n        string message = "An unexpected pop-up dialog appeared: " + e.Title;\n        throw new UnexpectedPopupException(message);\n    };\n\n    // Subscribe to the Alert dialog event\n    DialogWatcher alertWatcher = new AlertDialogHandler(browser);\n    alertWatcher.Alert += (sender, e) =>\n    {\n        string message = "An unexpected alert dialog appeared: " + e.Text;\n        throw new UnexpectedAlertDialogException(message);\n    };\n\n    // Add similar handlers for Confirm and Prompt dialogs as needed.\n}\n\npublic class UnexpectedPopupException : Exception\n{\n    public UnexpectedPopupException(string message) : base(message) { }\n}\n\npublic class UnexpectedAlertDialogException : Exception\n{\n    public UnexpectedAlertDialogException(string message) : base(message) { }\n}