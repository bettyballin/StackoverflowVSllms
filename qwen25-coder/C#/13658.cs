using System;\nusing System.ComponentModel.Composition;\n\npublic class EventAggregator\n{\n    public event EventHandler<string> AnEvent;\n\n    [ImportMany]\n    public Lazy<ISubscriber>[] Subscribers { get; set; }\n\n    [Export]\n    public void Publish(string message)\n    {\n        foreach (var subscriber in Subscribers)\n        {\n            subscriber.Value.ReactTo(message);\n        }\n    }\n}\n\npublic interface ISubscriber\n{\n    void ReactTo(string message);\n}