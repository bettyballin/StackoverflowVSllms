connection.Open();\nXmlNodeList nodeItem = rssDoc.SelectNodes("/edno23/posts/post");\n\nforeach (XmlNode xn in nodeItem)\n{\n    cmd.Parameters.Clear();\n    msgText = xn["message"].InnerText;\n    C = xn["user_from"].InnerText;\n    avatar = xn["user_from_avatar"].InnerText;\n    string endhash = GetMd5Sum(msgText);\n\n    // Check if the hash already exists in the database\n    cmd.CommandText = "SELECT COUNT(*) FROM posts WHERE hash=@endhash";\n    cmd.Parameters.Add("@endhash", endhash);\n    int existingRecordsCount = (int)cmd.ExecuteScalar();\n\n    // If no records exist with this hash, proceed to insert\n    if (existingRecordsCount == 0)\n    {\n        sql = "INSERT INTO posts([user], msg, avatar, [date], hash) VALUES(@username, @message, @avatar, @date, @hash)";\n        cmd.CommandText = sql;\n        cmd.Parameters.Clear(); // Ensure parameters are cleared to avoid issues\n        cmd.Parameters.Add("@username", C);\n        cmd.Parameters.Add("@message", msgText);\n        cmd.Parameters.Add("@avatar", avatar);\n        cmd.Parameters.Add("@date", dt);\n        cmd.Parameters.Add("@hash", endhash);\n\n        int rowsAffected = cmd.ExecuteNonQuery();\n    }\n}\n\nconnection.Close();