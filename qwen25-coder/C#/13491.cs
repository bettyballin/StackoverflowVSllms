using HtmlAgilityPack;\n\npublic string ConvertHtmlToPlainText(string html)\n{\n    HtmlDocument document = new HtmlDocument();\n    document.LoadHtml(html);\n    \n    var nodes = document.DocumentNode.SelectNodes("//text()");\n    if (nodes == null) return null;\n    \n    return string.Join("\r\n", nodes.Select(node => node.InnerText.Replace("\n", " ")\n        .Replace("\r", " ").Trim()))\n        .Replace("  ", " ") // Replace multiple spaces with a single space\n        .Replace("&nbsp;", " "); // Replace non-breaking space character\n}\n\n// Usage example:\nstring htmlContent = "<p>Hello, <strong>World</strong>!</p><br/>This is a test.";\nstring plainText = ConvertHtmlToPlainText(htmlContent);