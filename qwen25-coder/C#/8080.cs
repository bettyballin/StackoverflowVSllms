using System;\nusing System.Collections.Generic;\n\npublic class ServiceClientManager<T>\n{\n    private readonly List<EndpointAddress> _endpoints = new List<EndpointAddress>();\n    public T CreateChannel()\n    {\n        var binding = // initialize your binding here, e.g., BasicHttpBinding();\n        foreach (var endpoint in _endpoints)\n        {\n            try\n            {\n                using (var channelFactory = new ChannelFactory<T>(binding, endpoint))\n                using (var channel = channelFactory.CreateChannel())\n                {\n                    ((ICommunicationObject)channel).Open();\n                    return channel;\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine($"Failed to connect to {endpoint}. Reason: {ex.Message}");\n            }\n        }\n\n        throw new Exception("All endpoints failed.");\n    }\n\n    public void AddEndpoint(string address)\n    {\n        _endpoints.Add(new EndpointAddress(address));\n    }\n}