using System;\nusing System.Configuration;\n\nclass ConfigEncryption\n{\n    private static readonly string SectionName = "appSettings"; // or "connectionStrings"\n    private static readonly string ProviderName = "RsaProtectedConfigurationProvider";\n\n    public static void Main()\n    {\n        var fileMap = new ExeConfigurationFileMap { ExeConfigFilename = AppDomain.CurrentDomain.SetupInformation.ConfigurationFile };\n        var config = ConfigurationManager.OpenMappedExeConfiguration(fileMap, ConfigurationUserLevel.None);\n        var section = (ConnectionStringsSection)config.GetSection(SectionName);\n\n        if (!section.SectionInformation.IsProtected)\n        {\n            section.SectionInformation.ProtectSection(ProviderName);\n            config.Save(ConfigurationSaveMode.Modified);\n            Console.WriteLine($"{SectionName} section encrypted.");\n        }\n        else \n        {\n            Console.WriteLine($"{SectionName} section is already encrypted.");\n        }\n\n        // Check to decrypt\n        if (section.SectionInformation.IsProtected)\n        {\n            section.SectionInformation.UnprotectSection();\n            config.Save(ConfigurationSaveMode.Modified);\n            Console.WriteLine($"{SectionName} section decrypted for viewing. Remember to re-encrypt in production scenarios.");\n        }\n    }\n}