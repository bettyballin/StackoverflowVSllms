public class JsonBodyWriter : BodyWriter\n{\n    private readonly string _query;\n    private readonly string[] _params;\n\n    public JsonBodyWriter(string query, string[] @params) : base(true)\n    {\n        _query = query;\n        _params = @params;\n    }\n\n    protected override void OnWriteBodyContents(System.Xml.XmlDictionaryWriter writer)\n    {\n        using (var jsonFormatter = new DataContractJsonSerializer(typeof(FormData)))\n        {\n            var formData = new FormData { Query = _query, Params = _params };\n            jsonFormatter.WriteObject(writer, formData);\n        }\n    }\n}\n\n[DataContract]\npublic class FormData\n{\n    [DataMember(Name = "query")]\n    public string Query { get; set; }\n\n    [DataMember(Name = "params")]\n    public string[] Params { get; set; }\n}