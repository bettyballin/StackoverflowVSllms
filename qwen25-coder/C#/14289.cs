using (var command = new SqlCommand("YourStoredProcedure", connection))\n   {\n       command.CommandType = CommandType.StoredProcedure;\n       var affectedRowsParam = new SqlParameter("@AffectedRows", SqlDbType.Int) { Direction = ParameterDirection.Output };\n       command.Parameters.Add(affectedRowsParam);\n       command.ExecuteNonQuery();\n       int affectedRows = (int)command.Parameters["@AffectedRows"].Value;\n       // Use affectedRows as needed\n   }