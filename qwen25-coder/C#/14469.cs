var dc = new CandyStoreDataContext();\nvar candyBar = new CandyBar { Name = "Flake" };\nvar deliciousCandyBar = new DeliciousCandyBar { DeliciousnessFactor = 12 };\n\n// Set up the association\ndeliciousCandyBar.CandyBar = candyBar;\ncandyBar.DeliciousCandyBar = deliciousCandyBar;\n\n// Only need to insert the CandyBar; this will trigger the insertion of related objects.\ndc.CandyBars.InsertOnSubmit(candyBar);\n\ntry {\n    dc.SubmitChanges();\n} catch (Exception ex) {\n    // Handle exceptions\n}