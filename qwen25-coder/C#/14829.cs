// Start Transaction\ncommand.CommandText = "BEGIN TRANSACTION;";\ncommand.ExecuteNonQuery();\n\ntry {\n    // Lock Row for Update\n    command.CommandText = "SELECT count FROM tag_name WITH (UPDLOCK, ROWLOCK) WHERE tagid=@tagid;";\n    command.Parameters.Add("@tagid", DbType.Int64).Value = tagId;\n    command.ExecuteScalar(); // Execute to lock\n\n    // Update Statement\n    command.CommandText = "UPDATE tag_name SET count = count+1 WHERE tagid=@tagid;";\n    command.ExecuteNonQuery();\n\n    // Commit Transaction\n    command.CommandText = "COMMIT TRANSACTION;";\n    command.ExecuteNonQuery();\n} catch (Exception) {\n    // Rollback in case of error\n    command.CommandText = "ROLLBACK TRANSACTION;";\n    command.ExecuteNonQuery();\n    throw; // Re-throw the exception after rollback\n}