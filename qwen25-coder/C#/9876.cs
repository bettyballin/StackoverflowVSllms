public bool UploadFile(string fileName, Stream fileContents)\n{\n    if (string.IsNullOrWhiteSpace(fileName) || fileContents == null)\n        return false;\n\n    try\n    {\n        // Define path where the image will be saved.\n        string savePath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "uploads", fileName);\n\n        // Ensure directory exists.\n        Directory.CreateDirectory(Path.GetDirectoryName(savePath));\n\n        using (Stream fileToWrite = File.OpenWrite(savePath))\n        {\n            CopyStream(fileContents, fileToWrite);\n        }\n\n        return true;\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine($"Error uploading file: {ex.Message}");\n        return false;\n    }\n}\n\nprivate void CopyStream(Stream input, Stream output)\n{\n    byte[] buffer = new byte[8 * 1024];\n    int bytesRead;\n\n    while ((bytesRead = input.Read(buffer, 0, buffer.Length)) > 0)\n    {\n        output.Write(buffer, 0, bytesRead);\n    }\n}