using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Windows.Forms;\n\npublic class MainForm : Form\n{\n    private DataGridView dataGridViewMaster;\n    private Button buttonShowDetail;\n\n    public MainForm()\n    {\n        DataTable masterTable = CreateMasterDataTable();\n        DataGridView masterGrid = new DataGridView { Dock = DockStyle.Top, AutoGenerateColumns = true };\n        masterGrid.DataSource = masterTable.DefaultView;\n        Controls.Add(masterGrid);\n\n        Button showDetailButton = new Button { Text = "Show Detail", Dock = DockStyle.Bottom };\n        showDetailButton.Click += (sender, args) =>\n        {\n            if (masterGrid.SelectedRows.Count > 0)\n            {\n                var selectedRow = masterGrid.SelectedRows[0];\n                int id = (int)selectedRow.Cells["Id"].Value;\n                ShowDetailForm(id);\n            }\n        };\n        Controls.Add(showDetailButton);\n\n        dataGridViewMaster = masterGrid;\n        buttonShowDetail = showDetailButton;\n    }\n\n    private void ShowDetailForm(int masterId)\n    {\n        DataTable detailTable = CreateDetailDataTable(masterId);\n        DetailForm form = new DetailForm(detailTable);\n        form.ShowDialog();\n    }\n\n    private DataTable CreateMasterDataTable()\n    {\n        var resultTable = new DataTable("Master");\n        resultTable.Columns.Add("Id", typeof(int));\n        resultTable.Columns.Add("Name", typeof(string));\n\n        for (int i = 1; i <= 5; i++)\n            resultTable.Rows.Add(i, $"MasterItem{i}");\n\n        return resultTable;\n    }\n\n    private DataTable CreateDetailDataTable(int masterId)\n    {\n        var resultTable = new DataTable("Detail");\n        resultTable.Columns.Add("MasterId", typeof(int));\n        resultTable.Columns.Add("Description", typeof(string));\n\n        for (int i = 1; i <= 3; i++)\n            resultTable.Rows.Add(masterId, $"DetailItem{i} for Master {masterId}");\n\n        return resultTable;\n    }\n}\n\npublic class DetailForm : Form\n{\n    private DataGridView dataGridViewDetail;\n\n    public DetailForm(DataTable detailData)\n    {\n        dataGridViewDetail = new DataGridView() { Dock = DockStyle.Fill, AutoGenerateColumns = true };\n        dataGridViewDetail.DataSource = detailData.DefaultView;\n        Controls.Add(dataGridViewDetail);\n    }\n}\n\nstatic class Program\n{\n    [STAThread]\n    static void Main()\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n        Application.Run(new MainForm());\n    }\n}