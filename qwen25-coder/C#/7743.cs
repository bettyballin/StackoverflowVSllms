using System;\nusing System.ServiceModel;\n\npublic class MyService : IService\n{\n    public DuplexChannelFactory<IService> factory;\n\n    public MyService(InstanceContext instanceContext)\n    {\n        // This constructor is used when you're creating a duplex client proxy.\n        factory = new DuplexChannelFactory<IService>(instanceContext, "NetNamedPipeBinding");\n    }\n\n    public void Subscribe()\n    {\n        var callback = OperationContext.Current.GetCallbackChannel<IClientCallback>();\n        \n        // Simulate sending data back to the client\n        for (int i = 0; i < 5; i++)\n        {\n            System.Threading.Thread.Sleep(1000); // Delay for demonstration\n            callback.NotifyClient($"Server message {i}");\n        }\n    }\n}