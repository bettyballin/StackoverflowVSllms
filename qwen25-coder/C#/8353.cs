using System;\nusing System.ServiceProcess;\nusing System.Diagnostics;\n\npublic class MyService : ServiceBase\n{\n    private bool _isRunningInIde;\n\n    protected override void OnStart(string[] args)\n    {\n        // Check if debugger is attached to determine the environment\n        _isRunningInIde = Debugger.IsAttached;\n\n        // Run the main method based on the environment\n        if (_isRunningInIde)\n        {\n            MainMethod();\n        }\n        else\n        {\n            ServiceMainMethod();\n        }\n    }\n\n    private void MainMethod()\n    {\n        // Your main application logic for use when debugging in IDE\n        Console.WriteLine("Running in Debug Mode.");\n    }\n\n    private void ServiceMainMethod()\n    {\n        // Your service-specific logic\n        Console.WriteLine("Running as a Service.");\n    }\n\n    public static void Main(string[] args)\n    {\n        if (Debugger.IsAttached)\n        {\n            var myService = new MyService();\n            myService.MainMethod();  // Run main method for debugging purposes\n        }\n        else\n        {\n            ServiceBase.Run(new ServiceBase[] { new MyService() });\n        }\n    }\n}