using System;\nusing System.ComponentModel;\nusing System.IO;\nusing System.Windows.Forms;\n\npublic partial class YourForm : Form\n{\n    private BackgroundWorker backgroundWorker;\n\n    public YourForm()\n    {\n        InitializeComponent();\n        backgroundWorker = new BackgroundWorker();\n        backgroundWorker.DoWork += BackgroundWorker_DoWork;\n        backgroundWorker.ProgressChanged += BackgroundWorker_ProgressChanged;\n        backgroundWorker.WorkerReportsProgress = true;\n    }\n\n    private void buttonStartProcessing_Click(object sender, EventArgs e)\n    {\n        // Start the BackgroundWorker\n        backgroundWorker.RunWorkerAsync();\n    }\n\n    private void BackgroundWorker_DoWork(object sender, DoWorkEventArgs e)\n    {\n        var dir = new DirectoryInfo(@"C:\Your\Directory");\n        foreach (FileInfo f in dir.GetFiles("*.txt"))\n        {\n            // Do processing here\n            // Report progress to the UI thread\n            backgroundWorker.ReportProgress(0, f.Name);\n        }\n    }\n\n    private void BackgroundWorker_ProgressChanged(object sender, ProgressChangedEventArgs e)\n    {\n        labelStatus.Text = $"File {e.UserState} is done processing, now processing...";\n    }\n}