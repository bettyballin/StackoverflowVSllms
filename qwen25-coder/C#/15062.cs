using (var session = sessionFactory.OpenSession())\nusing (var tx = session.BeginTransaction())\n{\n    var entity = new MyEntity();\n    session.SaveOrUpdate(entity);\n\n    // Ensure that the insert is performed immediately\n    session.Flush();\n\n    // Now you can safely perform other operations based on the state being up-to-date in the database\n    var affectedRows = session.CreateSQLQuery("UPDATE ...").ExecuteUpdate();\n\n    tx.Commit();\n}\n\n// No need to call Flush before Close if all operations are part of the transaction\nsession.Close();