SqlCommand cmd = new SqlCommand("select * from testing for xml auto", connection);\nusing (var reader = cmd.ExecuteXmlReader())\n{\n    XmlWriterSettings settings = new XmlWriterSettings { ConformanceLevel = ConformanceLevel.Fragment };\n    using (StringWriter stringWriter = new StringWriter())\n    {\n        using (XmlWriter writer = XmlWriter.Create(stringWriter, settings))\n        {\n            writer.WriteNode(reader, false);\n            records.Add(stringWriter.ToString());\n        }\n    }\n}