using System;\nusing Microsoft.Extensions.DependencyModel;\nusing Microsoft.Build.Locator;\n\nclass Program\n{\n    static void Main()\n    {\n        MSBuildLocator.RegisterDefaults();\n\n        var command = $"dotnet msbuild -version";\n        var startInfo = new System.Diagnostics.ProcessStartInfo("cmd", $"/c {command}")\n        {\n            RedirectStandardOutput = true,\n            UseShellExecute = false,\n            CreateNoWindow = true\n        };\n\n        using (var process = new System.Diagnostics.Process())\n        {\n            process.StartInfo = startInfo;\n            process.Start();\n            string result = process.StandardOutput.ReadToEnd();\n            process.WaitForExit();\n\n            // Extract the path to Roslyn compiler\n            command = "dotnet which csc";\n            startInfo.Arguments = $"/c {command}";\n\n            using (var cscProcess = new System.Diagnostics.Process())\n            {\n                cscProcess.StartInfo = startInfo;\n                cscProcess.Start();\n                string cscPath = cscProcess.StandardOutput.ReadToEnd().Trim();\n                cscProcess.WaitForExit();\n\n                Console.WriteLine($"C# Compiler Path: {cscPath}");\n            }\n        }\n    }\n}