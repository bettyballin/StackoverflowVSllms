using System;\nusing System.Data.Common;\nusing DevArtTry1.DataSet1TableAdapters;\nusing Devart.Data.Oracle;\n\nnamespace DevArtTry1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            using (DataContext1 dc = new DataContext1())\n            {\n                dc.Connection.Open();\n                using (DbTransaction transaction = dc.Connection.BeginTransaction(System.Data.IsolationLevel.ReadCommitted))\n                {\n                    dc.Transaction = transaction;\n\n                    Parent parent = new Parent();\n                    parent.Id = 1;\n                    parent.Name = "Parent 1";\n                    dc.Parents.InsertOnSubmit(parent);\n                    dc.SubmitChanges(); // This will perform the insert on the parent table.\n\n                    DataSet1.CHILDDataTable dt = new DataSet1.CHILDDataTable();\n                    DataSet1.CHILDRow row = dt.NewCHILDRow();\n                    row.ID = 1;\n                    row.PARENTID = 1;\n                    row.NAME = "Child 1";\n                    dt.AddCHILDRow(row);\n\n                    CHILDTableAdapter cta = new CHILDTableAdapter();\n                    // Cast the DbTransaction to OracleTransaction\n                    cta.Transaction = (OracleTransaction)transaction; \n                    cta.Update(dt); // This should now work within the same transaction.\n\n                    transaction.Commit(); // Commit the transaction if everything is successful.\n                }\n            }\n\n            Console.WriteLine("Successfully inserted parent and child rows.");\n            Console.ReadLine();\n        }\n    }\n}