public class HostHeaderFilter : ActionFilterAttribute\n   {\n       private readonly IHostingEnvironment _env;\n       private readonly ITenantRepository _tenantRepository;\n\n       public HostHeaderFilter(IHostingEnvironment env, ITenantRepository tenantRepository)\n       {\n           _env = env;\n           _tenantRepository = tenantRepository;\n       }\n\n       public override void OnActionExecuting(ActionExecutingContext filterContext)\n       {\n           var host = filterContext.HttpContext.Request.Host.Value;\n           var tenantInfo = _tenantRepository.GetTenantByHost(host);\n\n           if (tenantInfo == null && !_env.IsDevelopment())\n           {\n               filterContext.Result = new RedirectResult("/Error/NoHostHeader");\n               return;\n           }\n\n           filterContext.Controller.ViewBag.Title = tenantInfo?.Title ?? "Default Title";\n       }\n   }