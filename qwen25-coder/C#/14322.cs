using System;\nusing System.Net.Http;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static async Task Main()\n    {\n        string url = "https://example.com"; // Replace with your target URL\n\n        using (HttpClient client = new HttpClient())\n        {\n            try\n            {\n                HttpResponseMessage response = await client.GetAsync(url);\n                response.EnsureSuccessStatusCode();\n                Console.WriteLine($"The request was successful. Using protocol: {response.RequestMessage.RequestUri.Scheme}");\n                \n                if (response.RequestMessage.RequestUri.Scheme.Equals("https", StringComparison.OrdinalIgnoreCase))\n                {\n                    Console.WriteLine("The site is running HTTPS.");\n                }\n                else\n                {\n                    Console.WriteLine("The site is not using HTTPS.");\n                }\n            }\n            catch (HttpRequestException e)\n            {\n                Console.WriteLine($"Request error: {e.Message}");\n            }\n        }\n    }\n}