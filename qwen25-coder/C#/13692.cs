using System;\nusing System.IO;\n\npublic class FileModifier {\n    public static void InsertCharacters(string filePath, int position, string textToInsert) {\n        if (!File.Exists(filePath)) throw new FileNotFoundException();\n\n        // Create a temporary file path\n        var tempFilePath = Path.GetTempFileName();\n\n        try {\n            using (var input = File.OpenRead(filePath))\n            using (var output = File.Create(tempFilePath)) {\n                byte[] buffer = new byte[4096];\n                int bytesRead;\n\n                // Copy bytes from the original file up to the insert position\n                while ((bytesRead = input.Read(buffer, 0, Math.Min(position, buffer.Length))) > 0) {\n                    output.Write(buffer, 0, bytesRead);\n                    position -= bytesRead;\n                }\n\n                // Write the text to the file at the specified position\n                var bytesToInsert = System.Text.Encoding.UTF8.GetBytes(textToInsert);\n                output.Write(bytesToInsert, 0, bytesToInsert.Length);\n\n                // Copy the rest of the input file to the output\n                while ((bytesRead = input.Read(buffer, 0, buffer.Length)) > 0) {\n                    output.Write(buffer, 0, bytesRead);\n                }\n            }\n\n            // Replace the original file with the modified one\n            File.Delete(filePath);\n            File.Move(tempFilePath, filePath);\n        } catch (Exception ex) {\n            Console.WriteLine("An error occurred: " + ex.Message);\n\n            // Clean up temporary file in case of an exception\n            if (File.Exists(tempFilePath)) {\n                File.Delete(tempFilePath);\n            }\n        }\n    }\n}