using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static void Main()\n    {\n        int Until = 20000000;\n        BitArray PrimeBits = new BitArray(Until, true);\n\n        // Marking non-prime numbers as false\n        PrimeBits.Set(0, false);\n        PrimeBits.Set(1, false);\n\n        Parallel.ForEach(\n            Enumerable.Range(2, (int)Math.Sqrt(Until) - 1),\n            index =>\n            {\n                if (PrimeBits.Get(index))\n                    for (int PMultiply = index * 2; PMultiply < Until; PMultiply += index)\n                        PrimeBits.Set(PMultiply, false);\n            }\n        );\n\n        // Collecting prime numbers\n        List<int> Primes = new List<int>();\n        Parallel.ForEach(\n            Enumerable.Range(2, Until - 2),\n            index =>\n            {\n                if (PrimeBits.Get(index))\n                    lock (Primes)\n                        Primes.Add(index);\n            }\n        );\n        Primes.Sort(); // Optional: Sort the list of primes\n\n        Console.WriteLine($"Found {Primes.Count} primes up to {Until}.");\n    }\n}