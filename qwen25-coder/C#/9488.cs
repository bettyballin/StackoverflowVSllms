public partial class User\n{\n    public string FirstName\n    {\n        get => GetUserDataValue("FirstName");\n        set => SetUserDataValue("FirstName", value);\n    }\n\n    public string LastName\n    {\n        get => GetUserDataValue("LastName");\n        set => SetUserDataValue("LastName", value);\n    }\n\n    private string GetUserDataValue(string keyName)\n    {\n        var userData = this.UserDatas.FirstOrDefault(ud => ud.KeyName == keyName);\n        return userData?.Value;\n    }\n\n    private void SetUserDataValue(string keyName, string value)\n    {\n        var existingData = this.UserDatas.FirstOrDefault(ud => ud.KeyName == keyName);\n\n        if (existingData != null)\n        {\n            existingData.Value = value;\n        }\n        else\n        {\n            // Add new UserData entry if one doesn't exist\n            using (var context = new YourDataContext())\n            {\n                var userData = new UserData\n                {\n                    ItemID = this.UserID,\n                    KeyName = keyName,\n                    Value = value\n                };\n                context.UserDatas.InsertOnSubmit(userData);\n                context.SubmitChanges();\n            }\n        }\n    }\n}