using System;\nusing System.Windows.Forms;\n\nnamespace WinFormsSessionTimeoutExample\n{\n    public partial class MainForm : Form\n    {\n        private Timer sessionTimer;\n        private const int SessionTimeout = 60000; // 1 minute for demo, use e.g., 30 minutes in production\n\n        public MainForm()\n        {\n            InitializeComponent();\n            \n            // Initialize and start the timer\n            sessionTimer = new Timer(SessionTimeout);\n            sessionTimer.Elapsed += OnSessionTimeout;\n            sessionTimer.Start();\n\n            // Attach event handlers to reset the timer on user activity\n            this.MouseMove += ActivityDetector;\n            this.KeyPress += ActivityDetector;\n        }\n\n        private void OnSessionTimeout(object sender, ElapsedEventArgs e)\n        {\n            if (InvokeRequired)\n                Invoke(new Action(PerformLogout));\n            else\n                PerformLogout();\n        }\n\n        private void PerformLogout()\n        {\n            // Stop the timer\n            sessionTimer.Stop();\n\n            MessageBox.Show("You have been logged out due to inactivity.", "Session Timeout", MessageBoxButtons.OK, MessageBoxIcon.Information);\n\n            // Redirect user to login screen or log them out properly\n            // For example:\n            Application.Restart();\n        }\n\n        private void ActivityDetector(object sender, EventArgs e)\n        {\n            sessionTimer.Stop(); // Reset the timer on any activity\n            sessionTimer.Start();\n        }\n    }\n}