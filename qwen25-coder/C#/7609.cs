using System;\nusing System.IO;\nusing System.Net;\n\nclass Program\n{\n    static void Main()\n    {\n        string url = "https://example.com";\n        Uri uri = new Uri(url);\n        HttpWebRequest webRequest = (HttpWebRequest)WebRequest.Create(uri);\n        \n        try\n        {\n            WebResponse webResponse = webRequest.GetResponse();\n            using (var responseStream = webResponse.GetResponseStream())\n            {\n                ReadFrom(responseStream);\n            }\n        }\n        catch (WebException ex)\n        {\n            Console.WriteLine("WebException occurred: " + ex.Status);\n            if (ex.Response != null)\n            {\n                using (var stream = ex.Response.GetResponseStream())\n                {\n                    var reader = new StreamReader(stream);\n                    string responseText = reader.ReadToEnd();\n                    Console.WriteLine("Response from server:\n" + responseText);\n                }\n            }\n        }\n    }\n\n    static void ReadFrom(Stream stream)\n    {\n        using (StreamReader sr = new StreamReader(stream))\n        {\n            string content = sr.ReadToEnd();\n            Console.WriteLine(content);\n        }\n    }\n}