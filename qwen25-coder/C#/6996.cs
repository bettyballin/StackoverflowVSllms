using System;\nusing System.Collections.Generic;\nusing System.IO;\n\nclass Program\n{\n    static void Main()\n    {\n        var validExtensions = new HashSet<string> { ".log", ".txt", ".dat" };\n        var files = GetFilesWithExtensions(@"C:\", validExtensions);\n\n        foreach (var file in files)\n        {\n            Console.WriteLine(file);\n        }\n    }\n\n    static IEnumerable<string> GetFilesWithExtensions(string root, HashSet<string> extensions)\n    {\n        foreach (var directory in Directory.EnumerateDirectories(root, "*", SearchOption.AllDirectories))\n        {\n            foreach (var extension in extensions)\n            {\n                try\n                {\n                    foreach (var file in Directory.EnumerateFiles(directory, "*" + extension))\n                    {\n                        yield return file;\n                    }\n                }\n                catch (Exception ex) when (ex is UnauthorizedAccessException || ex is PathTooLongException)\n                {\n                    // Handle access denied or path too long errors if necessary\n                }\n            }\n        }\n\n        foreach (var extension in extensions)\n        {\n            try\n            {\n                foreach (var file in Directory.EnumerateFiles(root, "*" + extension))\n                {\n                    yield return file;\n                }\n            }\n            catch (Exception ex) when (ex is UnauthorizedAccessException || ex is PathTooLongException)\n            {\n                // Handle access denied or path too long errors if necessary\n            }\n        }\n    }\n}