using (var context = new YourDbContext())\n{\n    // Assuming 'userId' is the ID of the user and 'roleId' is the ID of a role you want to associate with the user.\n    int userId = 1; \n    int roleId = 2;\n\n    // Create detached entities for User and Role\n    var user = new User { UserId = userId };\n    var role = new Role { RoleId = roleId };\n\n    // Attach entities to the context as unchanged\n    context.Users.Attach(user);\n    context.Roles.Attach(role);\n\n    // Add the role to the user's roles collection\n    if (user.UserRoles == null)\n        user.UserRoles = new List<UserRole>();\n\n    user.UserRoles.Add(new UserRole { User = user, Role = role });\n\n    // Save changes to the database\n    context.SaveChanges();\n}