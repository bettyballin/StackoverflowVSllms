static void Main()\n   {\n       AppDomain.CurrentDomain.UnhandledException += CurrentDomain_UnhandledException;\n       // Rest of the application code\n   }\n\n   private static void CurrentDomain_UnhandledException(object sender, UnhandledExceptionEventArgs e)\n   {\n       Exception ex = (e.ExceptionObject as Exception);\n       if (ex is StackOverflowException)\n       {\n           // Log detailed info about the exception or state\n           System.IO.File.WriteAllText("stack_overflow_details.txt", \n               "Stack Overflow Detected: " + DateTime.Now.ToString() +\n               "\nMessage: " + ex.Message +\n               "\nSource: " + ex.Source);\n       }\n   }