try {\n       if (!EventLog.SourceExists("MyAppLog"))\n           EventLog.CreateEventSource("MyAppLog", "Application");\n\n       EventLog myLog = new EventLog();\n       myLog.Source = "MyAppLog";\n       myLog.WriteEntry("Message");\n   } catch (Exception ex) {\n       // Log the error using an alternative method that doesn't require EventLog\n       // For example, write to a file or log it via another service\n   }