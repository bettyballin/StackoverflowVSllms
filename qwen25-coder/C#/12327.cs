ReportDocument repDoc = (ReportDocument)System.Web.HttpContext.Current.Session["StudyReportCrystalDocument"];\n// Stop buffering the response\nResponse.Buffer = false;\n// Clear the response content and headers\nResponse.ClearContent();\nResponse.ClearHeaders();\n\ntry\n{\n    repDoc.ExportToHttpResponse(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat, Response, true, "StudyReport");\n}\ncatch (Exception ex)\n{\n    // Log the exception details for analysis. You can use a logging framework like NLog or log4net.\n    // For simplicity, we'll log to System.Diagnostics.Debug here:\n    Debug.WriteLine("An error occurred while exporting the report: " + ex.Message);\n    Debug.WriteLine(ex.StackTrace);\n\n    // Optionally, you can set up an exception handler in Global.asax.cs to catch unhandled exceptions.\n    // Additionally, consider providing a more user-friendly message or redirecting to an error page.\n}