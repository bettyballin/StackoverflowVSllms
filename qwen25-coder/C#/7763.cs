using System;\nusing System.Collections.Generic;\n\npublic class Solution {\n    public double[] greatestValues(double[][] matrix, int numberOfElements) {\n        if (numberOfElements <= 0) return new double[0];\n        \n        // Use SortedSet to act as a min-heap of size m\n        SortedSet<double> maxElements = new SortedSet<double>();\n        \n        foreach (var row in matrix) {\n            foreach (var element in row) {\n                if (maxElements.Count < numberOfElements || element > maxElements.Min) {\n                    maxElements.Add(element);\n                    \n                    // If the heap exceeds size m, remove the smallest element\n                    if (maxElements.Count > numberOfElements) {\n                        maxElements.Remove(maxElements.Min);\n                    }\n                }\n            }\n        }\n        \n        // Convert the SortedSet to an array and return\n        double[] result = new double[maxElements.Count];\n        maxElements.CopyTo(result);\n        return result;\n    }\n}