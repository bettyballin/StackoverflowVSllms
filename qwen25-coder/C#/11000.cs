using Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\n\npublic class ProductsController : Controller\n{\n    // GET: Products\n    public ActionResult Index()\n    {\n        var products = Product.FindAll();\n        return View(products);\n    }\n\n    // POST: Products/Create\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create([Bind("Id,Name,Price")] Product product)\n    {\n        if (ModelState.IsValid)\n        {\n            product.Save();\n            return RedirectToAction(nameof(Index));\n        }\n        return View(product);\n    }\n\n    // GET: Products/Edit/5\n    public ActionResult Edit(long id)\n    {\n        var product = Product.Find(id);\n        if (product == null) return NotFound();\n\n        return View(product);\n    }\n\n    // POST: Products/Edit/5\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Edit([Bind("Id,Name,Price")] Product product)\n    {\n        if (ModelState.IsValid)\n        {\n            try\n            {\n                product.Update();\n            }\n            catch (Exception ex)\n            {\n                // Handle exception\n                ModelState.AddModelError("", ex.Message);\n                return View(product);\n            }\n\n            return RedirectToAction(nameof(Index));\n        }\n\n        return View(product);\n    }\n\n    // GET: Products/Delete/5\n    public ActionResult Delete(long id)\n    {\n        var product = Product.Find(id);\n        if (product == null) return NotFound();\n\n        return View(product);\n    }\n\n    // POST: Products/Delete/5\n    [HttpPost, ActionName("Delete")]\n    [ValidateAntiForgeryToken]\n    public ActionResult DeleteConfirmed(long id)\n    {\n        var product = Product.Find(id);\n\n        if (product != null)\n            product.Delete();\n\n        return RedirectToAction(nameof(Index));\n    }\n}