using System;\nusing System.Net;\nusing System.Windows.Forms;\n\nnamespace ProxyAuthExample\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void CallWebService()\n        {\n            try\n            {\n                // Set the default web proxy credentials to the current user's credentials\n                WebRequest.DefaultWebProxy.Credentials = CredentialCache.DefaultCredentials;\n\n                using (var request = HttpWebRequest.Create("https://yourwebservice.com/endpoint"))\n                using (var response = request.GetResponse())\n                {\n                    // Read response or do something with it\n                    MessageBox.Show("Request successful!");\n                }\n            }\n            catch (WebException ex)\n            {\n                if (ex.Status == WebExceptionStatus.ProtocolError &&\n                    ((HttpWebResponse)ex.Response).StatusCode == HttpStatusCode.ProxyAuthenticationRequired)\n                {\n                    MessageBox.Show("Proxy authentication required. Ensure your credentials are correct.");\n                }\n                else\n                {\n                    MessageBox.Show($"An error occurred: {ex.Message}");\n                }\n            }\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            CallWebService();\n        }\n    }\n}