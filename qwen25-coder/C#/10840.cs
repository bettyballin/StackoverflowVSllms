protected void Button_Click(object sender, EventArgs e)\n{\n    Thread backgroundThread = new Thread(DoWork);\n    HttpContext.Current.Cache.Insert("BackgroundThreadId", backgroundThread.ManagedThreadId, null,\n                                      DateTime.MaxValue, TimeSpan.FromMinutes(10),\n                                      CacheItemPriority.Default,\n                                      OnCacheRemove);\n\n    backgroundThread.Start();\n\n    Response.Redirect("PleaseWaitPage.aspx");\n}\n\nprivate void DoWork()\n{\n    // Long-running process here\n}\n\nprivate void OnCacheRemove(string key, object value, CacheItemRemovedReason reason)\n{\n    Thread t = Thread.CurrentThread;\n    if (t.ManagedThreadId == (int)value)\n    {\n        t.Abort();\n    }\n}