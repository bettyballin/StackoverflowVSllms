using System;\nusing System.IO;\nusing System.Threading.Tasks;\nusing Microsoft.Web.WebView2.Core;\nusing Microsoft.Web.WebView2.WinForms;\n\n// This method captures a screenshot of a webpage at the given URL and saves it as a PNG file.\npublic async Task CaptureWebpageScreenshot(string url, string filePath)\n{\n    // Initialize WebView2 environment\n    var webViewEnvironment = await CoreWebView2Environment.CreateAsync();\n\n    // Create a new WebView2 control\n    using (var webView = new WebView2())\n    {\n        await webView.EnsureCoreWebView2Async(webViewEnvironment);\n        \n        // Navigate to the URL\n        webView.CoreWebView2.Navigate(url);\n\n        // Wait for navigation to complete\n        webView.NavigationCompleted += async (sender, args) =>\n        {\n            if (!args.IsSuccess)\n            {\n                Console.WriteLine($"Navigation failed with error code {args.WebErrorStatus}");\n                return;\n            }\n\n            // Capture the webpage as a PNG file\n            await webView.CoreWebView2.CapturePreviewAsync(CoreWebView2CapturePreviewImageFormat.Png, filePath);\n            \n            Console.WriteLine("Screenshot captured successfully.");\n        };\n    }\n}\n\n// Usage example:\npublic async void OnButtonClick(string txtUrl)\n{\n    string url = txtUrl; // Get the URL from your text field\n    string outputPath = "webpage_screenshot.png"; // Specify the output file path\n\n    await CaptureWebpageScreenshot(url, outputPath);\n}