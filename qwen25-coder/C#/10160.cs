using System;\nusing System.Data.SqlClient;\nusing System.Web.Caching;\nusing SubSonic;\n\npublic class DataFetcher\n{\n    private static string _connectionString = "yourConnectionString";\n\n    public DataTable GetData()\n    {\n        // Create a dependency on the table\n        SqlCacheDependency sqlDependency = new SqlCacheDependency(_connectionString, "YourTableName");\n\n        // Try to get data from cache\n        DataTable cachedData = (DataTable)HttpRuntime.Cache.Get("CachedData");\n        \n        if (cachedData == null)\n        {\n            using (var db = new YourSubSonicDataProvider(_connectionString))\n            {\n                var query = new Select().From(YourTable.Schema);\n                cachedData = db.ExecuteDataSet(query).Tables[0];\n                \n                // Insert data into cache with dependency\n                HttpRuntime.Cache.Insert("CachedData", \n                                         cachedData, \n                                         sqlDependency,\n                                         Cache.NoAbsoluteExpiration,\n                                         TimeSpan.FromMinutes(5));\n            }\n        }\n\n        return cachedData;\n    }\n}