using System;\nusing System.Data.SqlTypes;\nusing Microsoft.SqlServer.Server;\nusing System.IO;\n\npublic class ClrProcedures\n{\n    [Microsoft.SqlServer.Server.SqlProcedure]\n    public static void SaveImageToFile(SqlBytes imageData, SqlString filePath)\n    {\n        // Check if the image data is not null\n        if (imageData.IsNull || filePath.IsNull)\n            return;\n\n        byte[] buffer = new byte[imageData.Length];\n        int offset = 0;\n        while (offset < imageData.Length)\n        {\n            offset += imageData.Read(offset, buffer, offset, (int)imageData.Length - offset);\n        }\n\n        // Write the bytes to a file\n        File.WriteAllBytes(filePath.Value, buffer);\n    }\n};