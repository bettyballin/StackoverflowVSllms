public void UpdateDatabaseFromDataSet()\n{\n    int selectedIndex = myDataGrid.SelectedItemIndex;\n\n    try\n    {\n        adapter.Update(exampleDataSet);\n\n        // Create a new DataTable to hold updated data\n        using (DataTable tempTable = exampleDataSet.Tables[0].Clone())\n        {\n            // Clear the current table in a way that retains schema\n            exampleDataSet.Tables[0].Clear();\n\n            // Refill the temporary DataTable\n            adapter.Fill(tempTable);\n\n            // Merge changes into the original DataSet while keeping existing data intact\n            exampleDataSet.Merge(tempTable, true, MissingSchemaAction.Ignore);\n        }\n\n        // Restore selected index\n        if (selectedIndex >= 0 && selectedIndex < exampleDataSet.Tables[0].Rows.Count)\n        {\n            myDataGrid.SelectedItemIndex = selectedIndex;\n        }\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show("An error occurred during database update: " + ex.Message);\n    }\n}