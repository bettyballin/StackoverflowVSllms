using (var session = sessionFactory.OpenSession())\nusing (ITransaction transaction = session.BeginTransaction())\n{\n    try\n    {\n        // Perform NHibernate query\n        var result = session.Query<YourEntity>().ToList(); // Eagerly fetch data\n\n        transaction.Commit();\n        return result; // Return the fetched data to the client\n    }\n    catch (Exception ex)\n    {\n        transaction.Rollback();\n        throw; // Propagate or appropriately handle exception\n    }\n}