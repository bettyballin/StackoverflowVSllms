using System;\nusing System.Data;\nusing System.IO;\nusing System.Xml;\n\nclass Program\n{\n    static void Main()\n    {\n        DataSet dSet = new DataSet();\n        // Load schema, fill data in...\n\n        // Use a StringWriter to capture the XML as a string\n        using (StringWriter sw = new StringWriter())\n        {\n            // Use an XmlTextWriter with the StringWriter\n            using (XmlTextWriter writer = new XmlTextWriter(sw))\n            {\n                dSet.WriteXml(writer);\n            }\n\n            // Convert the string back to bytes and write it to MemoryStream\n            byte[] byteArray = System.Text.Encoding.UTF8.GetBytes(sw.ToString());\n            MemoryStream stream = new MemoryStream(byteArray);\n            \n            // Now you can work with the memory stream as needed\n            stream.Seek(0, SeekOrigin.Begin);\n\n            // Example of reading from the stream\n            using (StreamReader reader = new StreamReader(stream))\n            {\n                string result = reader.ReadToEnd();\n                Console.WriteLine(result);\n            }\n        }\n    }\n}