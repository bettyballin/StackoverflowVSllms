using System;\nusing System.ServiceModel;\n\nclass Program\n{\n    static void Main()\n    {\n        Uri baseAddress = new Uri("net.pipe://localhost/MyService");\n        ServiceHost selfHost = new ServiceHost(typeof(MyService), baseAddress);\n\n        try\n        {\n            selfHost.AddServiceEndpoint(\n                typeof(IService),\n                new NetNamedPipeBinding(),\n                "PipeTest");\n\n            // Open the ServiceHost to start listening for messages.\n            Console.WriteLine("The service is ready.");\n            selfHost.Open();\n            // The service can now be accessed...\n\n            Console.WriteLine("Press <ENTER> to terminate...");\n            Console.ReadLine();\n\n            // Close the ServiceHost.\n            selfHost.Close();\n        }\n        catch (CommunicationException ce)\n        {\n            Console.WriteLine("An exception occurred: {0}", ce.Message);\n            selfHost.Abort();\n        }\n    }\n}