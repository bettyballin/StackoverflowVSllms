using System;\nusing System.ComponentModel;\nusing System.IO;\nusing System.Net;\nusing System.Windows.Forms;\n\npublic partial class MainForm : Form\n{\n    private BackgroundWorker bgWorker = new BackgroundWorker();\n\n    public MainForm()\n    {\n        InitializeComponent();\n        \n        // Configure background worker\n        bgWorker.WorkerReportsProgress = true;\n        bgWorker.DoWork += BgWorker_DoWork;\n        bgWorker.ProgressChanged += BgWorker_ProgressChanged;\n        bgWorker.RunWorkerCompleted += BgWorker_RunWorkerCompleted;\n    }\n\n    private void StartDownloadButton_Click(object sender, EventArgs e)\n    {\n        if (dataGridView1.SelectedRows.Count == 0)\n            return;\n\n        string url = dataGridView1.SelectedRows[0].Cells["UrlColumn"].Value.ToString();\n        \n        // Pass the URL as an argument to the background worker\n        bgWorker.RunWorkerAsync(url);\n    }\n\n    private void BgWorker_DoWork(object sender, DoWorkEventArgs e)\n    {\n        string url = (string)e.Argument;\n        var clsDownload = new ClsDownload();\n\n        // Assuming StartDownload returns some progress updates or events\n        using (var client = new WebClient())\n        {\n            client.DownloadProgressChanged += (o, args) =>\n            {\n                bgWorker.ReportProgress(args.ProgressPercentage);\n            };\n\n            client.DownloadFileCompleted += (o, args) =>\n            {\n                e.Result = "Download completed";\n            };\n\n            client.DownloadFileAsync(new Uri(url), Path.GetFileName(url));\n        }\n    }\n\n    private void BgWorker_ProgressChanged(object sender, ProgressChangedEventArgs e)\n    {\n        // Update progress bar or label\n        DownloadProgressBar.Value = e.ProgressPercentage;\n    }\n\n    private void BgWorker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        MessageBox.Show((string)e.Result);\n    }\n}\n\npublic class ClsDownload\n{\n    // Implement your download logic here.\n    // This example uses WebClient for simplicity.\n}