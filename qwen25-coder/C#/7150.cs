using System;\nusing System.DirectoryServices.AccountManagement;\n\npublic partial class Login : System.Web.UI.Page\n{\n    protected void btnLogin_Click(object sender, EventArgs e)\n    {\n        string username = txtUsername.Text;\n        string password = txtPassword.Text;\n\n        // Try Domain01 first\n        if (AuthenticateUser(username, password, "Domain01"))\n        {\n            AuthenticatedUser("Domain01\\" + username);\n        }\n        else if (AuthenticateUser(username, password, "Domain02"))\n        {\n            AuthenticatedUser("Domain02\\" + username);\n        }\n        else\n        {\n            lblMessage.Text = "Invalid login attempt.";\n        }\n    }\n\n    private bool AuthenticateUser(string username, string password, string domain)\n    {\n        using (PrincipalContext context = new PrincipalContext(ContextType.Domain, domain))\n        {\n            return context.ValidateCredentials(username, password);\n        }\n    }\n\n    private void AuthenticatedUser(string username)\n    {\n        // Implement your session management or redirection logic here\n        lblMessage.ForeColor = System.Drawing.Color.Green;\n        lblMessage.Text = "Login successful!";\n        // Optionally, redirect to another page or store user info in session cookie\n    }\n}