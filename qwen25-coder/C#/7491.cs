protected async void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        await LoadCountriesAsync(ddlCountry);\n    }\n}\n\nprivate async Task LoadCountriesAsync(DropDownList ddl)\n{\n    // Check cache first\n    List<Country> countries = Session["Countries"] as List<Country>;\n    if (countries == null)\n    {\n        countries = await CountryRepository.Instance.GetAllAsync();\n        Session["Countries"] = countries;\n    }\n\n    ddl.DataSource = countries;\n    ddl.DataTextField = "Name";\n    ddl.DataValueField = "Id";\n    ddl.DataBind();\n\n    // Optionally, call LoadTowns here or via client-side AJAX on country select\n}\n\n// In your CountryRepository, ensure you have an asynchronous method\npublic class CountryRepository : ICountryRepository\n{\n    public static async Task<List<Country>> GetAllAsync()\n    {\n        using (var context = new YourDbContext())\n        {\n            return await context.Countries.ToListAsync();\n        }\n    }\n\n    // Similarly for towns\n    public static async Task<List<Town>> GetTownsByCountryIdAsync(int countryId)\n    {\n        using (var context = new YourDbContext())\n        {\n            return await context.Towns.Where(t => t.CountryId == countryId).ToListAsync();\n        }\n    }\n}