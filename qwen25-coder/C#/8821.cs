[ServiceContract]\npublic interface IMyService\n{\n    [OperationContract]\n    [WebInvoke(Method = "GET",\n        BodyStyle = WebMessageBodyStyle.WrappedRequest,\n        UriTemplate = "getstreamurl?ch={ch}&format={format}")]\n    Message GetStreamUrl(string ch, string format);\n}\n\npublic class MyService : IMyService\n{\n    public Message GetStreamUrl(string ch, string format)\n    {\n        object responseData; // This should be your actual data object\n\n        switch (format.ToLower())\n        {\n            case "json":\n                responseData = GetJsonData(ch); // Implement this method to get JSON data\n                return WebOperationContext.Current.CreateTextResponse(\n                    JsonConvert.SerializeObject(responseData),\n                    "application/json");\n            case "xml":\n            default:\n                responseData = GetXmlData(ch); // Implement this method to get XML data\n                XmlSerializer xmlSerializer = new XmlSerializer(responseData.GetType());\n                MemoryStream memoryStream = new MemoryStream();\n                xmlSerializer.Serialize(memoryStream, responseData);\n                memoryStream.Position = 0;\n                return WebOperationContext.Current.CreateResponse(StreamingContextStates.All, memoryStream, "application/xml");\n        }\n    }\n\n    private object GetJsonData(string ch)\n    {\n        // Logic to get data for JSON\n        return new { Channel = ch };\n    }\n\n    private object GetXmlData(string ch)\n    {\n        // Logic to get data for XML\n        return new { Channel = ch };\n    }\n}