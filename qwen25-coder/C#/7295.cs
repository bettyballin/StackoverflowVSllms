void Application_Error(object sender, EventArgs e)\n{\n    Exception ex = Server.GetLastError();\n\n    if (ex is System.Web.HttpException httpEx)\n    {\n        // Check if it's a "The client disconnected." error\n        if (httpEx.WebEventCode == 0 &&\n            httpEx.GetBaseException().Message.Contains("The remote host closed the connection"))\n        {\n            // Log this as info or ignore it\n            return; // Do not log or email this exception\n        }\n    }\n\n    // Log and email other exceptions\n    LogError(ex);\n    SendErrorEmail(ex);\n\n    // Clear the error from the server\n    Server.ClearError();\n}