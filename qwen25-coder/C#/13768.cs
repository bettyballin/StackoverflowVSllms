[OperationContract, XmlSerializerFormat]\n[WebGet(UriTemplate = "{id}")]\npublic Stream GetById(string id)\n{\n    // Assume GetCustomer is a method that retrieves your Customer object\n    var customer = GetCustomer(id);\n\n    using (var ms = new MemoryStream())\n    {\n        var serializer = new XmlSerializer(typeof(Customer));\n        XmlWriterSettings settings = new XmlWriterSettings { Indent = true, Encoding = Encoding.UTF8 };\n        \n        using (XmlWriter writer = XmlWriter.Create(ms, settings))\n        {\n            // Write the XML declaration\n            writer.WriteStartDocument();\n            \n            // Insert XSLT processing instruction here\n            writer.WriteProcessingInstruction("xml-stylesheet", "type=\"text/xsl\" href=\"transforms/Customer.xsl\"");\n            \n            // Serialize the customer object\n            serializer.Serialize(writer, customer);\n\n            ms.Position = 0;\n            \n            // Write the memory stream as a WebResponse content\n            WebOperationContext.Current.OutgoingResponse.ContentType = "application/xml";\n            return new MemoryStream(ms.ToArray());\n        }\n    }\n}\n\nprivate Customer GetCustomer(string id)\n{\n    // Logic to retrieve a customer based on the ID\n    return new Customer { Name = "Foo" }; // Just for demonstration purposes\n}