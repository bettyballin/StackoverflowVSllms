using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading.Tasks;\n\npublic class Server\n{\n    private const int BufferSize = 1024;\n    private TcpListener _serverSocket;\n\n    public async Task StartAsync(int port)\n    {\n        _serverSocket = new TcpListener(IPAddress.Any, port);\n        _serverSocket.Start();\n        Console.WriteLine("Server started.");\n\n        while (true)\n        {\n            var client = await _serverSocket.AcceptTcpClientAsync();\n            _ = HandleConnection(client);\n        }\n    }\n\n    private async Task HandleConnection(TcpClient client)\n    {\n        using var networkStream = client.GetStream();\n        byte[] buffer = new byte[BufferSize];\n\n        while (client.Connected)\n        {\n            int bytesRead = await networkStream.ReadAsync(buffer, 0, BufferSize);\n            if (bytesRead == 0) break;\n\n            string message = Encoding.UTF8.GetString(buffer, 0, bytesRead);\n            Console.WriteLine("Received: " + message);\n\n            // Process the received data\n            // ...\n\n            string response = "Response to your request";\n            byte[] responseBytes = Encoding.UTF8.GetBytes(response);\n            await networkStream.WriteAsync(responseBytes, 0, responseBytes.Length);\n        }\n    }\n}