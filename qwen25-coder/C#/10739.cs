using System.Data;\n   using System.Data.SqlClient;\n   using Dapper;\n\n   public class YourModel\n   {\n       public int Id { get; set; }\n       public string Name { get; set; }\n   }\n\n   public class DataRepository\n   {\n       private readonly IDbConnection _connection;\n\n       public DataRepository(IDbConnection connection)\n       {\n           _connection = connection;\n       }\n\n       public IEnumerable<YourModel> GetAll()\n       {\n           return this._connection.Query<YourModel>("SELECT * FROM YourTable");\n       }\n   }