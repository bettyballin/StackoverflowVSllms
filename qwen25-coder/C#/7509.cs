using Microsoft.Win32;\nusing System.IO;\n\npublic void RestoreRegistrySettings()\n{\n    string backupFilePath = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), "MyApp", "registry_backup.txt");\n\n    if (File.Exists(backupFilePath))\n    {\n        using (StreamReader reader = new StreamReader(backupFilePath))\n        {\n            string line;\n            while ((line = reader.ReadLine()) != null)\n            {\n                string[] keyValue = line.Split(',');\n                if (keyValue.Length == 2)\n                {\n                    RegistryKey key = Registry.ClassesRoot.OpenSubKey(keyValue[0], true);\n                    if (key != null && key.GetValue("").ToString() != keyValue[1])\n                    {\n                        // If the current value does not match our backup value, restore it.\n                        key.SetValue("", keyValue[1]);\n                    }\n                }\n            }\n        }\n    }\n}