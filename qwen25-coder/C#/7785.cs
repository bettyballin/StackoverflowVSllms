public class CustomActionFilterAttribute : ActionFilterAttribute, IExceptionFilter\n  {\n      public void OnException(ExceptionContext filterContext)\n      {\n          if (filterContext.HttpContext.Request.IsAjaxRequest())\n          {\n              filterContext.Result = new JsonResult\n              {\n                  Data = new { Success = false, Message = "An error occurred." },\n                  JsonRequestBehavior = JsonRequestBehavior.AllowGet\n              };\n              filterContext.ExceptionHandled = true;\n              filterContext.HttpContext.Response.StatusCode = 500;\n          }\n      }\n  }