using System;\nusing System.Web;\n\npublic class ImageHandler : IHttpHandler \n{\n    public void ProcessRequest(HttpContext context) \n    {\n        string tokenId = context.Request.QueryString["token"];\n        string filePath = context.Request.QueryString["file"];\n\n        // Validate token logic here (keep this simple for 2 weeks)\n        if (!IsValidToken(tokenId))\n        {\n            context.Response.StatusCode = 403; // Forbidden\n            return;\n        }\n\n        try\n        {\n            context.Response.ContentType = "image/jpeg"; // Adjust the content type as necessary\n            context.Response.TransmitFile(context.Server.MapPath(filePath));\n        }\n        catch (Exception)\n        {\n            context.Response.StatusCode = 404; // File not found or exception occurred\n        }\n    }\n\n    public bool IsReusable { get { return false; } }\n\n    private bool IsValidToken(string tokenId)\n    {\n        // Implement your token validation logic here\n        return !(string.IsNullOrEmpty(tokenId)); // Dummy check as example\n    }\n}