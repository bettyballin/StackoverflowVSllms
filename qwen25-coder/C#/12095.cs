using System;\nusing System.IO;\nusing System.Web;\n\npublic class StreamMp3 : IHttpHandler\n{\n    public void ProcessRequest(HttpContext context)\n    {\n        string requestedFile = context.Request.QueryString["file"];\n        \n        // Define your mp3 file path securely\n        string filePath = Server.MapPath($"~/Protected/{requestedFile}");\n\n        // Check if the file exists and can be accessed by the server\n        if (!string.IsNullOrEmpty(requestedFile) && File.Exists(filePath))\n        {\n            // Set proper headers to instruct browser not to cache the content\n            context.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));\n            context.Response.Cache.SetValidUntilExpires(false);\n            context.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);\n            context.Response.Cache.SetCacheability(HttpCacheability.NoCache);\n            context.Response.Cache.SetNoStore();\n\n            context.Response.ContentType = "audio/mpeg";\n\n            // Write the file to the response\n            using (var stream = new FileStream(filePath, FileMode.Open, FileAccess.Read))\n            {\n                stream.CopyTo(context.Response.OutputStream);\n            }\n        }\n        else\n        {\n            context.Response.StatusCode = 404; // File not found\n        }\n    }\n\n    public bool IsReusable => false;\n}