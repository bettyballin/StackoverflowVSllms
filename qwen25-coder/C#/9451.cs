using System;\nusing System.Data.SqlClient;\n\nclass Program\n{\n    private static readonly string ConnectionString = "your-connection-string-here";\n\n    static void Main(string[] args)\n    {\n        using (SqlConnection connection = new SqlConnection(ConnectionString))\n        {\n            try\n            {\n                connection.Open();\n\n                // Start a transaction\n                SqlTransaction transaction = connection.BeginTransaction();\n\n                // Lock the row with UPDLOCK and hold it until the end of the transaction\n                string query = "SELECT * FROM Terminals WITH (UPDLOCK, ROWLOCK) WHERE TerminalID = @TerminalID";\n\n                using (SqlCommand command = new SqlCommand(query, connection, transaction))\n                {\n                    command.Parameters.AddWithValue("@TerminalID", 1); // Replace with actual terminal ID\n\n                    using (SqlDataReader reader = command.ExecuteReader())\n                    {\n                        if (reader.Read())\n                        {\n                            // Row is now locked for updates\n                            Console.WriteLine("Row locked. You can proceed with your operations.");\n                            \n                            // Perform other database operations here\n\n                            // Commit the transaction to release the lock\n                            transaction.Commit();\n                            Console.WriteLine("Transaction committed. Lock released.");\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine("An error occurred: " + ex.Message);\n                // Rollback in case of an exception\n                transaction.Rollback();\n            }\n        }\n    }\n}