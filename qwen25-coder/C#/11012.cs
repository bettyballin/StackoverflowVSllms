var p = new Process\n{\n    StartInfo = new ProcessStartInfo("C:\\xampp\\php\\php.exe", $"\"{path}\"")\n    {\n        RedirectStandardOutput = true,\n        RedirectStandardError = true,\n        UseShellExecute = false,\n        CreateNoWindow = true,\n        // Optionally, you can set EnvironmentVariables if necessary\n        // EnvironmentVariables = { ... }\n    }\n};\n\nusing (var output = new StringWriter())\nusing (var error = new StringWriter())\n{\n    p.OutputDataReceived += (sender, args) => { if (!string.IsNullOrEmpty(args.Data)) output.WriteLine(args.Data); };\n    p.ErrorDataReceived += (sender, args) => { if (!string.IsNullOrEmpty(args.Data)) error.WriteLine(args.Data); };\n\n    try\n    {\n        p.Start();\n        p.BeginOutputReadLine();\n        p.BeginErrorReadLine();\n        p.WaitForExit();\n        \n        var result = output.ToString().Trim();\n        var errorMessage = error.ToString().Trim();\n\n        if (p.ExitCode != 0 || !string.IsNullOrEmpty(errorMessage))\n        {\n            throw new Exception($"PHP failed with exit code {p.ExitCode}{Environment.NewLine}Errors:{Environment.NewLine}{errorMessage}");\n        }\n\n        Console.WriteLine(result);\n    }\n    catch (Exception ex)\n    {\n        // Handle exception appropriately\n        Console.Error.WriteLine(ex.Message);\n    }\n}