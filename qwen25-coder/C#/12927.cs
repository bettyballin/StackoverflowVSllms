using System;\nusing System.IO;\nusing System.Xml.Linq;\n\npublic class MyFileReaderWriter\n{\n    private readonly string _filePath;\n\n    public MyFileReaderWriter(string filePath)\n    {\n        _filePath = filePath;\n    }\n\n    public XDocument LoadXml()\n    {\n        XDocument xdoc;\n        using (var fs = new FileStream(_filePath, FileMode.Open, FileAccess.Read, FileShare.Read))\n        {\n            xdoc = XDocument.Load(fs);\n        }\n        return xdoc;\n    }\n\n    public void SaveXml(XDocument document)\n    {\n        var tempFilePath = _filePath + ".tmp";\n        // Write to a temporary file first\n        using (var fs = new FileStream(tempFilePath, FileMode.Create, FileAccess.Write, FileShare.None))\n        {\n            document.Save(fs);\n        }\n        // Replace the old file with the new one\n        File.Replace(tempFilePath, _filePath, null);\n    }\n\n    public void AppendToXml(XNode contentToAdd)\n    {\n        var doc = LoadXml();\n        doc.Root.Add(contentToAdd);\n        SaveXml(doc);\n    }\n}