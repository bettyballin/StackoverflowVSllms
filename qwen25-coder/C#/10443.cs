using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\npublic class Class {\n    public int IDLinea { get; set; }\n    public int Posizione { get; set; }\n}\n\nclass Program {\n    static void Main() {\n        List<List<Class>> L = new List<List<Class>>();\n\n        var A = new List<Class>();\n        A.Add(new Class() { IDLinea = 1, Posizione = 5 });\n        A.Add(new Class() { IDLinea = 2, Posizione = 1 });\n        L.Add(A);\n\n        var B = new List<Class>();\n        B.Add(new Class() { IDLinea = 1, Posizione = 3 });\n        B.Add(new Class() { IDLinea = 2, Posizione = 1 });\n        L.Add(B);\n\n        var D = new List<Class>();\n        D.Add(new Class() { IDLinea = 4, Posizione = 1 });\n        D.Add(new Class() { IDLinea = 2, Posizione = 4 });\n        L.Add(D);\n\n        // Get distinct lists by checking if there are duplicate IDLinea in each sublist\n        List<List<Class>> distinctLists = L.Where(subList => subList.Select(c => c.IDLinea).Distinct().Count() == subList.Count).ToList();\n\n        foreach (var list in distinctLists) {\n            Console.WriteLine("New List:");\n            foreach (var item in list) {\n                Console.WriteLine($"IDLinea: {item.IDLinea}, Posizione: {item.Posizione}");\n            }\n        }\n    }\n}