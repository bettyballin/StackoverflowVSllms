protected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        // Render content dynamically here\n    }\n    else\n    {\n        RestorePanelStates();\n    }\n}\n\nprivate void RestorePanelStates()\n{\n    string panelStateJson = hiddenPanelStates.Value;\n    if (string.IsNullOrEmpty(panelStateJson)) return;\n\n    var states = JsonConvert.DeserializeObject<Dictionary<string, bool>>(panelStateJson);\n\n    foreach (var pair in states)\n    {\n        // Find the CollapsibleExtender associated with each panel\n        var extender = ScriptManager.GetCurrent(this).FindScriptControl(pair.Key + "_CollapsibleExtender") as AjaxControlToolkit.CollapsiblePanelExtender;\n        if (extender != null)\n        {\n            extender.Collapsed = !pair.Value; // Set the collapsed state based on the stored value\n        }\n    }\n}