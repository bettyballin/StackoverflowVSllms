using sql = Dapper.SqlBuilder;\n\nvar sb = new sql();\nvar selectClause = sb.AddTemplate("SELECT /**select_columns**/ FROM Customer c " +\n                                  "INNER JOIN Address a ON a.CustomerID = c.ID");\nsb.Select("c.FirstName, c.LastName, a.Street, a.City");\n\nvar whereClause = sb.AddTemplate("WHERE 1=1");\nif (someCondition) {\n    var param = new {city = someCity};\n    sb.AndWhere("a.City = @city", param);\n}\n\nstring sql = $"SELECT * FROM ({selectClause}) WHERE 1=1 {whereClause}";