using System;\nusing System.DirectoryServices.AccountManagement;\n\npublic bool IsUserInRole(string userName, string roleName)\n{\n    using (var principalContext = new PrincipalContext(ContextType.Domain))\n    {\n        var userPrincipal = UserPrincipal.FindByIdentity(principalContext, userName);\n        if (userPrincipal != null)\n        {\n            // Check if the user is in the specified role\n            return userPrincipal.IsMemberOf(new GroupPrincipal(principalContext, roleName));\n        }\n    }\n\n    return false;\n}