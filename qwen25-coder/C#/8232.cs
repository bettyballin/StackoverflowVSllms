protected void ScriptManager_AsyncPostBackError(object sender, AsyncPostBackErrorEventArgs e)\n{\n    // Log the error using WebBaseEvent.Raise()\n    var failure = new WebErrorEvent("AJAX Error", this.GetType(), WebEventCodes.WebExtendedBase + 1, e.Exception);\n    failure.Raise();\n\n    // Clear the exception from the EventArgs\n    ScriptManager.GetCurrent(this.Page).AsyncPostBackErrorMessage = "An error occurred while processing your request. Please try again later.";\n\n    // Or, if you want to send a custom message to the client\n    // ClientScript.RegisterStartupScript(this.GetType(), "ErrorMessage", "alert('An error occurred while processing your request. Please try again later.');", true);\n\n    e.ExceptionHandled = true;\n}