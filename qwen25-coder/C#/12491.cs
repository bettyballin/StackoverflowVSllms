using System;\nusing System.IO;\nusing System.Runtime.Serialization.Formatters.Binary;\n\npublic static int GetSessionSize(System.Web.SessionState.HttpSessionState session)\n{\n    // Create a binary formatter.\n    BinaryFormatter bf = new BinaryFormatter();\n    \n    // Use a memory stream so that we don't actually write out to disk.\n    MemoryStream ms = new MemoryStream();\n\n    try\n    {\n        // Serialize the object to the memory stream.\n        bf.Serialize(ms, session);\n\n        // Return length of data written in bytes.\n        return Convert.ToInt32(ms.Length);\n    }\n    finally\n    {\n        // Close the memory stream.\n        ms.Close();\n    }\n}