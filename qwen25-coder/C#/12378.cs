public class ConnectionManager : IDisposable\n{\n    public void Dispose()\n    {\n        // Explicitly call the cleanup code.\n        Dispose(true);\n        \n        // Suppress finalization if disposing is performed explicitly.\n        GC.SuppressFinalize(this);\n    }\n\n    protected virtual void Dispose(bool disposing)\n    {\n        // Free managed resources when disposing = true\n        if (disposing)\n        {\n            // Cleanup code here...\n        }\n        \n        // Always free unmanaged resources.\n    }\n\n    ~ConnectionManager()\n    {\n        // Call the dispose code without freeing managed resources.\n        Dispose(false);\n    }\n}