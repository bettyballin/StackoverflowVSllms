using System;\nusing System.Diagnostics;\n\npublic class MyWebServiceCounters\n{\n    private static readonly string CategoryName = "MyWebServiceCategory";\n    private static readonly string CounterCallsProcessedPerHour = "Calls Processed Per Hour";\n    private static readonly string CounterTotalCallsPerDay = "Total Calls Per Day";\n\n    public void InitializeCounters()\n    {\n        if (!PerformanceCounterCategory.Exists(CategoryName))\n        {\n            CounterCreationDataCollection Counters = new CounterCreationDataCollection();\n\n            // Add the counters\n            Counters.Add(new CounterCreationData(\n                CounterCallsProcessedPerHour,\n                "The number of calls processed per hour.",\n                PerformanceCounterType.RateOfCountsPerSecond32));\n            \n            Counters.Add(new CounterCreationData(\n                CounterTotalCallsPerDay,\n                "The total number of calls processed per day.",\n                PerformanceCounterType.NumberOfItems64));\n\n            // Create the category\n            PerformanceCounterCategory.Create(CategoryName, \n                "Performance counters for My Web Service.", \n                PerformanceCounterCategoryType.SingleInstance, \n                Counters);\n        }\n    }\n\n    private static PerformanceCounter _callsProcessedPerHour;\n    private static PerformanceCounter _totalCallsPerDay;\n\n    public void InitializeInstances()\n    {\n        _callsProcessedPerHour = new PerformanceCounter(CategoryName, CounterCallsProcessedPerHour, false);\n        _totalCallsPerDay = new PerformanceCounter(CategoryName, CounterTotalCallsPerDay, false);\n\n        // Reset counters\n        if (_callsProcessedPerHour.RawValue != 0)\n            _callsProcessedPerHour.RawValue = 0;\n        \n        if (_totalCallsPerDay.RawValue != 0)\n            _totalCallsPerDay.RawValue = 0;\n    }\n\n    public void IncrementCounter(string counterName)\n    {\n        switch (counterName.ToLower())\n        {\n            case "calls processed per hour":\n                _callsProcessedPerHour.Increment();\n                break;\n            case "total calls per day":\n                _totalCallsPerDay.Increment();\n                break;\n        }\n    }\n}