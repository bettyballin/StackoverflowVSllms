#include <stdio.h>\n#include <stdlib.h>\n#include <sys/file.h> // For constants like F_WRLCK\n#include <unistd.h>\n\nint main() {\n    int fd = open("testfile.txt", O_RDWR | O_CREAT, 0644);\n\n    struct flock fl;\n    fl.l_type   = F_WRLCK; // Write lock\n    fl.l_whence = SEEK_SET;\n    fl.l_start  = 0;\n    fl.l_len    = 10;     // Lock first 10 bytes\n\n    if (fcntl(fd, F_SETLKW, &fl) == -1) {\n        perror("fcntl");\n        exit(EXIT_FAILURE);\n    }\n\n    printf("Lock acquired on file descriptor %d\n", fd);\n\n    sleep(10); // Simulate work being done while lock is held\n\n    fl.l_type = F_UNLCK;  // Unlock\n    fcntl(fd, F_SETLK, &fl);\n\n    close(fd);\n    return 0;\n}