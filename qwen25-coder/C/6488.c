#include <stdlib.h>\n#include <string.h>\n#include <stdio.h>\n#include <ctype.h>\n\nchar* append_id(char*);\nchar* increment_id(char*, int);\nchar* get_next_id(char*);\n\nint main(int argc, char *argv[]) {\n    char x[] = "zz";  // Make x a modifiable string\n\n    printf("incrementando %s -> %s\n", x, get_next_id(x));\n\n    return 0;\n}\n\nchar *get_next_id(char *last_id) {\n    int pos;\n    char *next_id = NULL;\n    int is_alnum = 1;\n\n    // Check if the last id is empty\n    if (strlen(last_id) == 0) {\n        next_id = malloc(2); // Allocate space for "0" and '\0'\n        strcpy(next_id, "0");\n    } else {\n        // check input\n        for (int x = 0; last_id[x]; x++) {\n            if (!isalnum(last_id[x])) {\n                is_alnum = 0;\n                break;\n            }\n        }\n\n        if (is_alnum == 0) return "";\n\n        // Convert all characters to lowercase\n        for (int x = 0; last_id[x]; x++)\n            last_id[x] = tolower(last_id[x]);\n\n        int id_size = strlen(last_id);\n\n        // Increment the ID\n        for (pos = id_size - 1; pos >= 0; --pos) {\n            if (last_id[pos] < 'z') {  // Assuming only lowercase letters are used after last digit\n                next_id = increment_id(last_id, pos);\n                break;\n            }\n        }\n\n        // If all characters were z, append another character\n        if (!next_id) {\n            next_id = append_id(last_id);\n        }\n    }\n\n    return next_id;\n}\n\nchar* append_id(char *id) {\n    int id_size = strlen(id);\n    char *new_id = (char *)malloc(id_size + 2); // Allocate space for the new character and '\0'\n    strcpy(new_id, id);\n    new_id[id_size] = 'a'; // Start appending with 'a'\n    new_id[id_size + 1] = '\0';\n    return new_id;\n}\n\nchar* increment_id(char *id, int pos) {\n    char current = id[pos];\n    if (isdigit(current)) {\n        if (current < '9') {\n            id[pos] = current + 1;\n        } else {\n            // If we're at '9', move to 'a'\n            id[pos] = 'a';\n        }\n    } else {\n        if (current < 'z') {\n            id[pos] = current + 1;\n        } else {\n            // Reset this character and increment the previous one\n            return increment_id(id, pos - 1);\n        }\n    }\n\n    char *new_id = malloc(strlen(id) + 1); // Allocate space for new string\n    strcpy(new_id, id);\n    return new_id;\n}