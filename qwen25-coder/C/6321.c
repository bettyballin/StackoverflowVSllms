// Ensure active_search points to allocated memory\nint *active_search;\nactive_search = (int *) malloc(SEARCH_DIRECTIONS * sizeof(int));\nif(active_search == NULL) {\n    // Handle error: failed to allocate memory\n    exit(EXIT_FAILURE);\n}\n\n// Declare and initialize i outside the loops for correctness\nint i;\n\n// Corrected condition logic\nif(row == 0 && col == 0){\n    while(Library[0][i] != -1){\n        active_search[i] = Library[0][i];\n        i++;\n    }\n} else if(row == 0 && col == last_col){\n    while(Library[1][i] != -1){\n        active_search[i] = Library[1][i];\n        i++;\n    }\n} else if(row == 0 && col > 0 && col < last_col){ // Corrected condition\n    // ...\n}\n// Other conditions similarly corrected\nelse {\n    // Handle default case or error\n}\n\nactive_search[i] = -1; // Null terminator\n\n// Don't forget to free the allocated memory when done\nfree(active_search);