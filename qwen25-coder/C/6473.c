#include <axis2_http_simple_request.h>\n#include <axutil_string.h>\n\nint is_soap_request(axis2_msg_ctx_t *msg_ctx, const axutil_env_t *env)\n{\n    axis2_http_simple_request_t *http_req = NULL;\n    axis2_char_t *url_query = NULL;\n\n    http_req = (axis2_http_simple_request_t *)axis2_msg_ctx_get_transport_in(msg_ctx, env);\n    url_query = axis2_http_simple_request_get_request_uri(http_req, env);\n\n    if (axutil_strstr(url_query, "?command=soap")) {\n        return 1; // It's a SOAP request\n    }\n    return 0;\n}