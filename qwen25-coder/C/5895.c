#include <windows.h>\n#include <stdio.h>\n\nint main() {\n    HANDLE h = /* your HANDLE here */;\n    DWORD fileType = GetFileType(h);\n\n    switch (fileType) {\n        case FILE_TYPE_DISK:\n            printf("The handle is a file.\n");\n            break;\n        case FILE_TYPE_CHAR:\n            printf("The handle is a character file or console.\n");\n            break;\n        case FILE_TYPE_PIPE:\n            printf("The handle is a pipe.\n");\n            // You can now safely call PeekNamedPipe on this HANDLE\n            break;\n        case FILE_TYPE_REMOTE:\n            printf("The handle is a remote file.\n");\n            break;\n        default: // or FILE_TYPE_UNKNOWN (which equals to 0xFFFFFFFF)\n            printf("Unknown type of file.\n");\n    }\n\n    return 0;\n}