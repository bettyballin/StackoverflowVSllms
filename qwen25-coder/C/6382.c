#include <gnome-canvas.h>\n\nenum TextAlignment {\n    TEXT_ALIGN_LEFT,\n    TEXT_ALIGN_RIGHT\n};\n\nvoid align_text_item(GnomeCanvasText *text_item, const gchar *content, enum TextAlignment alignment) {\n    // Set the text content\n    gnome_canvas_item_set(GTK_WIDGET(text_item)->parent, "text", content, NULL);\n\n    if (alignment == TEXT_ALIGN_LEFT) {\n        gtk_widget_set_size_request(GTK_WIDGET(text_item), -1, -1); // Remove any specific width for automatic sizing\n        gnome_canvas_item_set(GTK_WIDGET(text_item)->parent, "anchor", GTK_ANCHOR_NORTH_WEST, "justification", GTK_JUSTIFY_LEFT, NULL);\n    } else if (alignment == TEXT_ALIGN_RIGHT) {\n        gtk_widget_set_size_request(GTK_WIDGET(text_item), -1, -1); // Remove any specific width for automatic sizing\n        gnome_canvas_item_set(GTK_WIDGET(text_item)->parent, "anchor", GTK_ANCHOR_NORTH_EAST, "justification", GTK_JUSTIFY_RIGHT, NULL);\n    }\n}\n\nint main(int argc, char *argv[]) {\n    GtkWidget* window;\n    GtkWidget* canvas;\n    GnomeCanvasGroup* root;\n    GnomeCanvasText* text_item;\n\n    // Initialize GTK+\n    gtk_init(&argc, &argv);\n\n    // Create a new window\n    window = gtk_window_new(GTK_WINDOW_TOPLEVEL);\n    gtk_signal_connect(GTK_OBJECT(window), "delete_event", GTK_SIGNAL_FUNC(gtk_main_quit), NULL);\n    gtk_widget_set_usize(GTK_WIDGET(window), 400, 300);\n    gtk_container_set_border_width(GTK_CONTAINER(window), 5);\n\n    // Create a new drawing area\n    canvas = gnome_canvas_new_aa();\n    gtk_container_add(GTK_CONTAINER(window), canvas);\n    root = gnome_canvas_root<GnomeCanvasGroup>(GNOME_CANVAS(canvas));\n\n    // Add text item to the canvas\n    text_item = GNOME_CANVAS_TEXT(gnome_canvas_item_new(root, gnome_canvas_text_get_type(),\n                                                      "x", 200.0,\n                                                      "y", 150.0,\n                                                      NULL));\n    // Align text based on content and language direction\n    align_text_item(text_item, "Sample Text for Right Alignment", TEXT_ALIGN_RIGHT);\n    // Or use: align_text_item(text_item, "Example Text for Left Alignment", TEXT_ALIGN_LEFT);\n\n    gtk_widget_show_all(window);\n    gtk_main();\n    return 0;\n}