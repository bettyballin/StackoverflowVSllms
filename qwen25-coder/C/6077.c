#include <sys/types.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n#include <netinet/tcp.h>\n#include <unistd.h>\n\nvoid setupKeepAlive(int socket_fd) {\n    int optval = 1;\n    socklen_t optlen = sizeof(optval);\n\n    // Enable keepalive\n    if (setsockopt(socket_fd, SOL_SOCKET, SO_KEEPALIVE, &optval, optlen) < 0) {\n        perror("Error setting SO_KEEPALIVE");\n        close(socket_fd);\n        exit(1);\n    }\n\n    // Set tcp_keepalive_time to 60 seconds\n    optval = 60;\n    if (setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPIDLE, &optval, optlen) < 0) {\n        perror("Error setting TCP_KEEPIDLE");\n        close(socket_fd);\n        exit(1);\n    }\n\n    // Set tcp_keepalive_intvl to 5 seconds\n    optval = 5;\n    if (setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPINTVL, &optval, optlen) < 0) {\n        perror("Error setting TCP_KEEPINTVL");\n        close(socket_fd);\n        exit(1);\n    }\n\n    // Set tcp_keepalive_probes to 3\n    optval = 3;\n    if (setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPCNT, &optval, optlen) < 0) {\n        perror("Error setting TCP_KEEPCNT");\n        close(socket_fd);\n        exit(1);\n    }\n}\n\nint main() {\n    // Example socket creation\n    int sock = socket(AF_INET, SOCK_STREAM, 0);\n    if (sock < 0) {\n        perror("socket error");\n        return 1;\n    }\n\n    setupKeepAlive(sock);\n\n    // Your socket operations here\n\n    close(sock);\n    return 0;\n}