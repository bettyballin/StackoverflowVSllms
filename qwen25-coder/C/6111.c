double pow(double base, int exp) {\n    double result = 1.0;\n    double current_power = base;\n\n    if (exp < 0) {\n        current_power = 1 / current_power;\n        exp = -exp;\n    }\n\n    while (exp > 0) {\n        if (exp % 2 == 1) {\n            result *= current_power;\n        }\n        current_power *= current_power;\n        exp /= 2;\n    }\n\n    return result;\n}