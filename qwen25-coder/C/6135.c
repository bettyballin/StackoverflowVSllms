#include <stdio.h>\n#include <unistd.h>\n\n#define BASE_PORT 0x378 // Example base address for LPT1\n\nvoid set_data_direction(int pin, int direction) {\n    unsigned char control_reg = inb(BASE_PORT + 2);\n    if (direction == 0) { // Set to input\n        control_reg |= 0x20; // Set bit 5 to enable SPP compatibility (input)\n    } else { // Set to output\n        control_reg &= ~0x20; // Clear bit 5 for normal output mode\n    }\n    outb(control_reg, BASE_PORT + 2);\n}\n\nvoid set_pin(int pin, int value) {\n    unsigned char current_data = inb(BASE_PORT);\n    if (value) {\n        outb(current_data | (1 << pin), BASE_PORT); // Set the bit corresponding to pin\n    } else {\n        outb(current_data & ~(1 << pin), BASE_PORT); // Clear the bit corresponding to pin\n    }\n}\n\nint main() {\n    set_data_direction(0, 0); // D0 as input\n    set_data_direction(1, 0); // D1 as input\n    set_data_direction(2, 1); // D2 as output\n    set_pin(2, 1);            // Set D2 high\n\n    // Your reading and writing logic here\n\n    return 0;\n}