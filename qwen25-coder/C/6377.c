#include <sys/types.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n#include <arpa/inet.h>\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nvoid inet_print(struct sockaddr *addr)\n{\n    char ipstr[INET6_ADDRSTRLEN];\n    void *addrptr = NULL;\n    if (addr->sa_family == AF_INET) {\n        struct sockaddr_in *ipv4 = (struct sockaddr_in *)addr;\n        addrptr = &(ipv4->sin_addr);\n    } else if (addr->sa_family == AF_INET6) {\n        struct sockaddr_in6 *ipv6 = (struct sockaddr_in6 *)addr;\n        addrptr = &(ipv6->sin6_addr);\n    }\n\n    inet_ntop(addr->sa_family, addrptr, ipstr, sizeof(ipstr));\n    printf("IP address: %s\n", ipstr);\n}\n\nint main() {\n    struct sockaddr_in sa4, *psa4; // IPv4\n    struct sockaddr_in6 sa6, *psa6; // IPv6\n\n    psa4 = &sa4;\n    memset(psa4, 0, sizeof(struct sockaddr_in));\n\n    psa4->sin_family = AF_INET;\n    inet_pton(AF_INET, "127.0.0.1", &(psa4->sin_addr));\n    inet_print((struct sockaddr *)psa4);\n\n    psa6 = &sa6;\n    memset(psa6, 0, sizeof(struct sockaddr_in6));\n\n    psa6->sin6_family = AF_INET6;\n    inet_pton(AF_INET6, "::1", &(psa6->sin6_addr));\n    inet_print((struct sockaddr *)psa6);\n\n    return 0;\n}