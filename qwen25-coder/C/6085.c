// Simplified example for educational purposes\n#include <sys/ptrace.h>\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <unistd.h>\n#include <sys/user.h>\n#include <stdio.h>\n\nvoid attach_and_inject(pid_t pid) {\n    ptrace(PTRACE_ATTACH, pid, NULL, 0);\n    waitpid(pid, NULL, WUNTRACED);\n\n    // Code to inject goes here\n\n    ptrace(PTRACE_DETACH, pid, (char*)1, 0);\n}\n\nint main(int argc, char **argv) {\n    if (argc != 2) return 1;\n    pid_t pid = atoi(argv[1]);\n    attach_and_inject(pid);\n    return 0;\n}