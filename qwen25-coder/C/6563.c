#include <stdio.h>\n\n#define COL(n)      ((n) % 9)\n#define ROW(n)      ((n) / 9)\n#define SUB(n)      (((n / 3) % 3) + (ROW(n) / 3) * 3)\n\nvoid processGrid(int grid[81], int array_x[9], int array_y[9], int array_s[9]) {\n    for (int sub_index = 0; sub_index < 9; sub_index++) { // Loop through each 3x3 submatrix\n        int base_row = (sub_index / 3) * 3;\n        int base_col = (sub_index % 3) * 3;\n\n        int x_index = 0, y_index = 0, s_index = 0;\n\n        for (int row = 0; row < 3; row++) {\n            for (int col = 0; col < 3; col++) {\n                int index = base_row * 9 + base_col + row * 9 + col;\n                \n                // Process the current element and its neighbors\n                int a = grid[index];\n                int b, c;\n\n                // Get neighbors in the same row\n                if (col < 2) { \n                    b = grid[index + 1];\n                    c = col == 0 ? grid[index + 2] : grid[index - 1]; // wrap around col=0 to col=2 or col=1 to col=2\n                    int r_row = ((~a & ~b)) | ((~b | ~a) & ~c);\n                    array_x[x_index++] = r_row;\n                }\n\n                // Get neighbors in the same column\n                if (row < 2) { \n                    b = grid[index + 9];\n                    c = row == 0 ? grid[index + 18] : grid[index - 9]; // wrap around row=0 to row=2 or row=1 to row=2\n                    int r_col = ((~a & ~b)) | ((~b | ~a) & ~c);\n                    array_y[y_index++] = r_col;\n                }\n\n                // Process submatrix (3x3 block)\n                if (col < 2 && row < 2) { \n                    b = grid[index + 10];\n                    c = grid[index + 19];\n                    int r_sub = ((~a & ~b)) | ((~b | ~a) & ~c);\n                    array_s[s_index++] = r_sub;\n                }\n            }\n        }\n    }\n}\n\nint main() {\n    int grid[81] = { /* your initialized values */ };\n    int array_x[9], array_y[9], array_s[9];\n\n    processGrid(grid, array_x, array_y, array_s);\n\n    // Output results\n    printf("array_x: ");\n    for (int i = 0; i < 9; i++) printf("%d ", array_x[i]);\n    printf("\n");\n\n    printf("array_y: ");\n    for (int i = 0; i < 9; i++) printf("%d ", array_y[i]);\n    printf("\n");\n\n    printf("array_s: ");\n    for (int i = 0; i < 9; i++) printf("%d ", array_s[i]);\n    printf("\n");\n\n    return 0;\n}