#include <IOSurface/IOSurface.h>\n\n// Create an IOSurface with specified width, height, and pixel format\nIOSurfaceRef createSharedSurface(uint32_t width, uint32_t height) {\n    CFMutableDictionaryRef options = CFDictionaryCreateMutable(kCFAllocatorDefault, 0,\n                                                               &kCFTypeDictionaryKeyCallBacks,\n                                                               &kCFTypeDictionaryValueCallBacks);\n    CFNumberRef surfaceWidth = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &width);\n    CFNumberRef surfaceHeight = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &height);\n    \n    // Set the options for IOSurface creation\n    CFDictionarySetValue(options, kIOSurfaceWidth, surfaceWidth);\n    CFDictionarySetValue(options, kIOSurfaceHeight, surfaceHeight);\n    CFDictionarySetValue(options, kIOSurfacePixelFormat, kCFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &(uint32_t){30})); // ARGB8888\n    \n    IOSurfaceRef surface = IOSurfaceCreate(options);\n    \n    CFRelease(surfaceWidth);\n    CFRelease(surfaceHeight);\n    CFRelease(options);\n    \n    return surface;\n}