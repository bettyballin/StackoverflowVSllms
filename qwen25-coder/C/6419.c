#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n// Define a hash table node structure\ntypedef struct Node {\n    char *word;\n    int freq;\n    struct Node *next; // Linked list for handling collisions\n} Node;\n\n// Function to create a new node\nNode* newNode(const char *key) {\n    Node *temp = (Node*)malloc(sizeof(Node));\n    temp->word = strdup(key);\n    temp->freq = 1;\n    temp->next = NULL;\n    return temp;\n}\n\n// A simple hash function for demonstration\nunsigned long hashFunction(const char *str) {\n    unsigned long hash = 5381;\n    int c;\n\n    while ((c = *str++))\n        hash = ((hash << 5) + hash) + c; /* hash * 33 + c */\n\n    return hash % 2048;\n}\n\n// Insert a word into the hash table\nvoid insertNode(Node **hashtable, const char *key) {\n    unsigned long hashIndex = hashFunction(key);\n    Node *current = hashtable[hashIndex];\n\n    while (current != NULL) {\n        if (strcmp(current->word, key) == 0) {\n            current->freq++;\n            return;\n        }\n        current = current->next;\n    }\n\n    // If not found, add a new node\n    Node *newNodePtr = newNode(key);\n    newNodePtr->next = hashtable[hashIndex];\n    hashtable[hashIndex] = newNodePtr;\n}\n\n// Function to compare frequencies for sorting qsort (descending order)\nint compareFreq(const void *a, const void *b) {\n    return ((Node*)b)->freq - ((Node*)a)->freq;\n}\n\n// Convert hash table to an array and sort\nvoid printSortedByFrequency(Node **hashtable, int capacity) {\n    int count = 0;\n\n    // Count number of entries in the hash table\n    for (int i = 0; i < capacity; i++) {\n        Node *current = hashtable[i];\n        while (current != NULL) {\n            count++;\n            current = current->next;\n        }\n    }\n\n    // Allocate memory for an array of nodes\n    Node **array = malloc(count * sizeof(Node*));\n\n    // Fill the array with pointers to hash table entries\n    int index = 0;\n    for (int i = 0; i < capacity; i++) {\n        Node *current = hashtable[i];\n        while (current != NULL) {\n            array[index++] = current;\n            current = current->next;\n        }\n    }\n\n    // Sort the array by frequency using qsort\n    qsort(array, count, sizeof(Node*), compareFreq);\n\n    // Print sorted results\n    for (int i = 0; i < count; i++) {\n        printf("%s %d\n", array[i]->word, array[i]->freq);\n    }\n\n    // Free memory for the array\n    free(array);\n}\n\n// Example usage\nint main() {\n    Node *hashtable[2048] = {NULL};\n\n    // Insert words into hash table (for demonstration)\n    char* words[] = {"apple", "banana", "apple", "orange", "banana", "apple"};\n    int word_count = sizeof(words) / sizeof(words[0]);\n\n    for (int i = 0; i < word_count; i++) {\n        insertNode(hashtable, words[i]);\n    }\n\n    // Print the results sorted by frequency\n    printSortedByFrequency(hashtable, 2048);\n\n    return 0;\n}