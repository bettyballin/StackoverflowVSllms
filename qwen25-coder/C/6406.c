#include <sys/ptrace.h>\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <unistd.h>\n#include <stdio.h>\n\nvoid trace_child(pid_t pid) {\n    int status;\n    ptrace(PTRACE_ATTACH, pid, NULL, NULL);\n    waitpid(pid, &status, 0);\n\n    while (1) {\n        if (WIFEXITED(status)) break;\n\n        ptrace(PTRACE_SYSCALL, pid, NULL, NULL);\n        waitpid(pid, &status, 0);\n\n        if (WIFSTOPPED(status) && WSTOPSIG(status) == SIGTRAP) {\n            pid_t grandchild_id = pid;\n            if (ptrace(PTRACE_GETEVENTMSG, pid, NULL, &grandchild_id) == 0 &&\n                WSTOPSIG(status) == (SIGTRAP | 0x80)) { // New child created\n                printf("New process created with PID: %d\n", grandchild_id);\n            }\n        }\n    }\n\n    ptrace(PTRACE_DETACH, pid, NULL, NULL);\n}\n\nint main() {\n    pid_t pid = fork();\n    if (pid == 0) {\n        execl("/bin/sh", "sh", "-c", "<your_command_here>", NULL);\n    } else {\n        trace_child(pid);\n    }\n    return 0;\n}