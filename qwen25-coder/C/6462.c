#include <windows.h>\n#include <stdio.h>\n\n// Define the data structure and SRWLock\nSRWLOCK rwLock;\nint sharedData = 0;\n\nvoid ReadSharedData() {\n    AcquireSRWLockShared(&rwLock);\n    printf("Thread %d: Reading shared data = %d\n", GetCurrentThreadId(), sharedData);\n    Sleep(10); // Simulate read operation duration\n    ReleaseSRWLockShared(&rwLock);\n}\n\nvoid WriteSharedData(int newData) {\n    AcquireSRWLockExclusive(&rwLock);\n    printf("Thread %d: Writing to shared data\n", GetCurrentThreadId());\n    sharedData = newData;\n    Sleep(10); // Simulate write operation duration\n    ReleaseSRWLockExclusive(&rwLock);\n}\n\nDWORD WINAPI ReaderThread(LPVOID lpParam) {\n    ReadSharedData();\n    return 0;\n}\n\nDWORD WINAPI WriterThread(LPVOID lpParam) {\n    WriteSharedData((int)(intptr_t)lpParam);\n    return 0;\n}\n\nint main() {\n    InitializeSRWLock(&rwLock);\n\n    // Create reader and writer threads\n    HANDLE hReader1 = CreateThread(NULL, 0, ReaderThread, NULL, 0, NULL);\n    HANDLE hWriter = CreateThread(NULL, 0, WriterThread, (LPVOID)42, 0, NULL);\n    HANDLE hReader2 = CreateThread(NULL, 0, ReaderThread, NULL, 0, NULL);\n\n    // Wait for all threads to complete\n    WaitForSingleObject(hReader1, INFINITE);\n    WaitForSingleObject(hWriter, INFINITE);\n    WaitForSingleObject(hReader2, INFINITE);\n\n    CloseHandle(hReader1);\n    CloseHandle(hWriter);\n    CloseHandle(hReader2);\n\n    printf("Main thread: All operations completed.\n");\n\n    return 0;\n}