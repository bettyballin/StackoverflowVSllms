#include <string.h>\n\n#define CACHE_LINE_SIZE 64\n\n// Function attribute to prevent optimization and ensure critical section behaves predictably\nvoid __attribute__((noinline)) critical_function() {\n    // Critical operations here\n}\n\nvoid clear_cache(void* addr, size_t length) {\n    // Clear cache for the range [addr, addr + length)\n    for (unsigned int i = 0; i < length; i += CACHE_LINE_SIZE) {\n        asm volatile("mcr p15, 0, %0, c7, c6, 1" : : "r" (((char*)addr)+i)); // Invalidate data line\n    }\n}\n\nint main() {\n    // Allocate and clear cache for critical section data\n    int* critical_data = memalign(CACHE_LINE_SIZE, 4 * CACHE_LINE_SIZE); // Align to cache line\n    \n    // Ensure the critical function's code is in RAM and not cached\n    asm volatile("dsb" ::: "memory"); // Synchronize memory operations\n    clear_cache(critical_function, (size_t)critical_function_end - (size_t)critical_function);\n    \n    // Warm up caches with predictable pattern if needed\n    memset(critical_data, 0, 4 * CACHE_LINE_SIZE);\n\n    critical_function();\n\n    return 0;\n}