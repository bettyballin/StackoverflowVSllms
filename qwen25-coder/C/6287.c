#include <stdio.h>\n#include <pcap.h>\n\nint main(int argc, char *argv[]) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <pcapfile>\n", argv[0]);\n        return 1;\n    }\n\n    char errbuf[PCAP_ERRBUF_SIZE]; // Buffer to store error messages\n    pcap_t* handle;\n\n    // Open the file for reading\n    if ((handle = pcap_open_offline(argv[1], errbuf)) == NULL) {\n        fprintf(stderr, "Couldn't open file %s: %s\n", argv[1], errbuf);\n        return 2;\n    }\n\n    struct pcap_pkthdr header; // The header that timestamp and length information will be stored.\n    const u_char* packet;\n    int packet_count = 0;\n\n    while ((packet = pcap_next(handle, &header)) != NULL) {\n        ++packet_count;\n    }\n\n    printf("Total packets: %d\n", packet_count);\n\n    // Close the handle when done\n    pcap_close(handle);\n    return 0;\n}