#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <unistd.h>\n#include <sys/types.h>\n#include <sys/socket.h>\n#include <netinet/tcp.h>\n\n#define USER_TIMEOUT_MS 2000 // 2 seconds\n\nint main() {\n    int sockfd = socket(AF_INET, SOCK_STREAM, 0);\n    if (sockfd < 0) {\n        perror("Error opening socket");\n        return 1;\n    }\n\n    int enable = USER_TIMEOUT_MS;\n    if (setsockopt(sockfd, IPPROTO_TCP, TCP_USER_TIMEOUT, &enable, sizeof(enable)) == -1) {\n        perror("Failed setting user timeout");\n        close(sockfd);\n        return 1;\n    }\n\n    // Proceed with rest of your socket setup and operations\n\n    close(sockfd);\n    return 0;\n}