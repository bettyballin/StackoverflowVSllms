#include <pthread.h>\n#include <stdio.h>\n\npthread_mutex_t mtx = PTHREAD_MUTEX_INITIALIZER;\n\nvoid* thread_func(void* arg) {\n    pthread_mutex_lock(&mtx);\n    \n    // Critical section code here\n    \n    printf("Thread %ld executed critical section.\n", (long)arg);\n    \n    pthread_mutex_unlock(&mtx);\n    return NULL;\n}\n\nint main() {\n    pthread_t threads[5];\n    \n    for(long i = 0; i < 5; i++) {\n        pthread_create(&threads[i], NULL, thread_func, (void*)i);\n    }\n    \n    for(int i = 0; i < 5; i++) {\n        pthread_join(threads[i], NULL);\n    }\n    \n    pthread_mutex_destroy(&mtx);\n    return 0;\n}