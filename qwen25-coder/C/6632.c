#include <stdio.h>\n\n// Function to perform modular exponentiation\n// It returns (base^exp) % mod\nlong long mod_exp(long long base, long long exp, long long mod) {\n    if (mod == 1) return 0;\n    long long result = 1;\n    base = base % mod;\n    while (exp > 0) {\n        if (exp % 2 == 1)\n            result = (result * base) % mod;\n        exp = exp >> 1;\n        base = (base * base) % mod;\n    }\n    return result;\n}\n\n// Function to compute tetration modulo some number\nlong long tetration_mod(int base, int tetrate, long long mod) {\n    if (tetrate == 0) return 1 % mod;\n    if (tetrate == 1) return base % mod;\n\n    // Use Euler's theorem for optimization\n    long long phi_mod = euler_totient(mod);\n    long long exp = tetration_mod(base, tetrate - 1, phi_mod);\n\n    return mod_exp(base, exp, mod);\n}\n\n// Function to compute Euler's Totient function\nlong long euler_totient(long long n) {\n    long long result = n;\n    for (int p = 2; (long long)p * p <= n; ++p) {\n        if (n % p == 0) {\n            while (n % p == 0)\n                n /= p;\n            result -= result / p;\n        }\n    }\n    if (n > 1)\n        result -= result / n;\n    return result;\n}\n\nint main() {\n    int base = 5, tetrate = 3;\n    long long mod = 1000; // Example modulus\n    printf("5^^3 modulo %lld is: %lld\n", mod, tetration_mod(base, tetrate, mod));\n    return 0;\n}