#include <glib.h>\n#include <windows.h>\n\nvoid setup_pollfd_from_channel(GIOChannel *channel, GPollFD *pollfd) {\n    // Initialize pollfd with events of interest\n    guint events = G_IO_IN | G_IO_ERR;\n    g_io_channel_win32_make_pollfd(channel, pollfd, GINT_TO_POINTER(events));\n}\n\nint main() {\n    GMainLoop *loop;\n    GIOWin32Channel *win32_channel;\n    GPollFD pollfd;\n\n    // Initialize GLib type system\n    g_type_init();\n\n    // Create a Win32 IPC channel (e.g., a pipe)\n    HANDLE pipe;\n    SECURITY_ATTRIBUTES sa = { sizeof(SECURITY_ATTRIBUTES), NULL, TRUE };\n    pipe = CreateNamedPipe("\\\\.\\pipe\\example_pipe", \n                             PIPE_ACCESS_DUPLEX | FILE_FLAG_OVERLAPPED,\n                             PIPE_TYPE_MESSAGE | PIPE_READMODE_MESSAGE | PIPE_WAIT, \n                             1, \n                             65536, \n                             65536, \n                             0, \n                             &sa);\n\n    if (pipe == INVALID_HANDLE_VALUE) {\n        g_printerr("Failed to create named pipe: %s\n", g_win32_error_message(GetLastError()));\n        return 1;\n    }\n\n    // Create a GIO channel from the Win32 handle\n    win32_channel = g_io_channel_win32_new_fd((gint)pipe);\n\n    // Set up pollfd for channel\n    setup_pollfd_from_channel(G_IO_CHANNEL(win32_channel), &pollfd);\n\n    // Add pollfd to default main context\n    GSource *source = g_poll_source_new(&pollfd, 100);\n    g_source_attach(source, NULL);\n\n    loop = g_main_loop_new(NULL, FALSE);\n    g_timeout_add_seconds(5, (GSourceFunc)g_main_loop_quit, loop); // Quit after 5 seconds\n    g_main_loop_run(loop);\n\n    g_io_channel_unref(G_IO_CHANNEL(win32_channel));\n    CloseHandle(pipe);\n\n    return 0;\n}