#include <sqlite3.h>\n#include <stdio.h>\n\n// User defined function that simply adds two integers\nstatic void my_sum(sqlite3_context *context, int argc, sqlite3_value **argv) {\n    long int sum = 0;\n    for (int i = 0; i < argc; ++i) {\n        if (sqlite3_value_type(argv[i]) == SQLITE_INTEGER) {\n            sum += sqlite3_value_int64(argv[i]);\n        } else {\n            sqlite3_result_error(context, "Invalid argument type", -1);\n            return;\n        }\n    }\n    sqlite3_result_int64(context, sum);\n}\n\nint main() {\n    sqlite3 *db;\n    char err_msg[200];\n    int rc;\n\n    // Open the database\n    rc = sqlite3_open("my_database.db", &db);\n\n    if (rc != SQLITE_OK) {\n        fprintf(stderr, "Cannot open database: %s\n", sqlite3_errmsg(db));\n        return 1;\n    }\n\n    // Register the user-defined function 'my_sum'\n    rc = sqlite3_create_function(db, "my_sum", -1, SQLITE_UTF8, NULL, my_sum, NULL, NULL);\n\n    if (rc != SQLITE_OK) {\n        fprintf(stderr, "Cannot create function: %s\n", sqlite3_errmsg(db));\n        sqlite3_close(db);\n        return 1;\n    }\n\n    // Execute a query that uses the new function\n    char *sql = "SELECT my_sum(10, 20, 30);";\n    rc = sqlite3_exec(db, sql, 0, 0, &err_msg);\n\n    if (rc != SQLITE_OK ) {\n        fprintf(stderr, "Failed to execute statement: %s\n", err_msg);\n        sqlite3_free(err_msg);\n        sqlite3_close(db);\n        return 1;\n    }\n\n    // Close the database\n    sqlite3_close(db);\n\n    return 0;\n}