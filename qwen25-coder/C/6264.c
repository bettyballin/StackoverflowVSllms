int xt_parseXmlResult(xmlDocPtr doc, const char *xpath, assoc_arrayc_t expr, arrayc_t *result) {\n    xmlXPathContextPtr xpathCtx = xmlXPathNewContext(doc);\n\n    if (xpathCtx == NULL) {\n        fprintf(stderr, "Error in xmlXPathNewContext\n");\n        return -1;\n    }\n\n    /* Evaluate main xpath expression */\n    xmlXPathObjectPtr xpathNodes = xmlXPathEvalExpression((xmlChar *)xpath, xpathCtx);\n    if (xpathNodes == NULL || xpathNodes->type != XPATH_NODESET) {\n        fprintf(stderr, "Error in xmlXPathEvalExpression\n");\n        xmlXPathFreeContext(xpathCtx);\n        return -1;\n    }\n\n    /* Now we apply the xpath expressions on each node returned by the first xpath request */\n    int nbDocs = xpathNodes->nodesetval->nodeNr;\n\n    for (int row = 0; row < nbDocs; row++) {\n        xmlXPathContextPtr subCtx = xmlXPathNewNodeContext(xpathNodes->nodesetval->nodeTab[row]);\n        if (subCtx == NULL) {\n            fprintf(stderr, "Error in xmlXPathNewNodeContext\n");\n            continue;\n        }\n\n        for (int col = 0; col < expr.nbItems; col++) {\n            /* Evaluate expression */\n            xmlXPathObjectPtr xpathRows = xmlXPathEvalExpression((xmlChar *)expr.itemList[col].val, subCtx);\n            if (xpathRows == NULL) {\n                fprintf(stderr, "Error in xmlXPathEvalExpression for secondary expression\n");\n                continue;\n            }\n\n            result->data[(row + 1) * result->nbCols + col] = strdup((char *)xmlXPathCastToString(xpathRows));\n            xmlXPathFreeObject(xpathRows);\n        }\n        xmlXPathFreeContext(subCtx);\n    }\n\n    xmlXPathFreeObject(xpathNodes);\n    xmlXPathFreeContext(xpathCtx);\n\n    return 0;\n}