#include <stdbool.h>\n#include <stdio.h>\n\n// This function simulates the long-running task\nint your_function(bool should_stop) {\n    for (int i = 0; i < 100; i++) { // Simulate iterations of work\n        if (should_stop) {  // Check stop condition periodically\n            printf("Task terminated early.\n");\n            return -1; // Return partial result or error code\n        }\n        // Perform some work here\n        printf("Working... %d%% done\n", (i + 1) * 1);\n    }\n    printf("Completed task successfully.\n");\n    return 0; // Return successful completion\n}