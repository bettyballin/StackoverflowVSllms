#include <stdio.h>\n#include <stdlib.h>\n\n#define WIDTH 10\n#define HEIGHT 10\n\ntypedef struct {\n    int x;\n    int y;\n} Point;\n\nvoid floodFill(int* image, int width, int height, int startX, int startY, int targetColor, int replacementColor) {\n    if (image[startY * width + startX] != targetColor || targetColor == replacementColor) return;\n\n    Point* stack = malloc(width * height * sizeof(Point));\n    if (!stack) exit(1); // Allocation failed\n\n    int top = 0;\n    stack[top].x = startX;\n    stack[top++].y = startY;\n\n    while (top > 0) {\n        Point current = stack[--top];\n        int x = current.x;\n        int y = current.y;\n\n        if (image[y * width + x] != targetColor) continue;\n\n        image[y * width + x] = replacementColor;\n\n        // Check and push the adjacent pixels\n        if (x > 0 && image[y * width + (x - 1)] == targetColor)\n            stack[top++].x = x - 1, stack[top++].y = y;\n        if (x < width - 1 && image[y * width + (x + 1)] == targetColor)\n            stack[top++].x = x + 1, stack[top++].y = y;\n        if (y > 0 && image[(y - 1) * width + x] == targetColor)\n            stack[top++].x = x, stack[top++].y = y - 1;\n        if (y < height - 1 && image[(y + 1) * width + x] == targetColor)\n            stack[top++].x = x, stack[top++].y = y + 1;\n    }\n\n    free(stack);\n}\n\nvoid printImage(int* image, int width, int height) {\n    for (int y = 0; y < height; ++y) {\n        for (int x = 0; x < width; ++x)\n            printf("%d ", image[y * width + x]);\n        printf("\n");\n    }\n}\n\nint main() {\n    // Example image\n    int image[HEIGHT][WIDTH] = {\n        {1, 1, 1, 2, 0, 0, 0, 0, 0, 0},\n        {1, 1, 1, 2, 0, 0, 0, 0, 0, 0},\n        {1, 1, 1, 2, 0, 0, 0, 0, 0, 0},\n        {2, 2, 2, 2, 0, 0, 0, 0, 0, 0},\n        {0, 0, 0, 0, 3, 3, 3, 3, 3, 3},\n        {0, 0, 0, 0, 3, 3, 3, 3, 3, 3},\n        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n        {0, 0, 0, 0, 0, 0, 4, 4, 4, 4},\n        {0, 0, 0, 0, 0, 0, 4, 4, 4, 4},\n        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\n    };\n\n    printImage((int*)image, WIDTH, HEIGHT);\n    printf("\nFilling with color 3 starting at (4, 4)\n\n");\n    floodFill((int*)image, WIDTH, HEIGHT, 4, 4, 3, 8);\n    printImage((int*)image, WIDTH, HEIGHT);\n\n    return 0;\n}