#include <stdio.h>\n#include <stdlib.h>\n#include <math.h>\n\n// Function to generate random numbers between 0 and 1\ndouble random_double() {\n    return (double)rand() / RAND_MAX;\n}\n\nvoid generate_positive_semi_definite_matrix(int n, double **matrix) {\n    // Create a temporary matrix A of size nxn with random values\n    double **A = malloc(n * sizeof(double *));\n    for (int i = 0; i < n; i++) {\n        A[i] = malloc(n * sizeof(double));\n        for (int j = 0; j < n; j++) {\n            A[i][j] = random_double();\n        }\n    }\n\n    // Compute B = A * A^T\n    for (int i = 0; i < n; i++) {\n        for (int j = i; j < n; j++) { // Only compute upper triangle and diagonal\n            matrix[i][j] = 0.0;\n            for (int k = 0; k < n; k++) {\n                matrix[i][j] += A[i][k] * A[j][k];\n            }\n            // Matrix is symmetric, fill in lower triangle\n            matrix[j][i] = matrix[i][j];\n        }\n    }\n\n    // Free memory for temporary matrix A\n    for (int i = 0; i < n; i++) {\n        free(A[i]);\n    }\n    free(A);\n}\n\nvoid print_matrix(int n, double **matrix) {\n    for (int i = 0; i < n; i++) {\n        for (int j = 0; j < n; j++) {\n            printf("%f\t", matrix[i][j]);\n        }\n        printf("\n");\n    }\n}\n\nint main() {\n    int n = 4; // Size of the matrix\n    double **matrix = malloc(n * sizeof(double *));\n    for (int i = 0; i < n; i++) {\n        matrix[i] = malloc(n * sizeof(double));\n    }\n\n    generate_positive_semi_definite_matrix(n, matrix);\n\n    printf("Generated positive semi-definite matrix:\n");\n    print_matrix(n, matrix);\n\n    // Free memory\n    for (int i = 0; i < n; i++) {\n        free(matrix[i]);\n    }\n    free(matrix);\n\n    return 0;\n}