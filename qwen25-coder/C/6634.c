#include <stdio.h>\n#include <string.h>\n\nvoid formatFloat(char *buffer, float value) {\n    // Temporary buffer to store the formatted number\n    char temp[50];\n    \n    // Use %g to format initially and check if it's in scientific notation\n    sprintf(temp, "%.17g", value);\n    \n    // Check for scientific notation by looking for 'e' or 'E'\n    if (strchr(temp, 'e') == NULL && strchr(temp, 'E') == NULL) {\n        // If not in scientific notation, remove unnecessary trailing zeros after decimal\n        char *dot = strchr(temp, '.');\n        if (dot != NULL) {\n            while (*(dot + 1) == '0' || *(dot + 1) == '\0') {\n                *(dot + 1) = '\0';\n                dot--;\n            }\n        }\n    } else {\n        // If in scientific notation format without trailing zeros\n        sprintf(temp, "%.17g", value);\n    }\n    \n    strcpy(buffer, temp);\n}\n\nint main() {\n    float myFloat = 15.6f;\n    float myInt = 5.0f;\n    float myLarge = 7000000.0f;\n\n    char buf[100];\n\n    formatFloat(buf, myFloat);\n    printf("my float is %s\n", buf);\n\n    formatFloat(buf, myInt);\n    printf("my int is %s\n", buf);\n\n    formatFloat(buf, myLarge);\n    printf("my large is %s\n", buf);\n\n    // Example with embedded format strings\n    char embedded[200];\n    sprintf(embedded, "%d ", (int)myInt);\n    formatFloat(buf, myFloat);\n    strcat(embedded, buf);\n    printf("Embedded: %s\n", embedded);\n\n    return 0;\n}