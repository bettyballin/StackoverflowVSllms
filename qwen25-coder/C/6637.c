#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <glib.h>\n\nvoid count_words(const char *filename) {\n    FILE *file = fopen(filename, "r");\n    if (!file) {\n        perror("Failed to open file");\n        return;\n    }\n\n    GHashTable *word_count = g_hash_table_new_full(g_str_hash, g_str_equal, free, NULL);\n    char buffer[1024];\n    while (fgets(buffer, sizeof(buffer), file)) {\n        char *word = strtok(buffer, " \t\n.,!?\"'");\n        while (word) {\n            // Convert word to lowercase for case-insensitive comparison\n            char *lower_word = g_ascii_strdown(word, -1);\n            \n            gpointer current_count_ptr = g_hash_table_lookup(word_count, lower_word);\n            int current_count = current_count_ptr ? GPOINTER_TO_INT(current_count_ptr) : 0;\n            g_hash_table_insert(word_count, lower_word, GINT_TO_POINTER(current_count + 1));\n            \n            word = strtok(NULL, " \t\n.,!?\"'");\n        }\n    }\n\n    fclose(file);\n\n    // Print the words and their counts\n    GList *keys = g_hash_table_get_keys(word_count);\n    keys = g_list_sort(keys, (GCompareFunc)strcmp);  // Optional: sort keys alphabetically\n    for (GList *l = keys; l != NULL; l = l->next) {\n        printf("%s: %d\n", (char *)l->data, GPOINTER_TO_INT(g_hash_table_lookup(word_count, l->data)));\n    }\n\n    g_list_free(keys);\n    g_hash_table_destroy(word_count);\n}\n\nint main(int argc, char *argv[]) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <filename>\n", argv[0]);\n        return EXIT_FAILURE;\n    }\n    \n    count_words(argv[1]);\n    return EXIT_SUCCESS;\n}