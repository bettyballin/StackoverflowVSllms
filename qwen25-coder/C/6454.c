#include <stdio.h>\n#include <stdlib.h>\n#include <time.h>\n\n// Function that runs OCIStmtExecute with a timeout\nint runWithTimeout(OCIEnv *envhp, OCISvcCtx *svchp, OCIStmt *stmthp, int timeoutSecs) {\n    time_t startTime = time(NULL);\n    time_t currentTime;\n    int status;\n\n    do {\n        // Execute your statement here\n        status = OCIStmtExecute(svchp, stmthp, errhp, (ub4)1, (ub4)0,\n                                (OCISnapshot *)NULL, (OCISnapshot *)NULL, OCI_DEFAULT);\n\n        if (status != OCI_SUCCESS && status != OCI_NEED_DATA) {\n            // Handle error\n            break;\n        }\n\n        currentTime = time(NULL);\n    } while (difftime(currentTime, startTime) < timeoutSecs && status == OCI_STILL_EXECUTING);\n\n    if (currentTime - startTime >= timeoutSecs && status == OCI_STILL_EXECUTING) {\n        // Cancel the statement or handle timeout\n        OCIBreak(envhp, svchp);\n        printf("Query timed out\n");\n        return 1; // Timeout occurred\n    }\n\n    return 0; // Success\n}