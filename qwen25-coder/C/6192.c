#include <stdint.h>\n\ninline unsigned char _bittestandset(unsigned long *a, unsigned long b)\n{\n    unsigned char result;\n    __asm__ volatile (\n        "lock; bts %2, (%1);\n"\n        "lahf;\n"                  // Load the AH register with flags\n        "shrl $15, %%eax;\n"       // Shift right 15 to get the zero flag in lower bits of EAX\n        : "=a"(result)             // Output: result is stored in result variable\n        : "r"(a), "r"(b)           // Input: pointer and bit index\n        : "%memory", "%eax"        // Clobbered registers\n    );\n    return result;\n}