#define ARRAY_LEN 262144\n\nlong *sourceArrayPointer = getSourceArray();\nlong sourceArray[ARRAY_LEN];\nfor (int i = 0; i < ARRAY_LEN; i++) {\n    sourceArray[i] = sourceArrayPointer[i];\n}\n\nconst size_t totalBytes = sizeof(long) * ARRAY_LEN;\nsize_t bytesSent = 0;\n\nwhile (bytesSent < totalBytes) {\n    ssize_t result = send(clientSocketFD, sourceArray + bytesSent / sizeof(long), totalBytes - bytesSent, 0);\n    if (result <= 0) break; // Handle error or break condition\n    bytesSent += result;\n}