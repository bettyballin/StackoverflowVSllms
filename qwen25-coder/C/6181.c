#include <gtk/gtk.h>\n\ntypedef struct {\n    int last_x;\n    int last_y;\n} WindowState;\n\nvoid mycallback(GtkWindow* parentWindow, GdkEventConfigure* event, gpointer data) {\n    WindowState *state = (WindowState*)data;\n\n    if (event->x != state->last_x || event->y != state->last_y) {\n        // Window has moved\n        g_print("Window moved to: %d, %d\n", event->x, event->y);\n        \n        // Update last known position\n        state->last_x = event->x;\n        state->last_y = event->y;\n    }\n    // Event will continue to propagate for resizing and other operations.\n}\n\nint main(int argc, char *argv[]) {\n    gtk_init(&argc, &argv);\n\n    GtkWidget* window = gtk_window_new(GTK_WINDOW_TOPLEVEL);\n    g_signal_connect(window, "configure-event", G_CALLBACK(mycallback), NULL);\n\n    WindowState state = {0};\n    g_object_set_data(G_OBJECT(window), "window-state", &state);\n\n    g_signal_connect(window, "delete-event", G_CALLBACK(gtk_main_quit), NULL);\n\n    gtk_widget_show_all(window);\n    gtk_main();\n\n    return 0;\n}