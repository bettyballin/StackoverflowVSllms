#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/fs.h>       /* for basic filesystem stuff */\n#include <linux/file.h>\n#include <linux/uaccess.h>\n#include <linux/slab.h>\n\n#define FIFO_PATH "/usr/src/fifo_test"\n\nstatic int __init start(void)\n{\n    struct file *filp;\n    char *buf = "Hello from kernel!";\n    ssize_t bytes_written;\n\n    /* Open the FIFO as writing-only */\n    filp = filp_open(FIFO_PATH, O_WRONLY | O_CREAT, 0644);\n    if (IS_ERR(filp)) {\n        pr_err("Failed to open FIFO: %ld\n", PTR_ERR(filp));\n        return PTR_ERR(filp);\n    }\n\n    /* Write data to the FIFO */\n    bytes_written = kernel_write(filp, buf, strlen(buf), &filp->f_pos);\n    if (bytes_written < 0) {\n        pr_err("Failed to write to FIFO: %zd\n", bytes_written);\n    } else {\n        pr_info("Written %zd bytes to FIFO.\n", bytes_written);\n    }\n\n    /* Close the FIFO */\n    filp_close(filp, NULL);\n\n    return 0;\n}\n\nstatic void __exit end(void)\n{\n    printk(KERN_INFO "Cleanup module\n");\n}\n\nmodule_init(start);\nmodule_exit(end);\nMODULE_LICENSE("GPL");