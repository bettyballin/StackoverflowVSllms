#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef int (*func_ptr)();\n\n// Example function\nint somefunc(int param1, double param2) {\n    printf("Function called with %d and %f\n", param1, (float)param2);\n    return 1234;\n}\n\n// Function registry example\nstruct FunctionRegistry {\n    func_ptr ptr;\n    const char* name;\n    const char* sig;\n};\n\nstruct FunctionRegistry functions[10];\nint function_count = 0;\n\nvoid REG_FUNCTION(func_ptr fptr, const char* name, const char* sig) {\n    if (function_count < 10) {\n        functions[function_count].ptr = fptr;\n        functions[function_count].name = strdup(name);\n        functions[function_count].sig = strdup(sig);\n        function_count++;\n    } else {\n        fprintf(stderr, "Cannot register more functions\n");\n    }\n}\n\nfunc_ptr find_function(const char* name) {\n    for (int i = 0; i < function_count; ++i) {\n        if (!strcmp(functions[i].name, name)) {\n            return functions[i].ptr;\n        }\n    }\n    return NULL;\n}\n\nconst char* find_signature(const char* name) {\n    for (int i = 0; i < function_count; ++i) {\n        if (!strcmp(functions[i].name, name)) {\n            return functions[i].sig;\n        }\n    }\n    return NULL;\n}\n\nvoid call_function(func_ptr func, const char* sig, const char* params) {\n    va_list ap;\n    va_start(ap, params);\n\n    // Manual parsing of the signature\n    if (strcmp(sig, "i:d") == 0) { // Matches 'int', 'double'\n        int a = *(int*)params; // Assuming first argument is int\n        double b = *(double*)(params + sizeof(int)); // Next argument is double\n        func(a, b);\n    } else {\n        printf("Unknown signature: %s\n", sig);\n    }\n\n    va_end(ap);\n}\n\nint main() {\n    REG_FUNCTION(somefunc, "somefunc", "i:d");\n\n    func_ptr func = find_function("somefunc");\n    const char* sig = find_signature("somefunc");\n\n    if (func && sig) {\n        int a = 5;\n        double b = 3.14;\n\n        call_function(func, sig, (char*)&a);\n        // This is problematic! The next line assumes 'b' follows 'a' in memory,\n        // which may not be the case due to padding and alignment.\n        call_function(func, sig, ((char*)&a) + sizeof(a)); \n    } else {\n        printf("Function or signature not found\n");\n    }\n\n    return 0;\n}