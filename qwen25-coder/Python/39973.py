from django import forms\nfrom .models import YourModel\n\nclass YourModelForm(forms.ModelForm):\n    class Meta:\n        model = YourModel\n        fields = '__all__'\n\n    def clean_nzb(self):\n        file = self.cleaned_data.get('nzb')\n        if not file.name.endswith('.xml'):\n            raise forms.ValidationError("File must be an XML.")\n        \n        try:\n            # Replace with actual parsing logic\n            import xml.etree.ElementTree as ET\n            tree = ET.parse(file)\n            root = tree.getroot()\n            # Check for specific attributes or structure\n            if not root.find('some_element'):\n                raise forms.ValidationError("XML is missing required element.")\n        except Exception as e:\n            raise forms.ValidationError(f"Error processing file: {str(e)}")\n        \n        return file