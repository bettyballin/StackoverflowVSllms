import pandas as pd\nfrom sklearn.metrics.pairwise import cosine_similarity\n\n# Sample data\nusers = {'userid': [1, 2],\n         'username': ['aaa', 'bbb']}\n\nproducts = {'productid': [1, 2, 3],\n            'productname': ['laptop', 'mobile phone', 'car']}\n\nusers_products = {'userid': [1, 1, 2, 2],\n                  'productid': [1, 3, 2, 3]}\n\n# Create DataFrames\ndf_users = pd.DataFrame(users)\ndf_products = pd.DataFrame(products)\ndf_users_products = pd.DataFrame(users_products)\n\n# Create a user-product matrix (0/1 values based on purchases)\nuser_product_matrix = df_users_products.pivot_table(index='userid', columns='productid', aggfunc='size', fill_value=0)\n\n# Calculate cosine similarity between users\nsimilarity_matrix = cosine_similarity(user_product_matrix)\nsimilarity_df = pd.DataFrame(similarity_matrix, index=user_product_matrix.index, columns=user_product_matrix.index)\n\nprint(similarity_df)