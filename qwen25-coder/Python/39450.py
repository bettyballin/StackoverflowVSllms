function parseConfig(input):\n    lines = split_input_into_lines(input)\n    root_section = create_new_section("Root", null)\n    current_section = root_section\n\n    stack_of_sections = [root_section]  // using a list as a stack\n\n    for each line in lines:\n        trimmed_line = trim_whitespace(line)\n        \n        if line starts with "BeginSection:":\n            section_name = extract_section_name(line)\n            new_section = create_new_section(section_name, current_section)\n            current_section.add_child(new_section)\n            push_to_stack(stack_of_sections, new_section)\n            current_section = top_of_stack(stack_of_sections)\n\n        else if line starts with "EndSection":\n            pop_from_stack(stack_of_sections)  // go up one level\n            if not stack is empty:\n                current_section = top_of_stack(stack_of_sections)\n\n        else if line contains "=":\n            key, value = extract_key_value_pair(line)\n            current_section.add_key_value(key, value)\n\n    return root_section\n\nfunction create_new_section(name, parent):\n    // Create a new section object and set its properties\n    ...