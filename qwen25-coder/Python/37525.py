from sqlalchemy import create_engine, MetaData, Table, Column, Integer, String\nfrom sqlalchemy.orm import sessionmaker, mapper\n\n# Set up the database engine and metadata\nengine = create_engine('sqlite:///:memory:')\nmetadata = MetaData()\n\n# Define a table using SQLAlchemy's Table constructs\nusers_table = Table('users', metadata,\n                    Column('id', Integer, primary_key=True),\n                    Column('name', String),\n                    Column('age', Integer))\n\n# Create the table in the database\nmetadata.create_all(engine)\n\n# Define a simple Python class to represent the users table\nclass User(object):\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n# Map the User class to the users table\nmapper(User, users_table)\n\n# Create a session to interact with the database\nSession = sessionmaker(bind=engine)\nsession = Session()\n\n# Example of adding a new user (Create)\nnew_user = User(name='John Doe', age=30)\nsession.add(new_user)\nsession.commit()\n\n# Example of querying users (Read)\nusers = session.query(User).filter_by(name='John Doe').all()\nfor user in users:\n    print(f"Name: {user.name}, Age: {user.age}")\n\n# Close the session\nsession.close()