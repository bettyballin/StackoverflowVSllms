import paramiko\nfrom os import environ\n\n# Using environment variables for secure storage of credentials\nhost = environ.get('SFTP_HOST', 'THEHOST.com')\nport = 22\nusername = environ.get('SFTP_USER', 'THEUSERNAME')\npassword = environ.get('SFTP_PASS', 'THEPASSWORD')\ntarget_directory = environ.get('SFTP_TARGET_DIR', './THETARGETDIRECTORY/')\n\n# Initialize the SSH client and connect to the SFTP server\ntry:\n    transport = paramiko.Transport((host, port))\n    transport.connect(username=username, password=password)\n    sftp = paramiko.SFTPClient.from_transport(transport)\n\n    # Get local file path from command line arguments\n    import sys\n    if len(sys.argv) < 2:\n        raise ValueError("Usage: script.py filename")\n    localpath = sys.argv[1]\n    remotepath = target_directory + system.basename(localpath)\n\n    # Upload the file\n    sftp.put(localpath, remotepath)\n    print(f'Upload of {localpath} to {remotepath} done.')\n\nfinally:\n    if 'sftp' in locals() and sftp is not None:\n        sftp.close()\n    if 'transport' in locals() and transport is not None:\n        transport.close()