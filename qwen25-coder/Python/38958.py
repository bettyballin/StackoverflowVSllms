import sqlite3\n\ndef get_or_insert_artist(db, artist_name):\n    cursor = db.cursor()\n    cursor.execute("INSERT OR IGNORE INTO Artists (Name) VALUES (?)", (artist_name,))\n    db.commit()\n    cursor.execute("SELECT ArtistID FROM Artists WHERE Name = ?", (artist_name,))\n    return cursor.fetchone()[0]\n\ndef get_or_insert_album(db, album_title, artist_id):\n    cursor = db.cursor()\n    cursor.execute("INSERT OR IGNORE INTO Albums (Title, ArtistID) VALUES (?, ?)", (album_title, artist_id))\n    db.commit()\n    cursor.execute("SELECT AlbumID FROM Albums WHERE Title = ? AND ArtistID = ?", (album_title, artist_id))\n    return cursor.fetchone()[0]\n\ndef get_or_insert_genre(db, genre_name):\n    cursor = db.cursor()\n    cursor.execute("INSERT OR IGNORE INTO Genres (Name) VALUES (?)", (genre_name,))\n    db.commit()\n    cursor.execute("SELECT GenreID FROM Genres WHERE Name = ?", (genre_name,))\n    return cursor.fetchone()[0]\n\ndef insert_song(db, title, file_path, album_id, genre_id):\n    cursor = db.cursor()\n    cursor.execute("INSERT OR IGNORE INTO Songs (Title, FilePath, AlbumID, GenreID) VALUES (?, ?, ?, ?)", \n                   (title, file_path, album_id, genre_id))\n    db.commit()\n\ndef store_to_db(tags_list):\n    connection = sqlite3.connect('mp3_database.db')\n    for tags in tags_list:\n        artist_id = get_or_insert_artist(connection, tags['artist'])\n        album_id = get_or_insert_album(connection, tags['album'], artist_id)\n        genre_id = get_or_insert_genre(connection, tags['genre'])\n        insert_song(connection, tags['title'], tags['file_path'], album_id, genre_id)\n    connection.close()\n\n# Example usage\nstore_to_db(all_tags)