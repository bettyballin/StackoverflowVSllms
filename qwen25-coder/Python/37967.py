from google.oauth2.service_account import Credentials\nfrom googleapiclient.discovery import build\n\n# Set up credentials and service\ncredentials = Credentials.from_service_account_file('path/to/your/service-account-file.json', scopes=['https://www.googleapis.com/auth/analytics.readonly'])\nanalytics = build('analyticsreporting', 'v4', credentials=credentials)\n\ndef get_report(analytics):\n    return analytics.reports().batchGet(\n        body={\n            'reportRequests': [\n                {\n                    'viewId': 'YOUR_VIEW_ID',\n                    'dateRanges': [{'startDate': '30daysAgo', 'endDate': 'today'}],\n                    'metrics': [{'expression': 'ga:sessions'}, {'expression': 'ga:totalEvents'}]\n                }]\n        }\n    ).execute()\n\nresponse = get_report(analytics)\n# Process response to extract data