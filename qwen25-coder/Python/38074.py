import os\nimport sqlite3\n\ndef update_database(db_path, directory):\n    connection = sqlite3.connect(db_path)\n    cursor = connection.cursor()\n    \n    # Update file status and remove non-existent files\n    for row in cursor.execute("SELECT id, filename FROM songs"):\n        file_id, filename = row\n        file_path = os.path.join(directory, filename)\n        \n        if not os.path.exists(file_path):\n            cursor.execute("UPDATE songs SET status='unavailable' WHERE id=?", (file_id,))\n        else:\n            cursor.execute("UPDATE songs SET status='available' WHERE id=?", (file_id,))\n    \n    # Remove entries for files that no longer exist\n    cursor.execute("DELETE FROM songs WHERE status='unavailable'")\n    connection.commit()\n    connection.close()\n\n# Call the function with your database path and directory\nupdate_database('music_collection.db', '/path/to/music/folder')