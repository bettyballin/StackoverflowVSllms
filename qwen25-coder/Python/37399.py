import imaplib\nimport email\n\n# Connect to the server\nmail = imaplib.IMAP4_SSL('imap.gmail.com')\n\n# Login to your account\nmail.login('your-email@gmail.com', 'your-password')  # Consider using an App Password if you have 2FA enabled\n\n# Select a mailbox. In Gmail, all messages are in "[Gmail]/All Mail"\n# You can also switch to specific labels/flags, e.g., "[Gmail]/Sent Mail"\nmail.select('"[Gmail]/All Mail"')\n\n# Search by label\nstatus, data = mail.search(None, 'X-GM-LABELS', '"YourLabelName"')\n\nif status == "OK":\n    # Get all email IDs that match the search criteria\n    email_ids = data[0].split()\n    for e_id in email_ids:\n        # Fetch each email by ID\n        result, email_data = mail.fetch(e_id, '(RFC822)')\n        raw_email = email_data[0][1]\n        \n        # Convert bytes to a string and parse the email\n        msg = email.message_from_bytes(raw_email)\n        print(f"Subject: {msg['subject']}")\nelse:\n    print('No emails found or an error occurred')\n\n# Logout from server\nmail.logout()