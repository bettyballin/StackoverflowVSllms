window_size = int(sample_rate * 0.1)  # Example: 100ms\n     hop_length = window_size // 2\n\n     for start in range(0, len(data), hop_length):\n         audio_frame = data[start:start + window_size]\n         if len(audio_frame) < window_size:\n             break  # Last segment may be shorter\n         fft_result = np.fft.rfft(audio_frame)\n         magnitude = np.abs(fft_result)\n         freqs = np.fft.rfftfreq(len(audio_frame), d=1./sample_rate)\n\n         # Peak detection logic here