import os\nimport MySQLdb\nimport time\n\n# Establish a database connection\ndb = MySQLdb.connect(host="localhost", user="root", passwd="********", db="workspace")\ncursor = db.cursor()\n\n# Tail the logfile\ntailoutputfile = os.popen('tail -f syslog.log')\nwhile 1:\n    x = tailoutputfile.readline()\n    if len(x) == 0:\n        break\n    y = x.split()\n    \n    # Check for 'BAD' and insert into database\n    if y[2] == 'BAD':\n        timestring = time.strftime("%Y-%m-%d %H:%M:%S", time.localtime(time.time()))\n        cursor.execute("INSERT INTO releases (date, cat, name) VALUES (%s, %s, %s)", \n                       (timestring, y[4], y[7]))\n        db.commit()  # Don't forget to commit your transaction\n    \n    # Check for 'GOOD' and print\n    if y[2] == 'GOOD':\n        print(y[4] + '\t' + y[7])\n\n# Close the cursor and connection\ncursor.close()\ndb.close()