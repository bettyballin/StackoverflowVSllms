from django.contrib import admin\n   from .models import Client\n\n   class ClientAdmin(admin.ModelAdmin):\n       def get_queryset(self, request):\n           qs = super(ClientAdmin, self).get_queryset(request)\n           if request.user.is_superuser:\n               return qs\n           \n           # Custom logic to filter clients based on stores the user is linked to.\n           return qs.filter(stores__in=request.user.stores.all())\n\n       def has_view_permission(self, request, obj=None):\n           if super(ClientAdmin, self).has_view_permission(request, obj):\n               return True\n           \n           if obj and obj in get_objects_for_user(request.user, 'view_client', klass=Client):\n               return True\n\n       def has_change_permission(self, request, obj=None):\n           if super(ClientAdmin, self).has_change_permission(request, obj):\n               return True\n           \n           if obj and obj in get_objects_for_user(request.user, 'change_client', klass=Client):\n               return True