from django.http import HttpResponseRedirect, HttpResponse\nfrom django.core.files.storage import FileSystemStorage\nimport requests\n\ndef upload_file(request):\n    if request.method == 'POST' and request.FILES['file']:\n        myfile = request.FILES['file']\n        fs = FileSystemStorage()\n        filename = fs.save(myfile.name, myfile)\n        uploaded_file_url = fs.url(filename)\n\n        # Send file to Scribd API\n        scribd_api_url = "https://api.scribd.com/api/content/v2/docs/upload"\n        api_key = 'YOUR_API_KEY'\n        access_token = 'YOUR_ACCESS_TOKEN'\n\n        response = requests.post(\n            scribd_api_url,\n            data={\n                'access_token': access_token,\n                'file_type': myfile.name.split('.')[-1],\n                'title': myfile.name\n            },\n            files={'file': open(uploaded_file_url[1:], 'rb')}\n        )\n\n        if response.status_code == 200:\n            return HttpResponse("File uploaded successfully to Scribd!")\n        else:\n            return HttpResponse(f"Failed to upload file: {response.text}")\n\n    return HttpResponseRedirect('/upload/')