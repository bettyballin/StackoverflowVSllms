import re\n\ndef parse_address(address):\n    # This is a very basic regex for demonstration purposes and might not cover all edge cases.\n    pattern = r'^(?P<street>\d+ \w+(?: [\w]+)?)(?:, (?P<city>[^\s,]+))?(?:, (?P<province>[A-Z]{2}))?$'\n    match = re.match(pattern, address)\n    \n    if match:\n        return match.groupdict()\n    else:\n        raise ValueError("Address format not supported or invalid.")\n\n# Example usage\ntry:\n    parsed_address = parse_address("22 Main St, Kitchener, ON")\n    print(parsed_address)\nexcept ValueError as e:\n    print(e)