from django.contrib.auth.models import User\nfrom django.test import TestCase, Client\nfrom myapp.models import MyModel  # Replace with your actual model\n\nclass AdminActionTestCase(TestCase):\n    def setUp(self):\n        self.client = Client()\n        # Create a user which can log into the admin site\n        self.user = User.objects.create_superuser('admin', 'email@example.com', 'password')\n        self.model_instance = MyModel.objects.create(name='Test')\n\n    def test_my_custom_action(self):\n        # Log in to admin\n        self.client.login(username='admin', password='password')\n        \n        response = self.client.post('/admin/myapp/mymodel/',\n                                    data={'action': 'my_custom_action', '_selected_action': [str(self.model_instance.id)]},\n                                    follow=True)\n        \n        # Check appropriate response status and messages\n        self.assertRedirects(response, '/admin/myapp/mymodel/')\n        self.assertEqual(len(response.context['messages']), 1)\n        message = list(response.context['messages'])[0]\n        self.assertEqual(str(message), "Action completed successfully.")