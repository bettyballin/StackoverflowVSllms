def tail(f, n, offset=0):\n    """Reads n lines from f with an offset of offset lines."""\n    buf_size = 1024  # Read in chunks of 1KB\n    lines = []\n    while len(lines) < (n + offset) and f.tell() > 0:\n        try:\n            f.seek(-buf_size, os.SEEK_CUR)\n        except IOError:  # If the position to seek is negative\n            f.seek(0)\n        \n        data = f.read(buf_size)\n        if '\n' in data:\n            lines.extend(data.splitlines())\n        \n        f.seek(-len(data), os.SEEK_CUR)  # Move cursor back to before read\n    \n    return lines[-n-offset:n-offset] if offset else lines[-n:]\n\n# Usage example:\nwith open('logfile.log', 'r') as f:\n    last_10_lines = tail(f, 10)\n    print(last_10_lines)