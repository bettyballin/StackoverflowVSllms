import logging\n\n# Setup basic logging configuration\nlogging.basicConfig(filename='ip_monitor.log', level=logging.INFO)\n\ndef log_user_ip(user_id, ip_address):\n    """Logs user IP address."""\n    logging.info(f"User ID: {user_id}, IP Address: {ip_address}")\n\ndef detect_same_ip_usage(ip_log, threshold=3):\n    """Detects if an IP is used by more users than a given threshold."""\n    ip_count = {}\n    \n    # Count occurrences of each IP\n    for entry in ip_log:\n        ip = entry['ip']\n        if ip not in ip_count:\n            ip_count[ip] = 0\n        ip_count[ip] += 1\n    \n    # Detect IPs used by more than the threshold number of unique users\n    suspicious_ips = {ip: count for ip, count in ip_count.items() if count > threshold}\n    \n    return suspicious_ips\n\n# Example usage\nif __name__ == "__main__":\n    user_ip_log = [\n        {'user_id': 1, 'ip': '192.168.1.1'},\n        {'user_id': 2, 'ip': '192.168.1.1'},\n        {'user_id': 3, 'ip': '192.168.1.1'},\n        {'user_id': 4, 'ip': '192.168.1.2'}\n    ]\n    \n    for entry in user_ip_log:\n        log_user_ip(entry['user_id'], entry['ip'])\n    \n    suspicious_ips = detect_same_ip_usage(user_ip_log)\n    if suspicious_ips:\n        print("Suspicious IPs:", suspicious_ips)