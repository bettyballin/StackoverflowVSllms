def reverse(arr, start, end):\n    while start < end:\n        arr[start], arr[end] = arr[end], arr[start]\n        start += 1\n        end -= 1\n\ndef circular_shift(arr, M):\n    n = len(arr)\n    M %= n  # In case M is greater than n\n    reverse(arr, 0, n - 1)     # Reverse the whole array\n    reverse(arr, 0, M - 1)     # Reverse the first part up to M-1 index\n    reverse(arr, M, n - 1)     # Reverse the remaining part from M\n\n# Example usage:\narr = [3, 4, 5, 2, 3, 1, 4]\nM = 2\ncircular_shift(arr, M)\nprint(arr)  # Output will be [1, 4, 3, 4, 5, 2, 3]