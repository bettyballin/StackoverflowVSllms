import os\n\n   def split_pdf_with_ghostscript(input_path, output_folder):\n       base_name = os.path.splitext(os.path.basename(input_path))[0]\n       command = f"gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -dFirstPage={{page}} -dLastPage={{page}} -sOutputFile='{output_folder}/{{basename}}_{{page_number:04d}}.pdf' {input_path}"\n       \n       for page_number in range(1, get_page_count(input_path) + 1):\n           os.system(command.format(page=f"{page_number}", basename=base_name, page_number=page_number))\n\n   def get_page_count(pdf_path):\n       document = fitz.open(pdf_path)\n       return len(document)