from bs4 import BeautifulSoup\n\ndef split_html_by_words(html_content, n_words):\n    soup = BeautifulSoup(html_content, 'html.parser')\n    words = []\n    \n    for element in soup.descendants:\n        if element.name is None:  # Check if it's not a tag but a string\n            text = element.string.strip()\n            words.extend(text.split())\n        \n        # Stop if we have enough words\n        if len(words) >= n_words:\n            break\n\n    new_content = []\n    current_word_count = 0\n\n    for element in soup.descendants:\n        if element.name is None:  # It's a string, split by words and append up to limit\n            text_parts = element.string.split()\n            part_to_append = ' '.join(text_parts[:n_words - current_word_count])\n            new_content.append(part_to_append)\n            current_word_count += len(text_parts[:n_words - current_word_count])\n        else:  # It's a tag, append as is\n            if current_word_count < n_words:\n                new_content.append(str(element))\n            else:\n                break\n\n    result_soup = BeautifulSoup(''.join(new_content), 'html.parser')\n    \n    # Ensure tags are closed properly\n    return str(result_soup)\n\n# Example usage\nhtml_string = '''<p>This is some text with a \n  <a href="http://www.example.com/" title="Example link">\n     bit of linked text in it\n  </a>.\n</p>'''\n\nprint(split_html_by_words(html_string, 5))\nprint(split_html_by_words(html_string, 7))