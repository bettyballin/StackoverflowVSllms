import os\n\ndef remove_stubs(file_list):\n    previous_tail = ""\n    \n    for i in range(len(file_list) - 1):\n        current_file = file_list[i]\n        next_file = file_list[i + 1]\n        \n        with open(current_file, 'r') as f:\n            content = f.read()\n        \n        # Split the content of the current file into lines\n        content_lines = content.splitlines()\n        \n        # Read the head of the next file to compare\n        with open(next_file, 'r') as f:\n            next_content_head = f.readline().strip()\n        \n        # Check and remove if the tail matches the head of the next file\n        while content_lines and content_lines[-1].strip() == next_content_head:\n            content_lines.pop(-1)\n        \n        # Write back to the current file\n        with open(current_file, 'w') as f:\n            for line in content_lines[:-1]:  # Exclude last empty line if exists\n                f.write(line + '\n')\n        \n        # Update previous tail for next iteration\n        previous_tail = content_lines[-1] if content_lines else ""\n\n# List all files and sort them assuming they are named correctly\nfiles_path = '/path/to/your/files/'\nfile_list = sorted([os.path.join(files_path, f) for f in os.listdir(files_path) if f.endswith('.txt')])\n\nremove_stubs(file_list)