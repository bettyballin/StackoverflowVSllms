from django.db import connection\n\ndef get_coalesced_value(subquery, default):\n    if connection.vendor == 'sqlite':\n        return f"COALESCE({subquery}, {default})"\n    elif connection.vendor == 'postgresql':\n        return f"COALESCE({subquery}, '{default}'::text)"  # Adjust casting as necessary\n    else:\n        raise ValueError("Unsupported database backend")\n\n# Usage in a query\nfrom django.db.models import RawSQL\n\nMyModel.objects.annotate(\n    coalesced_field=RawSQL(get_coalesced_value('field_name', 'default_value'), [])\n)