from flask import Flask, request, redirect, url_for\n\napp = Flask(__name__)\n\n@app.before_request\ndef restrict_access():\n    # Simulate checking an Authorization header\n    auth_header = request.headers.get('Authorization')\n    if not is_token_valid(auth_header):\n        return redirect(url_for('login'))\n\ndef is_token_valid(token_header):\n    # This function should interact with your token validation logic\n    # For demonstration, let's assume a simple always true check\n    # You would replace this with actual token validation code\n    return True  # or False based on your validation\n\n@app.route('/login')\ndef login():\n    return "Please log in"\n\n@app.route('/')\ndef index():\n    return "Welcome to the secure area!"\n\nif __name__ == '__main__':\n    app.run()