function hasPerfectMatching(tree):\n    n = numberOfVertices(tree)\n    \n    // Early exit: if the number of vertices is odd, there cannot be a perfect matching\n    if n % 2 != 0:\n        return false\n    \n    // Perform DFS to confirm and also check structure validity\n    visited = array of size n initialized with false\n    dfsVisit(0, -1)  // Start DFS from vertex 0\n\n    return true  // If we reach here, the tree must have a perfect matching as number of vertices is even\n\nfunction dfsVisit(u, parent):\n    visited[u] = true\n    \n    for each v in adjacencyList[u]:\n        if not visited[v]:\n            dfsVisit(v, u)