import os\nimport sys\n\ndef daemonize():\n    # First fork: detach from parent\n    pid = os.fork()\n    if pid > 0:\n        # Parent exits\n        sys.exit(0)\n    elif pid == 0:\n        # Become session leader and detach from controlling terminal\n        os.setsid()\n\n        # Second fork: ensure process does not acquire a controlling terminal\n        pid = os.fork()\n        if pid > 0:\n            # First child exits\n            sys.exit(0)\n\n        # Redirect standard file descriptors to /dev/null\n        sys.stdout.flush()\n        sys.stderr.flush()\n        si = open('/dev/null', 'r')\n        so = open('/dev/null', 'a+')\n        se = open('/dev/null', 'a+')\n\n        os.dup2(si.fileno(), sys.stdin.fileno())\n        os.dup2(so.fileno(), sys.stdout.fileno())\n        os.dup2(se.fileno(), sys.stderr.fileno())\n\nif __name__ == "__main__":\n    daemonize()\n    # Daemon process code here