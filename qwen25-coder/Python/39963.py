import paramiko\n\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect(server, username=username)\n\n# Start an interactive shell session\nchannel = ssh.invoke_shell()\n\n# Send the command\nchannel.send("psql -U factory -d factory -f /tmp/data.sql\n")\n\n# Wait for the password prompt and then send the password\nif channel.recv_ready():\n    while True:\n        # Read the output from the server\n        response = channel.recv(1024).decode()\n        print(response)\n\n        # Check if the response contains the password prompt\n        if "Password:" in response:\n            channel.send(password + "\n")\n            break\n\n# Optionally, you can continue to check for further prompts or outputs\nwhile channel.recv_ready():\n    response = channel.recv(1024).decode()\n    print(response)\n\nssh.close()