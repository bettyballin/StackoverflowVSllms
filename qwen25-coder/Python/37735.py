class StackWithQueuesB:\n    def __init__(self):\n        self.queue1 = deque()\n        self.queue2 = deque()\n\n    def push(self, x):\n        self.queue2.append(x)\n        while self.queue1:\n            self.queue2.append(self.queue1.popleft())\n        self.queue1, self.queue2 = self.queue2, self.queue1\n\n    def pop(self):\n        if self.isempty():\n            raise IndexError("pop from empty stack")\n        return self.queue1.popleft()\n\n    def isempty(self):\n        return not self.queue1\n\n    def size(self):\n        return len(self.queue1)