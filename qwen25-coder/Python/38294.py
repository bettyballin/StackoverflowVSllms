from mlxtend.frequent_patterns import apriori, association_rules\nimport pandas as pd\n\n# Example transaction data (True indicates the item is purchased by a person)\ndata = {\n    'A': [1, 0, 1, 1, 0],\n    'B': [1, 1, 0, 0, 1],\n    'C': [1, 1, 1, 1, 1],\n    'D': [0, 0, 1, 1, 0]\n}\ndf = pd.DataFrame(data)\n\n# Finding frequent itemsets\nfrequent_itemsets = apriori(df, min_support=0.6, use_colnames=True)\nprint("Frequent Itemsets:")\nprint(frequent_itemsets)\n\n# Generating association rules\nrules = association_rules(frequent_itemsets, metric="confidence", min_threshold=0.8)\nprint("\nAssociation Rules:")\nprint(rules)\n\n# Example recommendation for user with purchase history [A, B]\nuser_data = {'A': 1, 'B': 1}\nrecommendations = []\nfor idx, rule in rules.iterrows():\n    if all(user_data.get(item, 0) == 1 for item in rule['antecedents']):\n        recommendations.extend([item for item in rule['consequents']])\n\nprint("\nRecommendations for User:", list(set(recommendations)))