from PIL import Image, ImageChops\n\ndef rgb_to_luminance(image):\n    # Convert an RGB image to its luminosity using luminosity formula: 0.21 R + 0.72 G + 0.07 B\n    return image.convert("YCbCr").split()[0]\n\ndef apply_luminosity_mode(base_image_path, overlay_image_path, output_image_path):\n    # Open images\n    base_img = Image.open(base_image_path).convert("RGB")\n    overlay_img = Image.open(overlay_image_path).convert("RGB")\n\n    # Extract luminance from the overlay image\n    overlay_luminance = rgb_to_luminance(overlay_img)\n\n    # Convert base and overlay to YCbCr space, replacing Y with the luminosity layer from overlay\n    base_y = rgb_to_luminance(base_img)\n    base_cbcr = ImageChops.duplicate(base_img).convert("YCbCr").split()[1:]\n\n    combined_image = Image.merge('YCbCr', (overlay_luminance,) + base_cbcr)\n\n    # Finally, convert back to RGB\n    result_image = combined_image.convert("RGB")\n\n    # Save the resulting image\n    result_image.save(output_image_path)\n\n# Usage example:\napply_luminosity_mode('base.jpg', 'overlay.jpg', 'output.jpg')