import os\nimport re\n\ndef find_in_files(searchtext, file_filter='*.txt;*.htm', start_from='c:/docs/2009',\n                  report_filenames=False, report_filecount_only=False,\n                  use_regex=True):\n    file_extensions = set(file_filter.split(';'))\n    if report_filecount_only:\n        file_count = 0\n    else:\n        results = []\n\n    for root, dirs, files in os.walk(start_from):\n        for file in files:\n            ext = os.path.splitext(file)[1]\n            if ext.lower() in [e.strip().lower() for e in file_extensions]:\n                filepath = os.path.join(root, file)\n                with open(filepath, 'r', encoding='utf-8', errors='ignore') as f:\n                    content = f.read()\n                    if use_regex:\n                        found = re.search(searchtext, content) is not None\n                    else:\n                        found = searchtext in content\n                    if found:\n                        if report_filecount_only:\n                            file_count += 1\n                        elif report_filenames:\n                            results.append(filepath)\n                        else:\n                            results.append(f"{filepath}: {content}")\n    return file_count if report_filecount_only else "\n".join(results)\n\n# Example usage\nprint(find_in_files('example', '*.txt;*.htm', 'c:/docs/2009', report_filenames=True))