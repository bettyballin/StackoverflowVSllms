def generate_username(first_name, last_name, existing_usernames):\n    # Base username format\n    base_username = f"{first_name.lower()}{last_name.lower()}".replace(' ', '')\n    username = base_username\n    \n    # Check for uniqueness and append a number if necessary\n    counter = 1\n    while username in existing_usernames:\n        username = f"{base_username}{counter}"\n        counter += 1\n    \n    return username\n\n# Example usage\nexisting_usernames = {'johnsmith', 'johnsmith1'}\nfirst_name = "John"\nlast_name = "Smith"\n\nnew_username = generate_username(first_name, last_name, existing_usernames)\nprint(new_username)  # Output: johnsmith2