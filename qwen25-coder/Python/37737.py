import numpy as np\nimport pandas as pd\n\ndef compare_files(file1, file2, tolerance=1e-6):\n    # Load data into DataFrames\n    df1 = pd.read_csv(file1, delim_whitespace=True)\n    df2 = pd.read_csv(file2, delim_whitespace=True)\n\n    if not df1.equals(df2):\n        print("Dataframes have different shapes or columns.")\n        return False\n\n    # Initialize flag for passing the test\n    passed = True\n    error_messages = []\n\n    for column in df1.columns:\n        try:\n            col1 = np.array(df1[column], dtype=np.float64)\n            col2 = np.array(df2[column], dtype=np.float64)\n\n            if not np.allclose(col1, col2, atol=tolerance):\n                # Identify which elements differed\n                diff_indices = ~np.isclose(col1, col2, atol=tolerance)\n                for idx in range(len(df1)):\n                    if diff_indices[idx]:\n                        error_message = (f"Difference found at row {idx+1}, column '{column}': "\n                                         f"Expected {col2[idx]:.6g}, got {col1[idx]:.6g}")\n                        error_messages.append(error_message)\n                passed = False\n        except ValueError:\n            # If conversion to float fails, assume it's text and skip\n            continue\n\n    if not passed:\n        for message in error_messages:\n            print(message)\n        return False\n\n    return True\n\ndef main():\n    import sys\n\n    file1 = 'output_previous.txt'  # Replace with your previous output file name\n    file2 = 'output_new.txt'       # Replace with your new output file name\n\n    if compare_files(file1, file2):\n        print("Regression test passed.")\n        exit(EXIT_SUCCESS)\n    else:\n        print("Regression test failed.")\n        exit(EXIT_FAILURE)\n\nif __name__ == '__main__':\n    main()