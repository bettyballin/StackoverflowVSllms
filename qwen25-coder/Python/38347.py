class Foo(db.Model):\n       bars = db.ListProperty(db.Key)\n       bar_count = db.IntegerProperty(default=0)\n\n   # When adding or removing a bar:\n   def add_bar(self, bar_key):\n       self.bars.append(bar_key)\n       self.bar_count += 1\n       self.put()\n\n   def remove_bar(self, bar_key):\n       if bar_key in self.bars:\n           self.bars.remove(bar_key)\n           self.bar_count -= 1\n           self.put()