# logger.py\n\nimport inspect\nimport os\n\ndef log(message):\n    # Walk up the call stack to get the caller's frame\n    frames = inspect.stack()\n    calling_frame = frames[1]  # Index 0 is this frame, index 1 is the caller's frame\n    \n    # Get the module name from the caller's frame\n    module_name = inspect.getmodule(calling_frame.frame).__name__\n    \n    log_dir = '/home/hare/app_logs'\n    app_log_dir = os.path.join(log_dir, module_name)\n    \n    # Ensure the application's logging directory exists\n    if not os.path.exists(app_log_dir):\n        os.makedirs(app_log_dir)\n    \n    log_file_path = os.path.join(app_log_dir, 'app.log')\n    \n    with open(log_file_path, 'a') as log_file:\n        log_file.write(f'{message}\n')\n\n# foo.py\n\ndef f():\n    logger.log('This is a test message from function f.')\n\n# bar.py\n\nimport foo\nimport logger\n\ndef b():\n    logger.log('This is a test message from function b.')\n    foo.f()\n\nb()