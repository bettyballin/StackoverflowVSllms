import os\n\ndef _dir_list(self, dir_name, whitelist):\n    outputList = []\n    for root, dirs, files in os.walk(dir_name):\n        # Clear the dirs list to prevent descending into subdirectories\n        dirs.clear()\n        for f in files:\n            if os.path.splitext(f)[1] in whitelist:\n                outputList.append(os.path.join(root, f))\n            else:\n                self._email_to_("ignore")\n    return outputList