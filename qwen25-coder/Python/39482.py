import tarfile\nimport io\n\n# Your data as a string\ndata = "This is a test string."\n\n# Create a StringIO object from your data\nstring_io = io.StringIO(data)\n\n# Prepare tarinfo for the in-memory file\ntar_info = tarfile.TarInfo(name="test.txt")\ntar_info.size = len(data.encode('utf-8'))  # Set size of content to write\n\n# Create a tarfile object and add the in-memory file\nwith tarfile.open("output.tar", "w") as tar:\n    tar.addfile(tarinfo=tar_info, fileobj=io.BytesIO(data.encode('utf-8')))