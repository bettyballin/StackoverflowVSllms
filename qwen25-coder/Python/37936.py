from sqlalchemy import create_engine, Table, Column, Integer, String, MetaData, Sequence, Timestamp\n\nengine = create_engine('postgresql://user:password@localhost/database_name')\nmetadata = MetaData()\n\n# Define tables\nUserActivity = Table('UserActivity', metadata,\n                     Column('id', Integer, Sequence('user_activity_id_seq'), primary_key=True),\n                     Column('user_id', Integer, nullable=False),\n                     Column('activity_time', Timestamp, server_default='CURRENT_TIMESTAMP'),\n                     )\n\nRequestStats = Table('RequestStats', metadata,\n                     Column('id', Integer, Sequence('request_stats_id_seq'), primary_key=True),\n                     Column('request_type', String(255), nullable=False),\n                     Column('count', Integer, nullable=False),\n                     Column('recorded_at', Timestamp, server_default='CURRENT_TIMESTAMP'),\n                     )\n\nmetadata.create_all(engine)\n\n# Example log function\ndef log_user_activity(user_id):\n    conn = engine.connect()\n    ins = UserActivity.insert().values(user_id=user_id)\n    conn.execute(ins)\n    conn.close()\n\ndef log_request(request_type, count=1):\n    conn = engine.connect()\n    ins = RequestStats.insert().values(request_type=request_type, count=count)\n    conn.execute(ins)\n    conn.close()