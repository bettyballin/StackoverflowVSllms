import piexif\nfrom PIL import Image\n\ndef set_gps_info(exif_dict, latitude, longitude):\n    lat_deg = int(latitude)\n    lat_min = int((latitude - lat_deg) * 60)\n    lat_sec = round((latitude - lat_deg - lat_min/60.0) * 3600 * 100)\n\n    lon_deg = int(longitude)\n    lon_min = int((longitude - lon_deg) * 60)\n    lon_sec = round((longitude - lon_deg - lon_min/60.0) * 3600 * 100)\n\n    gps_ifd = {\n        piexif.GPSIFD.GPSVersionID: (2, 0, 0, 0),\n        piexif.GPSIFD.GPSLatitudeRef: "N" if latitude > 0 else "S",\n        piexif.GPSIFD.GPSLatitude: ((lat_deg, 1), (lat_min, 1), (lat_sec, 100)),\n        piexif.GPSIFD.GPSLongitudeRef: "E" if longitude > 0 else "W",\n        piexif.GPSIFD.GPSLongitude: ((lon_deg, 1), (lon_min, 1), (lon_sec, 100))\n    }\n\n    exif_dict['GPS'] = gps_ifd\n\ndef geotag_image(image_path, output_path, latitude, longitude):\n    img = Image.open(image_path)\n    try:\n        exif_dict = piexif.load(img.info["exif"])\n    except KeyError:\n        # No EXIF data in the image\n        exif_dict = {}\n\n    set_gps_info(exif_dict, latitude, longitude)\n\n    exif_bytes = piexif.dump(exif_dict)\n    img.save(output_path, "jpeg", exif=exif_bytes)\n\n# Example usage\ngeotag_image("example.jpg", "output.jpg", 51.5074, -0.1278)  # Coordinates for Londo