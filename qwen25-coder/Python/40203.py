from django.shortcuts import render, get_object_or_404\nfrom .models import Pathology, Pathpubcombo, Publication\n\ndef search(request):\n    pathology_list = Pathology.objects.order_by('pathology')\n    return render(request, 'search.html', {'pathology_list': pathology_list})\n\ndef pathology(request):\n    if request.method == 'POST':\n        # Get the selected pathology_id from POST data\n        pathology_id = request.POST.get('pathology_id')\n        \n        # Fetch the Pathology object\n        p = get_object_or_404(Pathology, pk=pathology_id)\n        \n        # Use the intermediary model to fetch related publications\n        pathpubcombos = Pathpubcombo.objects.filter(pathology=p)\n        publication_ids = [combo.publication_id for combo in pathpubcombos]\n        \n        # Fetch all publications using their IDs\n        publications = Publication.objects.filter(id__in=publication_ids)\n        \n        # Render the publications to an HTML template\n        return render(request, 'publications.html', {'publications': publications})\n    \n    # If not POST request, redirect or handle accordingly\n    return render(request, 'search.html')