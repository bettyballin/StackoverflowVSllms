# Import necessary library\nimport re\n\ndef split_sql_file(input_file_path, output_dir):\n    # Regular expression to find delimiters like '---'\n    pattern = r'(?=^--\-\-)(?!.*?\n--\-)([\s\S]*?)$'\n    \n    with open(input_file_path, 'r', encoding='utf-8') as file:\n        content = file.read()\n        \n    # Find all matches based on the pattern\n    sections = re.findall(pattern, content, re.MULTILINE)\n    \n    for i, section in enumerate(sections):\n        output_path = f"{output_dir}/section_{i+1}.sql"\n        with open(output_path, 'w', encoding='utf-8') as out_file:\n            out_file.write(section.strip() + '\n')\n\n# Usage example\nsplit_sql_file('large_script.sql', 'output_directory')