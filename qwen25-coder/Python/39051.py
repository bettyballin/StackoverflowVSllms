import random\n\ndef secret_santa(names, spouses):\n    # Names will be the people participating\n    # Spouses is a dictionary mapping person to their spouse\n    participants = list(set(names) - set(spouses.values()))\n    assigned_to = {}\n    \n    names_copy = participants[:]\n    while len(participants) > 0:\n        giver = random.choice(participants)\n        receiver = random.choice(names_copy)\n\n        if receiver != giver and receiver not in spouses[giver]:\n            assigned_to[giver] = receiver\n            participants.remove(giver)\n            names_copy.remove(receiver)\n    \n    return assigned_to\n\nif __name__ == "__main__":\n    family_names = ["Alice", "Bob", "Charlie", "Dave"]\n    family_spouses = {"Alice": "Bob", "Bob": "Alice", "Charlie": "Dave", "Dave": "Charlie"}\n    \n    assignments = secret_santa(family_names, family_spouses)\n    print(assignments)