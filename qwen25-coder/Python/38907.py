def cartesian_product(lists):\n    result = []\n    stack = [[]]\n    for i in range(len(lists)):\n        while len(stack[-1]) == i:\n            if i == 0:\n                stack.append([lists[i][0]])\n            else:\n                last_combo = stack.pop()\n                if len(last_combo) < i + 1:\n                    next_elem = lists[i][last_combo[0] - 1 + 1]\n                    stack.append(last_combo + [next_elem])\n        temp = []\n        for combo in stack:\n            temp.append(combo[:] + [lists[i][0]])\n        stack.extend(temp)\n    result.extend(stack)\n    return result\n\n# Example usage:\nsets = [[1, 2], ['a', 'b'], [True, False]]\nresult = cartesian_product(sets)\nprint(result)