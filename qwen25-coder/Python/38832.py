import os\n\ndef convert_to_utf8(input_directory):\n    for filename in os.listdir(input_directory):\n        filepath = os.path.join(input_directory, filename)\n        if not os.path.isfile(filepath) or not filepath.endswith('.txt'):\n            continue  # Skip directories and non-text files\n\n        with open(filepath, 'rb') as file:\n            raw_data = file.read()\n        \n        # Detect encoding\n        from chardet import detect\n        result = detect(raw_data)\n        encoding = result['encoding']\n        \n        if encoding is None or encoding.lower() == 'utf-8':\n            continue  # Skip files already in UTF-8\n\n        text = raw_data.decode(encoding)\n\n        with open(filepath, 'w', encoding='utf-8') as file:\n            file.write(text)\n        print(f"Converted {filename} from {encoding} to utf-8")\n\n# Usage\nconvert_to_utf8('path/to/your/directory')