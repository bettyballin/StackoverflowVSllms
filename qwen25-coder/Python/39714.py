from sqlalchemy import Column, Integer, String, ForeignKey, Boolean\nfrom sqlalchemy.orm import relationship\nfrom sqlalchemy.ext.declarative import declarative_base\n\nBase = declarative_base()\n\nclass Person(Base):\n    __tablename__ = 'persons'\n    \n    id = Column(Integer, primary_key=True)\n    name = Column(String)\n\n    addresses = relationship("PersonAddressRelation", back_populates="person")\n\nclass Address(Base):\n    __tablename__ = 'addresses'\n    \n    id = Column(Integer, primary_key=True)\n    street = Column(String)\n\n    persons = relationship("PersonAddressRelation", back_populates="address")\n\nclass PersonAddressRelation(Base):\n    __tablename__ = 'person_address'\n    \n    person_id = Column(Integer, ForeignKey('persons.id'), primary_key=True)\n    address_id = Column(Integer, ForeignKey('addresses.id'), primary_key=True)\n    is_main = Column(Boolean, default=False)\n\n    person = relationship("Person", back_populates="addresses")\n    address = relationship("Address", back_populates="persons")\n\n# Example usage:\n# Assuming you have a session `session`\nperson = Person(name='John Doe')\naddress1 = Address(street='123 Elm St')\naddress2 = Address(street='456 Oak Ave')\n\nrelation1 = PersonAddressRelation(person=person, address=address1)\nrelation2 = PersonAddressRelation(person=person, address=address2, is_main=True)\n\nsession.add(person)\nsession.add(address1)\nsession.add(address2)\nsession.commit()