-- Example of how you might check for long-running SPIDs or sessions with specific queries:\nSELECT \n    session_id,\n    status,\n    command,\n    wait_type,\n    wait_time AS WaitTime_ms,\n    last_wait_type,\n    wait_resource,\n    SUBSTRING(QUERIES.text, (requests.statement_start_offset/2)+1, \n        ((CASE statement_end_offset \n            WHEN -1 THEN DATALENGTH(QUERIES.text)\n            ELSE requests.statement_end_offset\n         END -  \n         requests.statement_start_offset)/2) + 1) AS QueryText\nFROM sys.dm_exec_requests AS requests\nCROSS APPLY sys.dm_exec_sql_text(sql_handle) AS QUERIES;