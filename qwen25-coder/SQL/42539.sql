SELECT apps.isavailable\nFROM dbo.Applications apps\nLEFT JOIN dbo.Holidays hol ON apps.applicationid = hol.applicationid \n    AND CONVERT(VARCHAR, CAST(GETDATE() AS DATE), 101) = CONVERT(VARCHAR, CAST(hol.holidaydate AS DATE), 101)\nLEFT JOIN (\n    SELECT applicationid,\n           CASE DATEPART(WEEKDAY, GETDATE())\n               WHEN 2 THEN mondayopen\n               WHEN 3 THEN tuesdayopen\n               -- Add additional days as needed\n               ELSE NULL END AS day_open,\n           CASE DATEPART(WEEKDAY, GETDATE())\n               WHEN 2 THEN mondayclose\n               WHEN 3 THEN tuesdayclose\n               -- Add additional days as needed\n               ELSE NULL END AS day_close\n    FROM dbo.HoursOfOperations\n) hoo ON apps.applicationid = hoo.applicationid\nWHERE apps.applicationname = @appname\nAND hol.applicationid IS NULL\nAND (GETDATE() BETWEEN hoo.day_open AND hoo.day_close\n     OR day_open IS NULL AND day_close IS NULL); -- Assuming if no open/close time is provided, it's available all times