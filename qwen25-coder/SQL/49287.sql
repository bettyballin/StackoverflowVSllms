CREATE TRIGGER trg_EnsureUniqueValueExceptNull\nON YourTable\nFOR INSERT, UPDATE\nAS\nBEGIN\n    IF EXISTS (\n        SELECT 1 \n        FROM YourTable AS T\n        INNER JOIN inserted AS i ON (T.YourColumn = i.YourColumn OR (T.YourColumn IS NULL AND i.YourColumn IS NULL))\n        GROUP BY YourColumn\n        HAVING COUNT(*) > 1 AND YourColumn IS NOT NULL\n    )\n    BEGIN\n        RAISERROR('Duplicate values are not allowed unless the value is NULL.', 16, 1);\n        ROLLBACK TRANSACTION;\n        RETURN;\n    END\nEND;