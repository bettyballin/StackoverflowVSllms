DECLARE\n    FUNCTION MD5_ENCODE(CLEARTEXT IN VARCHAR2) RETURN VARCHAR2 IS    \n        CHK VARCHAR2(16);   \n        HEX VARCHAR2(32);  \n        I   INTEGER;  \n\n        C   INTEGER;  \n\n        H   INTEGER;  \n\n    BEGIN\n        IF CLEARTEXT IS NULL THEN\n            RETURN '';\n        ELSE\n            CHK := DBMS_OBFUSCATION_TOOLKIT.MD5(INPUT_STRING => CLEARTEXT);\n            FOR I IN 1 .. 16 LOOP\n                C := ASCII(SUBSTR(CHK, I, 1));\n                H := TRUNC(C / 16);\n                IF H >= 10 THEN\n                    HEX := HEX || CHR(H + 55);\n                ELSE\n                    HEX := HEX || CHR(H + 48);\n                END IF;\n                H := MOD(C, 16);\n                IF H >= 10 THEN\n                    HEX := HEX || CHR(H + 55);\n                ELSE\n                    HEX := HEX || CHR(H + 48);\n                END IF;\n            END LOOP;  \n            RETURN HEX;  \n        END IF;\n    END MD5_ENCODE;\n\n    -- Procedure to perform the update\n    PROCEDURE UPDATE_ADDRESSES IS\n    BEGIN\n        FOR rec IN (SELECT * FROM ADDRESSES_T FOR UPDATE) LOOP\n            rec.STREET := MD5_ENCODE(rec.STREET);\n            UPDATE ADDRESSES_T SET STREET = rec.STREET WHERE CURRENT OF addrs_cur;\n        END LOOP;\n    END UPDATE_ADDRESSES;\n\n    -- Cursor to iterate over the table\n    CURSOR addrs_cur IS \n        SELECT street FROM ADDRESSES_T FOR UPDATE;\nBEGIN  \n    OPEN addrs_cur;\n    UPDATE_ADDRESSES;\n    CLOSE addrs_cur;\nEND;