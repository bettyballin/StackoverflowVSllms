SELECT \n    fb.auto_id, \n    fb.user_id, \n    fb.bulletin, \n    fb.subject, \n    fb.color, \n    fb.submit_date, \n    fru.disp_name, \n    fru.pic_url\nFROM \n    friend_bulletin AS fb\nJOIN \n    (SELECT userid FROM friend_friend WHERE friendid = $MY_ID AND status = '1' UNION ALL SELECT $MY_ID) AS friends ON fb.user_id = friends.userid\nLEFT JOIN \n    friend_reg_user AS fru ON fb.user_id = fru.auto_id\nWHERE \n    fb.status = 'Active'\nORDER BY \n    fb.submit_date DESC\nLIMIT 0, 30;