DECLARE\n  c utl_smtp.connection;\nBEGIN\n  c := utl_smtp.open_connection('smtp.yourmailserver.com', 25);\n  utl_smtp.helo(c, 'yourdomain.com');\n  utl_smtp.mail(c, 'sender@yourdomain.com');\n  utl_smtp.rcpt(c, 'recipient@otherdomain.com');\n  utl_smtp.data(c,\n    'Date: ' || TO_CHAR(SYSDATE, 'DD-MON-YYYY HH24:MI:SS') || CR ||\n    'From: Sender Name <sender@yourdomain.com>' || CR ||\n    'Subject: Test Mail' || CR ||\n    CR ||\n    'This is a test message.' );\n  utl_smtp.quit(c);\nEXCEPTION\n  WHEN UTL_SMTP.transient_error OR utl_smtp.permanent_error THEN\n    BEGIN\n      utl_smtp.quit(c);\n    EXCEPTION\n      WHEN UTL_SMTP.transient_error OR utl_smtp.permanent_error THEN\n        NULL; -- ignore this exception\n    END;\n    RAISE_APPLICATION_ERROR(-20000, 'Failed to send mail due to: ' || SQLERRM );\nEND;\n/