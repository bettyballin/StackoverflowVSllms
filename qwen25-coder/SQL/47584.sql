# sql-queries.properties\nFIND_ALL_BY_CHEAPEST_AND_PRODUCT_IDS=FROM PRODUCT_SKU T JOIN ( SELECT S.PRODUCT_ID, MIN(S.ID) as minimum_id_for_price FROM PRODUCT_SKU S WHERE S.PRODUCT_ID IN (:productIds) GROUP BY S.PRODUCT_ID, S.SALE_PRICE ) FI ON (FI.PRODUCT_ID = T.PRODUCT_ID AND FI.minimum_id_for_price = T.ID) JOIN ( SELECT S.PRODUCT_ID, MIN(S.SALE_PRICE) as minimum_price_for_product FROM PRODUCT_SKU S WHERE S.PRODUCT_ID IN (:productIds) GROUP BY S.PRODUCT_ID ) FP ON (FP.PRODUCT_ID = T.PRODUCT_ID AND FP.minimum_price_for_product = T.sale_price) WHERE T.PRODUCT_ID IN (:productIds)