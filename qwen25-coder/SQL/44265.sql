SET group_concat_max_len = 16777215;\nUPDATE Threads t \nJOIN (\n    SELECT \n        ArticleID,\n        GROUP_CONCAT(a.Content ORDER BY a.PageID SEPARATOR '<!-- pagebreak -->') AS ConcatenatedContent\n    FROM MSarticlepages a\n    WHERE LENGTH(GROUP_CONCAT(a.Content ORDER BY a.PageID SEPARATOR '<!-- pagebreak -->')) < 16777215\n    GROUP BY a.ArticleID\n) sub ON t.MSthreadID = sub.ArticleID \nSET t.Content = sub.ConcatenatedContent;