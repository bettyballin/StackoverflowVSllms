CREATE OR REPLACE PROCEDURE get_companies(\n    p_sort_clause IN VARCHAR2 DEFAULT NULL,\n    p_filter_clause IN VARCHAR2 DEFAULT NULL,\n    p_result OUT SYS_REFCURSOR\n) \nAS\nBEGIN\n    -- Base query without sort or filter\n    DECLARE v_sql_query CLOB := 'SELECT * FROM companies';\n\n    BEGIN\n        -- Apply filter clause if it's provided\n        IF p_filter_clause IS NOT NULL THEN\n            v_sql_query := v_sql_query || ' WHERE ' || p_filter_clause;\n        END IF;\n\n        -- Apply sort clause if it's provided\n        IF p_sort_clause IS NOT NULL THEN\n            v_sql_query := v_sql_query || ' ORDER BY ' || p_sort_clause;\n        END IF;\n\n        -- Open the cursor with the dynamically built query\n        OPEN p_result FOR v_sql_query;\n    EXCEPTION\n        WHEN OTHERS THEN\n            RAISE_APPLICATION_ERROR(-20001, 'An error occurred: '||SQLERRM);\n    END;\nEND get_companies;\n/