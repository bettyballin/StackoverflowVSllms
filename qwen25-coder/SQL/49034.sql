DECLARE\n    v_ddl CLOB;\nBEGIN\n    -- Create a directory object if it doesn't exist (example: BACKUP_DIR)\n    -- CREATE DIRECTORY BACKUP_DIR AS '/path/to/backup';\n    \n    FOR proc IN (\n        SELECT NAME, TYPE\n        FROM USER_SOURCE\n        WHERE TYPE IN ('PROCEDURE', 'FUNCTION', 'PACKAGE SPECIFICATION', 'PACKAGE BODY')\n        GROUP BY NAME, TYPE\n    ) LOOP\n        v_ddl := DBMS_METADATA.GET_DDL(proc.TYPE, proc.NAME);\n        \n        -- Save the DDL to a file in a specified directory\n        DECLARE\n            v_file UTL_FILE.FILE_TYPE;\n        BEGIN\n            v_file := UTL_FILE.FOPEN('BACKUP_DIR', proc.NAME || '.' || proc.TYPE || '.sql', 'W');\n            UTL_FILE.PUT_LINE(v_file, v_ddl);\n            UTL_FILE.FCLOSE(v_file);\n        END;\n    END LOOP;\nEND;\n/