CREATE PROCEDURE [dbo].[pGetTask]\n    @showCompletedTasks bit = 1,\n    @showInProgressTasks bit = 1,\n    @taskID int = null,\n    @projectID int = null,\n    @applicationID int = null,\n    @clientID int = null\nAS\nBEGIN\n    DECLARE @sql NVARCHAR(MAX)\n\n    SET @sql = N'SELECT * FROM your_table t \n                  JOIN project p ON t.projectID = p.projectID\n                  JOIN client c ON t.clientID = c.clientID\n                  WHERE 1=1'\n\n    IF @taskID IS NOT NULL \n        SET @sql += N' AND t.taskID = @taskID'\n    \n    IF @projectID IS NOT NULL \n        SET @sql += N' AND p.projectID = @projectID'\n    \n    IF @applicationID IS NOT NULL \n        SET @sql += N' AND c.applicationID = @applicationID'\n    \n    IF @clientID IS NOT NULL \n        SET @sql += N' AND t.clientID = @clientID'\n\n    IF @showCompletedTasks = 0\n        SET @sql += N' AND curr.complete = 0'\n    \n    IF @showInProgressTasks = 0\n        SET @sql += N' AND curr.complete = 1'\n\n    EXEC sp_executesql @sql, \n                       N'@taskID int, @projectID int, @applicationID int, @clientID int',\n                       @taskID, @projectID, @applicationID, @clientID\nEND