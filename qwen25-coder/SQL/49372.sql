WITH MostRecent AS (\n    SELECT TEST_VALUE, UPDATED,\n           ROW_NUMBER() OVER (PARTITION BY FOREIGN_KEY ORDER BY UPDATED DESC) as rn\n    FROM TEST_TABLE\n    WHERE FOREIGN_KEY = 10\n)\nSELECT TEST_VALUE\nFROM MostRecent\nWHERE rn = 1;