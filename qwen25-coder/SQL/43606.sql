CREATE TABLE ComponentType (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(255) NOT NULL\n);\n\nCREATE TABLE ComponentItem (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(255) NOT NULL,\n    component_type_id INT,\n    FOREIGN KEY (component_type_id) REFERENCES ComponentType(id)\n);\n\nCREATE TABLE MealConfiguration (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    description TEXT\n);\n\n-- Defines what components are in a meal, and their constraints.\nCREATE TABLE MealComponent (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    meal_configuration_id INT,\n    component_type_id INT,\n    is_mandatory BOOLEAN DEFAULT FALSE,\n    count_min INT, -- minimum number of items required from the group\n    count_max INT, -- maximum number of items allowed in the group.\n    FOREIGN KEY (meal_configuration_id) REFERENCES MealConfiguration(id),\n    FOREIGN KEY (component_type_id) REFERENCES ComponentType(id)\n);\n\n-- Defines what component items are eligible for a meal configuration.\nCREATE TABLE AllowedComponentItem (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    meal_component_id INT,\n    component_item_id INT,\n    FOREIGN KEY (meal_component_id) REFERENCES MealComponent(id),\n    FOREIGN KEY (component_item_id) REFERENCES ComponentItem(id)\n);\n\n-- An order by a customer.\nCREATE TABLE CustomerOrder (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    order_time DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Specific items in an order.\nCREATE TABLE OrderItem (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    order_id INT,\n    component_item_id INT,\n    FOREIGN KEY (order_id) REFERENCES CustomerOrder(id),\n    FOREIGN KEY (component_item_id) REFERENCES ComponentItem(id)\n);