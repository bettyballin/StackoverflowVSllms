SELECT resource.*,\n       COALESCE(perms_users.read_perm, perms_groups.read_perm) AS read_perm,\n       COALESCE(perms_users.write_perm, perms_groups.write_perm) AS write_perm,\n       COALESCE(perms_users.delete_perm, perms_groups.delete_perm) AS delete_perm\nFROM resource\nLEFT JOIN perms_group ON resource.id = perms_group.res_id AND perms_group.group_id = 2\nLEFT JOIN perms_users ON resource.id = perms_users.res_id AND perms_users.user_id = 3\nWHERE resource.id = 1;