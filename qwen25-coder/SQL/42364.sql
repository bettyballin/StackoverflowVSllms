SELECT \n    sub_id,\n    MAX(CASE WHEN field_name = 'First Name' THEN field_val END) AS "First Name",\n    MAX(CASE WHEN field_name = 'Last Name' THEN field_val END) AS "Last Name",\n    MAX(CASE WHEN field_name = 'DOB' THEN field_val END) AS dob,\n    MAX(CASE WHEN field_name = 'EMail' THEN field_val END) AS email,\n    MAX(CASE WHEN field_name = 'Telephone' THEN field_val END) AS phone\nFROM \n    $db->data\nGROUP BY \n    sub_id\nORDER BY \n    "Last Name";