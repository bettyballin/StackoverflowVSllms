SELECT\n  Page.*,\n  COALESCE(PageView.view_count, 0) AS views,\n  COALESCE(PageItem.item_count, 0) AS items,\n  COALESCE(PageVote.vote_sum, 0) AS total_votes\nFROM pages AS Page\nLEFT JOIN (\n    SELECT page_id, COUNT(*) AS view_count\n    FROM page_views\n    GROUP BY page_id\n) AS PageView ON Page.id = PageView.page_id\nLEFT JOIN (\n    SELECT page_id, COUNT(*) AS item_count\n    FROM page_items\n    GROUP BY page_id\n) AS PageItem ON Page.id = PageItem.page_id\nLEFT JOIN (\n    SELECT page_id, SUM(vote) AS vote_sum\n    FROM page_votes\n    GROUP BY page_id\n) AS PageVote ON Page.id = PageVote.page_id\nORDER BY views DESC  \nLIMIT 10 OFFSET 0;