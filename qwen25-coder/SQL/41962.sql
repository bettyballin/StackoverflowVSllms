CREATE DIRECTORY xml_dir AS '/path/to/your/xml/files';\n\n-- Create an external table pointing to XML file\nCREATE TABLE badges_xml (\n    xml_data CLOB\n) ORGANIZATION EXTERNAL (\n    TYPE oracle_loader\n    DEFAULT DIRECTORY xml_dir\n    ACCESS PARAMETERS (\n        records delimited by newline\n        nobadfile\n        nologfile\n        skip 1\n    )\n    LOCATION ('badges.xml')\n);\n\n-- Use XMLTABLE to parse the XML and insert into a table\nDECLARE\nBEGIN\n    INSERT INTO badges (user_id, name, badge_date)\n    SELECT x.*\n    FROM badges_xml b,\n         XMLTABLE('/badges/row'\n            PASSING xmltype(b.xml_data)\n            COLUMNS (\n                user_id NUMBER PATH '@UserId',\n                name VARCHAR2(40) PATH '@Name',\n                badge_date DATE PATH '@Date' DEFAULT NULL ON EMPTY\n            )\n        ) x;\nEND;\n/