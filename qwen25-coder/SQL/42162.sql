SELECT DISTINCT p.id AS product_id, p.name AS product_name\nFROM products p\nJOIN properties props1 ON p.id = props1.product_id AND props1.property = 'gender' AND props1.value = 'male'\nJOIN options opts1 ON p.id = opts1.product_id AND opts1.property = 'size' AND opts1.value = 'small'\nJOIN properties props2 ON p.id = props2.product_id AND props2.property = 'brand' AND props2.value = 'nike';