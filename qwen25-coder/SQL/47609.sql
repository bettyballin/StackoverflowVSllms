CREATE OR REPLACE TRIGGER trigger_w_subquery\nAFTER UPDATE OR INSERT ON project_archiving\nFOR EACH ROW\nDECLARE\n  v_offer projects.offer%TYPE;\nBEGIN\n  -- Check if the archiving_status has changed and is now set to 1\n  IF :old.archiving_status <> :new.archiving_status AND :new.archiving_status = 1 THEN\n    -- Fetch the offer for the corresponding projnum\n    SELECT offer INTO v_offer FROM projects WHERE projnum = :new.projnum;\n    \n    -- Check if the offer is NULL\n    IF v_offer IS NULL THEN\n      INSERT INTO offer_log (offer, status, date)\n      VALUES (NULL, 9, SYSDATE);\n    END IF;\n  END IF;\nEXCEPTION\n  WHEN NO_DATA_FOUND THEN\n    -- Handle the case where there's no matching project\n    INSERT INTO offer_log (offer, status, date)\n    VALUES (NULL, 9, SYSDATE);\n  WHEN OTHERS THEN\n    -- Optionally handle other exceptions\n    NULL; -- or some logging mechanism\nEND;