BEGIN TRY\n    Declare @CustomerID int;\n    Declare @CustomerName varchar(100);\n\n    Declare cur CURSOR READ_ONLY FOR\n        SELECT CustomerID, CustomerName\n        FROM Customers;\n\n    OPEN cur;\n\n    FETCH NEXT FROM cur INTO @CustomerID, @CustomerName;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        EXEC AddCustomer @CustomerID, @CustomerName;\n        FETCH NEXT FROM cur INTO @CustomerID, @CustomerName;\n    END\n\n    CLOSE cur;\n    DEALLOCATE cur;\nEND TRY\nBEGIN CATCH\n    PRINT 'An error occurred: ' + ERROR_MESSAGE();\nEND CATCH