DECLARE @i INT, @cnt INT;\n\n-- Initialize the counter\nSET @i = 1;\n-- Get Total Count of Rows to Process\nSELECT @cnt = COUNT(*) FROM YourTableName;\n\nWHILE @i <= @cnt\nBEGIN\n    -- Update each row's XML data iteratively\n    UPDATE YourTableName\n    SET ParameterValue.modify('replace value of (/USER/User/@Name[.="Billy"])[1] with "Peter"')\n    WHERE (SELECT COUNT(/USER/User[@Name="Billy"]/preceding-sibling::*) \n           FROM ParameterValue.nodes('/') AS T1(x)) < @i;\n\n    -- Increment the counter\n    SET @i = @i + 1;\nEND;