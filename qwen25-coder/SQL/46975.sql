USE YourDatabaseName;\nGO\n\nCREATE TABLE JobExecutionLog (\n    LogID INT IDENTITY(1,1) PRIMARY KEY,\n    JobStep NVARCHAR(250),\n    StartTime DATETIME DEFAULT GETDATE(),\n    EndTime DATETIME,\n    Status NVARCHAR(50),\n    Message NVARCHAR(MAX)\n);\nGO\n\nALTER PROCEDURE YourStoredProcedure\nAS\nBEGIN\n    DECLARE @ErrorMessage NVARCHAR(MAX), \n            @StartTime DATETIME = GetDate();\n    \n    BEGIN TRY\n        -- Your procedure logic here\n\n        -- Log success\n        INSERT INTO JobExecutionLog(JobStep, StartTime, EndTime, Status, Message)\n        VALUES ('YourProcedureName', @StartTime, GETDATE(), 'Success', 'Job step completed successfully.');\n    END TRY\n    BEGIN CATCH\n        SELECT \n            @ErrorMessage = ERROR_MESSAGE();\n            \n        -- Log failure\n        INSERT INTO JobExecutionLog(JobStep, StartTime, EndTime, Status, Message)\n        VALUES ('YourProcedureName', @StartTime, GETDATE(), 'Failure', @ErrorMessage);\n        \n        RAISERROR (@ErrorMessage, 16,1); \n    END CATCH\nEND;\nGO