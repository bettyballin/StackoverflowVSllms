DECLARE @SaltCount INT;\nSELECT @SaltCount = COUNT(*) FROM tmp_NewLogin;\nPRINT 'Set Salt values for all records: ' + CAST(@SaltCount AS VARCHAR(10))\n\nDECLARE @CharPool CHAR(83);\nSET @CharPool = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!"#$%&()*+,-./:;<=>?@';\n\n-- Use CRYPT_GEN_RANDOM to add more randomness\nDECLARE @CryptoRandom BINARY(10);\n\nWHILE EXISTS (SELECT 1 FROM [table] WHERE [Salt] IS NULL)\nBEGIN\n    SET @CryptoRandom = (SELECT CRYPT_GEN_RANDOM(10));\n    DECLARE @Salt VARCHAR(10) = '';\n    DECLARE @i INT = 1;\n\n    WHILE @i <= DATALENGTH(@CryptoRandom)\n    BEGIN\n        DECLARE @pos INT = CONVERT(INT, HASHBYTES('SHA2_256', SUBSTRING(@CryptoRandom, @i, 1))) % 83 + 1;\n        SET @Salt = @Salt + SUBSTRING(@CharPool, @pos, 1);\n        SET @i = @i + 1;\n    END\n\n    UPDATE TOP(1) [table] SET [Salt] = @Salt WHERE [Salt] IS NULL\nEND;\n\nPRINT 'Completed setting salts for all records';