CREATE FUNCTION dbo.ToProperCase (@Input VARCHAR(255))\nRETURNS VARCHAR(255)\nAS\nBEGIN\n    DECLARE @Position INT = 1, \n            @Char CHAR(1), \n            @Output VARCHAR(255) = ''\n\n    WHILE @Position <= LEN(@Input)\n    BEGIN\n        SELECT @Char = SUBSTRING(@Input, @Position, 1)\n\n        IF @Position = 1 OR ASCII(SUBSTRING(@Input, @Position - 1, 1)) = 32\n            SET @Output = @Output + UPPER(@Char)\n        ELSE\n            SET @Output = @Output + LOWER(@Char)\n\n        SET @Position = @Position + 1\n    END\n\n    RETURN @Output\nEND