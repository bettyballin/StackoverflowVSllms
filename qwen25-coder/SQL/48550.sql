BEGIN TRANSACTION;\n\nBEGIN TRY\n    -- Alter the column data type\n    EXEC sp_executesql N'ALTER TABLE MyTable ALTER COLUMN MyColumn varchar(25)';\n\n    -- Perform an update operation on the altered column using dynamic SQL\n    EXEC sp_executesql N'UPDATE MyTable SET MyColumn = SUBSTRING(MyColumn, 1, 5)';\n\n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n\n    -- Handle errors (optional)\n    DECLARE @ErrorMessage NVARCHAR(4000);\n    DECLARE @ErrorSeverity INT;\n    DECLARE @ErrorState INT;\n\n    SELECT \n        @ErrorMessage = ERROR_MESSAGE(),\n        @ErrorSeverity = ERROR_SEVERITY(),\n        @ErrorState = ERROR_STATE();\n\n    RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);\nEND CATCH