BEGIN TRANSACTION;\n\nBEGIN TRY\n    UPDATE YourTable\n    SET YourColumn = 'NewValue'\n    WHERE SomeCondition = 'SomeCriteria';\n\n    EXEC usp_LogUpdate;\n\n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n\n    -- Error handling\n    DECLARE @ErrorMessage NVARCHAR(4000);\n    DECLARE @ErrorSeverity INT;\n    DECLARE @ErrorState INT;\n\n    SELECT \n        @ErrorMessage = ERROR_MESSAGE(),\n        @ErrorSeverity = ERROR_SEVERITY(),\n        @ErrorState = ERROR_STATE();\n\n    RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);\nEND CATCH;