DECLARE\n    l_start_time NUMBER := DBMS_UTILITY.GET_TIME;\n    l_elapsed_time NUMBER;\n    l_max_execution_time NUMBER := 120; -- Maximum execution time in seconds\nBEGIN\n    -- Your procedure logic here\n    LOOP\n        -- Check if the time limit has been exceeded\n        l_elapsed_time := (DBMS_UTILITY.GET_TIME - l_start_time) / 100;\n        IF l_elapsed_time > l_max_execution_time THEN\n            RAISE_APPLICATION_ERROR(-20001, 'Procedure execution exceeded maximum allowed time.');\n        END IF;\n\n        -- Simulate a long-running operation\n        DBMS_LOCK.SLEEP(5); \n\n        -- Exit condition for the loop\n        EXIT WHEN FALSE; \n    END LOOP;\nEXCEPTION\n    WHEN OTHERS THEN\n        ROLLBACK; -- Ensure you rollback any transactions if needed\n        RAISE; -- Re-raise the exception after cleanup\nEND;\n/