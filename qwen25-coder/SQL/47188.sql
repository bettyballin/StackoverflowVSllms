DELIMITER $$\n\nCREATE PROCEDURE FindNamesInText(IN searchText TEXT)\nBEGIN\n    DECLARE done INT DEFAULT FALSE;\n    DECLARE currentName VARCHAR(255);\n    DECLARE namesCursor CURSOR FOR SELECT name FROM user;\n    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;\n\n    OPEN namesCursor;\n\n    read_loop: LOOP\n        FETCH namesCursor INTO currentName;\n        IF done THEN\n            LEAVE read_loop;\n        END IF;\n        SET @sqlQuery = CONCAT('SELECT "', currentName, '" as name FROM dual WHERE INSTR("', searchText, '", "', currentName, '") > 0');\n        PREPARE stmt FROM @sqlQuery;\n        EXECUTE stmt;\n        DEALLOCATE PREPARE stmt;\n    END LOOP;\n\n    CLOSE namesCursor;\nEND$$\n\nDELIMITER ;\n\n-- Call the procedure with your text\nCALL FindNamesInText('John Smith and Peter Johnson are best friends');