-- Step 1: Create an intermediary table with a CLOB column\nCREATE TABLE MYTABLE_CLOB (\n    ID NUMBER(10),\n    DATATYPE VARCHAR2(2 BYTE),\n    XMLDATA_CLOB CLOB\n);\n\n-- Step 2: Copy data from the LONG column to the new CLOB table\nDECLARE\n    c_chunk_size CONSTANT NUMBER := 32767;\n    l_long_data MYTABLE.XMLDATA%TYPE;\n    l_clob_data CLOB;\nBEGIN\n    FOR rec IN (SELECT ID, DATATYPE, XMLDATA FROM MYTABLE) LOOP\n        -- Initialize the CLOB variable with an empty LOBLocator\n        DBMS_LOB.CREATETEMPORARY(l_clob_data, TRUE);\n\n        -- Read from LONG and write to CLOB in chunks\n        DBMS_LOB.WRITEAPPEND(\n            lob_loc => l_clob_data,\n            amount => NVL(DBMS_LOB.GETLENGTH(rec.XMLDATA), 0),\n            buffer => rec.XMLDATA\n        );\n\n        -- Insert the data into the new table\n        INSERT INTO MYTABLE_CLOB (ID, DATATYPE, XMLDATA_CLOB)\n        VALUES (rec.ID, rec.DATATYPE, l_clob_data);\n\n        -- Free the temporary CLOB\n        DBMS_LOB.FREETEMPORARY(l_clob_data);\n    END LOOP;\nEND;\n/\n\n-- Step 3: Use EXTRACTVALUE to get the required data from the XML stored in the CLOB column\nSELECT ID,\n       DATATYPE,\n       EXTRACTVALUE(XMLTYPE(XMLDATA_CLOB), '/myxml/node1/child1') AS CHILD_VALUE\nFROM MYTABLE_CLOB;