ALTER TRIGGER [dbo].[Set_Asignado_State] \nON [dbo].[Tables] \nFOR INSERT AS \nBEGIN      \n    -- Insert into Table_History only for rows where Table_Area_ID is 'L'\n    INSERT INTO Table_History (Table_Area_Id, Table_Year, Table_Seq, Status, Responsible, User_Responsible, [DateTime], Comments)\n    SELECT \n        i.Table_Area_Id,\n        SUBSTRING(CAST(YEAR(GETDATE()) AS VARCHAR), 3, 2),\n        i.Table_Seq,\n        ts.ID,\n        '',\n        i.OrigDept,\n        GETDATE(),\n        'None'\n    FROM inserted i\n    JOIN Table_Status ts ON ts.Description = 'Asignado'\n    WHERE i.Table_Area_Id = 'L';\n    \n    -- Check for errors after the insert operation\n    IF @@ERROR <> 0\n    BEGIN\n        PRINT 'Error Inserting in Table_History';\n    END;\nEND;