CREATE FUNCTION dbo.udf_StripHTML (@input NVARCHAR(MAX))\nRETURNS NVARCHAR(MAX)\nAS\nBEGIN\n    DECLARE @Output NVarChar(MAX),\n            @Start INT,\n            @End INT,\n            @Length INT\n\n    SET @Input = REPLACE(@Input, '&lt;', '<')\n    SET @Input = REPLACE(@Input, '&gt;', '>')\n    SET @Input = REPLACE(@Input, '&amp;', '&')\n    SET @Input = REPLACE(@Input, '&nbsp;', ' ')\n    SET @Input = REPLACE(@Input, '&quot;', '"')\n\n    -- First, replace all of the < ... > with nothing.\n    SET @Start = CHARINDEX('<', @input)\n    SET @End = CHARINDEX('>', @input, CHARINDEX('<', @input))\n    SET @Length = (@End - @Start) + 1\n\n    WHILE @Start <> 0 AND @End <> 0 AND @Length > 0\n    BEGIN\n        SET @Output = STUFF(@Input,@Start,@Length,'')\n        SET @Input = @Output\n        SET @Start = CHARINDEX('<',@Input)\n        SET @End = CHARINDEX('>',@Input,CHARINDEX('<',@input))\n        SET @Length = (@End - @Start) + 1\n    END\n\n    RETURN ISNULL(@Output,@Input)\nEND