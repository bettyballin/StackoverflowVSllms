DECLARE\n    v_error_code NUMBER := 0;\nBEGIN\n    BEGIN\n        -- Start Transaction\n        UPDATE MyTable1 SET MyColumn1 = 'JSMITH' WHERE MyColumn1 = 'JOHN';\n        \n        UPDATE MyTable2 SET MyColumn2 = 'JSMITH' WHERE MyColumn2 = 'JOHN';\n        \n        UPDATE MyTable SET LoginID = 'JSMITH' WHERE LoginID = 'JOHN';\n\n    EXCEPTION\n        WHEN OTHERS THEN\n            v_error_code := SQLCODE;\n            DBMS_OUTPUT.PUT_LINE('We had a problem with JSMITH and rolled back *****');\n            ROLLBACK;\n    END;\n\n    IF v_error_code = 0 THEN\n        COMMIT;\n        DBMS_OUTPUT.PUT_LINE('JSMITH Updated ok');\n    END IF;\nEND;\n/