DELIMITER //\n\nCREATE PROCEDURE my_stored_procedure(IN listOfids TEXT)\nBEGIN\n    -- Create a temporary table to store the split values\n    DROP TEMPORARY TABLE IF EXISTS temp_ids;\n    CREATE TEMPORARY TABLE temp_ids (id INT);\n    \n    -- Variable declarations\n    DECLARE done INT DEFAULT FALSE;\n    DECLARE current_id VARCHAR(255);\n    DECLARE cur CURSOR FOR SELECT TRIM(SUBSTRING_INDEX(SUBSTRING_INDEX(listOfids, ',', numbers.n), ',', -1)) ID \n                          FROM \n                          (\n                              SELECT 1 n UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL\n                              SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL\n                              SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9\n                          ) numbers\n                          WHERE numbers.n <= 1 + (LENGTH(listOfids) - LENGTH(REPLACE(listOfids, ',', '')));\n    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;\n    \n    -- Insert values from the list into the temporary table\n    OPEN cur;\n    read_loop: LOOP\n        FETCH cur INTO current_id;\n        IF done THEN LEAVE read_loop; END IF;\n        INSERT INTO temp_ids VALUES (current_id);\n    END LOOP;\n    CLOSE cur;\n\n    -- Use the temporary table in your query\n    SELECT * FROM my_table WHERE id IN (SELECT id FROM temp_ids);\n\n    -- Clean up\n    DROP TEMPORARY TABLE temp_ids;\nEND //\n\nDELIMITER ;