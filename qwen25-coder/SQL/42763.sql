CREATE PROCEDURE dbo.FindGUID @searchValue uniqueidentifier AS\nBEGIN\n    DECLARE @tableName varchar(200)\n    DECLARE @columnList varchar(max) = ''\n    DECLARE @query nvarchar(max)\n\n    -- Create a cursor to iterate over each base table that has uniqueidentifier columns.\n    DECLARE TableCursor CURSOR FOR\n        SELECT DISTINCT c.TABLE_NAME\n        FROM INFORMATION_SCHEMA.Columns c\n        INNER JOIN INFORMATION_SCHEMA.Tables t ON c.TABLE_NAME = t.TABLE_NAME AND t.TABLE_TYPE = 'BASE TABLE'\n        WHERE DATA_TYPE = 'uniqueidentifier';\n\n    OPEN TableCursor;\n\n    FETCH NEXT FROM TableCursor INTO @tableName;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        -- Get all column names that are uniqueidentifiers for the current table.\n        SELECT @columnList = COALESCE(@columnList + ' OR ', '') + QUOTENAME(c.COLUMN_NAME) + ' = @searchValue'\n        FROM INFORMATION_SCHEMA.Columns c\n        WHERE c.TABLE_NAME = @tableName\n          AND DATA_TYPE = 'uniqueidentifier';\n\n        -- If columns were found, construct and execute the query.\n        IF LEN(@columnList) > 0\n        BEGIN\n            SET @query = N'SELECT ''' + @tableName + ''' AS TheTable, */ * FROM [' + @tableName + '] WHERE ' + @columnList;\n            PRINT @query; -- For debugging\n            EXEC sp_executesql @query, N'@searchValue uniqueidentifier', @searchValue;\n        END;\n\n        -- Reset column list for next table.\n        SET @columnList = '';\n\n        FETCH NEXT FROM TableCursor INTO @tableName;\n    END\n\n    CLOSE TableCursor;\n    DEALLOCATE TableCursor;\nEND