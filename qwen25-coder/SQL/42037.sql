CREATE OR REPLACE TRIGGER trg_sandbox_before_insert\nBEFORE INSERT ON sandbox\nFOR EACH ROW\nDECLARE\n    v_count INTEGER;\nBEGIN\n    SELECT COUNT(*)\n    INTO v_count\n    FROM sandbox s\n    WHERE (:NEW.a IS NOT NULL AND s.a = :NEW.a OR a IS NULL)\n      AND (:NEW.b IS NOT NULL AND s.b = :NEW.b OR b IS NULL);\n\n    IF v_count > 0 THEN\n        RAISE_APPLICATION_ERROR(-20001, 'Duplicate values found for non-null columns.');\n    END IF;\nEND;\n/