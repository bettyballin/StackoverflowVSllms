SELECT \n    s_id, \n    s_title, \n    s_time, \n    (s_time - NOW()) AS s_timediff,\n    (\n        SELECT COUNT(*) FROM s_ups WHERE stories.q_id = s_ups.s_id\n    ) - (\n        SELECT COUNT(*) FROM s_downs WHERE stories.s_id = s_downs.s_id\n    ) AS votes,\n    /* Reddit's scoring algorithm */\n    (SELECT COUNT(*) FROM s_ups WHERE stories.q_id = s_ups.s_id) \n            - (SELECT COUNT(*) FROM s_downs WHERE stories.s_id = s_downs.s_id) + \n        969 / POW((NOW() - s_time) / 3600 + 2, 1.8) AS reddit_score\nFROM stories;