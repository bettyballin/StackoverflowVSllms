ALTER TABLE table1 ADD sncode INTEGER;\nALTER TABLE table1 ADD description_text VARCHAR2(30);\n\nUPDATE table1 t1\nSET (sncode, description_text) = (\n    SELECT sncode, description_text\n    FROM table2 T2\n    WHERE SUBSTR(t1.OTNAME, INSTR(t1.OTNAME,'.', 1, 3) + 1, \n                            INSTR(t1.OTNAME, '.', 1, 4)\n                         - INSTR(t1.OTNAME,'.', 1, 3) - 1\n               ) = T2.SNCODE\n);