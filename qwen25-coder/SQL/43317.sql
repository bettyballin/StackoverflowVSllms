-- Limiting images per page and using random sampling\nWITH RecentImages AS (\n    SELECT id, foto_albums_id, user_id, title,\n           ROW_NUMBER() OVER (ORDER BY created_at DESC) as rn,\n           COUNT(*) OVER () as total_count\n    FROM foto_images\n)\nSELECT * \nFROM RecentImages\nWHERE rn <= 20 -- Display max 20 images per page\nAND RAND(user_id) < 0.5 -- Random sampling to avoid domination by users with many uploads\nORDER BY created_at DESC;