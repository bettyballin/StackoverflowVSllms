DECLARE @requestId INT\nDECLARE @tracefile NVARCHAR(256)\nSET @tracefile = N'C:\Trace\MyServerSideTrace.trc'\n\n-- Create Server Side Trace\nEXEC sp_trace_create \n    @traceid=@requestId OUTPUT, \n    @options=2, -- start the trace immediately and return a unique id for it\n    @tracefile=N'MyServerSideTrace.trc', -- Name of file to save output\n    @maxfilesize=5, -- Max file size (MB), rolling if needed\n    @stoptime=NULL,\n    @filecount=5; \n\n-- Event 12 - SQL:BatchCompleted: Logs each completed batch that is submitted for processing by the server.\nEXEC sp_trace_setevent \n    @traceid=@requestId, \n    @eventid=12, \n    @columnid=6, -- TextData\n    @on = 1; \n\n-- Event 45 - SQL:StmtCompleted: Logs each Transact-SQL statement when it completes.\nEXEC sp_trace_setevent \n    @traceid=@requestId,\n    @eventid=45, \n    @columnid=1, -- TextData\n    @on = 1;\n\n-- Set the filter for capturing SELECT queries specifically (optional)\nEXEC sp_trace_setfilter \n    @traceid=@requestId,\n    @columnid=1,\n    @logical_operator=0,\n    @comparison_operator=6,\n    @value=N'SELECT';\n\n-- Start Trace\nEXEC sp_trace_setstatus \n    @traceid=@requestId, \n    @status=1;