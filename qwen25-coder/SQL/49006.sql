CREATE TRIGGER trg_BeforeInsertUpdate\nON YourTable\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- Temporarily store rows to be checked in a table variable or temp table.\n    DECLARE @CheckRow TABLE (ID INT PRIMARY KEY);\n\n    -- Populate the table variable with IDs of inserted/updated rows\n    INSERT INTO @CheckRow(ID)\n    SELECT ID\n    FROM INSERTED\n\n    -- Cursor declaration and opening\n    DECLARE @currentID int;\n    DECLARE MyCursor CURSOR FOR\n    SELECT ID FROM @CheckRow;\n\n    OPEN MyCursor;\n\n    FETCH NEXT FROM MyCursor INTO @currentID\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        IF EXISTS (SELECT * \n                   FROM INSERTED i \n                   WHERE i.ID = @currentID AND NOT SomeCondition(i.SomeColumn))\n        BEGIN\n            CLOSE MyCursor;\n            DEALLOCATE MyCursor;\n\n            ROLLBACK TRANSACTION;\n            RAISERROR ('Insert/Update failed due to condition not met.', 16, 1);\n            RETURN;\n        END\n\n        FETCH NEXT FROM MyCursor INTO @currentID\n    END\n\n    CLOSE MyCursor;\n    DEALLOCATE MyCursor;\nEND\nGO