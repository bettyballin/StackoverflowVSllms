CREATE PROCEDURE IncrementView\n(\n    @ArticleID int\n)\nAS\nBEGIN TRANSACTION\n\nUPDATE Articles \nSET ViewCount = ViewCount + 1 \nOUTPUT inserted.ViewCount \nWHERE ID = @ArticleID\nWITH (ROWLOCK, XLOCK)\n\nIF @@ERROR <> 0\nBEGIN\n    -- Rollback the transaction\n    ROLLBACK\n\n    -- Raise an error and return\n    RAISERROR ('Error Incrementing', 16, 1)\n    RETURN\nEND\n\nCOMMIT