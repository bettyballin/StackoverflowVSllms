-- Example of capturing specific events using Profiler filters:\n   SELECT TOP 10 total_worker_time/execution_count AS AvgCPUTime, \n                 total_elapsed_time/execution_count as AvgDuration,\n                 execution_count, \n                 (SELECT TOP 1 textdata FROM sys.dm_exec_query_stats AS qs2\n                    CROSS APPLY sys.dm_exec_sql_text(qs2.sql_handle)\n                  WHERE qs2.sql_handle = st.sql_handle ORDER BY qs2.creation_time DESC) qtext,\n                 creation_time, last_execution_time, sql_handle\n   FROM sys.dm_exec_query_stats AS st\n   ORDER BY (total_elapsed_time/execution_count) DESC;