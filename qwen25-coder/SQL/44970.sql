DECLARE @Table TABLE ([group] INT, isok BIT, x INT, y INT);\nINSERT INTO @Table VALUES\n(20, 0, 1, 1),\n(20, 1, 2, 1),\n(20, 1, 3, 1),\n(20, 0, 1, 2),\n(20, 0, 2, 1),\n(21, 1, 1, 1),\n(21, 0, 2, 1),\n(21, 1, 3, 1),\n(21, 0, 1, 2),\n(21, 1, 2, 2);\n\nSELECT\n    t1.[group],\n    SUBSTRING(\n        (SELECT COALESCE(CAST(t2.isok AS CHAR(1)), '')\n         FROM @Table t2\n         WHERE t2.[group] = t1.[group]\n         ORDER BY t2.x, t2.y\n         FOR XML PATH('')),\n       2, 2147483647) AS mask\nFROM (SELECT DISTINCT [group] FROM @Table) t1;