CREATE PROCEDURE [dbo].[InsertDifferential]\n    @differential int = NULL\nAS\nBEGIN TRY\n    BEGIN TRANSACTION\n\n    UPDATE DifferentialTable\n    SET differential = CASE \n                        WHEN @differential IS NOT NULL THEN @differential\n                        ELSE differential  -- Retain the existing value or set to NULL if desired\n                      END\n    WHERE SomeCondition = SomeValue; -- Ensure you have a condition here\n\n    COMMIT\nEND TRY\nBEGIN CATCH\n    IF @@TRANCOUNT > 0 ROLLBACK\n    DECLARE @ErrMsg nvarchar(4000), @ErrSeverity int, @ErrorState INT\n    SELECT @ErrMsg = ERROR_MESSAGE(), \n           @ErrSeverity = ERROR_SEVERITY(),\n           @ErrorState = ERROR_STATE();\n    RAISERROR(@ErrMsg, @ErrSeverity, @ErrorState);\nEND CATCH