CREATE OR REPLACE FUNCTION rm_category_update(icompany bpchar, iraw_mat_cat_code bpchar, iraw_mat_cat_desc bpchar)\nRETURNS text AS\n$BODY$\nDECLARE\n   loc_result    TEXT;\n   num_updated   INTEGER;\nBEGIN\n   UPDATE rm_category\n   SET\n      raw_mat_cat_code = iraw_mat_cat_code,\n      raw_mat_cat_desc = iraw_mat_cat_desc\n   WHERE company = icompany;\n\n   GET DIAGNOSTICS num_updated = ROW_COUNT;\n\n   IF num_updated > 0 THEN\n      loc_result := 'success';\n   ELSE\n      loc_result := 'no rows updated';\n   END IF;\n\n   RETURN loc_result;\nEND;\n$BODY$\nLANGUAGE 'plpgsql' VOLATILE;