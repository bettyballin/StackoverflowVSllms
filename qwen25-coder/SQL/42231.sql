SELECT AVG(Reponse.note) AS noteMoyenne,\n       Categorie.titre,\n       Autorisation.typeEvaluateur,\n       COUNT(DISTINCT Autorisation.id) AS nbEvaluateur\nFROM reponses AS Reponse\nJOIN questions AS Question ON Reponse.question_id = Question.id\nJOIN categories AS Categorie ON Question.categorie_id = Categorie.id\nJOIN autorisations AS Autorisation ON Reponse.evaluation_id = Autorisation.evaluation_id AND Autorisation.complete = 1\nWHERE Reponse.note != 0\nAND Reponse.evaluation_id = $id\nGROUP BY Categorie.titre, Autorisation.typeEvaluateur\nORDER BY Categorie.id;