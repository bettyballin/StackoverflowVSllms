CREATE PROCEDURE DeleteMasterRecord(IN p_master_id INT)\n   BEGIN\n       START TRANSACTION;\n       \n       -- Delete grandkids first\n       DELETE FROM Table3 WHERE Table1ID IN (SELECT table1ID FROM Table1 WHERE MasterRecordID = p_master_id);\n       DELETE FROM Table4 WHERE Table1ID IN (SELECT table1ID FROM Table1 WHERE MasterRecordID = p_master_id);\n       DELETE FROM Table5 WHERE Table2ID IN (SELECT table2ID FROM Table2 WHERE MasterRecordID = p_master_id);\n\n       -- Delete kids\n       DELETE FROM Table1 WHERE MasterRecordID = p_master_id;\n       DELETE FROM Table2 WHERE MasterRecordID = p_master_id;\n\n       -- Delete master record\n       DELETE FROM MasterRecordTable WHERE id = p_master_id;\n\n       COMMIT;\n   END;