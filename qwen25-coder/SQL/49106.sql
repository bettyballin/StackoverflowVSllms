DELIMITER //\n\nCREATE PROCEDURE archive_account(IN n INT)\nBEGIN\n    DECLARE EXIT HANDLER FOR SQLEXCEPTION\n    BEGIN\n        -- Error occurred, roll back\n        ROLLBACK;\n        RESIGNAL;\n    END;\n\n    START TRANSACTION;\n\n    -- Archive from credit_acc to credit_archive_acc\n    INSERT INTO credit_archive_acc SELECT * FROM credit_acc WHERE uid_usr = n;\n    DELETE FROM credit_acc WHERE uid_usr = n;\n\n    -- Archive from user_acc to user_archive_acc\n    INSERT INTO user_archive_usr SELECT * FROM user_usr WHERE id_usr = n;\n    DELETE FROM user_usr WHERE id_usr = n;\n\n    -- Add additional archiving logic here for more tables\n\n    COMMIT;\nEND //\n\nDELIMITER ;