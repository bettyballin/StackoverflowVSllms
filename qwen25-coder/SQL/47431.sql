CREATE TRIGGER [dbo].[ValidateProjectAssignment]\nON [dbo].[Projects]\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- Check if there are rows where the CompanyID does not match with the Client's CompanyID\n    IF EXISTS (\n        SELECT 1\n        FROM inserted i\n        INNER JOIN Clients c ON i.ClientID = c.ID\n        WHERE i.CompanyID <> c.CompanyID\n    )\n    BEGIN\n        RAISERROR('A project cannot be assigned to a client from a different company.', 16, 1);\n        ROLLBACK TRANSACTION;\n        RETURN;\n    END\nEND