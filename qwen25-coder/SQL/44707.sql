-- Creating a User-Defined Table Type\nCREATE TYPE dbo.OrderTableType AS TABLE \n(\n    OrderID INT PRIMARY KEY,\n    ProductID INT NOT NULL,\n    Quantity INT CHECK (Quantity > 0)\n);\nGO\n\n-- Example of using MERGE Statement\nMERGE INTO Sales.TargetInventory AS Target\nUSING (SELECT * FROM @ImportedRecords) AS Source (ProductID, Quantity)\nON Target.ProductID = ImportedRecords.ProductID\nWHEN MATCHED THEN \n    UPDATE SET Target.Quantity = Target.Quantity + ImportedRecords.Quantity\nWHEN NOT MATCHED BY TARGET THEN	\n    INSERT (ProductID, Quantity) VALUES (Source.ProductID, Source.Quantity);\nGO\n\n-- Creating a Filtered Index\nCREATE NONCLUSTERED INDEX IX_FrequentCustomer\nON Customers (Email)\nWHERE PurchaseFrequency > 50;