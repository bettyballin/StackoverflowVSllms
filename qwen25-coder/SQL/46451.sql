-- Create Parent table\nCREATE TABLE Parent (\n    parent_id NUMBER PRIMARY KEY\n);\n\n-- Create Child table\nCREATE TABLE Child (\n    child_id  NUMBER PRIMARY KEY,\n    parent_id NUMBER,\n    FOREIGN KEY (parent_id) REFERENCES Parent(parent_id)\n);\n\n-- Trigger to enforce exactly 3 children per parent when inserting a new child\nCREATE OR REPLACE TRIGGER trg_check_child_count\n    BEFORE INSERT ON Child\nFOR EACH ROW\nDECLARE\n    v_child_count NUMBER;\nBEGIN\n    SELECT COUNT(*) INTO v_child_count FROM Child WHERE parent_id = :NEW.parent_id;\n    \n    IF v_child_count >= 3 THEN\n        RAISE_APPLICATION_ERROR(-20001, 'A Parent can have only up to 3 children.');\n    END IF;\nEND;\n\n-- Trigger to enforce exactly 3 children per parent when deleting a child\nCREATE OR REPLACE TRIGGER trg_check_child_min_count\n    AFTER DELETE ON Child\nFOR EACH ROW\nDECLARE\n    v_child_count NUMBER;\nBEGIN\n    SELECT COUNT(*) INTO v_child_count FROM Child WHERE parent_id = :OLD.parent_id;\n    \n    IF v_child_count < 3 THEN\n        RAISE_APPLICATION_ERROR(-20001, 'A Parent must have exactly 3 children.');\n    END IF;\nEND;\n\n-- Trigger to enforce at least 3 children per parent when updating a child's parent\nCREATE OR REPLACE TRIGGER trg_check_update_child_parent_count\n    AFTER UPDATE ON Child\nFOR EACH ROW\nDECLARE\n    v_new_child_count NUMBER;\nBEGIN\n    SELECT COUNT(*) INTO v_new_child_count FROM Child WHERE parent_id = :NEW.parent_id;\n    \n    IF v_new_child_count < 3 OR v_new_child_count > 3 THEN\n        RAISE_APPLICATION_ERROR(-20001, 'A Parent must have exactly 3 children.');\n    END IF;\nEND;