-- Moving item with id '1' up:\nSTART TRANSACTION;\n\nUPDATE your_table \nSET order = CASE \n    WHEN id = 1 THEN (SELECT MIN(order) - 1 FROM your_table WHERE order > (SELECT order FROM your_table WHERE id = 1))\n    WHEN order < (SELECT order FROM your_table WHERE id = 1) THEN order + 1\n    ELSE order\nEND\nWHERE order <= (SELECT order FROM your_table WHERE id = 1);\n\nCOMMIT;\n\n-- Moving item with id '2' down:\nSTART TRANSACTION;\n\nUPDATE your_table \nSET order = CASE \n    WHEN id = 2 THEN (SELECT MAX(order) + 1 FROM your_table WHERE order < (SELECT order FROM your_table WHERE id = 2))\n    WHEN order > (SELECT order FROM your_table WHERE id = 2) THEN order - 1\n    ELSE order\nEND\nWHERE order >= (SELECT order FROM your_table WHERE id = 2);\n\nCOMMIT;