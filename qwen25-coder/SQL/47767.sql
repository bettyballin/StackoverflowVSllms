-- Check for open transactions:\nSELECT * FROM sys.dm_tran_active_transactions;\n\n-- Check for blocking locks:\nSELECT request_session_id SPID,\n       wait_time ,\n       wait_type , \n       resource_description  \nFROM sys.dm_tran_locks WHERE request_mode = 'X';\n\n-- Check if there are long-running transactions\nSELECT session_id, blocking_session_id, status, command, cpu_time, total_elapsed_time, text\nFROM sys.dm_exec_requests r\nCROSS APPLY sys.dm_exec_sql_text(sql_handle) \nWHERE blocking_session_id <> 0 OR total_elapsed_time > 30000;