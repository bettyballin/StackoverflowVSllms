DECLARE @ActiveNode NVARCHAR(128);\n\nSELECT \n    @ActiveNode = value_data\nFROM sys.dm_server_registry\nWHERE registry_key = N'Software\Microsoft\MSSQLServer\Cluster'\nAND value_name = N'ClusterName';\n\nSET NOCOUNT ON;\nIF @@SERVERNAME <> @ActiveNode\nBEGIN\n    SELECT SERVERPROPERTY('MachineName') AS ActiveNode;\nEND\nELSE\nBEGIN\n    PRINT 'The server name and cluster node are the same.';\n    SELECT SERVERPROPERTY('MachineName') AS ActiveNode;\nEND