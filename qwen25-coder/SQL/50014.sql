BEGIN TRANSACTION;\n\n-- Attempt to update the row\nUPDATE YourTable\nSET Column1 = @Column1Value,\n    Column2 = @Column2Value\nWHERE KeyColumn = @KeyValue;\n\n-- Check if the update affected any rows\nIF @@ROWCOUNT = 0\nBEGIN\n    -- If no rows were updated, insert a new row\n    INSERT INTO YourTable (KeyColumn, Column1, Column2)\n    VALUES (@KeyValue, @Column1Value, @Column2Value);\nEND\n\nCOMMIT TRANSACTION;