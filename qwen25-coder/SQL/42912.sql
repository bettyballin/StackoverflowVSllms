Create Proc dbo.spGetData\n@code as char(4)\nAS\nBEGIN TRY\n    if (@code='aaaa')\n        BEGIN TRY\n            Select date From [ServerA].Stock.dbo.Syspara\n        END TRY\n        BEGIN CATCH\n            PRINT 'Error accessing ServerA: ' + ERROR_MESSAGE()\n        END CATCH\n\n    else if (@code='bbbb')\n        BEGIN TRY\n            Select date From [ServerB].Stock.dbo.Syspara\n        END TRY\n        BEGIN CATCH\n            PRINT 'Error accessing ServerB: ' + ERROR_MESSAGE()\n        END CATCH\n\n    else if (@code='cccc')\n        BEGIN TRY\n            Select date From [ServerC].Stock.dbo.Syspara\n        END TRY\n        BEGIN CATCH\n            PRINT 'Error accessing ServerC: ' + ERROR_MESSAGE()\n        END CATCH\n\n    else if (@code='dddd')\n        BEGIN TRY\n            Select date From [ServerD].Stock.dbo.Syspara\n        END TRY\n        BEGIN CATCH\n            PRINT 'Error accessing ServerD: ' + ERROR_MESSAGE()\n        END CATCH\nEND TRY\nBEGIN CATCH\n    PRINT 'An unexpected error occurred: ' + ERROR_MESSAGE()\nEND CATCH\nGO