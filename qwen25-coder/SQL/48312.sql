create table ##example (xmltest xml);\n\ndeclare @LanguagePath varchar(75);\nset @LanguagePath = '(/languages/language[@id="en-US"])[1]';\n\ninsert into ##example values ('<languages><language id="en-US">c</language><language id="es-ES">c</language></languages>');\ninsert into ##example values ('<languages><language id="en-US">b</language><language id="es-ES">b</language></languages>');\ninsert into ##example values ('<languages><language id="en-US">a</language><language id="es-ES">a</language></languages>');\n\n-- Constructing the query dynamically\ndeclare @SQL nvarchar(max);\nset @SQL = 'select * from ##example order by xmltest.value(''' + @LanguagePath + ''', ''varchar'')';\n\nexec sp_executesql @SQL;\n\ndrop table ##example;