declare @checkvar  varchar(10) = 'a';\ncreate table #temp1(colx varchar(10));\n\nif @checkvar is null\n    insert into #temp1 (colx)\n    select colx from @tbl;\nelse\n    insert into #temp1 (colx)\n    select colx from @tbl where colx = @checkvar;\n\n-- Use the temp table as needed\nselect * from #temp1;\n\n-- Drop the temp table when done to free up resources, though it will go away automatically at session end\ndrop table #temp1;