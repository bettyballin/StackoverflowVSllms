CREATE OR REPLACE FUNCTION send_data_over_tcp(ip text, port int, message text) RETURNS void AS $$\n   import socket\n\n   # Create a socket object\n   s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n   try:\n       # Connect to the server\n       s.connect((ip, port))\n       \n       # Send data\n       s.sendall(message.encode('utf-8'))\n   finally:\n       # Close the connection\n       s.close()\n   $$ LANGUAGE plpythonu;