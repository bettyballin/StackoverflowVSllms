CREATE PROCEDURE GetFilteredOrders\n    @StartDate DATE = NULL,\n    @EndDate DATE = NULL,\n    @Status NVARCHAR(50) = NULL,\n    @CreatedBy NVARCHAR(100) = NULL,\n    @AmountFrom DECIMAL(18,2) = NULL,\n    @AmountTo DECIMAL(18,2) = NULL\nAS\nBEGIN\n    DECLARE @SQL NVARCHAR(MAX)\n\n    SET @SQL = 'SELECT OrderID, OrderDate, Status, CreatedBy, TotalAmount\n                 FROM Orders\n                 WHERE 1=1' -- Base condition to avoid syntax error\n\n    IF @StartDate IS NOT NULL\n        SET @SQL += ' AND OrderDate >= @StartDate'\n\n    IF @EndDate IS NOT NULL\n        SET @SQL += ' AND OrderDate <= @EndDate'\n\n    IF @Status IS NOT NULL\n        SET @SQL += ' AND Status = @Status'\n\n    IF @CreatedBy IS NOT NULL\n        SET @SQL += ' AND CreatedBy = @CreatedBy'\n\n    IF @AmountFrom IS NOT NULL\n        SET @SQL += ' AND TotalAmount >= @AmountFrom'\n\n    IF @AmountTo IS NOT NULL\n        SET @SQL += ' AND TotalAmount <= @AmountTo'\n\n    EXEC sp_executesql @SQL, \n                       N'@StartDate DATE, @EndDate DATE, @Status NVARCHAR(50),\n                         @CreatedBy NVARCHAR(100), @AmountFrom DECIMAL(18,2),\n                         @AmountTo DECIMAL(18,2)',\n                       @StartDate, @EndDate, @Status, @CreatedBy, @AmountFrom, @AmountTo\nEND