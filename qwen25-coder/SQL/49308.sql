BEGIN TRY\n    BEGIN TRANSACTION;\n\n    INSERT INTO [dbo].[TrackStrings] ([String])\n    VALUES ('YourStringHere');\n\n    DECLARE @TrackStringId bigint = SCOPE_IDENTITY();\n\n    INSERT INTO [dbo].[Tracks] ([TrackStringId], [Time])\n    VALUES (@TrackStringId, GETDATE());\n\n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n    -- You can also add error handling code here if necessary\n    PRINT 'An error occurred. Transaction rolled back.';\nEND CATCH;