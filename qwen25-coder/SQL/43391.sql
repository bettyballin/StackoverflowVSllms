DELIMITER //\n\nCREATE TRIGGER before_insert_codes_trigger\nBEFORE INSERT ON your_table_name\nFOR EACH ROW\nBEGIN\n    IF NOT EXISTS (SELECT 1 FROM codes_table WHERE code = NEW.your_code_column) THEN\n        SIGNAL SQLSTATE '45000'\n        SET MESSAGE_TEXT = 'Invalid code. Code does not exist in the codes table.';\n    END IF;\nEND; //\n\nCREATE TRIGGER before_update_codes_trigger\nBEFORE UPDATE ON your_table_name\nFOR EACH ROW\nBEGIN\n    IF NOT EXISTS (SELECT 1 FROM codes_table WHERE code = NEW.your_code_column) THEN\n        SIGNAL SQLSTATE '45000'\n        SET MESSAGE_TEXT = 'Invalid code. Code does not exist in the codes table.';\n    END IF;\nEND; //\n\nDELIMITER ;