CREATE PROCEDURE sp_myDuplicateCheck\n    @userId int,\n    @noteType char(1),\n    @aCode char(3),\n    @bCode char(3), \n    @cCode char(3),\n    @outDuplicateFound int OUTPUT\nAS\nBEGIN\n    SET @outDuplicateFound = 0\n\n    IF EXISTS (\n        SELECT 1 \n        FROM codeTable \n        WHERE userId = @userId\n        AND (@noteType IS NULL OR noteType = @noteType)\n        AND (@aCode IS NULL OR aCode = @aCode)\n        AND (@bCode IS NULL OR bCode = @bCode)\n        AND (@cCode IS NULL OR cCode = @cCode)\n    )\n    BEGIN\n        SET @outDuplicateFound = 1\n    END\nEND