CREATE VIEW ClientInfo AS\nSELECT \n    c.id,\n    c.profile_id,\n    p.firstname,\n    p.address,\n    p.zipcode,\n    e.email_address,\n    ph.phone_number\nFROM \n    client c\nJOIN \n    profile p ON c.profile_id = p.id\nLEFT JOIN \n    (SELECT \n         client_id, email_address\n     FROM \n         email\n     WHERE \n         primary_flag = TRUE) e ON c.id = e.client_id\nLEFT JOIN \n    (SELECT \n         client_id, phone_number\n     FROM \n         phone\n     WHERE \n         primary_flag = TRUE) ph ON c.id = ph.client_id;