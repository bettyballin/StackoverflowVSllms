CREATE TRIGGER trg_ValidateEmployeeCustomerMatch\nON WorkItem\nFOR INSERT, UPDATE\nAS\nBEGIN\n    IF EXISTS (\n        SELECT *\n        FROM inserted i\n        JOIN Employee e ON i.EmployeeId = e.EmployeeId AND i.CustomerId <> e.CustomerId\n        WHERE i.EmployeeId IS NOT NULL\n    )\n    BEGIN\n        ROLLBACK TRANSACTION;\n        RAISERROR ('Employee must be associated with the same Customer as the WorkItem.', 16, 1);\n    END\nEND