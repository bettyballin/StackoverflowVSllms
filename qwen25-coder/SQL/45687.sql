-- Create a function to generate the next CHILD_ID based on PARENT_ID\nCREATE OR REPLACE FUNCTION set_child_id()\nRETURNS TRIGGER AS $$\nBEGIN\n    -- Select the max CHILD_ID for the current PARENT_ID and increment by 1\n    SELECT COALESCE(MAX(child_id) + 1, 1)\n    INTO NEW.child_id\n    FROM child\n    WHERE parent_id = NEW.parent_id;\n    \n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\n-- Create a trigger that calls this function before each insert on the CHILD table\nCREATE TRIGGER auto_increment_child_id BEFORE INSERT ON child\nFOR EACH ROW EXECUTE FUNCTION set_child_id();