CREATE PROCEDURE GetGroupMembers\nAS\nBEGIN\n    -- Table variable to hold intermediate results\n    DECLARE @GroupMembers TABLE (\n        GroupID INT,\n        UserID INT\n    )\n\n    -- Insert statements using OPENROWSET or a similar method if your parse function is inline\n    INSERT INTO @GroupMembers (GroupID, UserID)\n    SELECT \n        U.ID AS GroupID, \n        CAST(value AS INT) AS UserID\n    FROM UserTable U\n    CROSS APPLY dbo.SplitString(U.Members, ',') -- Assuming you have this split function\n\n    -- Select from the table variable to get the result\n    SELECT * FROM @GroupMembers WHERE GroupID IN (SELECT ID FROM UserTable WHERE IsGroup = 1)\nEND