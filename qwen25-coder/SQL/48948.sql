CREATE PROCEDURE spBaz\n(\n  @fooInt INT = 0,\n  @fooString VARCHAR(10) = NULL,\n  @barInt INT = 0,\n  @barString VARCHAR(10) = NULL\n)\nAS\nBEGIN\n    BEGIN TRY\n        -- Validate parameters\n        IF (@fooInt = 0 AND (@fooString IS NULL OR @fooString = ''))\n        BEGIN\n            RAISERROR('Invalid parameter: foo', 18, 1);\n        END\n\n        IF (@barInt = 0 AND (@barString IS NULL OR @barString = ''))\n        BEGIN\n            RAISERROR('Invalid parameter: bar', 18, 1);\n        END\n\n        -- If validation passes, proceed with the main logic\n        PRINT 'Validation succeeded'\n        -- Do some work here\n    END TRY\n    BEGIN CATCH\n        -- Rethrow the error captured in the catch block\n        DECLARE @ ErrorMessage NVARCHAR(4000);\n        DECLARE @ErrorSeverity INT;\n        DECLARE @ErrorState INT;\n\n        SELECT \n            @ErrorMessage = ERROR_MESSAGE(),\n            @ErrorSeverity = ERROR_SEVERITY(),\n            @ErrorState = ERROR_STATE();\n\n        RAISERROR(@ErrorMessage, @ErrorSeverity, @ErrorState);\n    END CATCH\nEND