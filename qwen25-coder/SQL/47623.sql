CREATE PROCEDURE GetDynamicData\n    @TablePrefix NVARCHAR(50),\n    @TableSuffix NVARCHAR(50)\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- Ensure the inputs are safe to concatenate into table name\n    DECLARE @SafePrefix NVARCHAR(50) = QUOTENAME(@TablePrefix);\n    DECLARE @SafeSuffix NVARCHAR(50) = QUOTENAME(@TableSuffix);\n\n    -- Construct the full table name safely\n    DECLARE @FullTableName NVARCHAR(103) = @SafePrefix + '_' + SUBSTRING(@SafeSuffix, 2, LEN(@SafeSuffix) - 2);\n\n    -- Check if the constructed table name exists and is a user table\n    IF EXISTS (\n        SELECT 1 \n        FROM sys.tables \n        WHERE name = SUBSTRING(@FullTableName, 3, LEN(@FullTableName) - 2)\n    )\n    BEGIN\n        DECLARE @SQL NVARCHAR(MAX);\n        SET @SQL = N'SELECT * FROM ' + QUOTENAME(@FullTableName);\n\n        -- Execute the dynamic SQL safely\n        EXEC sp_executesql @SQL;\n    END\n    ELSE\n    BEGIN\n        RAISERROR('Invalid table name.', 16, 1);\n    END\nEND;