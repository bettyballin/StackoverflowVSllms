ALTER PROCEDURE [EmployeeSearch]\n@PayrollNumber  varchar(50) = null,\n@isInternal     bit = null,\n@Firstname      varchar(50) = null,\n@Surname        varchar(50) = null\nAS\nSET NOCOUNT ON;\n\n-- Convert empty strings to NULL\nIF @Firstname = ''\n    SET @Firstname = NULL\n\nIF @Surname = ''\n    SET @Surname = NULL\n\nSelect EmployeeSearchView.*\nFrom   EmployeeSearchView\nWhere\n    (@isInternal IS NULL OR EmployeeSearchView.isInternal = @isInternal)\nAND \n    (@PayrollNumber IS NULL OR EmployeeSearchView.PayrollNumber LIKE '%' + @PayrollNumber + '%')\nOR  \n    (@Firstname IS NULL OR EmployeeSearchView.Firstname LIKE '%' + @Firstname + '%')\nOR  \n    (@Surname IS NULL OR EmployeeSearchView.Surname LIKE '%' + @Surname + '%')