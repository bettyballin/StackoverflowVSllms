DECLARE @IPv6Address VARCHAR(39) = '2001:0db8:85a3:0000:0000:8a2e:0370:7334';\nDECLARE @UpperBits BIGINT;\nDECLARE @LowerBits BIGINT;\n\nSELECT \n    @UpperBits = CONVERT(BIGINT, PARSENAME(REPLACE(PARSENAME(@IPv6Address, 8) + '.' +\n                                                 PARSENAME(@IPv6Address, 7) + '.' +\n                                                 PARSENAME(@IPv6Address, 6) + '.' +\n                                                 PARSENAME(@IPv6Address, 5), ':', '.'), 1)) * POWER(2, 32) +\n                  CONVERT(BIGINT, PARSENAME(REPLACE(PARSENAME(@IPv6Address, 8) + '.' +\n                                                 PARSENAME(@IPv6Address, 7) + '.' +\n                                                 PARSENAME(@IPv6Address, 6) + '.' +\n                                                 PARSENAME(@IPv6Address, 5), ':', '.'), 2)),\n    @LowerBits = CONVERT(BIGINT, PARSENAME(REPLACE(PARSENAME(@IPv6Address, 4) + '.' +\n                                                 PARSENAME(@IPv6Address, 3) + '.' +\n                                                 PARSENAME(@IPv6Address, 2) + '.' +\n                                                 PARSENAME(@IPv6Address, 1), ':', '.'), 1)) * POWER(2, 32) +\n                  CONVERT(BIGINT, PARSENAME(REPLACE(PARSENAME(@IPv6Address, 4) + '.' +\n                                                 PARSENAME(@IPv6Address, 3) + '.' +\n                                                 PARSENAME(@IPv6Address, 2) + '.' +\n                                                 PARSENAME(@IPv6Address, 1), ':', '.'), 2));\n\nINSERT INTO IPv6Addresses (UpperBits, LowerBits)\nVALUES (@UpperBits, @LowerBits);