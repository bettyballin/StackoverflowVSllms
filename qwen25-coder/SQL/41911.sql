-- Declare variables\nvariable mvtask varchar2(100); \nvariable mvddl clob; -- CLOB is used for potentially larger strings\n\n-- Assign task name and fetch MView DDL\nexecute :mvtask := 'MV_FOO_BAR';\ndeclare\n   l_ddl clob;\nbegin\n   select mview_definition into l_ddl from user_mviews where view_name = 'MV_FOO_BAR';\n   :mvddl := q'['||l_ddl||']'; -- Ensure complete statement is wrapped in q'[ ]'\nexception\n   when no_data_found then\n      dbms_output.put_line('Materialized View MV_FOO_BAR not found.');\n   when others then\n      dbms_output.put_line('Error fetching MView DDL: ' || sqlerrm);\nend;\n\n-- Run the tuning procedure\nbegin\n   DBMS_ADVISOR.TUNE_MVIEW(:mvtask, :mvddl);\nexception\n   when others then\n      dbms_output.put_line('Tuning error: ' || sqlerrm);\nend;\n\n-- Fetch results from tuning advice\nselect * from user_tune_mview;