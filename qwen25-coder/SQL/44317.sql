-- Step 1: Create the TYPE\nCREATE OR REPLACE TYPE VARCHAR2_TABLE AS TABLE OF VARCHAR2(4000);\n/\n\n-- Step 2: Create the function to split the string\nCREATE OR REPLACE FUNCTION split_csv_string (\n    p_list IN VARCHAR2,\n    p_delimiter IN VARCHAR2 DEFAULT ','\n) RETURN VARCHAR2_TABLE PIPELINED IS\n    v_length   INT := LENGTH(p_list);\n    v_index    PLS_INTEGER;\n    v_beginning  PLS_INTEGER := 1;\n    v_found      PLS_INTEGER;\nBEGIN\n    LOOP\n        -- Find the next delimiter;\n        v_found := INSTR( SUBSTR(p_list, v_beginning), p_delimiter );\n        \n        IF (v_found > 0) THEN\n            -- If found, pipe out the substring;\n            PIPE ROW(TRIM(SUBSTR(p_list, v_beginning, v_found - 1)));\n            \n            -- Search for next part of string after the delimiter;\n            v_beginning := v_beginning + LENGTH(p_delimiter) + v_found - 1;\n        ELSE\n            -- If no more delimiters, pipe out the last substring and leave loop;\n            PIPE ROW( TRIM(SUBSTR(p_list, v_beginning)) );\n            EXIT;\n        END IF;\n    END LOOP;\nEND;\n/\n\n-- Example usage:\nSELECT * FROM TABLE(split_csv_string('apple,banana,cherry'));