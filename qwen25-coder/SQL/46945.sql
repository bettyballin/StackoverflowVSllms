-- To find slow running queries\n   SELECT TOP 10 \n       total_elapsed_time / execution_count AS avg_elapsed_time,\n       SUBSTRING(text.TEXT, (statement_start_offset/2)+1, \n        ((CASE statement_end_offset WHEN -1 THEN DATALENGTH(text.TEXT)\n         ELSE statement_end_offset END - statement_start_offset)/2) + 1)  AS query_text\n   FROM sys.dm_exec_query_stats qs WITH (NOLOCK)\n   CROSS APPLY sys.dm_exec_sql_text(qs.sql_handle) text \n   ORDER BY avg_elapsed_time DESC;