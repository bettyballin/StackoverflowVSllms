USE [msdb]\nGO\n\nBEGIN TRANSACTION\nDECLARE @ReturnCode INT\nSELECT @ReturnCode = 0\n/****** Object:  Job \[DatabaseBackupJob\]    Script Date: 2/14/2023 8:59:11 PM ******/\nIF NOT EXISTS (SELECT name FROM msdb.dbo.syscategories WHERE name=N'[Uncategorized (Local)]' AND category_class=1)\nBEGIN\nEXEC @ReturnCode = msdb.dbo.sp_add_category @class=N'JOB', @type=N'LOCAL', @name=N'[Uncategorized (Local)]'\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\n\nEND\n\nDECLARE @jobId BINARY(16)\nEXEC @ReturnCode =  msdb.dbo.sp_add_job @job_name=N'DatabaseBackupJob',\n            @enabled=1,\n            @notify_level_eventlog=2,\n            @notify_level_email=0,\n            @notify_level_netsend=0,\n            @notify_level_page=0,\n            @delete_level=0, \n            @description=N'No description available.',\n            @category_name=N'[Uncategorized (Local)]',\n            @owner_login_name=N'sa', @job_id = @jobId OUTPUT\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\n\n/****** Object:  Step \[Backup all\]    Script Date: 2/14/2023 8:59:11 PM ******/\nEXEC @ReturnCode = msdb.dbo.sp_add_jobstep @job_id=@jobId, @step_name=N'Backup all',\n            @subsystem=N'TSQL',\n            @command=N'BACKUP DATABASE [YourDatabaseName] TO DISK = N''C:\Backups\Full\YourDatabaseName.bak'' WITH NOFORMAT, INIT, NAME = N''YourDatabaseName-Full Database Backup'', SKIP, NOREWIND, NOUNLOAD, STATS = 10',\n            @retry_attempts=3,\n            @retry_interval=5,\n            @wait_for_completion=0\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\n\nEXEC @ReturnCode = msdb.dbo.sp_update_job @job_id = @jobId, @start_step_id = 1\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\nEXEC @ReturnCode = msdb.dbo.sp_add_jobschedule @job_id=@jobId, @name=N'DailyBackup',\n            @freq_type=4,\n            @freq_interval=1,\n            @freq_subday_type=1,\n            @freq_subday_interval=0,\n            @freq_relative_interval=0,\n            @freq_recurrence_factor=0,\n            @active_start_date=20230214,\n            @active_end_date=99991231,\n            @active_start_time=233000,\n            @active_end_time=235959\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\n\nEXEC @ReturnCode = msdb.dbo.sp_add_jobserver @job_id = @jobId, @server_name = N'(local)'\nIF (@@ERROR <> 0 OR @ReturnCode <> 0) GOTO QuitWithRollback\nCOMMIT TRANSACTION\nGOTO EndSave\nQuitWithRollback:\n    IF (@@TRANCOUNT > 0) ROLLBACK TRANSACTION\nEndSave:\nGO