CREATE PROCEDURE GetFilteredData\n    @clientId INT\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    DECLARE @cityList TABLE (\n        city VARCHAR(200)\n    );\n\n    -- Insert distinct cities into table variable\n    INSERT INTO @cityList (city)\n    SELECT DISTINCT city \n    FROM tOH \n    WHERE clientId = @clientId;\n\n    -- Declare a variable for the state since there's usually only one\n    DECLARE @state VARCHAR(20);\n\n    SELECT @state = DISTINCT state \n    FROM tOH \n    WHERE clientId = @clientId;\n\n    -- Main select statement using IN clause with table variable\n    SELECT *\n    FROM YourLargeTable\n    WHERE city IN (SELECT city FROM @cityList)\n      AND state = @state;\nEND;