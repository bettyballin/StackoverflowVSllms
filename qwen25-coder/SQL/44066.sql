CREATE OR REPLACE FUNCTION split_csv (\n    p_list VARCHAR2,\n    p_delimiter VARCHAR2 DEFAULT ','\n) RETURN number_table IS\n    l_string VARCHAR2(32767) := p_list || p_delimiter;\n    l_data   NUMBER_TABLE := number_table();\nBEGIN\n    FOR i IN 1 .. REGEXP_COUNT(p_list, p_delimiter) + 1 LOOP\n        l_data.EXTEND;\n        l_data(i) := TO_NUMBER(TRIM(REGEXP_SUBSTR(l_string, '[^' || p_delimiter || ']+', 1, i)));\n    END LOOP;\n    RETURN l_data;\nEND split_csv;