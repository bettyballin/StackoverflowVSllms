CREATE PROCEDURE DeleteBookAndPages (@bookId INT)\nAS\nBEGIN\n    BEGIN TRANSACTION;\n\n    BEGIN TRY\n        -- First, delete the pages associated with the book\n        DELETE FROM Pages WHERE BookId = @bookId;\n\n        -- Then, delete the book itself\n        DELETE FROM Books WHERE Id = @bookId;\n\n        COMMIT TRANSACTION;\n    END TRY\n    BEGIN CATCH\n        ROLLBACK TRANSACTION;\n        THROW;  -- Re-throw the caught exception to handle it in application logic if needed\n    END CATCH\nEND;