CREATE OR REPLACE FUNCTION check_materialized_path(path VARCHAR2) RETURN BOOLEAN IS\n    parent_path VARCHAR2(1024);\nBEGIN\n    -- Extract the parent path from the materialized path\n    parent_path := SUBSTR(path, 1, INSTR(path, '/', -1)-1);\n\n    -- Check if the parent path exists in the table\n    IF NOT EXISTS (SELECT 1 FROM your_table WHERE node_path = parent_path) THEN\n        RETURN FALSE;\n    END IF;\n\n    RETURN TRUE;\nEXCEPTION\n    WHEN OTHERS THEN\n        RETURN FALSE;\nEND;\n/\n\nCREATE OR REPLACE TRIGGER trigger_check_materialized_path\nBEFORE INSERT OR UPDATE ON your_table\nFOR EACH ROW\nDECLARE\nBEGIN\n    IF :NEW.node_path IS NOT NULL AND NOT check_materialized_path(:NEW.node_path) THEN\n        RAISE_APPLICATION_ERROR(-20001, 'Invalid materialized path. Parent node does not exist.');\n    END IF;\nEND;\n/