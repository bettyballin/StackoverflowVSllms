SELECT r.RequestId, r.CustomerId,\n       (SELECT CONCAT(FirstName, ' ', LastName) \n        FROM tbluser \n        WHERE UserId = v_userId) AS "Customer",\n       r.RequestDate, r.QuoteDetailsFileLink, r.Requestcomment, \n       qp.QuotePraposalLink, qp.Comment\nFROM tblrequest r\nLEFT OUTER JOIN (\n    SELECT requestid, MAX(id) as max_id\n    FROM tblquoteproposal\n    GROUP BY requestid\n) qph ON r.RequestId = qph.requestid\nLEFT OUTER JOIN tblquoteproposal qp ON qph.max_id = qp.id\nWHERE r.customerid = v_userId\nORDER BY r.RequestId DESC;