DECLARE @SQL NVARCHAR(MAX) = N'';  \nDECLARE @TableName NVARCHAR(128);  \nDECLARE @ColumnName NVARCHAR(128);\nDECLARE @MaliciousText NVARCHAR(500) = N'malicious_text_here';\n\n-- Cursor to iterate through all varchar/nvarchar columns in the database\nDECLARE ColumnsCursor CURSOR FOR \nSELECT TABLE_NAME, COLUMN_NAME\nFROM INFORMATION_SCHEMA.COLUMNS\nWHERE DATA_TYPE IN ('varchar', 'nvarchar') AND TABLE_TYPE = 'BASE TABLE';\n\nOPEN ColumnsCursor;  \nFETCH NEXT FROM ColumnsCursor INTO @TableName, @ColumnName;\n\nWHILE @@FETCH_STATUS = 0  \nBEGIN  \n    SET @SQL += N'UPDATE [' + @TableName + '] \n                   SET [' + @ColumnName + '] = LEFT([' + @ColumnName + '], LEN([' + @ColumnName + ']) - LEN(''' + @MaliciousText + ''')) \n                   WHERE [' + @ColumnName + '] LIKE ''' + '%' + @MaliciousText + N''';';\n    \n    FETCH NEXT FROM ColumnsCursor INTO @TableName, @ColumnName;  \nEND;\n\nCLOSE ColumnsCursor;  \nDEALLOCATE ColumnsCursor;\n\n-- Execute the dynamically generated SQL commands\nEXEC sp_executesql @SQL;