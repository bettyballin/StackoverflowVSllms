BEGIN TRANSACTION;\n\nBEGIN TRY\n    -- Add all schema changes in the following format:\n    -- ALTER TABLE...\n    -- CREATE INDEX...\n    \n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n    DECLARE @ErrorMessage NVARCHAR(4000);\n    DECLARE @ErrorSeverity INT;\n    DECLARE @ErrorState INT;\n\n    SELECT \n        @ErrorMessage = ERROR_MESSAGE(),\n        @ErrorSeverity = ERROR_SEVERITY(),\n        @ErrorState = ERROR_STATE();\n\n    RAISERROR (@ErrorMessage, -- Message text.\n               @ErrorSeverity, -- Severity.\n               @ErrorState -- State.\n               );\nEND CATCH;