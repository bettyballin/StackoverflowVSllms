DECLARE\n  TYPE number_list IS TABLE OF NUMBER;\n  l_exclude_categories number_list := new number_list();\n  sExcludeCategories VARCHAR2(100); -- Adjust size as necessary for input\n  ccur SYS_REFCURSOR;\n\nBEGIN\n  -- Assuming sExcludeCategories is a comma-separated string of numbers\n  SELECT CAST(COLLECT(TO_NUMBER(REGEXP_SUBSTR(sExcludeCategories, '[^,]+', 1, LEVEL))) AS number_list)\n    INTO l_exclude_categories\n    FROM DUAL\n    CONNECT BY REGEXP_SUBSTR(sExcludeCategories, '[^,]+', 1, LEVEL) IS NOT NULL;\n\n  OPEN ccur FOR\n    SELECT c.category \n    FROM test_category c \n    WHERE c.deptid = PI_N_Dept\n      AND c.category NOT MEMBER OF l_exclude_categories;\nEND;\n/