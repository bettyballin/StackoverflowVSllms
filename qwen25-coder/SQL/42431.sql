CREATE OR REPLACE FUNCTION sp_list_name_safe(last_name_prefix VARCHAR)\nRETURNS SETOF v_player AS $$\nDECLARE\n    query TEXT;\n    r_player  v_player%ROWTYPE;\nBEGIN\n    query := 'SELECT first_name, last_name FROM v_player WHERE last_name LIKE $1';\n    FOR r_player IN EXECUTE query USING last_name_prefix || '%' LOOP\n        RETURN NEXT r_player;\n    END LOOP;\n    RETURN;\nEND;\n$$ LANGUAGE plpgsql VOLATILE;