CC=gcc\n\n# Compilation flags for compiling sources for both executable and shared libraries\nCFLAGS=-fPIC -Wall -O2\n\n# Source files\nSOURCES=main.c libfunc.c\n\n# Object files\nOBJECTS=$(patsubst %.c, %.o, $(SOURCES))\n\nEXECUTABLE=my_executable\nSHARED_LIBRARY=libmyshared.so\n\nall: $(EXECUTABLE) $(SHARED_LIBRARY)\n\n$(EXECUTABLE): $(OBJECTS)\n	$(CC) -o $@ $^\n\n$(SHARED_LIBRARY): $(OBJECTS)\n	$(CC) -shared -o $@ $^\n\nclean:\n	rm -f *.o $(EXECUTABLE) $(SHARED_LIBRARY)