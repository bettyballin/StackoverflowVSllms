#!/bin/bash\n\n# Step 1: Build the application\nxcodebuild clean build -workspace YourProject.xcworkspace \\n-scheme "YourScheme" \\n-configuration Debug \\n-sdk iphoneos \\nONLY_ACTIVE_ARCH=YES \\nCODE_SIGN_IDENTITY="iPhone Developer: Your Name (TEAMID)" \\nDEVELOPMENT_TEAM=TEAMID\n\n# Step 2: Install the application on a device\nxcodebuild install -workspace YourProject.xcworkspace \\n-scheme "YourScheme" \\n-configuration Debug \\n-sdk iphoneos \\nONLY_ACTIVE_ARCH=YES \\nCODE_SIGN_IDENTITY="iPhone Developer: Your Name (TEAMID)" \\nDEVELOPMENT_TEAM=TEAMID \\nDEVICEUDID="your-device-udid"\n\n# Step 3: Run the app and collect results\nxctrace record --template "YourTemplate.xctemplate" \\n--output your-test-output.trace \\n--time-limit 60s \\n--device "your-device-name-or-udid" \\n/Applications/YourApp.app\n\n# Note: For debugging with gdb, it's recommended to use lldb in Xcode or instruments for testing on devices.\n# If you specifically need gdb output, consider adding scripts that connect via usbmuxd and debug using lldb command scripting or other advanced setups.\n\n# Step 4: Collect results as needed\n# You might want to parse your-test-output.trace or other logs\n\n# Step 5: Close the app after test\nxcodebuild test-without-building -workspace YourProject.xcworkspace \\n-destination 'platform=iOS,id=your-device-udid' \\n-scheme "YourScheme" \\n-only-testing:"YourTests"