#!/bin/bash\n\n# Define variables\nBACKUP_DIR="/path/to/your/backups"\nFTP_USER="ftpuser"\nFTP_PASS="ftppassword"\nFTP_HOST="example.com"\nREMOTE_DIR="/remote/path/"\n\n# Create timestamped backup file name\nTIMESTAMP=$(date +"%Y%m%d%H%M%S")\nBACKUP_FILE="backup_$TIMESTAMP.tar.gz"\n\n# Create the tar archive\ntar -czf "$BACKUP_DIR/$BACKUP_FILE" /path/to/webfiles /path/to/database_dump.sql\n\n# FTP the backup to remote server\ncd $BACKUP_DIR\nftp -n $FTP_HOST <<END_SCRIPT\nquote USER $FTP_USER\nquote PASS $FTP_PASS\ncd $REMOTE_DIR\nmput $BACKUP_FILE\nquit\nEND_SCRIPT\n\n# Delete all but the latest 10 files in the remote directory via FTP\nftp -n $FTP_HOST <<END_SCRIPT\nquote USER $FTP_USER\nquote PASS $FTP_PASS\ncd $REMOTE_DIR\nls -t | sed '1,10d' | xargs -I {} rm {}\nquit\nEND_SCRIPT\n\n# Optionally, delete old local backups to save space (outside of FTP)\nfind $BACKUP_DIR/* -type f -mtime +30 -exec rm -f {} \;