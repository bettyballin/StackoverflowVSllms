#!/bin/bash\n\n# Check if inotifywait is installed\nif ! command -v inotifywait &> /dev/null; then\n    echo "inotifywait could not be found, please install inotify-tools."\n    exit 1\nfi\n\n# Parse the arguments\nFILES=()\nCOMMANDS=()\nMODE="files"\n\nfor arg in "$@"; do\n    case "$arg" in\n        "do")\n            MODE="commands"\n            ;;\n        "and")\n            # Do nothing, just separate commands\n            ;;\n        *)\n            if [ "$MODE" == "files" ]; then\n                FILES+=("$arg")\n            else\n                COMMANDS+=("$arg")\n            fi\n            ;;\n    esac\ndone\n\n# Join the commands into a single string\nFULL_COMMAND=$(IFS=" "; echo "${COMMANDS[*]}")\n\n# Watch for changes on specified files and execute command\ninotifywait -m -e modify --format "%w%f" "${FILES[@]}" |\nwhile IFS= read -r file; do\n    # Replace {} with the filename that changed\n    cmd=${FULL_COMMAND//\{\}/$file}\n    eval "$cmd"\ndone