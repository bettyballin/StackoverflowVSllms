#!/bin/bash\n\ntest -f kill_me && rm kill_me\n\n# Start a new process group and run 'test1' in it.\n./test1 & \nmain_pid=$!\npgid=$(ps -o pgid= $main_pid | awk '{print $1}')\n\nwhile true; do\n    sleep 1\n    if test -f kill_me; then\n        # Send SIGINT to all processes in the process group\n        kill -INT -- -$pgid\n        wait $main_pid 2>/dev/null  # Wait for the main process to exit.\n        exit\n    fi\ndone