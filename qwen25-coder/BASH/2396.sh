#!/bin/bash\n\nDB_USER="your_username"\nDB_PASS="your_password"\nDB_NAME="your_database"\n\n# Establish a temporary file for SQL commands\nSQLFILE=$(mktemp /tmp/truncatetables.XXXXXXXXXX)\n\n# Get foreign key dependencies and order of truncation\necho "SET FOREIGN_KEY_CHECKS = 0;" > $SQLFILE\n\nmysql -u$DB_USER -p$DB_PASS -D $DB_NAME --skip-column-names -e "\n    SELECT CONCAT('TRUNCATE TABLE `', table_name, '`;')\n    FROM information_schema.tables\n    WHERE table_type = 'BASE TABLE' AND table_schema='$DB_NAME'\n    ORDER BY (\n        SELECT IFNULL((SELECT COUNT(*)\n                       FROM information_schema.table_constraints tc\n                       JOIN information_schema.key_column_usage kcu \n                       ON tc.constraint_name=kcu.constraint_name\n                         AND tc.table_schema<kcu.referenced_table_schema\n                         OR (tc.table_schema=kcu.referenced_table_schema\n                             AND tc.table_name < kcu.referenced_table_name)\n                       WHERE tc.constraint_type='FOREIGN KEY'\n                         AND tc.table_schema=tables.table_schema\n                         AND tc.table_name=tables.table_name), 0) - (\n               SELECT IFNULL((SELECT COUNT(*)\n                              FROM information_schemareferenced_table_constraints tc\n                              JOIN information_schema.key_column_usage kcu \n                              ON tc.constraint_name=kcu.constraint_name\n                                AND tc.table_schema>kcu.referenced_table_schema\n                                OR (tc.table_schema=kcu.referenced_table_schema\n                                    AND tc.table_name > kcu.referenced_table_name)\n                              WHERE tc.constraint_type='FOREIGN KEY'\n                                AND tc.table_schema=tables.table_schema\n                                AND tc.table_name=tables.table_name), 0)\n    ) DESC, table_name;\n" >> $SQLFILE\n\necho "SET FOREIGN_KEY_CHECKS = 1;" >> $SQLFILE\n\n# Execute the SQL commands\nmysql -u$DB_USER -p$DB_PASS < $SQLFILE\n\n# Clean up\nrm -f $SQLFILE