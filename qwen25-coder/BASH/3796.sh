#!/bin/bash\n\n   VMNAME="CentOSTest"\n   ISO_PATH="/path/to/centos.iso"\n   KS_CFG="/path/to/kickstart.cfg"\n\n   # Create a new virtual machine\n   vmware-vdiskmanager -c -s 20GB -t 0 /vmfs/volumes/datastore1/$VMNAME.vmdk\n\n   echo "Creating VM configuration..."\n   # Generate or modify a .vmx file for the VM:\n   cat > "$VMNAME.vmx" <<EOL\n   config.version = "8"\n   virtualHW.version = "15"\n   memsize = "2048"\n   numvcpus = "2"\n\n   ide0:0.present = "TRUE"\n   ide0:0.fileName= "$ISO_PATH"\n   ide0:0.deviceType="cdrom-image"\n\n   floppy0.present = "FALSE"\n   ethernet0.present = "TRUE"\n   ethernet0.connectionType = "nat"\n   usb.present = "FALSE"\n   sound.present = "FALSE"\n   displayName = "$VMNAME"\n\n   scsi0.present = "TRUE"\n   scsi0.virtualDev = "lsilogic"\n   scsi0:0.present = "TRUE"\n   scsi0:0.fileName = "/vmfs/volumes/datastore1/$VMNAME.vmdk"\n   scsi0:0.deviceType = "scsi-hardDisk"\n\n   guestOS = "centos7-64"\n   EOL\n\n   # Start the VM\n   echo "Starting the virtual machine..."\n   vmrun start "$VMNAME.vmx" nogui\n\n   # Wait for the installation to complete before proceeding with tests\n   sleep 1200 # Adjust sleep time based on your actual install duration\n\n   # Run automated tests here, if needed