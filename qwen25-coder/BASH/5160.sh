@echo off\nsetlocal\n\n:: Backup settings\nset SPBackups=C:\SharePoint\Backups\nset FullBackupName=%SPBackups%\backup_full.bak\nset DateStamp=%date:~-4,4%%date:~-10,2%%date:~-7,2%\nset RenamedFullBackupName=backup_%DateStamp%_full.bak\n\n:: Perform a full backup (this is fictional command - replace with actual)\nstsadm.exe -o backup -url "http://your-sharepoint-site" -filename "%FullBackupName%" -overwrite\n\n:: Record the path to latest full backup\necho %FullBackupName% > %SPBackups%\latest_full_backup.txt\n\n:: Rename the full backup directory\nif exist "%FullBackupName%" (\n    move /Y "%FullBackupName%" "%SPBackups%\%RenamedFullBackupName%"\n)\n\n:: For differential backups, read the path of the latest full backup\nset /p LatestFullBackup=<%SPBackups%\latest_full_backup.txt\n\n:: Perform a differential backup (this is fictional command - replace with actual)\nstsadm.exe -o backup -url "http://your-sharepoint-site" -filename "%SPBackups%\backup_diff_%DateStamp%.bak" -incremental -overwrite -backupdir "%LatestFullBackup%"\n\nendlocal