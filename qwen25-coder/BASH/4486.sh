#!/bin/bash\n\n# Replace 'window_title' with the title of your target window\nWINDOW_TITLE="window_title"\n\n# Get the window ID\nWINDOW_ID=$(xdotool search --name "$WINDOW_TITLE" | head -n 1)\n\nif [ -z "$WINDOW_ID" ]; then\n    echo "Window not found!"\n    exit 1\nfi\n\n# Save the current state (is it hidden or minimized)\nWSTATE=$(xprop -id $WINDOW_ID _NET_WM_STATE|grep HIDDEN,MINIMIZED)\n\n# Raise and unminimize the window (if necessary)\nxdotool windowraise $WINDOW_ID\nxdotool windowactivate $WINDOW_ID\n\n# Give some time to raise/unminimize\nsleep 1\n\n# Capture the screenshot\nxwd -id $WINDOW_ID | convert - capture.png\n\n# If it was minimized or hidden, hide it again\nif [[ "$WSTATE" != "" ]]; then\n    xdotool windowminimize $WINDOW_ID\nfi