#!/bin/bash\n\n# Your text content, which can include spaces and newlines\ntext="This is some sample text.\nIt contains multiple lines,\nand the substring we want to replace is 'replace_me'.\nWe will replace the last occurrence of 'replace_me' with 'replaced_text'."\n\n# The substring you want to replace\nsearch="replace_me"\n\n# The replacement string\nreplace="replaced_text"\n\n# Replace the last occurrence of the substring using sed\nresult=$(echo -e "$text" | sed "0,/$search/! {:$ a;N;/$search/ba;s/.*\($search\)/${replace}\1/}")\n\necho -e "$result"