#!/bin/bash\n\n# Check if the correct number of arguments is given\nif [ "$#" -ne 3 ]; then\n    echo "Usage: $0 <inputfile> <searchpattern> <replacement>"\n    exit 1\nfi\n\nINPUT_FILE="$1"\nSEARCH_PATTERN="$2"\nREPLACEMENT="$3"\n\n# Convert UTF-16 to UTF-8\niconv -f UTF-16LE -t UTF-8 "$INPUT_FILE" > temp_utf8.txt\n\n# Perform the substitution using sed\nsed "s/$SEARCH_PATTERN/$REPLACEMENT/g" temp_utf8.txt > temp_modified_utf8.txt\n\n# Convert back from UTF-8 to UTF-16\niconv -f UTF-8 -t UTF-16LE temp_modified_utf8.txt > "$INPUT_FILE"\n\n# Clean up temporary files\nrm temp_utf8.txt temp_modified_utf8.txt\n\necho "Substitution complete."