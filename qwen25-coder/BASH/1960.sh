# Convert each source in EXTRA_SRCS to its object file equivalent\nEXTRA_OBJS = $(patsubst %,%.os,$(EXTRA_SRCS))\n\n# Check which extra sources exist and convert them to .h (if they are headers)\nEXISTING_EXTRA_SRCS = $(wildcard $(addsuffix .h,$(filter %.h,$(EXTRA_SRCS))))\n\n# Define the main object file\nMAIN_OBJ = plugin.os\n\n# Define the target DLL\nplugin.dll: $(MAIN_OBJ) $(EXTRA_OBJS)\n	g++ -shared -o $@ $^\n\n# Rules for building the main object file with dependencies on existing extra sources\n$(MAIN_OBJ): plugin.cpp $(EXISTING_EXTRA_SRCS)\n	g++ -c -fpic -o $@ $< $(foreach dep,$(filter %.h,$? ),-include $(dep))\n\n# Pattern rule to build object files from source files (assuming .cpp sources)\n%.os: %.cpp\n	g++ -c -fpic -o $@ $<