#!/bin/bash\n\n# Attempt to acquire a lock via file existence.\nLOCKFILE="/tmp/my_lock_file.lock"\nif [ -f "$LOCKFILE" ]; then\n    echo "Another instance is running; exiting."\n    exit 1\nfi\n\ntouch "$LOCKFILE"\n\n# Run the next job in the queue\nwhile ! find /path/to/todo/jobs -type f | head -n 1 | xargs -I {} bash -c 'mv "$1" /path/to/running && {\n    # Extract command from file and execute it.\n    my_command="\$(tail -n +2 "$1")"\n    echo "Running: \$my_command"\n    eval "\$my_command"\n    rm "$1";\n}' _;\ndo\n    sleep 5\ndone\n\n# On completion, remove the lockfile.\nrm "$LOCKFILE"