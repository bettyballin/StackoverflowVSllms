#!/bin/bash\n\n# Configuration variables\nDATABASE='your_database_name'\nTABLE='users'\n\n# Get columns that are not deprecated\nCOLUMNS=$(mysql -u username -p'password' $DATABASE <<<"SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_name='$TABLE' AND table_schema='$DATABASE' AND (column_comment IS NULL OR column_comment NOT LIKE '%DEPRECATED%');")\n\n# Construct the SELECT statement and export to CSV\nmysql -u username -p'password' --skip-column-names $DATABASE <<<"SELECT $COLUMNS FROM $TABLE;" | sed 's/\t/","/g;s/^/"/;s/$/"/' > output.csv