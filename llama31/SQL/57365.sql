CREATE TRIGGER trg_LogChanges\nON YourTable\nAFTER UPDATE, DELETE\nAS\nBEGIN\n    INSERT INTO LogTable (TableName, Operation, RowID, OldData, NewData)\n    SELECT \n        'YourTable',\n        CASE WHEN EXISTS (SELECT 1 FROM inserted) THEN 'UPDATE' ELSE 'DELETE' END,\n        i.RowID,\n        (SELECT * FROM deleted d WHERE d.RowID = i.RowID FOR XML PATH('')),\n        (SELECT * FROM inserted i WHERE i.RowID = d.RowID FOR XML PATH(''))\n    FROM \n        inserted i\n        LEFT JOIN deleted d ON i.RowID = d.RowID\nEND