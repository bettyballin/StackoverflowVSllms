DECLARE @sql nvarchar(max)\nSET @sql = ''\nSELECT @sql += 'CREATE TABLE ' + QUOTENAME(s.name) + '.' + QUOTENAME(t.name) + ' (' + \n               STUFF((SELECT ', ' + QUOTENAME(c.name) + ' ' + QUOTENAME(TYPE_NAME(c.system_type_id)) + \n                      CASE WHEN c.is_identity = 1 THEN ' IDENTITY(1,1)' ELSE '' END\n                      FROM sys.columns c\n                      WHERE c.object_id = t.object_id\n                      ORDER BY c.column_id\n                      FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)'), 1, 2, '') + ');' + \n               CHAR(13) + CHAR(10)\nFROM sys.tables t\nJOIN sys.schemas s ON t.schema_id = s.schema_id\n\nPRINT @sql