CREATE OR REPLACE TYPE my_row_type AS OBJECT (id NUMBER, name VARCHAR2(20));\n/\n\nCREATE OR REPLACE TYPE my_table_type IS TABLE OF my_row_type;\n/\n\nCREATE OR REPLACE FUNCTION my_table_function\n  RETURN my_table_type PIPELINED\nAS\nBEGIN\n  FOR cur_rec IN (SELECT id, name FROM my_table) LOOP\n    PIPE ROW (my_row_type(cur_rec.id, cur_rec.name));\n  END LOOP;\n  RETURN;\nEND;\n/