DECLARE\n  v_file BFILE;\n  v_clob CLOB;\n  v_xml XMLType;\nBEGIN\n  -- Read file\n  v_file := BFILENAME('directory_name', 'file_name.txt');\n  v_clob := DBMS_XSLPROCESSOR.READBFILE(v_file);\n  v_xml := XMLType(v_clob);\n\n  -- Process data\n  FOR cur_rec IN (SELECT * FROM TABLE(XMLSequence(v_xml))) LOOP\n    -- Process each row\n    DBMS_OUTPUT.PUT_LINE(cur_rec.column_value);\n  END LOOP;\n\n  -- Write file\n  v_xml := XMLType('<root><data>Hello World!</data></root>');\n  v_clob := v_xml.getClobVal();\n  DBMS_XSLPROCESSOR.WRITEBFILE('directory_name', 'output_file.txt', v_clob);\nEND;