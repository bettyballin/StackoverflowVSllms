SET SERVEROUTPUT ON\nSET DEFINE ON\n\nDECLARE\n  objName varchar2(50);\n  cursor curProcs is\n    select OBJECT_NAME\n      FROM ALL_PROCEDURES WHERE OWNER = 'AMS'\n      ORDER BY OBJECT_NAME;\nBEGIN\n  OPEN curProcs;\n  IF curProcs%ISOPEN THEN\n    LOOP\n      FETCH curProcs INTO objName;\n      EXIT WHEN curProcs%NOTFOUND;\n      DBMS_OUTPUT.PUT_LINE('spool ' || objName || '.PRC.SQL');\n      DBMS_OUTPUT.PUT_LINE(DBMS_METADATA.GET_DDL('PROCEDURE',objName));\n      DBMS_OUTPUT.PUT_LINE('spool off');\n    END LOOP;\n  END IF;\nEND;