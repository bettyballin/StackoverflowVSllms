CREATE TRIGGER trg_store_update AFTER UPDATE ON Store\nFOR EACH ROW\nBEGIN\n  INSERT INTO change_log (user_id, action, table_name, row_id, changes)\n  VALUES (CURRENT_USER, 'UPDATE', 'Store', NEW.id, JSON_OBJECT('old', OLD, 'new', NEW));\nEND;\n\nCREATE TRIGGER trg_store_insert AFTER INSERT ON Store\nFOR EACH ROW\nBEGIN\n  INSERT INTO change_log (user_id, action, table_name, row_id, changes)\n  VALUES (CURRENT_USER, 'INSERT', 'Store', NEW.id, JSON_OBJECT('new', NEW));\nEND;\n\nCREATE TRIGGER trg_store_delete AFTER DELETE ON Store\nFOR EACH ROW\nBEGIN\n  INSERT INTO change_log (user_id, action, table_name, row_id, changes)\n  VALUES (CURRENT_USER, 'DELETE', 'Store', OLD.id, JSON_OBJECT('old', OLD));\nEND;