DELIMITER //\n\nCREATE PROCEDURE tox.begin_spool()\nBEGIN\n    SET @spool_key = LAST_INSERT_ID() + 1;\nEND//\n\nCREATE PROCEDURE tox.into_spool(in_txt TEXT)\nBEGIN\n    INSERT INTO spool (key, txt, seq)\n    VALUES (@spool_key, in_txt, LAST_INSERT_ID() + 1);\nEND//\n\nCREATE PROCEDURE tox.reset_spool()\nBEGIN\n    DELETE FROM spool WHERE key = @spool_key;\n    COMMIT;\n    CALL tox.begin_spool();\nEND//\n\nCREATE PROCEDURE tox.end_spool()\nBEGIN\n    COMMIT;\n    SELECT * FROM spool WHERE key = @spool_key ORDER BY seq;\nEND//\n\nCREATE FUNCTION tox.timestamp()\nRETURNS CHAR(14)\nBEGIN\n    RETURN DATE_FORMAT(NOW(), '%Y%m%d%H%i%s');\nEND//\n\nDELIMITER ;