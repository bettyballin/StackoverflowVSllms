CREATE TRIGGER trg_PreventOverlappingDates\nON myData\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    IF EXISTS (\n        SELECT 1\n        FROM inserted i\n        JOIN myData m ON i.fk_item_id = m.fk_item_id\n        WHERE i.valid_from < m.invalid_from AND i.invalid_from > m.valid_from\n    )\n    BEGIN\n        RAISERROR ('Overlapping dates detected', 16, 1)\n        ROLLBACK TRANSACTION\n    END\nEND