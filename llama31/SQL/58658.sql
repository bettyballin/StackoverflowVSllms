CREATE OR REPLACE FUNCTION prevent_overlapping_events()\nRETURNS TRIGGER AS $$\nBEGIN\n    IF EXISTS (\n        SELECT 1\n        FROM events\n        WHERE start_date <= NEW.end_date AND end_date >= NEW.start_date\n    ) THEN\n        RAISE EXCEPTION 'Overlapping event exists';\n    END IF;\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER prevent_overlapping_events_trigger\nBEFORE INSERT ON events\nFOR EACH ROW\nEXECUTE PROCEDURE prevent_overlapping_events();