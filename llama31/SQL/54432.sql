CREATE FUNCTION dbo.MyFunction\n(\n    @InputString nvarchar(max),\n    @ErrorMessage nvarchar(max) OUTPUT\n)\nRETURNS nvarchar(max)\nAS\nBEGIN\n    IF (@InputString IS NULL OR LEN(@InputString) = 0)\n    BEGIN\n        SET @ErrorMessage = 'Input string is invalid: cannot be empty.';\n        RETURN NULL; -- Or a specific error indicator value\n    END\n\n    -- Normal processing here\n    DECLARE @Result nvarchar(max);\n    SET @Result = @InputString; -- Example operation\n\n    SET @ErrorMessage = NULL; -- Clear error message for success\n    RETURN @Result;\nEND;\nGO\n\n-- Example usage:\nDECLARE @ErrorMessage nvarchar(max);\nDECLARE @Result nvarchar(max);\nSET @Result = dbo.MyFunction('ValidInput', @ErrorMessage OUTPUT);\n\nIF (@ErrorMessage IS NOT NULL)\nBEGIN\n    PRINT 'Error occurred: ' + @ErrorMessage;\nEND\nELSE\nBEGIN\n    PRINT 'Result: ' + @Result;\nEND;