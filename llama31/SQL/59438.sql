CREATE TABLE questions (\n  id INT PRIMARY KEY,\n  question_text TEXT\n);\n\nCREATE TABLE user_answers (\n  user_id INT,\n  question_id INT,\n  answer TEXT,\n  PRIMARY KEY (user_id, question_id)\n);\n\n-- To get a new, unanswered question for a user:\nSELECT q.id, q.question_text\nFROM questions q\nLEFT JOIN user_answers ua ON q.id = ua.question_id AND ua.user_id = ?\nWHERE ua.answer IS NULL\nORDER BY RANDOM()\nLIMIT 1;