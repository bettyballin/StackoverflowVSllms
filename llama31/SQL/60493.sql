DECLARE @sql NVARCHAR(MAX) = '';\n\nSELECT @sql += '\n    INSERT INTO SpeciesFoundInCountry (CountryID, SpeciesID)\n    SELECT c.CountryID, s.SpeciesID\n    FROM your_original_table_name s\n    JOIN Country c ON c.CountryName = ''' + column_name + '''\n    WHERE s.' + column_name + ' = 1;\n'\nFROM information_schema.columns\nWHERE table_name = 'your_original_table_name'\n  AND column_name NOT IN ('ID', 'Species');\n\nEXEC sp_executesql @sql;