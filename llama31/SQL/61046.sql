CREATE TRIGGER trg_audit_changes\nON customers\nAFTER INSERT, UPDATE, DELETE\nAS\nBEGIN\n  SET NOCOUNT ON\n\n  -- insert\n  INSERT INTO audit_changes (CustomerID, TableName, ColumnName, NewValue, ChangeType, AuditDateTime)\n  SELECT i.CustomerID, 'customers', 'Name', i.Name, 'I', GETDATE()\n  FROM inserted i\n\n  -- update\n  INSERT INTO audit_changes (CustomerID, TableName, ColumnName, OldValue, NewValue, ChangeType, AuditDateTime)\n  SELECT i.CustomerID, 'customers', 'Name', d.Name, i.Name, 'U', GETDATE()\n  FROM inserted i\n  INNER JOIN deleted d ON i.CustomerID = d.CustomerID\n\n  -- delete\n  INSERT INTO audit_changes (CustomerID, TableName, ColumnName, OldValue, ChangeType, AuditDateTime)\n  SELECT d.CustomerID, 'customers', 'Name', d.Name, 'D', GETDATE()\n  FROM deleted d\nEND