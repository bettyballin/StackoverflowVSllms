IF EXISTS (SELECT 1 FROM tbl_data WHERE persid = @curpersid AND yr = @curyear)\nBEGIN\n    SET @val = (SELECT measurement FROM tbl_data WHERE persid = @curpersid AND yr = @curyear)\n    IF @val IS NULL\n    BEGIN\n        -- Handle NULL value case\n    END\n    ELSE\n    BEGIN\n        -- Handle valid measurement case\n    END\nEND\nELSE\nBEGIN\n    -- Handle no corresponding row case\nEND