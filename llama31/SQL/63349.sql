CREATE OR REPLACE PROCEDURE validate_parameters(\n  p_date_start IN DATE,\n  p_date_end IN DATE,\n  p_foo_parm IN VARCHAR2,\n  p_code_start IN NUMBER,\n  p_code_end IN NUMBER,\n  p_error_message OUT SYS_REFCURSOR\n)\nIS\nBEGIN\n  IF (p_date_end - p_date_start) > 365 THEN\n    OPEN p_error_message FOR SELECT 'Date range cannot be longer than a year' FROM DUAL;\n  ELSIF p_foo_parm IS NULL AND (p_code_start IS NULL OR p_code_end IS NULL OR p_code_end - p_code_start >= 1001) THEN\n    OPEN p_error_message FOR SELECT 'Either FooParm must be supplied or Codes must be supplied and the difference between CodeStart and CodeEnd must be less than 1001' FROM DUAL;\n  ELSE\n    OPEN p_error_message FOR SELECT NULL FROM DUAL;\n  END IF;\nEND;