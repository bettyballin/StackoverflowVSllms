CREATE OR REPLACE PROCEDURE get_data(\n  p_sort_clause IN VARCHAR2 DEFAULT NULL,\n  p_filter_clause IN VARCHAR2 DEFAULT NULL,\n  p_cursor OUT SYS_REFCURSOR\n)\nAS\n  v_sql VARCHAR2(4000);\n  v_bind_vars DBMS_SQL.BIND_ARRAY;\nBEGIN\n  v_sql := 'SELECT * FROM your_table';\n  \n  IF p_filter_clause IS NOT NULL THEN\n    v_sql := v_sql || ' WHERE ' || p_filter_clause;\n    v_bind_vars(1).name := 'filter_clause';\n    v_bind_vars(1).value := p_filter_clause;\n  END IF;\n  \n  IF p_sort_clause IS NOT NULL THEN\n    v_sql := v_sql || ' ORDER BY ' || p_sort_clause;\n    v_bind_vars(2).name := 'sort_clause';\n    v_bind_vars(2).value := p_sort_clause;\n  END IF;\n  \n  DBMS_SQL.PARSE(v_sql, DBMS_SQL.NATIVE);\n  DBMS_SQL.BIND_VARIABLES(v_bind_vars);\n  OPEN p_cursor FOR v_sql;\nEND;\n/