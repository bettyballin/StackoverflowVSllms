DECLARE @batchSize INT = 100;\nDECLARE @cursor CURSOR;\n\nSET @cursor = CURSOR LOCAL FORWARD_ONLY\nFOR SELECT id, data FROM large_table;\n\nOPEN @cursor;\n\nWHILE 1 = 1\nBEGIN\n    DECLARE @id INT;\n    DECLARE @data VARCHAR(MAX);\n\n    FETCH NEXT @batchSize FROM @cursor INTO @id, @data;\n\n    IF @@FETCH_STATUS <> 0 BREAK;\n\n    -- Process the batch of rows\n    -- ...\n\n    CHECKPOINT; -- periodically checkpoint to avoid transaction log growth\nEND\n\nCLOSE @cursor;\nDEALLOCATE @cursor;