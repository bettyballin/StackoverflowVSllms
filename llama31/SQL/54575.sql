BEGIN TRY\n    -- your stored procedure code here\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION\n\n    PRINT '-----START: ERROR DETAILS-----'\n    PRINT ERROR_NUMBER()\n    PRINT ERROR_SEVERITY()\n    PRINT ERROR_STATE()\n    PRINT ERROR_PROCEDURE()\n    PRINT ERROR_LINE()\n    PRINT ERROR_MESSAGE()\n    PRINT '-----END: ERROR DETAILS-----'\n\n    DECLARE @prmErrmsg NVARCHAR(4000);\n    DECLARE @prmErrSvr INT;\n\n    SELECT @prmErrmsg = ERROR_MESSAGE()\n        ,@prmErrSvr = ERROR_SEVERITY();\n\n    IF @prmErrmsg IS NULL\n        SET @prmErrmsg = 'An error occurred, but no error message was provided.';\n    IF @prmErrSvr IS NULL\n        SET @prmErrSvr = 0;\n\n    INSERT INTO dbo.myErrors\n                ([ErrorMessage]\n                ,[ErrorSeverity]\n                ,[DateCreated])\n         VALUES\n                (@prmErrmsg\n                ,@prmErrSvr\n                ,GetutcDate())\n\n    RAISERROR(@prmErrmsg,@prmErrSvr,1)\nEND CATCH