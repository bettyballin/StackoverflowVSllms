CREATE TABLE Events (\n    EventID INT PRIMARY KEY,\n    DateAndTime DATETIME,\n    Value1 INT,\n    Value2 INT,\n    Value3 INT,\n    Hash VARBINARY(32)\n);\n\nCREATE TABLE EventHashes (\n    EventID INT FOREIGN KEY REFERENCES Events(EventID),\n    Hash VARBINARY(32)\n);\n\n-- Secret key stored on the Windows service side\nDECLARE @secretKey VARBINARY(32) = 0x...; -- Replace with your secret key\n\n-- Insert event with hash calculation\nINSERT INTO Events (DateAndTime, Value1, Value2, Value3)\nVALUES (@dateAndTime, @value1, @value2, @value3);\n\nDECLARE @hash VARBINARY(32) = HASHBYTES('SHA2_256', CONVERT(VARBINARY(8), @dateAndTime) + CONVERT(VARBINARY(4), @value1) + CONVERT(VARBINARY(4), @value2) + CONVERT(VARBINARY(4), @value3) + @secretKey);\n\nINSERT INTO EventHashes (EventID, Hash)\nVALUES (SCOPE_IDENTITY(), @hash);