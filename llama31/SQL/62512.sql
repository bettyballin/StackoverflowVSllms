-- First batch with error handling\nBEGIN TRANSACTION;\nBEGIN TRY\n    -- TONS OF INSERTS\n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n    RAISERROR ('Error occurred in the first batch.', 0, 1) WITH NOWAIT;\nEND CATCH\nGO\n\n-- Second batch with error handling\nBEGIN TRANSACTION;\nBEGIN TRY\n    -- TONS OF INSERTS\n    COMMIT TRANSACTION;\nEND TRY\nBEGIN CATCH\n    ROLLBACK TRANSACTION;\n    RAISERROR ('Error occurred in the second batch.', 0, 1) WITH NOWAIT;\nEND CATCH\nGO