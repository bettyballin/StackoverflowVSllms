SELECT \n  menu_option,\n  LEVEL,\n  CONNECT_BY_ISLEAF AS is_leaf,\n  CASE \n    WHEN CONNECT_BY_ISLEAF = 0 AND EXISTS (\n      SELECT 1 \n      FROM your_table \n      WHERE parent_id = menu_option_id \n      AND active = 'Y'\n    ) THEN '>' \n    ELSE NULL \n  END AS has_active_children\nFROM \n  your_table \nSTART WITH \n  parent_id IS NULL \nCONNECT BY \n  PRIOR menu_option_id = parent_id;