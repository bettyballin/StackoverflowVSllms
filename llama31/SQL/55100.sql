-- Create an audit table\nCREATE TABLE audit_log (\n    id SERIAL PRIMARY KEY,\n    table_name TEXT NOT NULL,\n    record_id INTEGER NOT NULL,\n    change_type TEXT NOT NULL,\n    changed_data JSONB NOT NULL,\n    timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create a function to log changes\nCREATE OR REPLACE FUNCTION log_change()\nRETURNS TRIGGER AS $$\nBEGIN\n    INSERT INTO audit_log (table_name, record_id, change_type, changed_data)\n    VALUES (TG_TABLE_NAME, NEW.id, TG_OPNAME, to_jsonb(NEW));\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\n-- Create a trigger on the table you want to monitor\nCREATE TRIGGER mytable_audit_trigger\nAFTER INSERT OR UPDATE OR DELETE ON mytable\nFOR EACH ROW\nEXECUTE PROCEDURE log_change();