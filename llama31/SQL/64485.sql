-- Constraint example (faster)\nCREATE TABLE customers (\n  id INT PRIMARY KEY,\n  email VARCHAR(255) NOT NULL UNIQUE\n);\n\n-- Trigger example (slower)\nCREATE TABLE customers (\n  id INT PRIMARY KEY,\n  email VARCHAR(255)\n);\n\nCREATE TRIGGER trg_unique_email\nBEFORE INSERT OR UPDATE ON customers\nFOR EACH ROW\nBEGIN\n  IF EXISTS (SELECT 1 FROM customers WHERE email = NEW.email) THEN\n    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Email already exists';\n  END IF;\nEND;