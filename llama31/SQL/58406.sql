-- Create a table to store database versions\nCREATE TABLE dbo.DatabaseVersions (\n    VersionId INT PRIMARY KEY,\n    VersionNumber INT,\n    Script NVARCHAR(MAX)\n);\n\n-- Create a stored procedure to apply patches\nCREATE PROCEDURE dbo.ApplyPatch\n    @VersionNumber INT,\n    @Script NVARCHAR(MAX)\nAS\nBEGIN\n    -- Check if the patch has already been applied\n    IF NOT EXISTS (SELECT 1 FROM dbo.DatabaseVersions WHERE VersionNumber = @VersionNumber)\n    BEGIN\n        -- Apply the patch\n        EXEC sp_executesql @Script;\n\n        -- Update the database version\n        INSERT INTO dbo.DatabaseVersions (VersionNumber, Script)\n        VALUES (@VersionNumber, @Script);\n    END;\nEND;