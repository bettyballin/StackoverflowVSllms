DECLARE\n  vLocalImage ORDImage := ORDImage.init();\n  vNewImage ORDImage;\n  lMaxWidth NUMBER := 534;\n  lMaxHeight NUMBER := 401;\nBEGIN\n  -- Load the image\n  vLocalImage.source.localdata := PORTAL.wwdoc_admin.get_document_blob_content(pFile);\n  vLocalImage.setProperties();\n  \n  -- Process the image\n  IF vLocalImage.width > lMaxWidth THEN\n    vLocalImage.processCopy('maxScale 534 401', vNewImage);\n  END IF;\n  \n  -- Use the new image\n  vNewImage.setProperties();\n  -- ...\nEND;