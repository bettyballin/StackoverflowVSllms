CREATE FUNCTION dbo.Split (@list nvarchar(4000), @delimiter nvarchar(10))\nRETURNS @values TABLE (value nvarchar(4000))\nAS\nBEGIN\n    DECLARE @pos int, @value nvarchar(4000)\n    SET @pos = 0\n    WHILE @pos < LEN(@list)\n    BEGIN\n        SET @pos = CHARINDEX(@delimiter, @list, @pos)\n        IF @pos = 0\n        BEGIN\n            SET @value = @list\n            SET @list = ''\n        END\n        ELSE\n        BEGIN\n            SET @value = LEFT(@list, @pos - 1)\n            SET @list = SUBSTRING(@list, @pos + 1, LEN(@list))\n        END\n        INSERT INTO @values (value) VALUES (@value)\n        SET @pos = @pos + 1\n    END\n    RETURN\nEND