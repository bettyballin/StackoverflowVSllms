SELECT \n  (SELECT AVG(R2.note) FROM reponses R2 WHERE R2.question_id = Question.id AND R2.note != 0) as noteMoyenne,\n  Categorie.titre,\n  Autorisation.typeEvaluateur,\n  COUNT(DISTINCT Autorisation.id) as nbEvaluateur\nFROM \n  reponses as Reponse,\n  categories as Categorie,\n  questions as Question,\n  autorisations as Autorisation\nWHERE \n  Reponse.question_id = Question.id AND\n  Question.categorie_id = Categorie.id AND\n  Reponse.note != 0 AND\n  Reponse.evaluation_id = $id AND\n  Autorisation.evaluation_id = $id AND\n  Autorisation.complete = 1\nGROUP BY \n  Categorie.titre, Autorisation.typeEvaluateur\nORDER BY \n  Categorie.id;