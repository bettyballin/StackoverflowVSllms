-- Create a partition scheme for a log table\nCREATE PARTITION SCHEME ps_log\n    AS RANGE RIGHT FOR VALUES\n    ('2020-01-01', '2020-02-01', '2020-03-01');\n\n-- Create a partitioned log table\nCREATE TABLE logs (\n    id INT PRIMARY KEY,\n    date DATE,\n    message VARCHAR(MAX)\n) ON ps_log (date);\n\n-- Create a covering index for a query\nCREATE INDEX ix_logs_date_message\n    ON logs (date, message)\n    INCLUDE (id);