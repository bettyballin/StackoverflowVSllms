-- Create a temporary file to store the data\nCREATE TABLE #data (Dt datetime, Value1 float, Value2 float, Value3 float)\nINSERT INTO #data (Dt, Value1, Value2, Value3)\nSELECT Dt, Value1, Value2, Value3\nFROM your_table\n\n-- Create a gnuplot script to generate the image\nDECLARE @script nvarchar(max)\nSET @script = 'set terminal jpeg size 800,600;\n              set output "trend_image.jpg";\n              set title "Trend Chart";\n              set xlabel "Date";\n              set ylabel "Value";\n              plot "#data" using 1:2 with lines title "Value1",\n                   "#data" using 1:3 with lines title "Value2",\n                   "#data" using 1:4 with lines title "Value3";'\n\n-- Write the data to a temporary file\nDECLARE @filename nvarchar(255)\nSET @filename = 'C:\temp\data.txt'\nBCP "#data" out @filename -c -S <your_server_name> -U <your_username> -P <your_password>\n\n-- Execute the gnuplot script to generate the image\nEXEC xp_cmdshell 'gnuplot -persist', @script\n\n-- Clean up\nDROP TABLE #data\nDELETE @filename