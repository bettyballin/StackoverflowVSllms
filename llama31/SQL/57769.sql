SELECT \n  COUNT(*) AS total_users,\n  SUM(IF(DATE(registerDate) = CURDATE(), 1, 0)) AS users_today,\n  SUM(IF(DATE(registerDate) >= DATE_SUB(CURDATE(), INTERVAL 1 WEEK), 1, 0)) AS users_week,\n  SUM(IF(DATE(registerDate) >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH), 1, 0)) AS users_month,\n  MAX(registerDate) AS latest_user,\n  (SELECT COUNT(*) FROM #__session) AS total_visitors\nFROM \n  #__users