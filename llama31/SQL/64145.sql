CREATE PROCEDURE [dbo].[InsertDifferential]\n    @differential int = null\nAS\n    BEGIN TRY\n        BEGIN TRANSACTION\n            IF @differential = 0 AND @differential IS NULL\n                SET @differential = NULL\n\n            UPDATE\n                DifferentialTable\n            SET\n                differential = @differential\n        COMMIT\n    END TRY\n    BEGIN CATCH\n        IF @@TRANCOUNT > 0\n        ROLLBACK\n        DECLARE @ErrMsg nvarchar(4000), @ErrSeverity int, @ErrorState INT\n        SELECT @ErrMsg = ERROR_MESSAGE(), \n               @ErrSeverity = ERROR_SEVERITY(),\n               @ErrorState = ERROR_STATE();\n        RAISERROR(@ErrMsg, @ErrSeverity, @ErrorState);\n    END CATCH