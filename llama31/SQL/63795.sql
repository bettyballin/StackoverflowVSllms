-- Create a sample table\nCREATE TABLE Sales\n(\n    ProductID INT,\n    SalesDate DATE,\n    Quantity INT\n);\n\n-- Insert some sample data\nINSERT INTO Sales (ProductID, SalesDate, Quantity)\nVALUES (1, '2022-01-01', 10),\n       (1, '2022-01-02', 20),\n       (2, '2022-01-01', 5),\n       (2, '2022-01-02', 15);\n\n-- Create a derived table to update the data\nWITH UpdatedSales AS\n(\n    SELECT ProductID, SalesDate, Quantity\n    FROM Sales\n    WHERE ProductID = 1 AND SalesDate = '2022-01-01'\n)\nUPDATE UpdatedSales\nSET Quantity = 25;\n\n-- Re-run the PIVOT query\nSELECT ProductID, [2022-01-01], [2022-01-02]\nFROM\n(\n    SELECT ProductID, SalesDate, Quantity\n    FROM Sales\n) AS SourceTable\nPIVOT\n(\n    SUM(Quantity)\n    FOR SalesDate IN ([2022-01-01], [2022-01-02])\n) AS PivotTable;