-- Create a linked server on the intranet instance to connect to the extranet instance\nEXEC sp_addlinkedserver \n    @server = 'ExtranetLinkedServer', \n    @srvproduct = 'SQL Server', \n    @provider = 'SQLNCLI', \n    @datasrc = 'ExtranetInstance';\n\n-- Create a stored procedure on the intranet instance to synchronize data\nCREATE PROCEDURE [SyncData] \nAS\nBEGIN\n    -- Push data from intranet t1 to extranet t1\n    INSERT INTO ExtranetLinkedServer.ExtranetDB.t1\n    SELECT * FROM t1;\n\n    -- Pull data from extranet t2 to intranet t2\n    INSERT INTO t2\n    SELECT * FROM ExtranetLinkedServer.ExtranetDB.t2;\nEND;