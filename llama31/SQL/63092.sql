CREATE PROCEDURE GetApplications\n    @LocationIds nvarchar(max)\nAS\nBEGIN\n    SELECT TOP 20 application_id, [name], location_id\n    FROM apps\n    WHERE (@LocationIds IS NULL OR location_id IN (SELECT value FROM STRING_SPLIT(@LocationIds, ',')));\nEND;