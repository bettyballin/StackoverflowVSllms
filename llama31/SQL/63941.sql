CREATE TABLE contact (\n    ...\n    update_time timestamp,\n    previous_update_time timestamp\n);\n\nCREATE FUNCTION "update_times" () RETURNS trigger AS '\n    BEGIN\n        NEW.previous_update_time = OLD.update_time;\n        NEW.update_time = NOW();\n        RETURN NEW;\n    END;'\nLANGUAGE "plpgsql";\n\nCREATE TRIGGER test_update_time BEFORE UPDATE ON contact FOR EACH ROW EXECUTE PROCEDURE update_times();