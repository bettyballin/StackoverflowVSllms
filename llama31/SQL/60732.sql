SET NAMES utf8mb4;\n\nSELECT \n  CONCAT('ALTER TABLE ', TABLE_NAME, ' CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;') \n  AS alter_sql\nFROM \n  information_schema.tables \nWHERE \n  TABLE_SCHEMA = DATABASE();\n\nSELECT \n  CONCAT('ALTER TABLE ', TABLE_NAME, ' CHANGE COLUMN ', COLUMN_NAME, ' ', COLUMN_NAME, ' ', \n         COLUMN_TYPE, ' CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;') \n  AS alter_sql\nFROM \n  information_schema.columns \nWHERE \n  TABLE_SCHEMA = DATABASE() AND \n  CHARACTER_SET_NAME != 'utf8mb4' AND \n  COLLATION_NAME != 'utf8mb4_bin';