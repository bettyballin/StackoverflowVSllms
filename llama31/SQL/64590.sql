CREATE PROCEDURE updateSomeItem\n(\n    @ItemIdNmb             INT,\n    @Foo                   VARCHAR(100),\n    @UpdateLoginIdNmb      INT\n)\n\nAS\n\nSET NOCOUNT ON\n\n/* If the user performing the action did not create the Item in question, \n    raise an error and return an error code. */\nIF NOT EXISTS\n    (\n    SELECT 1\n    FROM Items\n    WHERE IdNmb = @ItemIdNmb\n        AND LoginIdNmb = @UpdateLoginIdNmb\n    )\n    BEGIN\n        RAISERROR ('User action not allowed - User is not the owner of the specified Item', 10, 1)\n        RETURN 1  -- Return an error code\n    END\n\nUPDATE Items\nSET Foo = @Foo\nWHERE IdNmb = @ItemIdNmb\n\nRETURN 0  -- Return success code