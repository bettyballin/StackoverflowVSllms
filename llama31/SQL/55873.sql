DECLARE @sql VARCHAR(8000)\nDECLARE @proc_name SYSNAME\nDECLARE cur CURSOR FOR\n    SELECT name FROM sys.procedures\n    WHERE type = 'P'\n\nOPEN cur\n\nFETCH NEXT FROM cur INTO @proc_name\n\nWHILE @@FETCH_STATUS = 0\nBEGIN\n    SET @sql = 'bcp "SELECT definition FROM sys.sql_modules WHERE object_id = OBJECT_ID(''' + @proc_name + ''')"' +\n               ' queryout "C:\Path\To\Folder\' + @proc_name + '.sql" -T -c -S <YourServerName>'\n    \n    EXEC xp_cmdshell @sql\n    \n    FETCH NEXT FROM cur INTO @proc_name\nEND\n\nCLOSE cur\nDEALLOCATE cur