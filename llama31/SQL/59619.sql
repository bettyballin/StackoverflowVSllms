CREATE PROCEDURE MyProc\n    @ID INT,\n    @Col1 INT,\n    @Col2 INT\nAS\nBEGIN\n    MERGE INTO myTable AS target\n    USING (SELECT @ID, @Col1, @Col2) AS source (ID, Col1, Col2)\n    ON target.ID = source.ID\n    WHEN MATCHED THEN\n        UPDATE SET Col1 = source.Col1, Col2 = source.Col2\n    WHEN NOT MATCHED THEN\n        INSERT (Col1, Col2) VALUES (source.Col1, source.Col2);\nEND