CREATE FUNCTION dbo.CalculateNextPayDateFrom (@fromDate datetime)\nRETURNS datetime\nAS\nBEGIN\n    DECLARE @firstEverPayment datetime\n    SET @firstEverPayment = '2009-06-01'\n\n    DECLARE @nextPayment datetime\n    SET @nextPayment = @firstEverPayment\n\n    WHILE @nextPayment < @fromDate\n    BEGIN\n        SET @nextPayment = DATEADD(day, 14, @nextPayment)\n    END\n\n    RETURN @nextPayment\nEND