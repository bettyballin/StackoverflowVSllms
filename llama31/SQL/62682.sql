WITH Numbers AS (\n  SELECT TOP (DATEDIFF(DAY, '2022-01-01', '2022-01-31') + 1)\n    ROW_NUMBER() OVER (ORDER BY t1.object_id) AS Number\n  FROM master.sys.all_columns t1\n  CROSS JOIN master.sys.all_columns t2\n)\nSELECT \n  CONVERT(DATE, '2022-01-01') + n.Number - 1 AS Date,\n  COALESCE(u.numlogins, 0) AS numlogins,\n  COALESCE(u.numusers, 0) AS numusers\nFROM Numbers n\nLEFT JOIN (\n  SELECT \n    CONVERT(DATE, entryts) AS Date,\n    COUNT(userid) AS numlogins,\n    COUNT(DISTINCT userid) AS numusers\n  FROM usagelog\n  GROUP BY CONVERT(DATE, entryts)\n) u ON n.Number = DATEDIFF(DAY, '2022-01-01', u.Date) + 1\nORDER BY Date;