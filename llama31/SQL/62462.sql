SELECT u.user, g1.group, u2g1.something\nFROM users u\nJOIN u2g u2g1 ON u.u = u2g1.u\nJOIN groups g1 ON g1.g = u2g1.g\nJOIN u2g u2g2 ON u.u = u2g2.u\nJOIN groups g2 ON g2.g = u2g2.g\nWHERE g1.group = 3 AND g2.group = 5\nUNION\nSELECT u.user, g2.group, u2g2.something\nFROM users u\nJOIN u2g u2g1 ON u.u = u2g1.u\nJOIN groups g1 ON g1.g = u2g1.g\nJOIN u2g u2g2 ON u.u = u2g2.u\nJOIN groups g2 ON g2.g = u2g2.g\nWHERE g1.group = 3 AND g2.group = 5;