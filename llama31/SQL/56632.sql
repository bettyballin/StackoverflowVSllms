CREATE TABLE groups (\n  id INT PRIMARY KEY,\n  name VARCHAR(255)\n);\n\nCREATE TABLE users (\n  id INT PRIMARY KEY,\n  username VARCHAR(255)\n);\n\nCREATE TABLE group_users (\n  group_id INT,\n  user_id INT,\n  PRIMARY KEY (group_id, user_id),\n  FOREIGN KEY (group_id) REFERENCES groups(id),\n  FOREIGN KEY (user_id) REFERENCES users(id)\n);\n\nCREATE TABLE messages (\n  id INT PRIMARY KEY,\n  group_id INT,\n  user_id INT,\n  message TEXT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (group_id) REFERENCES groups(id),\n  FOREIGN KEY (user_id) REFERENCES users(id)\n);\n\nCREATE TABLE message_metadata (\n  message_id INT,\n  status VARCHAR(255),\n  PRIMARY KEY (message_id),\n  FOREIGN KEY (message_id) REFERENCES messages(id)\n);