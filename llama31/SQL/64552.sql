DECLARE @results TABLE (\n    -- define the columns here\n)\n\nDECLARE @sql NVARCHAR(MAX)\nDECLARE @pivotList NVARCHAR(MAX)\n\n-- dynamically generate the pivot list\nSELECT @pivotList = COALESCE(@pivotList + ',', '') + QUOTENAME(column_name)\nFROM your_table\nGROUP BY column_name\n\n-- create the dynamic pivot query\nSET @sql = N'\n    INSERT INTO @results\n    SELECT *\n    FROM (\n        SELECT *\n        FROM your_table\n    ) AS SourceTable\n    PIVOT (\n        MAX(value)\n        FOR column_name IN (' + @pivotList + ')\n    ) AS PivotTable\n'\n\n-- execute the dynamic query\nEXEC sp_executesql @sql, N'@results TABLE', @results OUTPUT\n\n-- the results are now in the @results table variable\nSELECT * FROM @results