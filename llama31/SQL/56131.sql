-- Get database users\nSELECT * FROM sys.database_principals WHERE type = 'S'\n\n-- Get database roles\nSELECT * FROM sys.database_principals WHERE type = 'R'\n\n-- Get user role memberships\nSELECT u.name AS UserName, r.name AS RoleName \nFROM sys.database_role_members m\nJOIN sys.database_principals u ON m.member_principal_id = u.principal_id\nJOIN sys.database_principals r ON m.role_principal_id = r.principal_id\n\n-- Get object permissions\nSELECT o.name AS ObjectName, u.name AS UserName, p.permission_name AS Permission \nFROM sys.database_permissions p\nJOIN sys.objects o ON p.major_id = o.object_id\nJOIN sys.database_principals u ON p.grantee_principal_id = u.principal_id