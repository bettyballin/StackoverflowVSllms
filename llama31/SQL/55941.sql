CREATE PROCEDURE dbo.FindGUID @searchValue uniqueidentifier AS\nBEGIN\n    DECLARE @tableName varchar(200)\n    DECLARE @columnName varchar(200)\n    DECLARE @szQuery varchar(8000)\n    DECLARE @columnList varchar(8000)\n\n    DECLARE abc CURSOR FOR\n        SELECT \n            c.TABLE_NAME\n        FROM INFORMATION_SCHEMA.Columns c\n            INNER JOIN INFORMATION_SCHEMA.Tables t\n            ON c.TABLE_NAME = t.TABLE_NAME\n            AND t.TABLE_TYPE = 'BASE TABLE'\n        WHERE DATA_TYPE = 'uniqueidentifier'\n        GROUP BY c.TABLE_NAME\n\n    OPEN ABC\n\n    FETCH NEXT FROM abc INTO @tableName\n    WHILE (@@FETCH_STATUS = 0)\n    BEGIN\n        SET @columnList = ''\n        SET @szQuery = ''\n\n        DECLARE def CURSOR FOR\n            SELECT \n                c.COLUMN_NAME\n            FROM INFORMATION_SCHEMA.Columns c\n            WHERE c.TABLE_NAME = @tableName\n            AND c.DATA_TYPE = 'uniqueidentifier'\n\n        OPEN def\n\n        FETCH NEXT FROM def INTO @columnName\n        WHILE (@@FETCH_STATUS = 0)\n        BEGIN\n            SET @columnList = @columnList + @columnName + ' = ''' + CAST(@searchValue AS varchar(50)) + ''' OR '\n            FETCH NEXT FROM def INTO @columnName\n        END\n\n        CLOSE def\n        DEALLOCATE def\n\n        SET @columnList = LEFT(@columnList, LEN(@columnList) - 4)\n        SET @szQuery = 'SELECT ''' + @tableName + ''' AS TheTable, * FROM ' + @tableName + ' WHERE ' + @columnList\n\n        PRINT 'Searching ' + @tableName + '..'\n        PRINT @szQuery\n        EXEC (@szQuery)\n\n        FETCH NEXT FROM abc INTO @tableName\n    END\n\n    CLOSE abc\n    DEALLOCATE abc\nEND