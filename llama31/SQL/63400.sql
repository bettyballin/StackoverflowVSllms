CREATE OR REPLACE PROCEDURE yearly_summary_proc\nAS\n  last_id NUMBER;\nBEGIN\n  LOOP\n    -- update 100 rows, storing the primary key of the last updated row in last_id\n    UPDATE your_table\n    SET column1 = lengthy_calculation(column2)\n    WHERE primary_key > last_id\n    AND ROWNUM <= 100;\n\n    COMMIT;\n\n    -- get the last updated ID\n    SELECT MAX(primary_key) INTO last_id\n    FROM your_table\n    WHERE primary_key > last_id;\n\n    -- exit loop if all rows are updated\n    IF last_id IS NULL THEN\n      EXIT;\n    END IF;\n\n    -- pause for a minute\n    DBMS_LOCK.SLEEP(60);\n  END LOOP;\nEND;