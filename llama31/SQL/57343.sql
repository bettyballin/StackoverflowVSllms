CREATE TYPE DeptIDList AS TABLE (DeptID INT);\n\nDECLARE @DeptIDs DeptIDList;\nINSERT INTO @DeptIDs (DeptID) VALUES (1), (2), (3);\n\nSELECT EmpID\nFROM YourTable\nWHERE DeptID IN (SELECT DeptID FROM @DeptIDs)\nGROUP BY EmpID\nHAVING COUNT(DISTINCT DeptID) = (SELECT COUNT(*) FROM @DeptIDs);