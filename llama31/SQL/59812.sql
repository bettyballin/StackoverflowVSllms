-- Declare the parent task ID and the deleted task order\nDECLARE @ParentTaskId INT;\nDECLARE @DeletedTaskOrder INT;\n\n-- Set the values\nSET @ParentTaskId = 1; -- replace with the actual parent task ID\nSET @DeletedTaskOrder = 2; -- replace with the actual deleted task order\n\n-- Update the task order of the sibling tasks\nUPDATE Task\nSET TaskOrder = TaskOrder - 1\nWHERE ParentTaskId = @ParentTaskId\n  AND TaskOrder > @DeletedTaskOrder;\n\n-- Optionally, you can also update the task order of the child tasks\nUPDATE T\nSET TaskOrder = TaskOrder - 1\nFROM Task T\nINNER JOIN Task P ON T.ParentTaskId = P.TaskId\nWHERE P.ParentTaskId = @ParentTaskId\n  AND P.TaskOrder > @DeletedTaskOrder\n  AND T.TaskOrder > (SELECT TaskOrder FROM Task WHERE TaskId = P.TaskId);