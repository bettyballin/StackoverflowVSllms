CREATE TABLE institutions (\n  id INT PRIMARY KEY,\n  name VARCHAR(255)\n);\n\nCREATE TABLE accounts (\n  id INT PRIMARY KEY,\n  institution_id INT,\n  name VARCHAR(255),\n  FOREIGN KEY (institution_id) REFERENCES institutions(id)\n);\n\nCREATE TABLE users (\n  id INT PRIMARY KEY,\n  institution_id INT,\n  name VARCHAR(255),\n  FOREIGN KEY (institution_id) REFERENCES institutions(id)\n);\n\nCREATE TABLE user_accounts (\n  user_id INT,\n  account_id INT,\n  PRIMARY KEY (user_id, account_id),\n  FOREIGN KEY (user_id) REFERENCES users(id),\n  FOREIGN KEY (account_id) REFERENCES accounts(id)\n);\n\nCREATE TABLE user_institution_all_accounts (\n  user_id INT,\n  institution_id INT,\n  PRIMARY KEY (user_id, institution_id),\n  FOREIGN KEY (user_id) REFERENCES users(id),\n  FOREIGN KEY (institution_id) REFERENCES institutions(id)\n);