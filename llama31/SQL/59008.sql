CREATE TABLE #Scripts (\n    ScriptName nvarchar(255),\n    DependsOn nvarchar(255)\n)\n\nINSERT INTO #Scripts (ScriptName, DependsOn)\nVALUES\n('TableC', NULL),\n('ViewA', 'TableC'),\n('FunctionA', 'ViewA'),\n('TableB', 'FunctionA'),\n('TableA', 'TableB')\n\nDECLARE @sql nvarchar(max)\n\nDECLARE c CURSOR FOR\nSELECT ScriptName FROM #Scripts ORDER BY DependsOn\n\nOPEN c\n\nFETCH NEXT FROM c INTO @sql\n\nWHILE @@FETCH_STATUS = 0\nBEGIN\n    EXEC sp_executesql @sql\n    FETCH NEXT FROM c INTO @sql\nEND\n\nCLOSE c\nDEALLOCATE c\n\nDROP TABLE #Scripts