SELECT \n  pm_info.is_read, \n  sender.usrFirst as sender_name, \n  pm_data.date_sent, \n  pm_data.title, \n  pm_data.thread_id, \n  pm_data.id as dataid\nFROM \n  pm_info\n  INNER JOIN pm_data ON pm_info.message_id = pm_data.id\n  INNER JOIN tblUsers AS sender ON pm_data.sender_id = sender.usrID\n  INNER JOIN (\n    SELECT thread_id, MAX(date_sent) AS thread_max_date_sent\n    FROM pm_data\n    GROUP BY thread_id\n  ) deriv1 ON pm_data.thread_id = deriv1.thread_id AND pm_data.date_sent = deriv1.thread_max_date_sent\nWHERE \n  pm_info.receiver_id = '$usrID'\nORDER BY \n  deriv1.thread_max_date_sent DESC