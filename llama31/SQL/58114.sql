CREATE PROCEDURE ConditionalSelect\n    @selectField1 bit,\n    @selectField2 bit\nAS\nBEGIN\n    DECLARE @sql nvarchar(max) = 'SELECT ';\n\n    IF @selectField1 = 1\n        SET @sql += 'Field1, ';\n\n    IF @selectField2 = 1\n        SET @sql += 'Field2, ';\n\n    -- Remove trailing comma and space\n    SET @sql = LEFT(@sql, LEN(@sql) - 2);\n\n    SET @sql += ' FROM Table';\n\n    EXEC sp_executesql @sql;\nEND;