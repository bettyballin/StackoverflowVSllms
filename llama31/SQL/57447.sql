CREATE TRIGGER trg_RestrictLoginIP\nON ALL SERVER\nFOR LOGON\nAS\nBEGIN\n    IF ORIGINAL_LOGIN() = 'YourSQLLogin' AND\n       NOT EXISTS (\n           SELECT 1\n           FROM sys.dm_exec_connections\n           WHERE session_id = @@SPID AND\n                 client_net_address IN ('AllowedIP1', 'AllowedIP2', 'AllowedIP3')\n       )\n    BEGIN\n        ROLLBACK;\n        RAISERROR ('Access denied from your IP address.', 16, 1);\n    END\nEND;