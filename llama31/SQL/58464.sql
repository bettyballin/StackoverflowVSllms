SELECT \n  IFNULL(AVG(sales_price), 0) AS avg,\n  dates.date\nFROM \n  (\n    SELECT \n      DATE_FORMAT(a.Date, '%m-%d-%Y') AS date\n    FROM \n      (\n        SELECT \n          CURDATE() - INTERVAL (a.a + (10 * b.a) + (100 * c.a)) DAY AS Date\n        FROM \n          (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS a\n        CROSS JOIN \n          (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS b\n        CROSS JOIN \n          (SELECT 0 AS a UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) AS c\n      ) a\n    WHERE \n      a.Date BETWEEN '2009-01-03' AND '2009-01-08'\n  ) dates\n  LEFT JOIN \n  products_sold ON DATE_FORMAT(products_sold.created_at, '%m-%d-%Y') = dates.date\nGROUP BY \n  dates.date\nORDER BY \n  dates.date