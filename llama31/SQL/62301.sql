CREATE TABLE events (\n    ...\n    id INT PRIMARY KEY\n);\n\nCREATE TABLE timespans (\n    ...\n    event_id INT,\n    FOREIGN KEY (event_id) REFERENCES events(id),\n    day DATE,\n    start_time TIME,\n    end_time TIME,\n    CHECK (NOT EXISTS (\n        SELECT 1\n        FROM timespans t2\n        WHERE t2.event_id = event_id\n        AND t2.day = day\n        AND (t2.start_time, t2.end_time) OVERLAPS (start_time, end_time)\n        AND (t2.start_time, t2.end_time) != (start_time, end_time)\n    ))\n);