SELECT \n  LOWER(\n    REGEXP_SUBSTR('Smith, John R', ', (.){1}') || \n    REGEXP_SUBSTR('Smith, John R', '^([^,]+)')\n  ) AS result\nFROM DUAL;