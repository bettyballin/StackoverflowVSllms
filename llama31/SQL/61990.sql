SELECT \n  ID_STUDENT,\n  ID_CLASS,\n  GRADE,\n  DENSE_RANK() OVER (PARTITION BY ID_CLASS ORDER BY GRADE DESC) AS RANK\nFROM \n  your_table\nORDER BY \n  ID_CLASS, RANK;