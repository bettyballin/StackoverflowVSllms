SELECT COUNT(*) \nFROM (\n  SELECT DAYOFWEEK(CURRENT_DATE()) + (d.date - CURRENT_DATE()) AS day_of_week\n  FROM (\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY) AS date\n    UNION ALL\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 2 DAY) AS date\n    UNION ALL\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 3 DAY) AS date\n    UNION ALL\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 4 DAY) AS date\n    UNION ALL\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 5 DAY) AS date\n    UNION ALL\n    SELECT DATE_SUB(CURRENT_DATE(), INTERVAL 6 DAY) AS date\n  ) d\n  WHERE NOT EXISTS (\n    SELECT 1 \n    FROM cali_events e \n    JOIN cali_dates cd ON e.event_id = cd.event_id \n    WHERE cd.date = d.date\n  )\n) AS empty_days