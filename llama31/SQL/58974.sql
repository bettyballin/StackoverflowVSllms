SELECT C.CID\nFROM C\nJOIN (\n  SELECT B.AID, MAX(C.CREATIONTIME) AS MAX_CREATIONTIME\n  FROM B\n  JOIN C ON B.CID = C.CID\n  WHERE B.AID IN (SELECT AID FROM A WHERE STATUS = 'OK')\n  GROUP BY B.AID\n) AS SUBQUERY ON C.CREATIONTIME = SUBQUERY.MAX_CREATIONTIME