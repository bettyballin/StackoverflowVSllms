FIND_ALL_BY_CHEAPEST_AND_PRODUCT_IDS=\\nFROM PRODUCT_SKU T \\nJOIN \\n( \\n    SELECT S.PRODUCT_ID, \\n           MIN(S.ID) as minimum_id_for_price \\n      FROM PRODUCT_SKU S \\n     WHERE S.PRODUCT_ID IN (:productIds) \\n  GROUP BY S.PRODUCT_ID, S.SALE_PRICE \\n) FI ON (FI.PRODUCT_ID = T.PRODUCT_ID AND FI.minimum_id_for_price = T.ID) \\nJOIN \\n( \\n    SELECT S.PRODUCT_ID, \\n           MIN(S.SALE_PRICE) as minimum_price_for_product \\n      FROM PRODUCT_SKU S \\n     WHERE S.PRODUCT_ID IN (:productIds) \\n  GROUP BY S.PRODUCT_ID \\n) FP ON (FP.PRODUCT_ID = T.PRODUCT_ID AND FP.minimum_price_for_product = T.sale_price) \\nWHERE T.PRODUCT_ID IN (:productIds)