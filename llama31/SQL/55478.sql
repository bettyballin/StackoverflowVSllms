-- Set the database name and the schema name\nDECLARE @databaseName nvarchar(128) = 'YourDatabaseName';\nDECLARE @schemaName nvarchar(128) = 'YourSchemaName';\n\n-- Create a temporary table to store the table names\nCREATE TABLE #tablesToDrop (\n    tableName nvarchar(128)\n);\n\n-- Populate the temporary table with the table names\nINSERT INTO #tablesToDrop (tableName)\nSELECT name \nFROM sys.tables \nWHERE schema_id = SCHEMA_ID(@schemaName);\n\n-- Drop the tables in the correct order\nWHILE EXISTS (SELECT 1 FROM #tablesToDrop)\nBEGIN\n    DECLARE @tableName nvarchar(128);\n    SELECT TOP 1 @tableName = tableName FROM #tablesToDrop;\n\n    EXEC ('ALTER TABLE ' + QUOTENAME(@schemaName) + '.' + QUOTENAME(@tableName) + ' DROP CONSTRAINT ALL;');\n\n    EXEC ('DROP TABLE ' + QUOTENAME(@schemaName) + '.' + QUOTENAME(@tableName) + ';');\n\n    DELETE FROM #tablesToDrop WHERE tableName = @tableName;\nEND;\n\n-- Clean up\nDROP TABLE #tablesToDrop;