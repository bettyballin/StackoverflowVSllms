CREATE FUNCTION GetDates()\nRETURNS @Dates TABLE (Date datetime)\nAS\nBEGIN\n    WITH Dates AS\n    (\n        SELECT cast('2008-01-01' as datetime) Date\n        UNION ALL\n        SELECT Date + 1\n        FROM    Dates   \n        WHERE   Date + 1 < DATEADD(yy, 1, GETDATE())\n    )\n    INSERT INTO @Dates (Date)\n    SELECT Date FROM Dates\n    OPTION (MAXRECURSION 0);\n\n    RETURN;\nEND;