DECLARE @temp TABLE\n(\n    id INT IDENTITY(1,1),\n    Name VARCHAR(150),\n    Address VARCHAR(25),\n    Date DATETIME\n)\n\nDECLARE @result TABLE\n(\n    Name VARCHAR(150),\n    Address VARCHAR(25)\n)\n\nWHILE (@count >= @daysBack)\nBEGIN\n    SET @date = DATEADD(dd, @count, GETDATE())\n\n    INSERT INTO @result\n    EXEC [dbo].StoredProc @date\n\n    INSERT INTO @temp (Name, Address, Date)\n    SELECT Name, Address, @date\n    FROM @result\n\n    DELETE FROM @result\n\n    SET @count = @count - 1\nEND