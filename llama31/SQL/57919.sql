DECLARE\n  objName varchar2(50);\n  FileName varchar2(50);\n  fileHandle UTL_FILE.FILE_TYPE;\n  buffer VARCHAR2(32767);\n  cursor curProcs is\n    select OBJECT_NAME\n      FROM ALL_PROCEDURES WHERE OWNER = 'AMS'\n      ORDER BY OBJECT_NAME;\nBEGIN\n  OPEN curProcs;\n  IF curProcs%ISOPEN THEN\n    LOOP\n      FETCH curProcs INTO objName;\n      EXIT WHEN curProcs%NOTFOUND;\n      FileName := 'C:\' || objName || '.PRC.SQL';\n      fileHandle := UTL_FILE.FOPEN(FileName, 'w');\n      buffer := DBMS_METADATA.GET_DDL('PROCEDURE',objName);\n      UTL_FILE.PUT(fileHandle, buffer);\n      UTL_FILE.FCLOSE(fileHandle);\n    END LOOP;\n  END IF;\nEND;