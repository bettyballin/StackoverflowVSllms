CREATE PROCEDURE sp_SearchData\n    @status_id INT = NULL,\n    @date DATE = NULL,\n    @other_parameter VARCHAR(50) = NULL\nAS\nBEGIN\n    DECLARE @sql NVARCHAR(MAX) = 'SELECT * FROM table WHERE 1=1';\n\n    IF @status_id IS NOT NULL\n        SET @sql = @sql + ' AND status_id = @status_id';\n\n    IF @date IS NOT NULL\n        SET @sql = @sql + ' AND date = @date';\n\n    IF @other_parameter IS NOT NULL\n        SET @sql = @sql + ' AND other_parameter = @other_parameter';\n\n    EXEC sp_executesql @sql, N'@status_id INT, @date DATE, @other_parameter VARCHAR(50)', \n                       @status_id = @status_id, @date = @date, @other_parameter = @other_parameter;\nEND;