-- Create a temporary table to store the newly inserted master IDs\nCREATE TABLE #MasterIds (Id INT, Name CHAR(50));\n\n-- Insert into master table and output the newly inserted IDs\nINSERT INTO Master (Name)\nOUTPUT inserted.Id, inserted.Name INTO #MasterIds\nVALUES ('master a'), ('master b');\n\n-- Insert into slave table using the newly inserted master IDs\nINSERT INTO Slave (MasterId, Name)\nSELECT Id, 'slave aa' FROM #MasterIds WHERE Name = 'master a'\nUNION ALL\nSELECT Id, 'slave bb' FROM #MasterIds WHERE Name = 'master a'\nUNION ALL\nSELECT Id, 'slave cc' FROM #MasterIds WHERE Name = 'master b'\nUNION ALL\nSELECT Id, 'slave dd' FROM #MasterIds WHERE Name = 'master b';\n\n-- Drop the temporary table\nDROP TABLE #MasterIds;