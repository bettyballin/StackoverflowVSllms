-- Create a temporary table to hold the new customer ID\nDECLARE @newCustomerID TABLE (id INT);\n\n-- Insert a new customer and get the new ID\nINSERT INTO Customer (name)\nOUTPUT inserted.custID INTO @newCustomerID\nVALUES ('Bob2');\n\n-- Declare a variable to hold the new customer ID\nDECLARE @newCustID INT = (SELECT id FROM @newCustomerID);\n\n-- Insert new invoices for the new customer\nINSERT INTO Invoice (custID, Description)\nSELECT @newCustID, Description\nFROM Invoice\nWHERE custID = (SELECT custID FROM Customer WHERE name = 'Bob');\n\n-- Get the new invoice IDs\nDECLARE @newInvoiceIDs TABLE (id INT);\n\nINSERT INTO @newInvoiceIDs (id)\nSELECT invoiceNum\nFROM Invoice\nWHERE custID = @newCustID;\n\n-- Insert new invoice details for the new invoices\nINSERT INTO InvoiceDetail (invoiceNum, sequence, description, price)\nSELECT ni.id, id.sequence, id.description, id.price\nFROM InvoiceDetail id\nINNER JOIN @newInvoiceIDs ni ON id.invoiceNum = ni.id;