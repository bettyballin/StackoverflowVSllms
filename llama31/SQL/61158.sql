CREATE TRIGGER trg_CheckCondition\nON YourTableName\nAFTER INSERT, UPDATE\nAS\nBEGIN\n    DECLARE @id INT;\n    DECLARE cur CURSOR FOR SELECT id FROM INSERTED;\n\n    OPEN cur;\n    FETCH NEXT FROM cur INTO @id;\n\n    WHILE @@FETCH_STATUS = 0\n    BEGIN\n        IF NOT EXISTS (SELECT 1 FROM YourTableName WHERE id = @id AND YourCondition = 'Met')\n        BEGIN\n            CLOSE cur;\n            DEALLOCATE cur;\n            RAISERROR ('Condition not met for at least one row. Insertion cancelled.', 16, 1);\n            ROLLBACK TRANSACTION;\n            RETURN;\n        END\n\n        FETCH NEXT FROM cur INTO @id;\n    END\n\n    CLOSE cur;\n    DEALLOCATE cur;\nEND\nGO