CREATE TABLE TeamMemberships (\n  team_id INT NOT NULL,\n  player_id INT NOT NULL,\n  position INT NOT NULL CHECK (position IN (0, 1)),\n  PRIMARY KEY (team_id, position),\n  UNIQUE (player_id),\n  FOREIGN KEY (team_id) REFERENCES Teams(team_id),\n  FOREIGN KEY (player_id) REFERENCES Players(player_id),\n  CHECK (team_id IN (SELECT team_id FROM TeamMemberships WHERE position = 0)\n         OR team_id IN (SELECT team_id FROM TeamMemberships WHERE position = 1))\n);