g++ -fPIC -fvisibility=hidden -c shared.cpp -o shared.o\ng++ -dynamiclib -Wl,-dylib_install_name -Wl,libshared.dylib -o libshared.dylib shared.o