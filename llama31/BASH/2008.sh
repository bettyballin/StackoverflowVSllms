import-module sqlps\n\n$dbName = "YourDBName"\n$serverName = "YourServerName"\n\n$schema = Invoke-SqlCmd -ServerInstance $serverName -Database $dbName -Query "\n    SELECT \n        sm.definition + CHAR(13) + CHAR(10) AS schema_text\n    FROM \n        sys.sql_modules sm\n    JOIN \n        sys.objects o ON sm.object_id = o.object_id\n    WHERE \n        o.type IN ('P', 'V', 'FN', 'TF', 'U') AND\n        o.is_ms_shipped = 0\n    ORDER BY \n        o.name\n    FOR XML PATH('')\n"\n\n$hash = Get-FileHash -InputStream ([System.IO.MemoryStream]::new([System.Text.Encoding]::Unicode.GetBytes($schema)))\n\nWrite-Host "Schema Hash: $($hash.Hash)"