# Get login token\ncurl -X POST \\n  https://yourwiki.com/w/api.php \\n  -H 'Content-Type: application/x-www-form-urlencoded' \\n  -d 'action=query&meta=tokens&type=login&format=json'\n\n# Log in using the login token\ncurl -X POST \\n  https://yourwiki.com/w/api.php \\n  -H 'Content-Type: application/x-www-form-urlencoded' \\n  -d 'action=login&lgname=<username>&lgpassword=<password>&lgtoken=<login_token>&format=json'\n\n# Get edit token\ncurl -X POST \\n  https://yourwiki.com/w/api.php \\n  -H 'Content-Type: application/x-www-form-urlencoded' \\n  -d 'action=query&prop=info&titles=Main%20Page&intoken=edit&format=json'