gcc -shared -Wl,--whole-archive -Wl,-soname,c.so -o c.so a.so b.so