$ cat file.txt\ncell ( identifier ) {\n  keyword2 { };\n  ...\n  keyword3 { keyword4 {  } };\n}\n\n...more sections...\n\n$ awk -v RS= '{gsub(/\n/, " "); print}' file.txt | awk '{balance=0; for (i=1; i<=NF; i++) {if ($i == "{") balance++; if ($i == "}") balance--; if (balance == 0) {print substr($0, 1, i); next} }}'\ncell ( identifier ) {  keyword2 { }; ... keyword3 { keyword4 {  } }; }\n...more sections...