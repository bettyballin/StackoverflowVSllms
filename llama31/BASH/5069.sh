@echo off\nsetlocal enabledelayedexpansion\n\nset ARCH=%1\nset DIR=%2\n\nfor /f "tokens=*" %%f in ('dir /b /a-d "%DIR%\*.dll"') do (\n    dumpbin /headers "%DIR%\%%f" | findstr /c:"Machine:" > temp.txt\n    set /p MACHINE=<temp.txt\n    if "%ARCH%" == "x86" (\n        if not "!MACHINE!" == "Machine: i386" (\n            echo Error: %%f is not x86\n            exit /b 1\n        )\n    ) else if "%ARCH%" == "x64" (\n        if not "!MACHINE!" == "Machine: x64" (\n            echo Error: %%f is not x64\n            exit /b 1\n        )\n    )\n    del temp.txt\n)