function getCombinations($array, $currentKey = '', $level = 0) {\n    $combinations = array();\n    foreach ($array as $key => $value) {\n        $newKey = ($currentKey ? $currentKey . '-' : '') . $value['id'];\n        if (isset($value['options'])) {\n            foreach ($value['options'] as $option) {\n                $optionKey = $newKey . '-' . $option;\n                if ($level < count($array) - 1) {\n                    $combinations[$optionKey] = getCombinations(array_slice($array, $level + 1), $optionKey, $level + 1);\n                } else {\n                    $combinations[$optionKey] = array();\n                }\n            }\n        }\n    }\n    return $combinations;\n}\n\n// example usage:\n$arr = array(\n    array('id' => 10, 'options' => array(3, 5)),\n    array('id' => 15, 'options' => array(2, 4, 8, 9)),\n    array('id' => 20, 'options' => array(2, 6, 7)),\n);\n\n$result = getCombinations($arr);\nprint_r($result);