function submit_new(){\n    $config['upload_path'] = './images/';\n    $config['allowed_types'] = 'gif|jpg|png';\n    $config['max_size'] = '2000';\n    $config['max_width']  = '1024';\n    $config['max_height']  = '768';    \n\n    $this->load->library('upload', $config);\n\n    if (!$this->upload->do_upload('image')) {\n        $error = array('error' => $this->upload->display_errors());\n        // handle error\n    } else {\n        $data = array('upload_data' => $this->upload->data());\n        $image_path = $data['upload_data']['file_name'];\n\n        // store the image path in the database\n        $this->db->set('image', $image_path);\n        $this->db->insert('post', $_POST);\n\n        redirect('bro');\n    }\n}