// When retrieving a record for editing\n$record = retrieveRecord($id);\n$version = $record['version'];\n\n// When updating a record\n$updateData = array('data' => $_POST['data'], 'version' => $version + 1);\nif (updateRecord($id, $updateData)) {\n    // Update successful\n} else {\n    // Update failed, check version number\n    $currentVersion = retrieveRecord($id)['version'];\n    if ($currentVersion > $version) {\n        // Record has been updated by another user, handle conflict\n    } else {\n        // Update failed for another reason\n    }\n}