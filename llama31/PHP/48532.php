// UsersController.php\npublic function actAs($customerId) {\n    // Check if the current user is an admin\n    if (!$this->Auth->user('is_admin')) {\n        throw new UnauthorizedException('Only admins can act as customers');\n    }\n\n    // Get the current user data\n    $user = $this->Auth->user();\n\n    // Update the customer_id\n    $user['User']['customer_id'] = $customerId;\n\n    // Update the session\n    $this->Auth->login($user);\n\n    // Log the action\n    $this->log('Admin acted as customer ' . $customerId, 'security');\n}