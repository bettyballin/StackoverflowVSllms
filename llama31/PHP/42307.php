<?php\n// Configuration\n$image_folder = 'images'; // folder containing images\n$thumbnail_width = 150; // width of thumbnails\n$thumbnail_height = 150; // height of thumbnails\n\n// Get image list\n$images = scandir($image_folder);\n$images = array_filter($images, function($file) {\n    return preg_match('/\.(jpg|jpeg)$/', $file);\n});\n\n// View (thumbnail)\nfunction get_thumbnail($image) {\n    $thumbnail_path = $image_folder . '/thumbnails/' . $image;\n    if (!file_exists($thumbnail_path)) {\n        create_thumbnail($image_folder . '/' . $image, $thumbnail_path, $thumbnail_width, $thumbnail_height);\n    }\n    return '<img src="' . $thumbnail_path . '" alt="' . $image . '">';\n}\n\n// Edit name (simple)\nfunction edit_name($image) {\n    if (isset($_POST['new_name'])) {\n        $new_name = $_POST['new_name'];\n        rename($image_folder . '/' . $image, $image_folder . '/' . $new_name);\n        header('Location: image_manager.php');\n        exit;\n    }\n    return '<form action="" method="post">\n        <input type="text" name="new_name" value="' . $image . '">\n        <input type="submit" value="Rename">\n    </form>';\n}\n\n// Delete (single click)\nfunction delete_image($image) {\n    unlink($image_folder . '/' . $image);\n    header('Location: image_manager.php');\n    exit;\n}\n\n// Create thumbnail function\nfunction create_thumbnail($source, $destination, $width, $height) {\n    list($source_width, $source_height) = getimagesize($source);\n    $ratio = min($width / $source_width, $height / $source_height);\n    $new_width = $source_width * $ratio;\n    $new_height = $source_height * $ratio;\n    $image = imagecreatefromjpeg($source);\n    $thumbnail = imagecreatetruecolor($new_width, $new_height);\n    imagecopyresampled($thumbnail, $image, 0, 0, 0, 0, $new_width, $new_height, $source_width, $source_height);\n    imagejpeg($thumbnail, $destination);\n    imagedestroy($image);\n    imagedestroy($thumbnail);\n}\n\n// Display image list\nforeach ($images as $image) {\n    echo '<div style="float: left; margin: 10px;">';\n    echo get_thumbnail($image);\n    echo '<br>' . edit_name($image);\n    echo '<br><a href="?delete=' . $image . '">Delete</a>';\n    echo '</div>';\n}\n\n// Handle delete request\nif (isset($_GET['delete'])) {\n    delete_image($_GET['delete']);\n}