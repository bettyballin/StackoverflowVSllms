$widget_ids = $_POST['widget_id'];\n$quantities = $_POST['quantity'];\n\n// Validate and sanitize user input\n$validated_quantities = array();\nforeach ($quantities as $quantity) {\n    if (ctype_digit($quantity) && $quantity > 0) {\n        $validated_quantities[] = (int) $quantity;\n    } else {\n        // Handle invalid quantity\n    }\n}\n\n// Associate quantities with widget models\n$cart_items = array();\nforeach ($widget_ids as $index => $widget_id) {\n    $cart_items[] = array(\n        'widget_id' => $widget_id,\n        'quantity' => $validated_quantities[$index],\n    );\n}