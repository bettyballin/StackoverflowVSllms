function generate_unique_id() {\n    $last_id = get_last_id_from_db();\n    $new_id = $last_id + 1;\n    return base62_encode($new_id);\n}\n\nfunction get_last_id_from_db() {\n    global $link;\n    $q = "SELECT MAX(id) FROM `urls`";\n    $r = mysql_query($q, $link);\n    $row = mysql_fetch_row($r);\n    return $row[0];\n}\n\nfunction base62_encode($num) {\n    $alphabet = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    $base62 = '';\n    while ($num > 0) {\n        $base62 = $alphabet[$num % 62] . $base62;\n        $num = floor($num / 62);\n    }\n    return $base62;\n}