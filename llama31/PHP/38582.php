// categories.php (controller)\n\n// Load required libraries and models\nfunction __construct() {\n    parent::__construct();\n    $this->load->library('upload');\n    $this->load->model('categories_m');\n    // ...\n}\n\n// Main categories function\nfunction categories() {\n    $data['body'] = $this->_renderNavigation();\n    $data['cat_tree'] = $this->_getCategoryTree();\n    // ...\n\n    switch ($this->uri->segment(3)) {\n        case 'delete':\n            $this->_handleDelete($data);\n            break;\n        case 'preview':\n            $this->_handlePreview($data);\n            break;\n        // ...\n    }\n\n    $this->load->view('backoffice/template_v', $data);\n}\n\n// Private function to render navigation\nprivate function _renderNavigation() {\n    return $this->load->view('backoffice/categories/navigation_v', '', TRUE);\n}\n\n// Private function to get category tree\nprivate function _getCategoryTree() {\n    return $this->categories_m->getCategoryTree();\n}\n\n// Private function to handle delete\nprivate function _handleDelete(&$data) {\n    // Delete logic here\n}\n\n// Private function to handle preview\nprivate function _handlePreview(&$data) {\n    // Preview logic here\n}