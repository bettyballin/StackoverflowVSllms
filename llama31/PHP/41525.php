function buildTree($flatArray) {\n    $tree = array();\n    foreach ($flatArray as $key => $value) {\n        $parts = explode('-', $key);\n        $current = &$tree;\n        foreach ($parts as $part) {\n            if (!isset($current[$part])) {\n                $current[$part] = array();\n            }\n            $current = &$current[$part];\n        }\n        $current['title'] = $value;\n    }\n    return $tree;\n}\n\n$flatArray = array(\n    '1' => 'animal',\n    '1-1' => 'turtle',\n    '1-1-1' => 'sea turtle',\n    '1-1-2' => 'box turtle',\n    '1-1-3' => 'green turtle',\n    '1-1-3-1' => 'green turtle with brown tail'\n);\n\n$tree = buildTree($flatArray);\nprint_r($tree);