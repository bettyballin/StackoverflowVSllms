// Define routes\n$routes = [\n    '/users' => ['controller' => 'User', 'action' => 'index'],\n    '/users/{id}' => ['controller' => 'User', 'action' => 'view'],\n    '/users/{id}/friends' => ['controller' => 'Friend', 'action' => 'index'],\n];\n\n// Define Friend controller\nclass Friend {\n    public function index($userId) {\n        // Validate user ID to prevent unauthorized access\n        if (!isValidUserId($userId)) {\n            throw new Exception('Invalid user ID');\n        }\n        // List friends for the given user\n        $friends = getFriendsForUser($userId);\n        return $friends;\n    }\n}\n\n// Define function to validate user ID\nfunction isValidUserId($id) {\n    // Implement validation logic here\n    // For example, check if the user ID is numeric and exists in the database\n    return true; // Replace with actual validation logic\n}\n\n// Define function to get friends for a user\nfunction getFriendsForUser($userId) {\n    // Implement logic to retrieve friends for the given user\n    // For example, query a database or external API\n    return []; // Replace with actual implementation\n}