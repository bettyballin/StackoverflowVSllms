// retrieve ids and weights from Sphinx\n$client = new SphinxClient();\n$client->SetServer('localhost', 9312);\n$client->SetMatchMode(SPH_MATCH_EXTENDED);\n$client->SetArrayResult(array('id', 'weight'));\n$client->SetLimits(0, 10, 1000); // set limits\n\n$query = 'your search query';\n$res = $client->Query($query);\n\nif ($res !== false) {\n    $ids = array();\n    $weights = array();\n    foreach ($res['matches'] as $match) {\n        $ids[] = $match['id'];\n        $weights[$match['id']] = $match['weight'];\n    }\n\n    // retrieve data from database using ids\n    $dbResults = array();\n    $sql = 'SELECT * FROM your_table WHERE id IN (' . implode(',', $ids) . ')';\n    $result = mysql_query($sql);\n    while ($row = mysql_fetch_assoc($result)) {\n        $dbResults[] = $row;\n    }\n\n    // sort database results using Sphinx weights\n    usort($dbResults, function($a, $b) use ($weights) {\n        return $weights[$a['id']] - $weights[$b['id']];\n    });\n\n    // print sorted database results\n    foreach ($dbResults as $row) {\n        print_r($row);\n    }\n}