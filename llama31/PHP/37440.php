$query = "SELECT i.item_name, s.subitem_name \n          FROM table_items i \n          JOIN table_subitems s ON i.item_id = s.item_id \n          ORDER BY i.item_name";\n\n$result = mysqli_query($conn, $query);\n\n$current_item = '';\n\nwhile ($row = mysqli_fetch_assoc($result)) {\n    if ($row['item_name'] != $current_item) {\n        echo strtoupper($row['item_name']) . "\n";\n        echo str_repeat('-', strlen($row['item_name'])) . "\n";\n        $current_item = $row['item_name'];\n    }\n    echo $row['subitem_name'] . "\n";\n}