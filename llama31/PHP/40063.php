<?php\nif (isset($_POST["song"]) && $_POST['song'] != "") {\n    $song = $_POST["song"];\n} else {\n    $song = array();\n}\n\n$sessionId = session_id();\n$playlistFile = "playlist_$sessionId.xml";\n\n$dom = new DOMDocument("1.0");\n// create root element\n$root = $dom->createElement("playlist");\n$dom->appendChild($root);\n$root->setAttribute('version', "1");\n$root->setAttribute('xmlns', "http://xspf.org/ns/0/");\n$rootnext = $dom->createElement("trackList");\n$root->appendChild($rootnext);\n\nforeach ($song as $counter) {\n    $tokens = ",";\n    $tokenized = strtok($counter, $tokens);\n    // create child element\n    $song = $dom->createElement("track");\n    $rootnext->appendChild($song);\n    $song1 = $dom->createElement("creator");\n    $song->appendChild($song1);\n    $text = $dom->createTextNode("www.musicking.in");\n    $song1->appendChild($text);\n    $song1 = $dom->createElement("title");\n    $song->appendChild($song1);\n    // create text node\n    $text = $dom->createTextNode($tokenized);\n    $song1->appendChild($text);\n    $tokenized = strtok($tokens);\n    $song1 = $dom->createElement("location");\n    $song->appendChild($song1);\n    $text = $dom->createTextNode($tokenized);\n    $song1->appendChild($text);\n}\n\n// save\n$dom->save($playlistFile);\n\n?>\n\n<object data="musicplayer.swf?autostart=true&playlist=<?php echo $playlistFile; ?>" type="application/x-shockwave-flash" width="400" height="300">\n    <param name="movie" value="musicplayer.swf?autostart=true&playlist=<?php echo $playlistFile; ?>"/>\n</object>