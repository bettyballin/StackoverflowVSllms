// script1.php (high-priority script)\n$file = 'example.txt';\n$fp = fopen($file, 'w');\nif (flock($fp, LOCK_EX)) {\n    fwrite($fp, 'Hello, world!');\n    flock($fp, LOCK_UN);\n} else {\n    // handle failure to acquire lock\n}\nfclose($fp);\n\n// script2.php (low-priority script)\n$file = 'example.txt';\n$fp = fopen($file, 'w');\nif (flock($fp, LOCK_EX | LOCK_NB)) {\n    fwrite($fp, ' Foo bar!');\n    flock($fp, LOCK_UN);\n} else {\n    // fail gracefully, e.g., log the error and exit\n    error_log('Failed to acquire lock on file');\n    exit(1);\n}\nfclose($fp);