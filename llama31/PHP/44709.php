class MysqliWrapper {\n    private $mysqli;\n\n    public function __construct($mysqli) {\n        $this->mysqli = $mysqli;\n    }\n\n    public function query($sql, ...$params) {\n        $stmt = $this->mysqli->prepare($sql);\n        if (!$stmt) {\n            throw new Exception($this->mysqli->error);\n        }\n\n        $stmt->bind_param(str_repeat('s', count($params)), ...$params);\n        $stmt->execute();\n        $result = $stmt->get_result();\n        $stmt->close();\n\n        return $result->fetch_all(MYSQLI_ASSOC);\n    }\n}