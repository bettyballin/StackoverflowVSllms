$categorized_links = array();\n\nwhile ($row = mysql_fetch_array($result)) {\n    $link_id = $row['link_id'];\n    $url = $row['url'];\n    $category = $row['category'];\n\n    if (!isset($categorized_links[$link_id])) {\n        $categorized_links[$link_id] = array(\n            'url' => $url,\n            'categories' => array($category)\n        );\n    } else {\n        $categorized_links[$link_id]['categories'][] = $category;\n    }\n}\n\nforeach ($categorized_links as $link_id => $link_data) {\n    $categories = implode(' ', $link_data['categories']);\n    echo "link_id = $link_id   url = '{$link_data['url']}'   category = '$categories'\n";\n}