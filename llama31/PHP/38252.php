$string = "{ 1, 3, 1, 2, }, { 2, 3, 2, 1, }, { 3, 3, 2, 2, }, { 1, 2, 3, 1, }";\n\n// Remove leading and trailing whitespace\n$string = trim($string);\n\n// Remove the opening and closing brackets\n$string = substr($string, 1, -1);\n\n// Split the string into individual arrays\n$arrays = explode('}, {', $string);\n\n// Loop through each array\nforeach ($arrays as $array) {\n    // Split the array into individual values\n    $values = explode(', ', trim($array));\n\n    // Create a new array with the values\n    $newArray = array_map('intval', $values);\n\n    // Print the new array\n    print_r($newArray);\n}