function estimateObjectSize($object) {\n    $size = 0;\n    $objects = array(&$object);\n    while ($objects) {\n        $object = array_shift($objects);\n        if (is_array($object) || is_object($object)) {\n            foreach ($object as $key => $value) {\n                $size += strlen($key);\n                if (is_array($value) || is_object($value)) {\n                    $objects[] = &$value;\n                } else {\n                    $size += strlen($value);\n                }\n            }\n        }\n    }\n    return $size;\n}