function extractText($html) {\n    $text = '';\n    $dom = new DOMDocument();\n    @$dom->loadHTML($html);\n    foreach ($dom->getElementsByTagName('text') as $node) {\n        $text .= $node->nodeValue . ' ';\n    }\n    return trim($text);\n}\n\nfunction tokenize($text) {\n    return preg_split('/\W+/', strtolower($text), -1, PREG_SPLIT_NO_EMPTY);\n}\n\nfunction forwardIndex($uid, $docName, $html) {\n    $text = extractText($html);\n    $tokens = tokenize($text);\n    echo "$uid -> $docName -> " . implode(',', $tokens) . "\n";\n}\n\n// Example usage:\n$uid = 'UID1';\n$docName = 'index.html';\n$html = '<html><body>Hello, world! This is a test.</body></html>';\nforwardIndex($uid, $docName, $html);\n\n$uid = 'UID1';\n$docName = 'foo.html';\n$html = '<html><body>This is another test. Foo bar baz.</body></html>';\nforwardIndex($uid, $docName, $html);\n\n$uid = 'UID2';\n$docName = 'blah.html';\n$html = '<html><body>Next week on BadgerWatch...</body></html>';\nforwardIndex($uid, $docName, $html);\n\n$uid = 'UID2';\n$docName = 'gah.txt';\n$html = 'One, one, and one is not Numberwang!';\nforwardIndex($uid, $docName, $html);