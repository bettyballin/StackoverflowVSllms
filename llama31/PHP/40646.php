$url_http = 'http://example.com/pog.php';\n$url_https = 'https://example.com/pog.php';\n\n$headers_http = get_headers($url_http, 1);\n$headers_https = get_headers($url_https, 1);\n\nif ($headers_https !== false && isset($headers_https['Location'])) {\n    // If the HTTPS request returns a redirect header, it's likely that the server is serving HTTPS content\n    echo 'HTTPS detected';\n} elseif ($headers_http !== false && isset($headers_http['Location'])) {\n    // If the HTTP request returns a redirect header, it's likely that the server is serving HTTP content\n    echo 'HTTP detected';\n} else {\n    // If neither request returns a redirect header, you can try to compare the headers to detect the protocol\n    if ($headers_https !== false && $headers_http !== false) {\n        if ($headers_https['X-Forwarded-Proto'] === 'https') {\n            echo 'HTTPS detected';\n        } elseif ($headers_http['X-Forwarded-Proto'] === 'http') {\n            echo 'HTTP detected';\n        }\n    }\n}