function get_real_image_url($long_url) {\n    $ch = curl_init($long_url);\n    curl_setopt($ch, CURLOPT_NOBODY, true);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_HEADER, true);\n    $response = curl_exec($ch);\n    curl_close($ch);\n    $headers = explode("\n", $response);\n    foreach ($headers as $header) {\n        if (strpos($header, "Content-Location:") !== false) {\n            $real_url = trim(substr($header, strpos($header, ":") + 1));\n            return $real_url;\n        }\n    }\n    return $long_url; // fallback to original URL if no Content-Location header found\n}