function count_matches($needle, $haystack) {\n    $result = array();\n    foreach ($haystack as $str) {\n        $words = preg_split('/\s+/', strtolower($str));\n        $matches = array();\n        foreach ($words as $word) {\n            foreach ($needle as $n) {\n                if (strpos($word, strtolower($n)) === 0) {\n                    $matches[] = $n;\n                }\n            }\n        }\n        $result[$str] = count(array_unique($matches));\n    }\n    return $result;\n}\n\n$needle = array('ba','hot','resta');\n$haystack = array(\n    'Southern Hotel',\n    'Grange Restaurant & Hotel',\n    'Austral Hotel',\n    'Barsmith Hotel',\n    'Errestas'\n);\n\nprint_r(count_matches($needle, $haystack));