<?php\n  // Configuration\n  $to = 'your_email@example.com';\n  $from = 'your_email@example.com';\n  $subject = 'Email with attachment';\n  $attachment_dir = 'uploads/'; // make sure this directory exists and is writable\n\n  // Check if the file was uploaded successfully\n  if ($_FILES['file']['error'] == UPLOAD_ERR_OK) {\n    $file_name = $_FILES['file']['name'];\n    $file_tmp = $_FILES['file']['tmp_name'];\n    $file_type = $_FILES['file']['type'];\n\n    // Move the uploaded file to the attachment directory\n    $attachment_path = $attachment_dir . basename($file_name);\n    if (move_uploaded_file($file_tmp, $attachment_path)) {\n      // Send the email with attachment\n      $headers = "From: $from\r\n";\n      $headers .= "MIME-Version: 1.0\r\n";\n      $headers .= "Content-Type: multipart/mixed; boundary=\" boundary\"\r\n";\n\n      $body = "--boundary\r\n";\n      $body .= "Content-Type: text/plain; charset=UTF-8\r\n";\n      $body .= "Content-Transfer-Encoding: 7bit\r\n";\n      $body .= "This is a test email with an attachment.\r\n";\n      $body .= "--boundary\r\n";\n\n      $file_size = filesize($attachment_path);\n      $handle = fopen($attachment_path, 'rb');\n      $attachment = fread($handle, $file_size);\n      fclose($handle);\n\n      $body .= "Content-Type: $file_type; name=\"$file_name\"\r\n";\n      $body .= "Content-Transfer-Encoding: base64\r\n";\n      $body .= "Content-Disposition: attachment; filename=\"$file_name\"\r\n";\n      $body .= base64_encode($attachment) . "\r\n";\n      $body .= "--boundary--";\n\n      mail($to, $subject, $body, $headers);\n      echo 'Email sent successfully!';\n    } else {\n      echo 'Error moving uploaded file.';\n    }\n  } else {\n    echo 'Error uploading file.';\n  }\n?>