function has_voted($user) {\n    try {\n        $db = parent::getConnection();\n        $query = "SELECT id FROM votes WHERE username = ? AND article_id = ?";\n        $stmt = $db->prepare($query);\n        $stmt->execute(array($user, $this->id));\n        $results = $stmt->fetchAll();\n        return count($results) > 0;\n    } catch (Exception $e) {\n        // Log or handle the exception\n    } finally {\n        parent::closeConnection($db);\n    }\n}