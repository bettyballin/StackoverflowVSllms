$mysqli = new mysqli('host', 'user', 'password', 'database');\n\n$result = $mysqli->query('SELECT * FROM table');\n\nwhile ($row = $result->fetch_assoc()) {\n    $row = array_map(function($value) {\n        if (is_numeric($value)) {\n            return (int) $value;\n        } elseif (preg_match('/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/', $value)) {\n            return new DateTime($value);\n        }\n        return $value;\n    }, $row);\n    // $row now contains ints and DateTime objects where applicable\n}