$tips = $this->Tip->find('all', array(\n    'joins' => array(\n        array(\n            'table' => 'users',\n            'alias' => 'User',\n            'type' => 'INNER',\n            'conditions' => array('User.id = Tip.user_id')\n        ),\n        array(\n            'table' => 'friends_users',\n            'alias' => 'Friend',\n            'type' => 'INNER',\n            'conditions' => array('Tip.user_id = Friend.friend_id')\n        )\n    ),\n    'conditions' => array(\n        'OR' => array(\n            'Friend.user_id' => $user_id,\n            'Tip.user_id' => $user_id\n        )\n    ),\n    'limit' => 30\n));