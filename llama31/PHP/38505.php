$db_connect = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n\n$test_query = "SET @N=-1;SELECT `id`, (@N:=@N+1) AS `mycount` FROM `mydb`;";\nif ($db_connect->multi_query($test_query)) {\n    do {\n        // skip the first result (from SET @N=-1;)\n        if ($result = $db_connect->store_result()) {\n            $result->free();\n        }\n    } while ($db_connect->next_result());\n\n    // now retrieve the results from the SELECT query\n    if ($result = $db_connect->store_result()) {\n        while ($row = $result->fetch_row()) {\n            echo $row[0] . " " . $row[1] . "<br />";\n        }\n        $result->free();\n    }\n}\n$db_connect->close();