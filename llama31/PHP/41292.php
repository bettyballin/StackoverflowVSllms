$claimed_identity = 'https://example.com/openid';\n\n// Request 1: Get XRDS Location header\n$ch = curl_init($claimed_identity);\ncurl_setopt($ch, CURLOPT_NOBODY, true); // Send HEAD request\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$response = curl_exec($ch);\ncurl_close($ch);\n\n$xrds_location = null;\nforeach ($response as $header) {\n    if (preg_match('/^X-XRDS-Location: (.*)$/', $header, $match)) {\n        $xrds_location = trim($match[1]);\n        break;\n    }\n}\n\nif (!$xrds_location) {\n    // Handle error: No XRDS Location header found\n}\n\n// Request 2: Get XRDS document\n$ch = curl_init($xrds_location);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$xrds_doc = curl_exec($ch);\ncurl_close($ch);\n\n// Parse XRDS document to extract local identity URL