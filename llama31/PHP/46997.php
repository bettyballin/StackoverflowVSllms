class Registry {\n    private static $instances = array();\n\n    public static function getInstance($class) {\n        if (!isset(self::$instances[$class])) {\n            self::$instances[$class] = new $class();\n        }\n        return self::$instances[$class];\n    }\n}\n\nclass ClassA {\n    public function call() {\n        return $this->inner();\n    }\n\n    protected function inner() {\n        return "Class A";\n    }\n}\n\nclass ClassB extends ClassA {\n    protected function inner() {\n        return "Class B";\n    }\n}\n\necho "<p>Class A = " . Registry::getInstance('ClassA')->call();\necho "<p>Class B = " . Registry::getInstance('ClassB')->call();