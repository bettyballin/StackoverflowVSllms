// controllers/ReferralsController.php\npublic function add() {\n    if ($this->request->is('post')) {\n        $data = $this->request->data;\n        $data['Friend'] = array();\n        for ($i = 1; $i <= 10; $i++) {\n            if (!empty($data['friendName-' . $i]) && !empty($data['friendEmail-' . $i])) {\n                $data['Friend'][] = array(\n                    'name' => $data['friendName-' . $i],\n                    'email' => $data['friendEmail-' . $i]\n                );\n            }\n        }\n        $this->Referral->saveAll($data);\n    }\n}