function friendlyDate($date) {\n    $timestamp = strtotime($date);\n    $diff = time() - $timestamp;\n\n    if ($diff < 60) {\n        return 'just now';\n    } elseif ($diff < 3600) {\n        return floor($diff / 60) . ' minute' . ($diff >= 120 ? 's' : '') . ' ago';\n    } elseif ($diff < 86400) {\n        return floor($diff / 3600) . ' hour' . ($diff >= 7200 ? 's' : '') . ' ago';\n    } elseif ($diff < 604800) {\n        return floor($diff / 86400) . ' day' . ($diff >= 172800 ? 's' : '') . ' ago';\n    } elseif ($diff < 2592000) {\n        return floor($diff / 604800) . ' week' . ($diff >= 1209600 ? 's' : '') . ' ago';\n    } elseif ($diff < 31536000) {\n        return floor($diff / 2592000) . ' month' . ($diff >= 5184000 ? 's' : '') . ' ago';\n    } else {\n        return floor($diff / 31536000) . ' year' . ($diff >= 63072000 ? 's' : '') . ' ago';\n    }\n}