function truncate_html($text, $length) {\n    $dom = new DOMDocument();\n    $dom->loadHTML($text);\n    $text = '';\n    foreach ($dom->childNodes as $node) {\n        if ($node instanceof DOMText) {\n            $text .= $node->nodeValue;\n        } elseif ($node instanceof DOMElement) {\n            $text .= $dom->saveHTML($node);\n        }\n    }\n    $text = substr($text, 0, $length);\n    $text = rtrim($text, ' .,!?:;');\n    $text .= '...';\n    return $text;\n}\n\n$text = "Hello, my <strong>name</strong> is <em>Sam</em>. I&acute;m a web developer.";\necho truncate_html($text, 26);