function encrypt($str, $key) {\n    $method = 'aes-256-cbc';\n    $ivSize = openssl_cipher_iv_length($method);\n    $iv = openssl_random_pseudo_bytes($ivSize);\n    $ciphertext = openssl_encrypt($str, $method, $key, OPENSSL_RAW_DATA, $iv);\n    return base64_encode($iv . $ciphertext);\n}\n\nfunction decrypt($enc, $key) {\n    $method = 'aes-256-cbc';\n    $enc = base64_decode($enc);\n    $ivSize = openssl_cipher_iv_length($method);\n    $iv = substr($enc, 0, $ivSize);\n    $ciphertext = substr($enc, $ivSize);\n    return openssl_decrypt($ciphertext, $method, $key, OPENSSL_RAW_DATA, $iv);\n}