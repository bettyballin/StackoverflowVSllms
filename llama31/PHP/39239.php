// Assuming $data is your large array of records\n\n$batchSize = 100; // Define the batch size\n$ batches = array_chunk($data, $batchSize); // Split the data into batches\n\nforeach ($batches as $batch) {\n    // Start a database transaction\n    $pdo->beginTransaction();\n\n    // Insert the batch of records\n    $stmt = $pdo->prepare('INSERT INTO your_table (column1, column2) VALUES (:value1, :value2)');\n    foreach ($batch as $record) {\n        $stmt->execute($record);\n    }\n\n    // Commit the transaction\n    $pdo->commit();\n}