usort($myArray, "sortThirties");\n\nfunction sortThirties($a, $b)\n{\n    // Get the two times as timestamps relative to today\n    $one = strtotime($a['time']);\n    $two = strtotime($b['time']);\n\n    // Round them down to the nearest half-hour time\n    $one = $one - ($one % 1800);\n    $two = $two - ($two % 1800);\n\n    // Return the difference if times are unequal\n    // If times are equal, return the difference between dates.\n    return ($one == $two ? strcmp($a['date'],$b['date']) : $one - $two);\n}