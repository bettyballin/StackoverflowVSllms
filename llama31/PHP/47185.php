function outputFile($filePath, $fileName, $mimeType = '') {\n    // ...\n\n    // Output File\n    $chunkSize = 1 * (1024*1024);\n    $bytesSend = 0;\n\n    if($file = fopen($filePath, 'rb')) {\n        if(isset($_SERVER['HTTP_RANGE'])) {\n            fseek($file, $range);\n\n            while(!feof($file) && !connection_aborted() && $bytesSend < $newLength) {\n                $buffer = stream_get_contents($file, $chunkSize);\n                echo $buffer;\n                $bytesSend += strlen($buffer);\n            }\n\n            fclose($file);\n        }\n    }\n}