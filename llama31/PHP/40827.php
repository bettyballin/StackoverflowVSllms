public function query($sql, $params = array(), $multi = false) {\n    if ($stmt = $this->db->prepare($sql)) {\n        if (!empty($params)) {\n            $types = '';\n            foreach ($params as $param) {\n                if (is_int($param)) {\n                    $types .= 'i';\n                } elseif (is_float($param)) {\n                    $types .= 'd';\n                } else {\n                    $types .= 's';\n                }\n            }\n            $stmt->bind_param($types, ...$params);\n        }\n        if ($stmt->execute()) {\n            if ($multi) {\n                $result = array();\n                $stmt->bind_result($result);\n                while ($stmt->fetch()) {\n                    $obj[] = $result;\n                }\n                return $obj;\n            } else {\n                $result = array();\n                $stmt->bind_result($result);\n                $stmt->fetch();\n                return $result;\n            }\n        } else {\n            echo $this->db->error;\n            return false;\n        }\n    } else {\n        echo $this->db->error;\n        return false;\n    }\n}