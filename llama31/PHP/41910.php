$results = $mysqli->query($query);\n\nwhile ($row = $results->fetch_assoc()) {\n  switch ($row['source_table']) {\n    case 'listings':\n      echo "<div class='listing'>";\n      echo "<h2>" . $row['title'] . "</h2>";\n      echo "<p>" . $row['created_at'] . "</p>";\n      echo "</div>";\n      break;\n\n    case 'photos':\n      echo "<div class='photo'>";\n      echo "<img src='" . $row['caption'] . "'>";\n      echo "<p>" . $row['created_at'] . "</p>";\n      echo "</div>";\n      break;\n\n    case 'comments':\n      echo "<div class='comment'>";\n      echo "<p>" . $row['text'] . "</p>";\n      echo "<p>" . $row['created_at'] . "</p>";\n      echo "</div>";\n      break;\n  }\n}