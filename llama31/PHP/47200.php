function offsetOverlappingEvents($events) {\n    // Sort events by start time\n    usort($events, function($a, $b) {\n        return $a['start'] - $b['start'];\n    });\n\n    // Iterate through events and check for overlaps\n    foreach ($events as $i => $event) {\n        for ($j = $i + 1; $j < count($events); $j++) {\n            $nextEvent = $events[$j];\n            if ($event['end'] > $nextEvent['start'] && $event['start'] < $nextEvent['end']) {\n                // Events overlap, set split flag\n                $event['split'] = true;\n                $nextEvent['split'] = true;\n            }\n        }\n    }\n\n    return $events;\n}\n\n$events = array(\n    array(\n        "id" => 21,\n        "start" => 1242219600,\n        "end" => 1242237600,\n        "title" => "foo",\n        "split" => false\n    ),\n    array(\n        "id" => 22,\n        "start" => 1242223200,\n        "end" => 1242234000,\n        "title" => "foo",\n        "split" => false\n    )\n);\n\n$events = offsetOverlappingEvents($events);\nprint_r($events);