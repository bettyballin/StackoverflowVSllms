$shippers = [\n    "leg0" => [\n        "UPS" => ["days" => 1, "cost" => 5000],\n        "FedEx" => ["days" => 2, "cost" => 3000],\n        "Conway" => ["days" => 5, "cost" => 1000],\n    ],\n    "leg1" => [\n        "UPS" => ["days" => 1, "cost" => 3000],\n        "FedEx" => ["days" => 2, "cost" => 3000],\n        "Conway" => ["days" => 3, "cost" => 1000],\n    ],\n    "leg2" => [\n        "UPS" => ["days" => 1, "cost" => 4000],\n        "FedEx" => ["days" => 1, "cost" => 3000],\n        "Conway" => ["days" => 2, "cost" => 5000],\n    ],\n];\n\nfunction calculateScore($shipper) {\n    return $shipper["days"] + $shipper["cost"] / 1000;\n}\n\nfunction aStarAlgorithm($shippers, $maxDays) {\n    $openSet = [];\n    $closedSet = [];\n\n    $start = ["leg0" => null, "leg1" => null, "leg2" => null];\n    $start["score"] = 0;\n\n    $openSet[] = $start;\n\n    while (count($openSet) > 0) {\n        usort($openSet, function($a, $b) {\n            return $a["score"] - $b["score"];\n        });\n\n        $current = array_shift($openSet);\n        $closedSet[] = $current;\n\n        if (isset($current["leg0"]) && isset($current["leg1"]) && isset($current["leg2"])) {\n            $totalDays = $shippers["leg0"][$current["leg0"]]["days"] + $shippers["leg1"][$current["leg1"]]["days"] + $shippers["leg2"][$current["leg2"]]["days"];\n            if ($totalDays <= $maxDays) {\n                return $current;\n            }\n        }\n\n        foreach ($shippers as $leg => $shipperOptions) {\n            if (!isset($current[$leg])) {\n                foreach ($shipperOptions as $shipperName => $shipper) {\n                    $newPath = $current;\n                    $newPath[$leg] = $shipperName;\n                    $newPath["score"] = calculateScore($shipper) + (isset($current["score"]) ? $current["score"] : 0);\n\n                    if (!in_array($newPath, $closedSet)) {\n                        $openSet[] = $newPath;\n                    }\n                }\n            }\n        }\n    }\n\n    return null;\n}\n\n$maxDays = 5;\n$bestPath = aStarAlgorithm($shippers, $maxDays);\n\nif ($bestPath !== null) {\n    print "Best path: ";\n    print_r($bestPath);\n} else {\n    print "No path found within the given constraints.";\n}