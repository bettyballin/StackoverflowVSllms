function IsPrime($num, $arrayPointer = null) {\n    global $primesto, $primes, $lastprime;\n\n    // ...\n\n    if ($arrayPointer !== null) {\n        $savedPointer = $arrayPointer;\n    } else {\n        $savedPointer = key($primes);\n    }\n\n    foreach($primes as $p) {\n        // ...\n    }\n\n    if ($arrayPointer !== null) {\n        reset($primes);\n        while(key($primes) !== $savedPointer) {\n            next($primes);\n        }\n    }\n}