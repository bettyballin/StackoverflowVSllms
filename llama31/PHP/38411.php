// plugins/function.recursive_list.php\n\nfunction smarty_function_recursive_list($params, &$smarty) {\n    $data = $params['data'];\n    $html = '';\n\n    if (is_array($data)) {\n        $html .= '<ul>';\n        foreach ($data as $item) {\n            $html .= '<li>';\n            $html .= '<h1>' . $item['headline'] . '</h1>';\n            $html .= '<p>' . $item['body'] . '</p>';\n            if (!empty($item['children'])) {\n                $html .= smarty_function_recursive_list(array('data' => $item['children']), $smarty);\n            }\n            $html .= '</li>';\n        }\n        $html .= '</ul>';\n    }\n\n    return $html;\n}