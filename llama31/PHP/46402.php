$src = '/path/to/source';\n$dst = '/path/to/destination';\n\n$iterator = new RecursiveDirectoryIterator($src, RecursiveDirectoryIterator::SKIP_DOTS);\n$iterator = new RecursiveIteratorIterator($iterator, RecursiveIteratorIterator::SELF_FIRST);\n\nforeach ($iterator as $file) {\n    $target = $dst . DIRECTORY_SEPARATOR . $iterator->getSubPathName();\n    if ($file->isDir()) {\n        mkdir($target);\n    } else {\n        copy($file->getPathname(), $target);\n    }\n}