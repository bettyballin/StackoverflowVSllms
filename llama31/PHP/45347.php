$args = array(\n    'orderby' => 'name',\n    'order' => 'ASC',\n    'hide_empty' => 0\n);\n$categories = get_categories($args);\n\n$current_letter = '';\nforeach ($categories as $category) {\n    $first_letter = substr($category->name, 0, 1);\n    if ($first_letter !== $current_letter) {\n        $current_letter = $first_letter;\n        echo '<p>"' . strtoupper($current_letter) . '"</p>';\n        echo '<ul>';\n    }\n    echo '<li>---' . $category->name . '</li>';\n    if ($first_letter !== substr($categories[$i + 1]->name, 0, 1)) {\n        echo '</ul>';\n    }\n}