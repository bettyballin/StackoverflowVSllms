function pointFromDistanceAndBearing($lat1, $lon1, $distance, $bearing) {\n  $R = 6371; // Earth's radius in kilometers\n  $lat1 = deg2rad($lat1);\n  $lon1 = deg2rad($lon1);\n  $bearing = deg2rad($bearing);\n\n  $lat2 = asin(sin($lat1) * cos($distance / $R) + cos($lat1) * sin($distance / $R) * cos($bearing));\n  $lon2 = $lon1 + atan2(sin($bearing) * sin($distance / $R) * cos($lat1), cos($distance / $R) - sin($lat1) * sin($lat2));\n\n  return array(rad2deg($lat2), rad2deg($lon2));\n}\n\nfunction deg2rad($deg) {\n  return $deg * pi() / 180;\n}\n\nfunction rad2deg($rad) {\n  return $rad * 180 / pi();\n}