// Assuming you have a MySQL connection established and a query to fetch the menu items\n$menu_items = array();\n$result = mysql_query("SELECT * FROM menu ORDER BY weight");\nwhile ($row = mysql_fetch_assoc($result)) {\n    $menu_items[] = $row;\n}\n\n// Function to build the menu recursively\nfunction buildMenu($items, $parent_id = 0, $level = 1) {\n    $menu = array();\n    foreach ($items as $item) {\n        if ($item['parent_menu_id'] == $parent_id) {\n            $item['children'] = buildMenu($items, $item['id'], $level + 1);\n            $menu[] = $item;\n        }\n    }\n    return $menu;\n}\n\n// Build the menu\n$menu = buildMenu($menu_items);\n\n// Function to print the menu\nfunction printMenu($menu, $level = 1) {\n    foreach ($menu as $item) {\n        echo str_repeat('  ', $level - 1) . $item['menu_title'] . "\n";\n        if (!empty($item['children'])) {\n            printMenu($item['children'], $level + 1);\n        }\n    }\n}\n\n// Print the menu\nprintMenu($menu);