$data = // your array of database results\n\n$sortedData = array_reduce($data, function ($carry, $item) {\n    $categoryName = $item['category_name'];\n    if (!isset($carry[$categoryName])) {\n        $carry[$categoryName] = [];\n    }\n    $carry[$categoryName][] = [\n        'link_name' => $item['link_name'],\n        'link_updated' => $item['link_updated'],\n    ];\n    return $carry;\n}, []);\n\nforeach ($sortedData as &$category) {\n    usort($category, function ($a, $b) {\n        return strtotime($b['link_updated']) - strtotime($a['link_updated']);\n    });\n    $category = array_slice($category, 0, 5); // show only 5 links per category\n}\n\nprint_r($sortedData);