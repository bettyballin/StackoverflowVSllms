class Booze_Plugin_AclPlugin extends Zend_Controller_Plugin_Abstract\n{\n    public function preDispatch(Zend_Controller_Request_Abstract $request)\n    {\n        // ...\n\n        if (!$acl->isAllowed($role, $resource, $privilege)) {\n            $redirectUrl = $this->getLoginUrl();\n            $response = Zend_Json::encode(array('redirect' => $redirectUrl));\n            $this->getResponse()->setBody($response);\n            $this->getResponse()->setHttpResponseCode(401);\n            return;\n        }\n    }\n\n    private function getLoginUrl()\n    {\n        return $this->getRequest()->getBaseUrl() . '/login';\n    }\n}