<?php\n$host = 'your_host';\n$dbname = 'your_database';\n$username = 'your_username';\n$password = 'your_password';\n\ntry {\n    $pdo = new PDO("mysql:host=$host;dbname=$dbname", $username, $password);\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    $stmt = $pdo->query('SET NAMES utf8mb4;');\n    $stmt->execute();\n\n    $stmt = $pdo->query('\n        SELECT \n          CONCAT(\'ALTER TABLE \', TABLE_NAME, \' CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;\') \n          AS alter_sql\n        FROM \n          information_schema.tables \n        WHERE \n          TABLE_SCHEMA = DATABASE()\n    ');\n    $results = $stmt->fetchAll();\n\n    foreach ($results as $result) {\n        $pdo->exec($result['alter_sql']);\n    }\n\n    $stmt = $pdo->query('\n        SELECT \n          CONCAT(\'ALTER TABLE \', TABLE_NAME, \' CHANGE COLUMN \', COLUMN_NAME, \' \', COLUMN_NAME, \' \', \n                 COLUMN_TYPE, \' CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;\') \n          AS alter_sql\n        FROM \n          information_schema.columns \n        WHERE \n          TABLE_SCHEMA = DATABASE() AND \n          CHARACTER_SET_NAME != \'utf8mb4\' AND \n          COLLATION_NAME != \'utf8mb4_bin\'\n    ');\n    $results = $stmt->fetchAll();\n\n    foreach ($results as $result) {\n        $pdo->exec($result['alter_sql']);\n    }\n} catch (PDOException $e) {\n    echo 'Error: ' . $e->getMessage();\n}