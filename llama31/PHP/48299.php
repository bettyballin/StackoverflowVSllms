$xml = simplexml_load_string($your_xml_string);\n\nfunction transform_field($field) {\n    // Your callback function logic here\n    // Return the transformed field value\n}\n\n$xml->xpath('//field')->forEach(function ($field) use ($xml) {\n    $name = (string) $field['name'];\n    $value = transform_field($name);\n    $field[0] = $value; // Replace the field value\n});\n\n$xml_string = $xml->asXML(); // Get the transformed XML string