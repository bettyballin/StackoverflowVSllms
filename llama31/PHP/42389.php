$db = new PDO('mysql:host=localhost;dbname=yourdb', 'username', 'password');\n\n$zones = 'your_zone';\n$date = '2023-03-01';\n\n$db->beginTransaction();\n\n$stmt = $db->prepare('SELECT id FROM stats WHERE zones = :zones AND date = :date');\n$stmt->bindParam(':zones', $zones);\n$stmt->bindParam(':date', $date);\n$stmt->execute();\n\nif ($stmt->rowCount() > 0) {\n    $id = $stmt->fetchColumn();\n    $stmt = $db->prepare('UPDATE stats SET hits = hits + 1 WHERE id = :id');\n    $stmt->bindParam(':id', $id);\n    $stmt->execute();\n} else {\n    $stmt = $db->prepare('INSERT INTO stats (zones, date, hits) VALUES (:zones, :date, 1)');\n    $stmt->bindParam(':zones', $zones);\n    $stmt->bindParam(':date', $date);\n    $stmt->execute();\n}\n\n$db->commit();