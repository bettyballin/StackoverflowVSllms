<?php\nif (isset($_POST['update'])) {\n    $updates = array();\n    foreach ($_POST as $key => $value) {\n        if (strpos($key, 'update_') === 0) {\n            $id = substr($key, 7); // extract the ID from the update key\n            $updates[$id] = array(\n                'search_term_1' => $_POST['search_term_1_'.$id],\n                'search_term_2' => $_POST['search_term_2_'.$id],\n                'search_term_3' => $_POST['search_term_3_'.$id],\n                'exc_search_term_1' => $_POST['exc_search_term_1_'.$id],\n                'exc_search_term_2' => $_POST['exc_search_term_2_'.$id],\n                'exc_search_term_3' => $_POST['exc_search_term_3_'.$id],\n            );\n        }\n    }\n\n    // loop through the updates array and update the database\n    foreach ($updates as $id => $data) {\n        $query = "UPDATE ta_boxs SET \n            search_term_1 = '".mysql_real_escape_string($data['search_term_1'])."',\n            search_term_2 = '".mysql_real_escape_string($data['search_term_2'])."',\n            search_term_3 = '".mysql_real_escape_string($data['search_term_3'])."',\n            exc_search_term_1 = '".mysql_real_escape_string($data['exc_search_term_1'])."',\n            exc_search_term_2 = '".mysql_real_escape_string($data['exc_search_term_2'])."',\n            exc_search_term_3 = '".mysql_real_escape_string($data['exc_search_term_3'])."'\n            WHERE id = '$id'";\n        mysql_query($query);\n    }\n}\n\n// your while loop remains the same\n$box_query = mysql_query("SELECT * FROM `ta_boxs`");\nwhile ($box = mysql_fetch_array($box_query)) {\n    // ...\n}\n?>