<?php\nrequire_once('connection.php');\n\n$username = $_POST['username'];\n$password = password_hash($_POST['password'], PASSWORD_DEFAULT);\n$email = $_POST['email'];\n$ip = $_SERVER['REMOTE_ADDR'];\n\n$stmt = $conn->prepare("SELECT username, email FROM users WHERE username = ? OR email = ?");\n$stmt->bind_param("ss", $username, $email);\n$stmt->execute();\n$stmt->store_result();\n$count = $stmt->num_rows;\n\nif ($count == 0) {\n    $stmt = $conn->prepare("INSERT INTO users (username, password, email, rank, ip, active) VALUES (?, ?, ?, '1', ?, '0')");\n    $stmt->bind_param("sssss", $username, $password, $email, $ip);\n    $stmt->execute();\n    echo "You are signed up, please follow the link on your email to active your account.";\n} else {\n    echo "Username or Email already exists" . "<br><a href=\"sign_up.php\">Try Again</a></br>";\n}\n?>