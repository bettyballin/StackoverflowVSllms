// Use prepared statements to prevent SQL injection\n$stmt = $dbc->prepare('SELECT * FROM xxproduct WHERE xsubcatid = :subcatid');\n$stmt->execute(array(':subcatid' => $_POST['subcatid']));\n$products = $stmt->fetchAll();\n\n// Escape output to prevent XSS\necho '<table cellpadding="0" cellspacing="0" border="0" id="ScrollerTable"><tr>';\nforeach ($products as $p) {\n    echo '<td><div style="border:#ccc 2px solid ; padding:0px;margin-top:20px ; margin-bottom:20px ; margin-left:8px ; margin-right:8px;" class="Container">';\n    echo '<a href="javascript:void(0)" id="' . htmlspecialchars($p['xproductid']) . '" onclick="get_detail_product(this)">';\n    echo '<img src="imgsize.php?w=100&h=100&img=../uploads/product/' . htmlspecialchars($p['xproductid']) . '/' . htmlspecialchars($p['xproductid']) . '__1.jpg" border="0"/>';\n    echo '</a>';\n    echo '<div style="background-color:#ccc ;text-align:center ; padding:5px; ">' . htmlspecialchars($p['xproductname']) . '</div>';\n    echo '</div></td>';\n}\necho ' </tr></table>';