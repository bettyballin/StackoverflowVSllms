function base64_decode_stream($encoded_string, $chunk_size = 1024) {\n    $decoded_string = '';\n    $padding = 0;\n\n    for ($i = 0; $i < strlen($encoded_string); $i += $chunk_size) {\n        $chunk = substr($encoded_string, $i, $chunk_size);\n        $decoded_chunk = base64_decode($chunk, true);\n\n        if ($decoded_chunk === false) {\n            throw new Exception('Invalid base64 encoded string');\n        }\n\n        $decoded_string .= $decoded_chunk;\n\n        // Handle padding\n        if (strpos($chunk, '=') !== false) {\n            $padding = substr_count($chunk, '=');\n        } elseif ($padding > 0) {\n            $decoded_string = substr($decoded_string, 0, -$padding);\n            $padding = 0;\n        }\n    }\n\n    return $decoded_string;\n}\n\n// Example usage\n$encoded_string = 'your_base64_encoded_string_here';\n$decoded_string = base64_decode_stream($encoded_string);\n\n// Write the decoded string to a file\n$file = fopen('output.txt', 'wb');\nfwrite($file, $decoded_string);\nfclose($file);