<?php\nrequire_once 'vendor/autoload.php';\n\n// Google OAuth 2.0 client library\nuse Google\Auth\Credentials\ServiceAccountCredentials;\nuse Google\Auth\OAuth2;\n\n// Configuration\n$client_id = 'YOUR_CLIENT_ID';\n$client_secret = 'YOUR_CLIENT_SECRET';\n$redirect_uri = 'YOUR_REDIRECT_URI';\n\n// Step 1: Redirect to Google authorization URL\nif (!isset($_GET['code'])) {\n    $auth_url = 'https://accounts.google.com/o/oauth2/auth?';\n    $params = [\n        'response_type' => 'code',\n        'client_id' => $client_id,\n        'redirect_uri' => $redirect_uri,\n        'scope' => 'email profile',\n    ];\n    header('Location: ' . $auth_url . http_build_query($params));\n    exit;\n}\n\n// Step 2: Exchange authorization code for access token\n$code = $_GET['code'];\n$token_url = 'https://oauth2.googleapis.com/token';\n$params = [\n    'grant_type' => 'authorization_code',\n    'code' => $code,\n    'redirect_uri' => $redirect_uri,\n    'client_id' => $client_id,\n    'client_secret' => $client_secret,\n];\n$response = json_decode(file_get_contents($token_url . '?' . http_build_query($params)), true);\n\n// Step 3: Verify access token\nif (isset($response['access_token'])) {\n    $access_token = $response['access_token'];\n    $tokeninfo_url = 'https://openidconnect.googleapis.com/v1/userinfo';\n    $headers = [\n        'Authorization: Bearer ' . $access_token,\n    ];\n    $response = json_decode(file_get_contents($tokeninfo_url, false, stream_context_create(['http' => ['header' => $headers]])), true);\n\n    // Authenticate user\n    if (isset($response['email'])) {\n        // User is authenticated, log them in\n        echo 'Hello, ' . $response['name'] . '!';\n    } else {\n        // Authentication failed\n        echo 'Authentication failed.';\n    }\n} else {\n    // Error exchanging authorization code for access token\n    echo 'Error exchanging authorization code for access token.';\n}