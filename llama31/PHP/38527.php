$sql = "SELECT date(order_placed_date), \n               COUNT(order_id), \n               SUM(order_total) AS order_total \n        FROM orders \n        WHERE order_placed_date>=date_sub(current_date, INTERVAL 31 DAY) \n        GROUP BY date(order_placed_date)";\n\nif (!$sql) die('Invalid query: ' . mysql_error());\n\n$result = mysql_query($sql);\n\n$data = array_fill(0, 31, 0);\n\nwhile($row = mysql_fetch_array($result)) {\n    $day = date('j', strtotime($row['date']));\n    $data[$day-1] = intval($row['order_total']);\n}\n\n// Rest of your code...