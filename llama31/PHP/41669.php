<?php\n// Connect to the database\n$db = new mysqli('localhost', 'username', 'password', 'database');\n\n// Check if the database connection is successful\nif ($db->connect_error) {\n    die('Connect Error (' . $db->connect_errno . ') ' . $db->connect_error);\n}\n\n// Get the requested URL\n$requested_url = $_SERVER['REQUEST_URI'];\n\n// Check if the requested URL is in the database\n$query = "SELECT new_url FROM url_redirects WHERE old_url = '$requested_url'";\n$result = $db->query($query);\n\nif ($result->num_rows > 0) {\n    // Get the new URL from the database\n    $new_url = $result->fetch_assoc()['new_url'];\n\n    // Send a 301 redirect to the new URL\n    header('HTTP/1.1 301 Moved Permanently');\n    header('Location: ' . $new_url);\n    exit;\n}\n\n// If the requested URL is not in the database, send a 404 error\nheader('HTTP/1.1 404 Not Found');\necho '404 Not Found';\nexit;