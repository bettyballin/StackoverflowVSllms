function removeparamsgroup($form, $action) {\n    foreach ($form as $index => $formelement) {\n        $paramsgroup = $formelement['params'];\n        foreach ($paramsgroup as $paramindex => $param) {\n            if ($param['on'] != $action) {\n                unset($form[$index]['params'][$paramindex]);\n            }\n        }\n        if (empty($form[$index]['params'])) {\n            unset($form[$index]);\n        }\n    }\n    return $form;\n}