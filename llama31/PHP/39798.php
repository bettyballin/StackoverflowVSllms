function render($index) {\n    $stack = [$index];\n    while ($stack) {\n        $currentIndex = array_pop($stack);\n        foreach ($things[$currentIndex] as $key => $data) {\n            echo '<div>';\n            /* irrelevant operations */\n            if (isset($data['id'])) {\n                echo '<div class="wrap">';\n                $stack[] = $data['id'];\n            }\n            echo '</div>';\n        }\n    }\n}