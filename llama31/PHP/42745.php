class DB {\n    private $conn;\n\n    public function __construct($dbhost, $dbname, $dbuser, $dbpass) {\n        $this->conn = new mysqli($dbhost, $dbuser, $dbpass, $dbname);\n        if ($this->conn->connect_error) {\n            throw new Exception($this->conn->connect_error);\n        }\n    }\n\n    public function query($query, $params = array()) {\n        $stmt = $this->conn->prepare($query);\n        if (!$stmt) {\n            throw new Exception($this->conn->error);\n        }\n        $stmt->bind_param($params);\n        $stmt->execute();\n        $result = $stmt->get_result();\n        $stmt->close();\n        return $result;\n    }\n\n    public function close() {\n        $this->conn->close();\n    }\n}