// When a user logs in or performs an action, update their last activity timestamp\nfunction update_last_activity($user_id) {\n  $db = // your database connection\n  $query = "UPDATE online_users SET last_activity = NOW() WHERE user_id = ?";\n  $stmt = $db->prepare($query);\n  $stmt->execute($user_id);\n}\n\n// To get the list of online users, use a query like this:\nfunction get_online_users() {\n  $db = // your database connection\n  $query = "SELECT u.* FROM online_users o JOIN users u ON o.user_id = u.id WHERE o.last_activity > NOW() - INTERVAL 5 MINUTE";\n  $stmt = $db->prepare($query);\n  $stmt->execute();\n  return $stmt->fetchAll();\n}