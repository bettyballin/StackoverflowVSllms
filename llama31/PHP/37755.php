function build_list($id = 0, $collapsed = "") {\n    // ...\n    $this->c_list = array();\n\n    // ...\n    while($root = mysql_fetch_array($res)) {\n        $root["prefix"] = $this->get_prefix($root['position']);\n        $this->c_list[$root['id']] = array(\n            'id' => $root['id'],\n            'name' => $root['c_name'],\n            'subcategories' => array()\n        );\n\n        // ...\n        if($has_children == TRUE) {\n            $this->c_list[$root['id']]['subcategories'] = $this->get_children($root['position'], 0);\n        }\n    }\n\n    return $this->c_list;\n}\n\nfunction get_children($position, $level) {\n    // fetch subcategories\n    $sql = "SELECT * FROM ".$this->table_name." WHERE position RLIKE '^".$position."([0-9]+>){1,1}$' AND c_group = '".$this->Group."'";\n    $res = mysql_query($sql) or die(trigger_error("<br><strong><u>MySQL Error:</u></strong><br>".mysql_error()."<br><br><strong><u>Query Used:</u></strong><br>".$sql."<br><br><strong><u>Info:</u></strong><br>", E_USER_ERROR));\n\n    $subcategories = array();\n    while($sub = mysql_fetch_array($res)) {\n        $subcategories[] = array(\n            'id' => $sub['id'],\n            'name' => $sub['c_name']\n        );\n    }\n\n    return $subcategories;\n}