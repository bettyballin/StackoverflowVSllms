class RoomsController extends AppController {\n    public function bookRoom($roomId, $startDate, $endDate) {\n        $this->Room->id = $roomId;\n        if (!$this->Room->isRoomAvailable($roomId, $startDate, $endDate)) {\n            $this->Session->setFlash('Room is not available for the requested dates.');\n            return $this->redirect(array('action' => 'index'));\n        }\n        // Room is available, proceed with booking logic\n    }\n}