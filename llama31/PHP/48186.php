$sourcePath = 'images/'; // Path of original image\n$sourceUrl = '';\n$sourceName = 'photo1.jpg'; // Name of original image\n$thumbPath = 'thumbs/'; // Writeable thumb path\n$thumbUrl = 'thumbs/';\n$thumbName = "test_thumb.jpg"; // Tip: Name dynamically\n$thumbWidth = 100; // Intended dimension of thumb\n\n$sourceImage = imagecreatefromjpeg("$sourcePath/$sourceName");\n$sourceWidth = imagesx($sourceImage);\n$sourceHeight = imagesy($sourceImage);\n\n$targetImage = imagecreatetruecolor($thumbWidth, $thumbWidth); // Use truecolor\nimagecopyresampled($targetImage, $sourceImage, 0, 0, 0, 0, $thumbWidth, $thumbWidth, $sourceWidth, $sourceHeight);\nimagejpeg($targetImage, "$thumbPath/$thumbName", 90); // Set quality to 90\n\necho "<img src='$thumbUrl$thumbName' alt=''>";