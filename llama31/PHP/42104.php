class Foo implements ArrayAccess {\n    private $data = array();\n\n    public function offsetSet($offset, $value) {\n        if (is_null($offset)) {\n            $this->data[] = $value;\n        } else {\n            $this->data[$offset] = $value;\n        }\n    }\n\n    public function offsetExists($offset) {\n        return isset($this->data[$offset]);\n    }\n\n    public function offsetUnset($offset) {\n        unset($this->data[$offset]);\n    }\n\n    public function offsetGet($offset) {\n        return isset($this->data[$offset]) ? $this->data[$offset] : null;\n    }\n}\n\n$foo = new Foo();\n$foo['fooKey'] = 'foo value';\necho $foo['fooKey'];