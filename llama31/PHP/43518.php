$memcached = new Memcached();\n$memcached->addServer('localhost', 11211);\n\n// Cache a user's friend list\n$friendList = getFriendListFromDB($userId);\n$memcached->set('friend_list_'.$userId, $friendList, 3600); // cache for 1 hour\n\n// When a user adds a friend\nfunction addFriend($userId, $friendId) {\n    // Update the database\n    addFriendToDB($userId, $friendId);\n    \n    // Invalidate the cache for both users' friend lists\n    $memcached->delete('friend_list_'.$userId);\n    $memcached->delete('friend_list_'.$friendId);\n}