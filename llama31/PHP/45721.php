class My_AuthPlugin extends Zend_Controller_Plugin_Abstract\n{\n    public function preDispatch(Zend_Controller_Request_Abstract $request)\n    {\n        if (!Zend_Auth::getInstance()->hasIdentity()) {\n            // Not logged in, redirect to login page\n            $request->setModuleName('default');\n            $request->setControllerName('auth');\n            $request->setActionName('login');\n        }\n    }\n}