use Sabberworm\CSS\Parser;\nuse Sabberworm\CSS\Rule\Rule;\nuse phpQuery;\n\n// Load the external CSS stylesheet or inline <style> block\n$css = file_get_contents('path/to/stylesheet.css');\n\n// Parse the CSS\n$parser = new Parser($css);\n$sheet = $parser->parse();\n\n// Load the HTML template\n$html = file_get_contents('path/to/template.html');\n\n// Parse the HTML\n$doc = phpQuery::newDocumentHTML($html);\n\n// Iterate over the CSS rules and apply them to the HTML elements\nforeach ($sheet->getAllRuleSets() as $ruleSet) {\n    foreach ($ruleSet->getRules() as $rule) {\n        if ($rule instanceof Rule\StyleRule) {\n            $selector = $rule->getSelector();\n            $style = $rule->getStyle();\n\n            // Use phpQuery to select the matching HTML elements\n            $elements = $doc->find($selector);\n\n            // Apply the CSS styles to the HTML elements\n            foreach ($elements as $element) {\n                $element->attr('style', $style->getCssText());\n            }\n        }\n    }\n}\n\n// Output the modified HTML\necho $doc->html();