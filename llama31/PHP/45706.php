use OpenID_Consumer;\nuse OpenID_ServiceEndpoint;\n\n$consumer = new OpenID_Consumer();\n$consumer->setEndpoint(new OpenID_ServiceEndpoint('https://openid.example.com/endpoint'));\n\nif ($consumer->begin()) {\n    $authRequest = $consumer->authRequest();\n    // redirect the user to the OpenID provider\n    header('Location: ' . $authRequest->getURL());\n    exit;\n}\n\n// handle the OpenID response\n$response = $consumer->complete($consumer->getResponse());\nif ($response->status == OpenID_Consumer::SUCCESS) {\n    // login successful\n} else {\n    // login failed\n}