if (!empty($_FILES)) {\n    $tempFile = $_FILES['Filedata']['tmp_name'];\n    $targetPath = $_SERVER['DOCUMENT_ROOT'] . "/app/webroot/posts/temp/";\n    $targetFile =  str_replace('//','/',$targetPath) . basename($_FILES['Filedata']['name']);\n\n    $targetFile = str_replace(".", "_" . mt_rand(10000000,99999999) . ".", $targetFile);\n\n    // Use the move_uploaded_file function with the correct arguments\n    if (move_uploaded_file($tempFile, $targetFile)) {\n        echo "1";\n    } else {\n        echo "Error moving uploaded file";\n    }\n} else {\n    echo "No file uploaded";\n}