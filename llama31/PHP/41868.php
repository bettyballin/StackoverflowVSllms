// app/code/Local/Affiliate/Controller/Router.php\nclass Local_Affiliate_Controller_Router extends Mage_Core_Controller_Varien_Router_Standard\n{\n    public function init()\n    {\n        $this->addModule('Local_Affiliate', 'affiliate');\n    }\n\n    public function match(Zend_Controller_Request_Http $request)\n    {\n        $afid = $request->getParam('afid');\n        if ($afid) {\n            // Call your method to save afid in session\n            Mage::getSingleton('affiliate/session')->saveAfId($afid);\n        }\n        return parent::match($request);\n    }\n}