function time_ago($timestamp) {\n    $time_difference = time() - $timestamp;\n    $periods = array(\n        array(31536000, 'year'),\n        array(2592000, 'month'),\n        array(86400, 'day'),\n        array(3600, 'hour'),\n        array(60, 'minute'),\n        array(1, 'second')\n    );\n    foreach ($periods as $period) {\n        if ($time_difference >= $period[0]) {\n            $count = floor($time_difference / $period[0]);\n            return $count . ' ' . $period[1] . ($count > 1 ? 's' : '') . ' ago';\n        }\n    }\n    return 'just now';\n}