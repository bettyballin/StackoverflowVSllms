// assume $econ, $x, $y, $galaxy, $planet, and $players are already defined\n\n// define a function to calculate the distance\nfunction calculate_distance($x1, $y1, $galaxy1, $planet1, $x2, $y2, $galaxy2, $planet2) {\n  if ($galaxy1 != $galaxy2) {\n    // calculate distance based on galaxy\n    return abs($galaxy1 - $galaxy2);\n  } elseif ($x1 != $x2 || $y1 != $y2) {\n    // calculate distance based on x and y\n    return sqrt(pow($x1 - $x2, 2) + pow($y1 - $y2, 2));\n  } else {\n    // calculate distance based on planet\n    return abs($planet1 - $planet2);\n  }\n}\n\n// define a function to calculate the credit per hour\nfunction calculate_credit_per_hour($econ, $distance, $players) {\n  return sqrt($econ) * (1 + sqrt($distance) / 75 + sqrt($players) / 10);\n}\n\n// modify your query to include the calculation\n$query = "SELECT * FROM routes ORDER BY id DESC LIMIT 8";\n\n// execute the query and fetch the results\n$results = mysqli_query($conn, $query);\n\n// loop through the results and calculate the credit per hour\nwhile ($row = mysqli_fetch_assoc($results)) {\n  $distance = calculate_distance($x, $y, $galaxy, $planet, $row['x'], $row['y'], $row['galaxy'], $row['planet']);\n  $credit_per_hour = calculate_credit_per_hour($econ, $distance, $players);\n  // display the results with the calculated credit per hour\n  echo $row['id'] . ' ' . $row['name'] . ' ' . $credit_per_hour . '<br>';\n}