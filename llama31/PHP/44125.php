$uploadDir = '/path/to/upload/dir/';\n$files = $_FILES['files'];\n\nforeach ($files['tmp_name'] as $key => $tmpName) {\n    $fileName = $files['name'][$key];\n    $filePath = $uploadDir . $fileName;\n\n    if (is_dir($tmpName)) {\n        // Create the directory if it doesn't exist\n        if (!is_dir($filePath)) {\n            mkdir($filePath, 0777, true);\n        }\n\n        // Recursively upload the directory contents\n        $dirIterator = new RecursiveDirectoryIterator($tmpName);\n        $iterator = new RecursiveIteratorIterator($dirIterator);\n\n        foreach ($iterator as $file) {\n            if ($file->isFile()) {\n                $file->move($filePath . '/' . $file->getFilename());\n            }\n        }\n    } else {\n        // Upload the file\n        move_uploaded_file($tmpName, $filePath);\n    }\n}