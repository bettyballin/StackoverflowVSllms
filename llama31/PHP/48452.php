while (1) {\n    print "You are using " . intval(memory_get_usage() / 1024) . "\n";\n    $manager->connection('********************************************', 'master');\n    $query = Doctrine_Query::create()\n        ->from('SubmissionQueue s')\n        ->where('s.time_acted_on IS NULL')\n        ->orderby('s.time_queued')\n        ->limit(1)\n        ->execute();\n    print "[" . $query[0]->time_queued . "]\n";\n    $query->free();\n    unset($query[0]); // unset the first element of the array\n    unset($query); // unset the query object\n    $query = null;\n    $manager->closeConnection(Doctrine_Manager::getInstance()->getConnection('master'));\n    gc_collect_cycles(); // force garbage collection\n    sleep(5);\n}