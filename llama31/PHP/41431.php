'validate' => array(\n    'atLeastOnePair' => array(\n        'rule' => 'hasAtLeastOnePair',\n        'message' => 'At least one pair of name and email fields must be filled in',\n        'last' => true\n    )\n)\n\nfunction hasAtLeastOnePair($data) {\n    $count = 0;\n    foreach ($this->data['Friend'] as $index => $fields) {\n        if (!empty($fields['name']) && !empty($fields['email'])) {\n            $count++;\n        }\n    }\n    return $count > 0;\n}