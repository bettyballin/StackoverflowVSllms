use Symfony\Component\HttpFoundation\Request;\nuse Symfony\Component\HttpFoundation\Response;\nuse Symfony\Component\Security\Core\Exception\AuthenticationException;\n\nclass SecurityController extends Controller\n{\n    /**\n     * @Route("/login", name="login")\n     */\n    public function loginAction(Request $request)\n    {\n        // ...\n\n        if ($request->isMethod('POST')) {\n            $username = $request->get('_username');\n            $password = $request->get('_password');\n\n            // Authenticate the user...\n            $token = $this->get('security.authentication.manager')->authenticate(\n                new UsernamePasswordToken($username, $password)\n            );\n\n            if ($token) {\n                $targetPath = $request->get('target_path');\n                return $this->redirectToRoute($targetPath);\n            }\n        }\n\n        // ...\n    }\n}