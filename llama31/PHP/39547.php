$sql = 'INSERT INTO somedatetable (something) \n        VALUES (:something) \n        ON DUPLICATE KEY UPDATE something=:something';\n\n$values = array(":something" => $something);\n\ntry {\n    $stmt = $dbh->prepare($sql);    \n    if (!$stmt->execute($values)) {\n        throw new PDOException($stmt->errorInfo()[2]);\n    }\n} catch (PDOException $e) {\n    echo "Error: " . $e->getMessage() . "<br />\n";\n}