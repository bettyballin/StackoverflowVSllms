<?php\ninclude('secure.php');\ninclude('config.php');\n\nif (isset($_GET['posID'])) {\n    $posID = (int) $_GET['posID'];\n\n    // Fetch the current approved status\n    $stmt = $mysqli->prepare("SELECT approved FROM positions WHERE posID = ?");\n    $stmt->bind_param("i", $posID);\n    $stmt->execute();\n    $stmt->bind_result($approved);\n    $stmt->fetch();\n    $stmt->close();\n\n    if (isset($_POST['submitted'])) {\n        $newApprovedStatus = $_POST['approved'] == '1' ? '1' : '0';\n\n        // Update the approved status\n        $stmt = $mysqli->prepare("UPDATE positions SET approved = ? WHERE posID = ?");\n        $stmt->bind_param("si", $newApprovedStatus, $posID);\n        $stmt->execute();\n\n        if ($stmt->affected_rows > 0) {\n            echo "Edited row.<br />";\n        } else {\n            echo "Nothing changed.<br />";\n        }\n\n        echo "<a href='list.php'>Back To Listing</a>";\n    }\n\n    // Display the form\n    ?>\n    <form action='' method='POST'>\n        <p><b>Approved:</b><br />\n            <input type='radio' name='approved' value='1' <?= $approved == '1' ? 'checked' : ''; ?>> Approved\n            <input type='radio' name='approved' value='0' <?= $approved == '0' ? 'checked' : ''; ?>> Not Approved\n        </p>\n        <p><input type='submit' value='Edit Row' /><input type='hidden' value='1' name='submitted' />\n    </form>\n    <?php\n}\n?>