public function countDaysWithoutEvents(){\n    $sql = "SELECT 7 - COUNT(*) AS NumDaysWithoutEvents\n            FROM    \n            (SELECT d.date \n                FROM cali_events e\n                LEFT JOIN cali_dates d\n                ON e.event_id = d.event_id\n                WHERE YEARWEEK(d.date) = YEARWEEK(CURRENT_DATE())\n                AND e.category_id = ?  // Fix: use 'e' instead of 'c'\n                GROUP BY DAY(d.date)\n            ) AS UniqueDates";\n\n    $stmt = $this->link->prepare($sql);\n    if (!$stmt) {\n        throw new Exception($this->link->error); // Throw an exception if prepare() fails\n    }\n\n    $stmt->bind_param('i', $this->locationID);\n    $stmt->execute();\n\n    $stmt->bind_result($count);\n    $stmt->close();\n\n    return $count;\n}