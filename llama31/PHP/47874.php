// Add item to cart\npublic function add_to_cart($product_id, $quantity) {\n  $user_id = $this->session->userdata('user_id');\n  $cart_id = $this->session->userdata('cart_id');\n\n  if (!$cart_id) {\n    // Create a new cart ID and store it in the session\n    $cart_id = uniqid();\n    $this->session->set_userdata('cart_id', $cart_id);\n  }\n\n  $data = array(\n    'user_id' => $user_id,\n    'product_id' => $product_id,\n    'quantity' => $quantity\n  );\n\n  $this->db->insert('cart_items', $data);\n}\n\n// View cart\npublic function view_cart() {\n  $cart_id = $this->session->userdata('cart_id');\n  $user_id = $this->session->userdata('user_id');\n\n  $this->db->where('cart_id', $cart_id);\n  $this->db->where('user_id', $user_id);\n  $query = $this->db->get('cart_items');\n\n  $cart_items = $query->result();\n\n  // Display cart items\n  foreach ($cart_items as $item) {\n    echo $item->product_id . ' x ' . $item->quantity . '<br>';\n  }\n}\n\n// Update cart\npublic function update_cart($product_id, $quantity) {\n  $cart_id = $this->session->userdata('cart_id');\n  $user_id = $this->session->userdata('user_id');\n\n  $this->db->where('cart_id', $cart_id);\n  $this->db->where('user_id', $user_id);\n  $this->db->where('product_id', $product_id);\n  $this->db->update('cart_items', array('quantity' => $quantity));\n}