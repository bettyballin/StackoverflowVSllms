class Database {\n  private $host;\n  private $username;\n  private $password;\n  private $database;\n  private $mysqli;\n\n  public function __construct($host, $username, $password, $database) {\n    $this->host = $host;\n    $this->username = $username;\n    $this->password = $password;\n    $this->database = $database;\n    $this->mysqli = new mysqli($this->host, $this->username, $this->password, $this->database);\n    if ($this->mysqli->connect_errno) {\n      throw new Exception("Failed to connect to MySQL: " . $this->mysqli->connect_error);\n    }\n  }\n\n  public function query($query, $params = array()) {\n    $stmt = $this->mysqli->prepare($query);\n    if (!$stmt) {\n      throw new Exception("Failed to prepare query: " . $this->mysqli->error);\n    }\n    if (!empty($params)) {\n      $types = str_repeat('s', count($params));\n      $stmt->bind_param($types, ...$params);\n    }\n    $stmt->execute();\n    $result = $stmt->get_result();\n    $stmt->close();\n    return $result;\n  }\n\n  public function close() {\n    $this->mysqli->close();\n  }\n}