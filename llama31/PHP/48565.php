$archivalie_id = $_GET['archivalie_id'];\n\n$query = "SELECT \n              a.*, \n              ip.description AS internal_project,\n              o.description AS origin,\n              to_char(ad.origin_date,'YYYY') AS origin_date  \n\n          FROM archivalie AS a \n          LEFT JOIN archivalie_dating AS ad ON a.id = ad.archivalie_id               \n          LEFT JOIN internal_project AS ip ON a.internal_project_id = ip.id\n          LEFT JOIN origin AS o ON a.origin_id = o.id              \n\n          WHERE a.id = $archivalie_id";\n\n$result = pg_query($db, $query);\n\nwhile ($row = pg_fetch_object($result)) {\n    $no_data = '<span class="no-data">No data</span>';\n\n    // Using null coalescing operator (PHP 7+)\n    $internal_project = $row->internal_project ?? $no_data;\n    $incoming_date = $row->incoming_date ?? $no_data;\n    $origin = $row->origin ?? $no_data;\n\n    // Alternatively, using ternary operator for PHP versions < 7\n    // $internal_project = !empty($row->internal_project) ? $row->internal_project : $no_data;\n    // $incoming_date = !empty($row->incoming_date) ? $row->incoming_date : $no_data;\n    // $origin = !empty($row->origin) ? $row->origin : $no_data;\n}