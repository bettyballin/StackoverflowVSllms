use PayPal\Core\PPHttpConnection;\n\n$ipnVerification = new PPHttpConnection();\n$ipnVerification->setEnvironment("sandbox"); // or "live"\n$ipnVerification->setPOSTData($_POST);\n\ntry {\n    $response = $ipnVerification->execute("https://www.paypal.com/cgi-bin/webscr");\n    if ($response->getStatusCode() == 200 && $response->getBody() == "VERIFIED") {\n        // IPN signature is valid, process the notification\n    } else {\n        // IPN signature is invalid or verification failed\n    }\n} catch (Exception $e) {\n    // Handle exception\n}