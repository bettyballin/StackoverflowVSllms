<?php\n$mailbox = imap_open("{mail.domain.com:143/novalidate-cert}INBOX", "bounce_handle@domain.com", "password");\n\nif ($mailbox) {\n    $num_messages = imap_num_msg($mailbox);\n    for ($i = 1; $i <= $num_messages; $i++) {\n        $headers = imap_headerinfo($mailbox, $i);\n        $from = $headers->fromaddress;\n        $subject = $headers->subject;\n\n        // Check if it's a bounce email\n        if (strpos($subject, 'Undelivered Mail Returned to Sender') !== false) {\n            // Process the bounce email\n            $body = imap_body($mailbox, $i);\n            // Extract the original recipient from the bounce email body\n            preg_match('/Original-Rcpt-To: (.*)/', $body, $matches);\n            $original_recipient = $matches[1];\n\n            // Do something with the bounce email (e.g., update your database)\n            echo "Bounce email from $from for $original_recipient\n";\n        }\n    }\n    imap_close($mailbox);\n} else {\n    echo "Failed to open mailbox\n";\n}