function shorten_url($long_url) {\n    $secret_key = 'your_secret_key_here';\n    $hash = hash_hmac('sha256', $long_url, $secret_key, true);\n    $short_url = base62_encode($hash);\n    return substr($short_url, 0, 6); // truncate to 6 characters\n}\n\nfunction base62_encode($data) {\n    $alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    $encoded = '';\n    while ($data !== '') {\n        $chunk = substr($data, 0, 8);\n        $data = substr($data, 8);\n        $num = unpack('J', $chunk)[1];\n        while ($num > 0) {\n            $encoded .= $alphabet[$num % 62];\n            $num = (int)($num / 62);\n        }\n    }\n    return $encoded;\n}