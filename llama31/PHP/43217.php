<?php\n\n// Configuration\n$target_url = 'https://example.com'; // URL of the page you want to proxy\n$proxy_url = 'http://your-proxy-url.com/proxy.php'; // URL of this proxy script\n\n// Get the request method and headers\n$method = $_SERVER['REQUEST_METHOD'];\n$headers = getallheaders();\n\n// Get the request body (for POST requests)\n$body = file_get_contents('php://input');\n\n// Create a curl session\n$ch = curl_init($target_url);\n\n// Set the request method and headers\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, $method);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n\n// Set the request body (for POST requests)\nif ($method == 'POST') {\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $body);\n}\n\n// Return the transfer as a string instead of outputting it directly\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n\n// Follow redirects\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n\n// Execute the request\n$response = curl_exec($ch);\n\n// Get the response headers\n$response_headers = curl_getinfo($ch, CURLINFO_HEADER_OUT);\n\n// Close the curl session\ncurl_close($ch);\n\n// Output the response headers\nheader('Content-Type: ' . curl_getinfo($ch, CURLINFO_CONTENT_TYPE));\nheader('Content-Length: ' . curl_getinfo($ch, CURLINFO_CONTENT_LENGTH));\n\n// Output the response body\necho $response;\n\n// Function to get all headers\nfunction getallheaders() {\n    $headers = array();\n    foreach ($_SERVER as $name => $value) {\n        if (substr($name, 0, 5) == 'HTTP_') {\n            $headers[] = array($name, $value);\n        }\n    }\n    return $headers;\n}