<?php\n$allowed_extensions = array('txt', 'jpg', 'png', 'pdf');\n$upload_dir = '/uploads/';\n\nif ($_FILES['file']['error'] === UPLOAD_ERR_OK) {\n    $finfo = finfo_open(FILEINFO_MIME_TYPE);\n    $file_type = finfo_file($finfo, $_FILES['file']['tmp_name']);\n    finfo_close($finfo);\n\n    if (in_array($file_type, $allowed_extensions)) {\n        $file_name = basename($_FILES['file']['name']);\n        $file_path = $upload_dir . $file_name;\n\n        if (move_uploaded_file($_FILES['file']['tmp_name'], $file_path)) {\n            // File uploaded successfully\n        } else {\n            // File upload failed\n        }\n    } else {\n        // Invalid file type\n    }\n} else {\n    // File upload error\n}\n?>