<?php\nrequire_once 'HTML/QuickForm.php';\nrequire_once 'HTML/QuickForm/Renderer/ArraySmarty.php';\nrequire_once 'HTML/QuickForm/Renderer/Smarty.php';\nrequire_once 'HTML/QuickForm/adapters/HTML_QuickForm_Nested.php';\n\nfunction mb_strtoupper($string, $encoding="UTF-8") {\n    return mb_convert_case($string, MB_CASE_UPPER, $encoding);\n}\n\n$renderer = new HTML_QuickForm_Renderer_ArraySmarty();\n$form = new HTML_QuickForm_Nested('test', null, null, $renderer);\n// Create a header\n$section =& $form->addSectionHeader('Test', 'TestHeader');\n// Create a text element\n$section->addElement('text', 'Name', 'Name:', 'Name', 'Name');\n// Create a date element\n$section->addElement('date', 'Date', 'Date:', 'Date');\n// Create a text area\n$section->addElement('textarea', 'Comments', 'Comments:', 'Comments', 'Comments');\n// Create a submit element\n$form->addElement('submit', null, 'Save');\n// Assign the Smarty template\n$form->defaultRenderer()->setTemplate('test.tpl');\n\nif ($form->validate()) {\n    $form->process();\n    $form->freeze();\n}\n\necho $renderer->toHtml();\n?>