$category_id = $category->id; // Assuming $category->id is where you get the category ID\n\n// Create a subselect to get 3 random rows\n$subselect = $projects->select()\n                      ->order(new Zend_Db_Expr('RAND()'))\n                      ->limit(3) // Limit to 3 rows\n                      ->where('cid = ?', $category_id, Zend_Db::INT_TYPE); // Use a prepared statement for security\n\n// Create the main select that orders the subselect by 'name'\n$db = $projects->getAdapter();\n$select = $db->select()\n             ->from(array("c" => new Zend_Db_Expr("({$subselect})"))) // Use the subselect as a table\n             ->order('name ASC'); // Order the result by 'name'\n\n// Execute the query and fetch the results\n$stmt = $select->query();\n$projects = $stmt->fetchAll();