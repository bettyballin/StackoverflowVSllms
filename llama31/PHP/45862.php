function parseString($input) {\n    $pattern = "/(\w+)\s*=\s*'(.*?)'|(\w+)\s*=\s*([^\s]+)/";\n    preg_match_all($pattern, $input, $matches, PREG_SET_ORDER);\n    $result = array();\n    foreach ($matches as $match) {\n        $var = $match[1] ?: $match[3];\n        $val = $match[2] ?: $match[4];\n        $result[$var] = $val;\n    }\n    return $result;\n}\n\n$input = "var1=val1 var2=val2 var3='a list of vals'";\nprint_r(parseString($input));