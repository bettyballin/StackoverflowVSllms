function objSlash(&$obj, $add = true)\n{\n    foreach ($obj as $key => &$field) // note the & symbol here\n    {\n        if (is_object($field)) {\n            objSlash($field, $add);\n        } elseif (is_array($field)) {\n            arrSlash($field, $add);\n        } elseif ($add) {\n            $obj->$key = addslashes($field);\n        } else {\n            $obj->$key = stripslashes($field);\n        }\n    }\n}\n\nfunction arrSlash(&$arr, $add = true)\n{\n    foreach ($arr as $key => &$field) // note the & symbol here\n    {\n        if (is_object($field)) {\n            objSlash($field, $add);\n        } elseif (is_array($field)) {\n            arrSlash($field, $add);\n        } elseif ($add) {\n            $arr[$key] = addslashes($field);\n        } else {\n            $arr[$key] = stripslashes($field);\n        }\n    }\n}