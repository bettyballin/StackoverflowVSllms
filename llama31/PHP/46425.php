foreach ($results as $printresults) {\n    $title = $printresults['title'];\n    $path = $printresults['path'];\n    $visitors = $printresults['visitors'];\n\n    $query = "\n        INSERT OR REPLACE INTO topten (title, path, visitors)\n        VALUES (:title, :path, COALESCE((SELECT visitors FROM topten WHERE title = :title), 0) + :visitors)\n    ";\n\n    $stmt = $db->prepare($query);\n    $stmt->bindValue(':title', $title);\n    $stmt->bindValue(':path', $path);\n    $stmt->bindValue(':visitors', $visitors);\n    $stmt->execute();\n}