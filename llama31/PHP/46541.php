// Define a callback to flush the buffer when it reaches a certain size\nfunction flush_buffer($buffer) {\n    $max_size = 1024 * 1024; // 1MB\n    if (strlen($buffer) > $max_size) {\n        echo $buffer;\n        return '';\n    }\n    return $buffer;\n}\n\n// Start output buffering with the callback\nob_start('flush_buffer');\n\n// Business Logic, etc\n\n// End output buffering and apply the post filter\necho apply_post_filter(ob_get_clean());