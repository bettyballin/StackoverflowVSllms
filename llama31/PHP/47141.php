// library/WidgetLoader.php\n\nclass WidgetLoader\n{\n    public function loadWidgets($column)\n    {\n        $widgets = array();\n        $db = Zend_Db_Table::getDefaultAdapter();\n\n        $select = $db->select()\n            ->from('widgets')\n            ->where('column = ?', $column)\n            ->where('enabled = ?', 1)\n            ->order('order');\n\n        $widgetRows = $db->fetchAll($select);\n\n        foreach ($widgetRows as $widgetRow) {\n            $widgetName = $widgetRow['name'];\n            $widgetClass = 'Widgets_' . $widgetName;\n            $widget = new $widgetClass();\n            $widgets[] = $widget->run();\n        }\n\n        return $widgets;\n    }\n}