function selectContentType($acceptHeader, $availableTypes) {\n    // Parse the Accept header into an array of types with their scores\n    $types = array();\n    foreach (explode(',', $acceptHeader) as $type) {\n        $type = trim($type);\n        $score = 1.0;\n        if (strpos($type, ';q=') !== false) {\n            list($type, $score) = explode(';q=', $type);\n            $score = (float) $score;\n        }\n        $types[$type] = $score;\n    }\n\n    // Find the best matching type\n    $bestType = null;\n    $bestScore = 0.0;\n    foreach ($availableTypes as $type) {\n        if (isset($types[$type]) && $types[$type] > $bestScore) {\n            $bestType = $type;\n            $bestScore = $types[$type];\n        }\n    }\n\n    return $bestType;\n}