// Assume you have a User model and a EditProfileForm\nuse Zend\Validator;\nuse Zend\Json\Json;\n\nclass UserController extends Zend_Controller_Action\n{\n    public function editProfileAction()\n    {\n        // Assuming you're using Zend_Json to decode the incoming JSON data\n        $jsonData = Json::decode($this->_getParam('json'));\n        \n        // Create a validator chain\n        $validators = array(\n            'username' => array(\n                new Validator\StringLength(array('min' => 3, 'max' => 50)),\n                new Validator\Regex(array('pattern' => '/^[a-zA-Z0-9_]+$/')),\n            ),\n            'email' => new Validator\EmailAddress(),\n        );\n        \n        // Validate the incoming data\n        $errors = array();\n        foreach ($validators as $field => $validator) {\n            if (!$validator->isValid($jsonData[$field])) {\n                $errors[$field] = $validator->getMessages();\n            }\n        }\n        \n        // If validation fails, return a JSON error response\n        if (!empty($errors)) {\n            $this->_helper->json(array('errors' => $errors));\n        }\n        \n        // If validation succeeds, update the database\n        // ...\n    }\n}