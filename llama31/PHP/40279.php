// PayPal IPN listener\nrequire 'vendor/autoload.php';\nuse PayPal\IPN\Payout;\n\n$paypal = new Payout();\n$paypal->setApiContext(new \PayPal\Rest\ApiContext(\n    new \PayPal\Auth\OAuthTokenCredential(\n        'YOUR_CLIENT_ID',     // ClientID\n        'YOUR_CLIENT_SECRET'  // ClientSecret\n    )\n));\n\n// Twitter API\nrequire_once 'twitter-api-v2/twitter-api-v2.php';\n$twitter = new TwitterAPIV2\TwitterAPIV2(\n    'YOUR_TWITTER_API_KEY', \n    'YOUR_TWITTER_API_SECRET', \n    'YOUR_TWITTER_ACCESS_TOKEN', \n    'YOUR_TWITTER_ACCESS_TOKEN_SECRET'\n);\n\n// IPN listener\n$raw_post_data = file_get_contents('php://input');\n$raw_post_array = explode('&', $raw_post_data);\n$myPost = array();\nforeach ($raw_post_array as $keyval) {\n    $keyval = explode ('=', $keyval);\n    if (count($keyval) == 2)\n        $myPost[$keyval[0]] = urldecode($keyval[1]);\n}\n\n// Check if payment was successful\nif ($myPost['payment_status'] == 'Completed') {\n    // Send tweet\n    $tweet = 'Payment received for item!';\n    $twitter->postTweet($tweet);\n}