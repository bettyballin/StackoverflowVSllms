function alternate_replace($text, $needle, $open_tag, $close_tag) {\n    $counter = 0;\n    return preg_replace_callback('/' . preg_quote($needle, '/') . '/', function($match) use (&$counter, $open_tag, $close_tag) {\n        $counter++;\n        return $counter % 2 == 1 ? $open_tag : $close_tag;\n    }, $text);\n}\n\n// Example usage:\n$text = '*this*';\necho alternate_replace($text, '*', '<em>', '</em>'); // Output: <em>this</em>\n\n$text = '`this`';\necho alternate_replace($text, '`', '<code>', '</code>'); // Output: <code>this</code>