function whois($domain) {\n  $tlds = array(\n    'com' => 'whois.verisign-grs.com',\n    'net' => 'whois.verisign-grs.com',\n    'org' => 'whois.pir.org',\n    // Add more TLDs as needed\n  );\n\n  $tld = explode('.', $domain);\n  $tld = end($tld);\n\n  $server = isset($tlds[$tld]) ? $tlds[$tld] : 'whois.iana.org';\n\n  $fp = fsockopen($server, 43, $errno, $errstr, 10);\n  if (!$fp) {\n    return "Error: $errstr ($errno)";\n  }\n\n  fwrite($fp, "$domain\r\n");\n  $output = '';\n  while (!feof($fp)) {\n    $output .= fread($fp, 4096);\n  }\n  fclose($fp);\n\n  return $output;\n}\n\n// Example usage:\necho whois('example.com');