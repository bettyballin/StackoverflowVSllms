function classDetector($php_files) {\n    $master = array();\n    foreach ($php_files as $file) {\n        if (preg_match($regex, $file->getContents(), $match)) {\n            $matchResults = array(\n                'class1' => $file->getFilename(),\n                'class2' => $file->getFilename(),\n                'class3' => $file->getFilename(),\n            );\n            $master = array_merge($master, $matchResults);\n            yield $master;\n        }\n    }\n}\n\n$php_files = new PhpFileFilter(new RecursiveIteratorIterator(new RecursiveDirectoryIterator($dir)));\n$classDetector = classDetector($php_files);\n\nforeach ($classDetector as $class => $file) {\n    print "{$class} => {$file}\n";\n}