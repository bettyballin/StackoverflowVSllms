// application/configs/application.ini\nresources.doctrine.config = "doctrine"\nresources.doctrine.modelsPath = APPLICATION_PATH "/models"\n\n// library/My/App/Resource/Doctrine.php\nclass My_App_Resource_Doctrine extends Zend_Application_Resource_ResourceAbstract\n{\n    public function init()\n    {\n        $config = $this->getOptions();\n        $doctrineConfig = $config['config'];\n        $modelsPath = $config['modelsPath'];\n\n        // Set up autoloading for Doctrine\n        $autoloader = Zend_Loader_Autoloader::getInstance();\n        $autoloader->registerNamespace('Doctrine');\n\n        // Set up Doctrine configuration\n        $doctrine = new Doctrine_Core();\n        $doctrine->setModelsDirectory($modelsPath);\n        $doctrine->setExtensionsDirectory(APPLICATION_PATH . '/extensions');\n\n        // Load Doctrine configuration from file\n        $doctrine->loadModels();\n        $doctrine->loadExtensions();\n\n        // Set up database connection\n        $database = Zend_Db::factory($doctrineConfig['database']['adapter'], $doctrineConfig['database']['params']);\n        $doctrine->setConnection($database);\n\n        // Return Doctrine instance\n        return $doctrine;\n    }\n}\n\n// Bootstrap.php\nprotected function _initDoctrine()\n{\n    $this->bootstrap('resources');\n    $doctrine = $this->getPluginResource('doctrine')->init();\n    Zend_Registry::set('doctrine', $doctrine);\n}