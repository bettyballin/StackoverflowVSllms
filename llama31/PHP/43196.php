function getUpdates() {\n    $timeout = 30; // seconds\n    $updates = array();\n\n    // Simulate some work being done\n    sleep($timeout);\n\n    // Return updates or an empty array if none\n    return $updates;\n}\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $updates = getUpdates();\n    if (!empty($updates)) {\n        echo json_encode($updates);\n    } else {\n        http_response_code(204); // No Content\n    }\n}