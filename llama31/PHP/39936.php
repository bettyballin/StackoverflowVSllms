$ccValues = '1;2;3;4'; // input string\n$validIds = [1, 2, 3, 4, 5]; // valid IDs from database\n\n$ccArray = explode(';', $ccValues);\n\n// Check if all values are correctly separated\nif (count($ccArray) !== count(array_filter($ccArray))) {\n    echo 'Error: Invalid format';\n    exit;\n}\n\n// Check if all values are valid IDs\nforeach ($ccArray as $value) {\n    if (!in_array((int) $value, $validIds)) {\n        echo 'Error: Invalid ID: ' . $value;\n        exit;\n    }\n}