$multi_text_color = "#FF3E96,#6A5ACD,#90EE90";\n$colors = explode(',', $multi_text_color);\n\nfor($i = 0; $i < $characters; ++$i) {\n    $idx = rand(0, 2);\n    $r = hexdec(substr($colors[$idx], 1, 2));\n    $g = hexdec(substr($colors[$idx], 3, 2));\n    $b = hexdec(substr($colors[$idx], 5, 2));\n    $font_color = imagecolorallocate($image, $r, $g, $b);\n    imagettftext($image, $font_size, $angle, $x, $y, $font_color, $this->font, $code{$i});\n}