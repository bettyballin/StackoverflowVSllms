// Assuming you have the CA certificate, server certificate, and private key files\n\n$caCert = 'path/to/ca.crt';\n$serverCert = 'path/to/server.crt';\n$serverKey = 'path/to/server.key';\n\n$context = stream_context_create([\n    'ssl' => [\n        'verify_peer' => true,\n        'verify_peer_name' => true,\n        'cafile' => $caCert,\n        'local_cert' => $serverCert,\n        'local_pk' => $serverKey,\n    ],\n]);\n\n// Use the context to create a secure connection\n$socket = stream_socket_server('tls://localhost:8080', $errno, $errstr, STREAM_SERVER_BIND, $context);