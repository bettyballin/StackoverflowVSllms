function rotateImage($imagePath, $angle, $outputPath) {\n    // Load the image\n    $image = imagecreatefrompng($imagePath); // Assuming PNG for transparency; adjust as needed\n\n    // Get image dimensions\n    $width = imagesx($image);\n    $height = imagesy($image);\n\n    // Rotate the image\n    $rotated = imagerotate($image, $angle, 0); // 0 = No background color\n\n    // Calculate new dimensions\n    $newWidth = imagesx($rotated);\n    $newHeight = imagesy($rotated);\n\n    // Calculate offset to center the rotated image\n    $offsetX = ($newWidth - $width) / 2;\n    $offsetY = ($newHeight - $height) / 2;\n\n    // Create a new image with the original dimensions\n    $finalImage = imagecreatetruecolor($width, $height);\n\n    // Enable alpha blending for PNGs\n    imagealphablending($finalImage, false);\n    imagesavealpha($finalImage, true);\n\n    // Copy the rotated image onto the final image, centered\n    imagecopy($finalImage, $rotated, 0, 0, $offsetX, $offsetY, $width, $height);\n\n    // Save the final image\n    imagepng($finalImage, $outputPath); // Adjust type as needed\n\n    // Clean up\n    imagedestroy($image);\n    imagedestroy($rotated);\n    imagedestroy($finalImage);\n}\n\n// Example usage\n$imagePath = 'path/to/your/image.png';\n$angle = 45; // Rotation angle in degrees\n$outputPath = 'path/to/save/rotated/image.png';\n\nrotateImage($imagePath, $angle, $outputPath);