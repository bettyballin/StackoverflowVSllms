function getUsers() {\n    $ldapServer = 'ldap://domain.com';\n    $ldapUser   = 'yourDN'; // Your LDAP DN or username\n    $ldapPass   = 'yourPassword'; // Your LDAP password\n    $baseDN     = 'DC=domain,DC=com'; // Your base DN\n    $filter     = '(objectClass=user)'; // Filter to get users\n    $attributes = array('cn', 'mail', 'samaccountname'); // Attributes to retrieve\n\n    // Establishing connection\n    $conn = ldap_connect($ldapServer);\n\n    if (!$conn) {\n        echo "Error connecting to LDAP server.";\n        return;\n    }\n\n    // Setting protocol version to 3\n    ldap_set_option($conn, LDAP_OPT_PROTOCOL_VERSION, 3);\n\n    // Authenticating\n    if (!ldap_bind($conn, $ldapUser, $ldapPass)) {\n        echo "Error binding to LDAP server.";\n        ldap_unbind($conn);\n        return;\n    }\n\n    // Searching for users\n    $result = ldap_search($conn, $baseDN, $filter, $attributes);\n\n    if (!$result) {\n        echo "Error searching LDAP.";\n        ldap_unbind($conn);\n        return;\n    }\n\n    // Fetching entries\n    $ldapUsers = ldap_get_entries($conn, $result);\n\n    // Unbinding\n    ldap_unbind($conn);\n\n    // Displaying users\n    for ($i = 0; $i < $ldapUsers['count']; $i++) {\n        echo "Name: " . $ldapUsers[$i]['cn'][0] . "\n";\n        echo "Email: " . $ldapUsers[$i]['mail'][0] . "\n";\n        echo "SAM Account Name: " . $ldapUsers[$i]['samaccountname'][0] . "\n\n";\n    }\n}\n\ngetUsers();