$arrs = array(\n    array('id' => 1, 'name' => 'Root', 'depth' => 0),\n    array('id' => 2, 'name' => 'Child 1', 'depth' => 1),\n    array('id' => 3, 'name' => 'Child 2', 'depth' => 1),\n    array('id' => 4, 'name' => 'Grandchild 1', 'depth' => 2),\n    array('id' => 5, 'name' => 'Grandchild 2', 'depth' => 2)\n);\n\n$nested = nestify($arrs);\n$json = json_encode($nested);\necho $json;