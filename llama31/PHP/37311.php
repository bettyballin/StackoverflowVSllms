<?php\n/*\n  $Id$\n\n  modified eCommerce Shopsoftware\n  http://www.modified-shop.org\n\n  Copyright (c) 2000-2003 The Exchange Project  (earlier name of osCommerce)\n  Copyright (c) 2004-2010 osCommerce www.oscommerce.com\n\n  This program is free software; you can redistribute it and/or modify\n  it under the terms of the GNU General Public License v2 (1991)\n  as published by the Free Software Foundation.\n*/\n\n// Check if the module is enabled\nif (!defined('MODULE_RANDOM_PRODUCTS_STATUS')) {\n  define('MODULE_RANDOM_PRODUCTS_STATUS', 'true');\n}\n\n// Function to retrieve random products\nfunction tep_get_random_products($category_id, $num_products) {\n  global $languages_id;\n\n  $products_query = tep_db_query("SELECT p.products_id, p.products_image, pd.products_name\n                                FROM " . TABLE_PRODUCTS . " p,\n                                " . TABLE_PRODUCTS_DESCRIPTION . " pd\n                                WHERE p.products_id = pd.products_id\n                                AND pd.language_id = '" . (int)$languages_id . "'\n                                AND p.products_category = '" . (int)$category_id . "'\n                                ORDER BY RAND()\n                                LIMIT " . (int)$num_products);\n\n  while ($products = tep_db_fetch_array($products_query)) {\n    $random_products[] = array('id' => $products['products_id'],\n                              'image' => $products['products_image'],\n                              'name' => $products['products_name']);\n  }\n\n  return $random_products;\n}\n\n// Function to display random products\nfunction tep_display_random_products($category_id, $num_products) {\n  global $HTTP_SERVER, $HTTP_CATALOG;\n\n  $random_products = tep_get_random_products($category_id, $num_products);\n\n  foreach ($random_products as $product) {\n    echo '<div class="random-product">';\n    echo '<a href="' . tep_href_link(FILENAME_PRODUCT_INFO, 'products_id=' . $product['id']) . '">';\n    echo tep_image(DIR_WS_IMAGES . $product['image'], $product['name'], SMALL_IMAGE_WIDTH, SMALL_IMAGE_HEIGHT);\n    echo '</a>';\n    echo '<a href="' . tep_href_link(FILENAME_PRODUCT_INFO, 'products_id=' . $product['id']) . '">' . $product['name'] . '</a>';\n    echo '</div>';\n  }\n}\n\n// Example usage\n$category_id = 1; // Replace with the desired category ID\n$num_products = 4; // Replace with the desired number of products to display\n\ntep_display_random_products($category_id, $num_products);\n?>