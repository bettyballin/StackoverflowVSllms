function logger($str)\n{\n    file_put_contents('session_log.txt', date('Y-m-d h:i:s') . " $str\r\n", FILE_APPEND);\n}\n\nfunction s_open()\n{\n    logger('s_open');\n    return true;\n}\n\nfunction s_close()\n{\n    logger('s_close');\n    return true;\n}\n\nfunction s_read()\n{\n    logger('s_read');\n    return @file_get_contents('session.txt');\n}\n\nfunction s_write($id, $data)\n{\n    logger("s_write: $id - $data");\n    file_put_contents('session.txt', $data);\n    return true;\n}\n\nfunction s_destroy()\n{\n    logger('s_destroy');\n    return true;\n}\n\nfunction s_gc()\n{\n    logger('s_gc');\n    return true;\n}\n\nfunction shutdown()\n{\n    session_write_close();\n}\n\nregister_shutdown_function('shutdown');\n\nsession_set_save_handler('s_open', 's_close', 's_read', 's_write', 's_destroy', 's_gc');\n\nsession_start();\n\nif (isset($_SESSION['time']))\n    echo 'Session time: ' . date('Y-m-d h:i:s', $_SESSION['time']);\nelse\n    echo 'Session empty';\necho '<br>';\necho 'Session ID: ' . session_id();\n\n$_SESSION['time'] = time();