// Create a new process for the socket connection\n$descriptorspec = array(\n    0 => array("pipe", "r"),  // stdin\n    1 => array("pipe", "w"),  // stdout\n    2 => array("pipe", "w")   // stderr\n);\n\n$process = proc_open('php socket_process.php', $descriptorspec, $pipes);\n\n// Write to the socket process\nfwrite($pipes[0], "CHG 12 " . $_GET["s"] . " " . $_SESSION["cid"]);\n\n// Read from the socket process\necho stream_get_contents($pipes[1]);\n\n// Close the pipes\nfclose($pipes[0]);\nfclose($pipes[1]);\nfclose($pipes[2]);\n\n// Close the process\nproc_close($process);