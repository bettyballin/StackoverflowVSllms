$filename = '/tmp/script_' . time() . '.tmp';\n$editor = 'vi'; // or any other editor you prefer\n\n// Create the temporary file\nfile_put_contents($filename, '');\n\n// Execute the editor and wait for it to finish\n$descriptorspec = array(\n    0 => array("pipe", "r"),  // stdin\n    1 => array("pipe", "w"),  // stdout\n    2 => array("pipe", "w")   // stderr\n);\n$process = proc_open("$editor $filename", $descriptorspec, $pipes);\nif (is_resource($process)) {\n    // Wait for the editor to finish\n    proc_close($process);\n}\n\n// Get the contents of the file\n$input = file_get_contents($filename);\n\n// Remove the temporary file\nunlink($filename);