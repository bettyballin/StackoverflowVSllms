function getQueryString($stmt) {\n    $query = $stmt->queryString;\n    $params = array();\n    $stmt->debugDumpParams();\n    $lines = explode("\n", ob_get_contents());\n    ob_end_clean();\n    foreach ($lines as $line) {\n        if (preg_match('/^  param#(\d+)/', $line, $match)) {\n            $paramNum = $match[1];\n            $paramVal = trim($lines[$paramNum+1]);\n            $params[] = $paramVal;\n        }\n    }\n    $query = preg_replace_callback('/\?/', function($matches) use ($params) {\n        return "'" . array_shift($params) . "'";\n    }, $query);\n    return $query;\n}\n\n$query = 'SELECT * FROM users WHERE username = ?';\n$result = $dbc->prepare($query);\n$username = 'bob';\n$result->bindParam(1, $username);\necho getQueryString($result);