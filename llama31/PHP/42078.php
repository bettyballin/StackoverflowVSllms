include("class.phpmailer.php");\n\n$mail = new PHPMailer();\n\n$body = file_get_contents('contents.html'); // Use file_get_contents instead of getFile\n$body = preg_replace('/[\\\]/', '', $body); // Use preg_replace instead of eregi_replace\n\n$mail->IsSMTP();\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'tls';\n$mail->Host = "smtp.gmail.com";\n$mail->Port = 587;\n$mail->Username = "hussaintalha@gmail.com";\n$mail->Password = "xxxxxxxx";\n\n$mail->AddReplyTo("hussaintalha@gmail.com","First Last");\n$mail->From = "hussaintalha@gmail.com";\n$mail->FromName = "First Last";\n$mail->Subject = "PHPMailer Test Subject via gmail";\n$mail->AltBody = "To view the message, please use an HTML compatible email viewer!";\n$mail->WordWrap = 50;\n$mail->MsgHTML($body);\n$mail->AddAddress("hussaintalha@gmail.com", "John Doe");\n$mail->AddAttachment("images/phpmailer.gif");\n$mail->IsHTML(true);\n\nif(!$mail->Send()) {\n  echo "Mailer Error: " . $mail->ErrorInfo;\n} else {\n  echo "Message sent!";\n}