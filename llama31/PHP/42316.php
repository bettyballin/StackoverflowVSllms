function add_comment_ajax_handler() {\n    if (isset($_POST['action']) && $_POST['action'] === 'add_comment') {\n        $post_id = intval($_POST['post_id']);\n        $comment_text = sanitize_text_field($_POST['comment_text']);\n        $comment = array(\n            'comment_post_ID' => $post_id,\n            'comment_content' => $comment_text,\n            'comment_status' => 'approved'\n        );\n        $comment_id = wp_insert_comment($comment);\n        $comment_html = get_comment_markup($comment_id);\n        echo $comment_html;\n        die();\n    }\n}\nadd_action('wp_ajax_nopriv_add_comment', 'add_comment_ajax_handler');\nadd_action('wp_ajax_add_comment', 'add_comment_ajax_handler');