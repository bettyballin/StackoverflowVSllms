<?php\n// Configuration\n$dbhost = 'localhost';\n$dbuser = 'zuk1_boo';\n$dbpass = 'lols';\n$dbname = 'zuk1_boo';\n\n// Create a PDO instance\n$pdo = new PDO("mysql:host=$dbhost;dbname=$dbname", $dbuser, $dbpass);\n$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n// Check if the form has been submitted\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    // Validate the file upload\n    if (isset($_FILES['userfile']) && $_FILES['userfile']['size'] > 0) {\n        $name = $_POST['name'];\n        $iq = $_POST['iq'];\n\n        // Validate the file type and size\n        $allowedExtensions = array('gif', 'jpg', 'png');\n        $fileExtension = strtolower(pathinfo($_FILES['userfile']['name'], PATHINFO_EXTENSION));\n        if (!in_array($fileExtension, $allowedExtensions) || $_FILES['userfile']['size'] > 2000000) {\n            echo 'Invalid file type or size.';\n            exit;\n        }\n\n        // Move the uploaded file\n        $nuname = str_replace(" ", "-", $name) . "." . $fileExtension;\n        $path = "img/$nuname";\n        move_uploaded_file($_FILES['userfile']['tmp_name'], $path);\n\n        // Prepare and execute the SQL query\n        $stmt = $pdo->prepare("INSERT INTO celebs (celeb, path1, iqq) VALUES (:name, :path, :iq)");\n        $stmt->bindParam(':name', $name);\n        $stmt->bindParam(':path', $path);\n        $stmt->bindParam(':iq', $iq);\n        $stmt->execute();\n\n        echo "File uploaded successfully.";\n    } else {\n        echo 'No file selected or file size exceeds the limit.';\n    }\n}\n?>\n\n<!-- Your form remains the same -->