<?php\n// search.php\n\n// Configuration\n$host = 'localhost';\n$username = 'root';\n$password = 'password';\n$database = 'itour';\n\n// Connect to database\n$conn = new mysqli($host, $username, $password, $database);\n\n// Check connection\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Get search query from URL\n$searchQuery = filter_input(INPUT_GET, 'q', FILTER_SANITIZE_STRING);\n\n// Validate search query\nif (empty($searchQuery)) {\n    echo "<p>Please enter a name.</p>";\n    exit;\n}\n\n// Prepare SQL query\n$stmt = $conn->prepare("SELECT * FROM events WHERE artist_name LIKE ?");\n$stmt->bind_param("s", $searchQuery);\n$stmt->execute();\n\n// Get results\n$result = $stmt->get_result();\n$numRows = $result->num_rows;\n\n// Display results\nif ($numRows == 0) {\n    echo "<h3>Results</h3>";\n    echo "<p>Sorry, your search: &quot;" . $searchQuery . "&quot; returned zero results</p>";\n\n    // Google search alternative\n    echo "<p><a href=\"http://www.google.com/search?q=" . $searchQuery . "\" target=\"_blank\" title=\"Look up " . $searchQuery . " on Google\">Click here</a> to try the search on Google</p>";\n} else {\n    echo "<p>You searched for: &quot;" . $searchQuery . "&quot;</p>";\n\n    // Display results\n    while ($row = $result->fetch_assoc()) {\n        $title = $row["artist_name"];\n        echo "$title";\n    }\n\n    // Pagination\n    $limit = 10;\n    $s = 0; // Current page\n    $pages = ceil($numRows / $limit);\n\n    if ($s >= 1) {\n        // Prev link\n        $prevs = $s - $limit;\n        echo "&nbsp;<a href=\"?s=$prevs&q=$searchQuery\">&lt;&lt; Prev 10</a>&nbsp;&nbsp;";\n    }\n\n    // Next link\n    if (!((($s + $limit) / $limit) == $pages) && $pages != 1) {\n        $news = $s + $limit;\n        echo "&nbsp;<a href=\"?s=$news&q=$searchQuery\">Next 10 &gt;&gt;</a>";\n    }\n\n    $a = $s + ($limit);\n    if ($a > $numRows) {\n        $a = $numRows;\n    }\n    $b = $s + 1;\n    echo "<p>Showing results $b to $a of $numRows</p>";\n}\n\n// Close database connection\n$conn->close();\n\n?>