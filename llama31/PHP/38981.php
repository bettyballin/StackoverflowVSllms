<?php\n// Connect to database\n$conn = new mysqli('localhost', 'username', 'password', 'database');\n\n// Check connection\nif ($conn->connect_error) {\n    die("Connection failed: " . $conn->connect_error);\n}\n\n// Vote handling\nif (isset($_POST['vote'])) {\n    $post_id = $_POST['post_id'];\n    $user_id = $_POST['user_id'];\n    $vote = $_POST['vote']; // 1 for upvote, -1 for downvote\n\n    // Check if user has already voted\n    $query = "SELECT * FROM votes WHERE post_id = '$post_id' AND user_id = '$user_id'";\n    $result = $conn->query($query);\n\n    if ($result->num_rows > 0) {\n        // Update existing vote\n        $query = "UPDATE votes SET vote = '$vote' WHERE post_id = '$post_id' AND user_id = '$user_id'";\n    } else {\n        // Insert new vote\n        $query = "INSERT INTO votes (post_id, user_id, vote) VALUES ('$post_id', '$user_id', '$vote')";\n    }\n\n    $conn->query($query);\n}\n\n// Get post votes\nfunction get_post_votes($post_id) {\n    $query = "SELECT SUM(vote) AS total_votes FROM votes WHERE post_id = '$post_id'";\n    $result = $conn->query($query);\n    $row = $result->fetch_assoc();\n    return $row['total_votes'];\n}\n\n// Display voting box\nfunction display_voting_box($post_id) {\n    $total_votes = get_post_votes($post_id);\n    ?>\n    <div class="voting-box">\n        <button class="upvote" onclick="vote(<?php echo $post_id; ?>, 1)">+</button>\n        <span class="vote-count"><?php echo $total_votes; ?></span>\n        <button class="downvote" onclick="vote(<?php echo $post_id; ?>, -1)">-</button>\n    </div>\n    <?php\n}\n\n// Call display_voting_box function\ndisplay_voting_box(1); // Replace with actual post ID