$uplfile = $_FILES['uploadfile']['name'];\n$upltmp = $_FILES["uploadfile"]["tmp_name"];\n\nif (!empty($uplfile)) {\n    $ext = explode(".", $uplfile);\n    $upload_date = date("Y_m_d");\n    $upload_dir = "upload/";\n\n    if (!is_dir($upload_dir)) {\n        mkdir($upload_dir, 0777, true);\n    }\n\n    $file_name = $ext[0] . "_" . $upload_date . "_" . rand(0, getrandmax()) . "." . $ext[1];\n\n    if (is_uploaded_file($upltmp)) {\n        if (move_uploaded_file($upltmp, $upload_dir . $file_name)) {\n            // file uploaded successfully\n        } else {\n            // error uploading file\n        }\n    } else {\n        // file was not uploaded\n    }\n}