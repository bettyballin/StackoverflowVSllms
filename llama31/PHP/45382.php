class CreateUserException extends Exception {\n    const DUPLICATE_USERNAME = 1;\n    const DATABASE_ERROR = 2;\n    const INSUFFICIENT_DETAILS = 3;\n\n    public function __construct($message, $code) {\n        parent::__construct($message, $code);\n    }\n}\n\nfunction createUser($username) {\n    // create the user and throw an exception on error\n    if ($error) {\n        throw new CreateUserException('Error creating user', CreateUserException::DUPLICATE_USERNAME);\n    }\n}\n\ntry {\n    createUser('fred');\n} catch (CreateUserException $e) {\n    switch ($e->getCode()) {\n        case CreateUserException::DUPLICATE_USERNAME:\n            // handle duplicate username error\n            break;\n        default:\n            // handle other errors\n            break;\n    }\n}