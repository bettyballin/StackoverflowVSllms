function force_html_entities($input) {\n    // Convert to HTML entities\n    $input = htmlspecialchars($input, ENT_QUOTES, 'UTF-8');\n    \n    // Force non-ASCII characters to HTML entities\n    $input = preg_replace_callback('/[^(\x20-\x7F)]*/', function($match) {\n        return '&#' . ord($match[0]) . ';';\n    }, $input);\n    \n    return $input;\n}\n\n// Test the function\n$input = 'Hello, Ã‚ world!';\necho force_html_entities($input);