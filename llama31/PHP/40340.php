function paginateText($text, $charsPerPage) {\n    $pages = array();\n    $currentPage = '';\n    $currentCharCount = 0;\n\n    $words = preg_split('/(\s+|<[^>]*>)/', $text, -1, PREG_SPLIT_DELIM_CAPTURE);\n\n    foreach ($words as $word) {\n        if ($word == '') continue;\n        \n        if (strlen($word) + $currentCharCount > $charsPerPage) {\n            if (preg_match('/^<[^>]*>$/', $word)) {\n                // If the word is a tag, add it to the current page\n                $currentPage .= $word;\n                $currentCharCount += strlen($word);\n            } else {\n                // If the word would put the page over the limit, start a new page\n                $pages[] = $currentPage;\n                $currentPage = $word;\n                $currentCharCount = strlen($word);\n            }\n        } else {\n            $currentPage .= $word;\n            $currentCharCount += strlen($word);\n        }\n    }\n\n    $pages[] = $currentPage;\n\n    return $pages;\n}\n\n// Example usage:\n$text = 'Your text here...';\n$charsPerPage = 500;\n$pages = paginateText($text, $charsPerPage);\n\nforeach ($pages as $i => $page) {\n    echo "Page " . ($i + 1) . ": $page\n";\n}