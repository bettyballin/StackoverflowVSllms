function httpsPost($Url, $xml_data, $headers)\n{\n    // Initialisation\n    $ch=curl_init();\n    // Set parameters\n    curl_setopt($ch, CURLOPT_FORBID_REUSE, 1); \n    curl_setopt($ch, CURLOPT_FRESH_CONNECT, 1);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array_merge($headers, array("Expect:")));\n    curl_setopt($ch, CURLOPT_URL, $Url);\n    // Return a variable instead of posting it directly\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch,CURLOPT_USERPWD,"username:password");\n    // Active the POST method\n    curl_setopt($ch, CURLOPT_POST, 1) ;\n    // Request\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 1);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);\n    // execute the connexion\n    $result = curl_exec($ch);\n    // Close it\n    curl_close($ch);\n    return $result;\n}\n\n$headers = array(\n    "BATCH_TYPE: XML_SINGLE",\n    "BATCH_COUNT: 1",\n    "VENDOR_ID: 53906",\n    "Content-Type: application/xml",\n    "Content-Length: " . strlen($xml_data),\n    "Host: www.example.com"\n);\n\n$request_file = "./post_this.xml"; \n$fh = fopen($request_file, 'r'); \n$xml_data = fread($fh, filesize($request_file)); \nfclose($fh);    \n\n$url = 'http://www.example.com/test.php';\n\n$Response = httpsPost($url, $xml_data, $headers);\n\necho $Response;