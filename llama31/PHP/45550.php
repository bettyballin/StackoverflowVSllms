function online_friends()\n{\n    $ID = $_SESSION['ID'];\n    $db = new mysqli('your_host', 'your_user', 'your_pass', 'your_db');\n\n    $friend_query = "SELECT friend_id FROM friends WHERE user_id = ? AND accepted = 'TRUE'";\n    $friend_stmt = $db->prepare($friend_query);\n    $friend_stmt->bind_param("i", $ID);\n    $friend_stmt->execute();\n    $friend_result = $friend_stmt->get_result();\n\n    $online_count = 0;\n    while ($row = $friend_result->fetch_assoc()) {\n        $friend_id = $row['friend_id'];\n        $user_query = "SELECT * FROM users WHERE ID = ? AND online = 'TRUE'";\n        $user_stmt = $db->prepare($user_query);\n        $user_stmt->bind_param("i", $friend_id);\n        $user_stmt->execute();\n        $user_result = $user_stmt->get_result();\n        if ($user_result->num_rows > 0) {\n            $online_count++;\n        }\n    }\n    return $online_count;\n}