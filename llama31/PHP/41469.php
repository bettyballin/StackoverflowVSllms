$stmt = $connection->prepare("SELECT name FROM clients WHERE sector = ?");\n$stmt->bind_param("s", $sectorlink);\n$stmt->execute();\n$result = $stmt->get_result();\n\n$thelist = array();\nwhile ($row = $result->fetch_assoc()) {\n    $thelist[] = $row['name'];\n}\n\n$placeholders = implode(',', array_fill(0, count($thelist), '?'));\n$stmt = $connection->prepare("SELECT * FROM studies WHERE client IN ($placeholders) ORDER BY date DESC");\n$stmt->bind_param(str_repeat('s', count($thelist)), ...$thelist);\n$stmt->execute();\n$result = $stmt->get_result();\n\n// Now you can fetch the results\nwhile ($row = $result->fetch_assoc()) {\n    // Process the row\n}