$template = '{{HEADER}}Hello my name is {{NAME}}{{#CONTENT}}This is the content ...{{#PERSONS}}<p>My name is {{NAME}}.</p>{{/PERSONS}}{{/CONTENT}}{{FOOTER}}';\n$data = array(\n    'HEADER' => 'This is a header',\n    'NAME' => 'David',\n    'CONTENT' => array(\n        'PERSONS' => array(\n            array('NAME' => 'Heino'),\n            array('NAME' => 'Sebastian')\n        )\n    ),\n    'FOOTER' => 'This is the footer'\n);\n\n$parsedTemplate = parseTemplate($template, $data);\necho $parsedTemplate;