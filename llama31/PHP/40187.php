$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n$ip = $_SERVER['REMOTE_ADDR'];\n$timeout = 300; // 5 minutes\n\nif ($redis->exists($ip)) {\n    $remainingTime = $redis->ttl($ip);\n    if ($remainingTime > 0) {\n        echo "You can't submit the form for another $remainingTime seconds.";\n        exit;\n    }\n}\n\n// Process the form submission...\n\n$redis->setex($ip, $timeout, '1');