$source_file_path ='http://cache2.mycrib.net/images/image_group92/0/43/653807d5727a46498180e8ef57fdf7819b2b0c.jpg';\n$watermark_image='fpwatermark.gif'; // the watermark image\n$destination_image ='coooolgif.gif'; // where to save new file\n\n$imagesize = getimagesize($source_file_path);\n$watermarksize = getimagesize($watermark_image);\n$watermark_x = $imagesize[0] - $watermarksize[0] - 2;\n$watermark_y = $imagesize[1] - $watermarksize[1] - 2;\n\n//run function\nwatermark_img($watermark_image, $source_file_path, $watermark_x, $watermark_y, $watermarksize[0], $watermarksize[1], $destination_image);\n\nfunction watermark_img($watermark_src, $image_src, $watermark_x, $watermark_y, $watermark_w, $watermark_h, $destination_image) {\n    //Determine what type of image we're working with\n    list($width, $height, $type) = getimagesize($image_src);\n    $image_ext = $type;\n    switch (strtolower($image_ext)) {\n        #gif\n        case 1:\n            $image = imagecreatefromgif($image_src);\n            break;\n        #jpg\n        case 2:\n            $image = imagecreatefromjpeg($image_src);\n            imageAlphaBlending($image, true);\n            break;\n        #png\n        case 3:\n            $image = imagecreatefrompng($image_src);\n            imageAlphaBlending($image, true);\n            break;\n        default:\n            return false;\n    }\n    //Create an instance of the watermark in memory\n    if (!($watermark = imagecreatefromgif($watermark_src)))\n        return false; //Make sure your Watermark is a GIF\n    //Add watermark to the image\n    if (!(imagecopy($image, $watermark, $watermark_x, $watermark_y, 0, 0, $watermark_w, $watermark_h)))\n        return false;\n    //Resave the image with the watermark now in place\n    if (!(imagejpeg($image, $destination_image)))\n        return false;\n    //Destroy instaces of images to free up RAM\n    imagedestroy($image);\n    imagedestroy($watermark);\n    //Apparently everything went well.\n    return $image_ext;\n}