function Image($image, $crop = null, $size = null)\n{\n    $image = ImageCreateFromString(file_get_contents($image));\n\n    if (is_resource($image) === true)\n    {\n        $x = 0;\n        $y = 0;\n        $width = imagesx($image);\n        $height = imagesy($image);\n\n        // CROP (Aspect Ratio) Section\n\n        if (is_null($crop) === true)\n        {\n            $crop = array($width, $height);\n        }\n\n        else\n        {\n            $crop = array_filter(explode(':', $crop));\n\n            if (empty($crop) === true)\n            {\n                $crop = array($width, $height);\n            }\n\n            else\n            {\n                if ((empty($crop[0]) === true) || (is_numeric($crop[0]) === false))\n                {\n                    $crop[0] = $crop[1];\n                }\n\n                else if ((empty($crop[1]) === true) || (is_numeric($crop[1]) === false))\n                {\n                    $crop[1] = $crop[0];\n                }\n            }\n\n            $ratio = array\n            (\n                0 => $width / $height,\n                1 => $crop[0] / $crop[1],\n            );\n\n            if ($ratio[0] > $ratio[1])\n            {\n                $width = $height * $ratio[1];\n                $x = (imagesx($image) - $width) / 2;\n            }\n\n            else if ($ratio[0] < $ratio[1])\n            {\n                $height = $width / $ratio[1];\n                $y = (imagesy($image) - $height) / 2;\n            }\n        }\n\n        // Resize Section\n\n        if (is_null($size) === true)\n        {\n            $size = array(imagesx($image), imagesy($image));\n        }\n\n        else\n        {\n            $size = array_filter(explode('x', $size));\n\n            if (empty($size) === true)\n            {\n                $size = array(imagesx($image), imagesy($image));\n            }\n\n            else\n            {\n                if ((empty($size[0]) === true) || (is_numeric($size[0]) === false))\n                {\n                    $size[0] = round($size[1] * imagesx($image) / imagesy($image));\n                }\n\n                else if ((empty($size[1]) === true) || (is_numeric($size[1]) === false))\n                {\n                    $size[1] = round($size[0] * imagesy($image) / imagesx($image));\n                }\n            }\n        }\n\n        $result = ImageCreateTrueColor($size[0], $size[1]);\n\n        if (is_resource($result) === true)\n        {\n            ImageSaveAlpha($result, true);\n            ImageAlphaBlending($result, true);\n            ImageFill($result, 0, 0, ImageColorAllocate($result, 255, 255, 255));\n            ImageCopyResampled($result, $image, 0, 0, $x, $y, $size[0], $size[1], $width, $height);\n\n            header('Content-Type: image/jpeg');\n\n            ImageInterlace($result, true);\n            ImageJPEG($result, null, 90);\n        }\n    }\n\n    return false;\n}