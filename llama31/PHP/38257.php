$lsQuery = "UPDATE `";\n$lsQuery .= $psTableName;\n$lsQuery .= " SET ";\n$setConditions = array();\nforeach($psValues as $lsKey => $lsValue)\n{\n    $setConditions[] = "$lsKey = '$lsValue'";\n}\n$lsQuery .= implode(', ', $setConditions);\n$lsQuery .= " WHERE ";\n$whereConditions = array();\nif(isset($psWhere)){\n    foreach($psWhere as $lsKey => $lsValue)\n    {\n        $whereConditions[] = "$lsKey = '$lsValue'";\n    }\n}\n$lsQuery .= implode(' AND ', $whereConditions);