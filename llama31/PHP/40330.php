$content = file_get_contents($_GET['url']);\n\n// Use DOMDocument to parse the HTML content\n$doc = new DOMDocument();\n$doc->loadHTML($content);\n\n// Find all links in the content\n$links = $doc->getElementsByTagName('a');\n\n// Iterate over the links and modify their href attribute\nforeach ($links as $link) {\n    $href = $link->getAttribute('href');\n    $link->setAttribute('href', 'site.php?url=' . urlencode($href));\n}\n\n// Output the modified content\necho $doc->saveHTML();