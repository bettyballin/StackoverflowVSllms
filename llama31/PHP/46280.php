// create a temporary table to store the count\nmysql_query("CREATE TEMPORARY TABLE insert_count (count INT)");\n\n// start the insert...select query\nmysql_query("INSERT INTO target_table SELECT * FROM source_table");\n\n// periodically update the count in the temporary table\nwhile (mysql_affected_rows() > 0) {\n    mysql_query("UPDATE insert_count SET count = count + 1000"); // update count every 1000 rows\n    // sleep for a short period to allow the insert query to progress\n    usleep(10000);\n}\n\n// get the final count\n$result = mysql_query("SELECT count FROM insert_count");\n$count = mysql_fetch_row($result);\necho "Inserted rows: $count[0]";