class Database {\n    private $host;\n    private $username;\n    private $password;\n    private $database;\n    private $connection;\n\n    public function __construct($host, $username, $password, $database) {\n        $this->host = $host;\n        $this->username = $username;\n        $this->password = $password;\n        $this->database = $database;\n        $this->connection = new mysqli($this->host, $this->username, $this->password, $this->database);\n\n        if ($this->connection->connect_error) {\n            die("Connection failed: " . $this->connection->connect_error);\n        }\n    }\n\n    public function doSelect($query, $params) {\n        $stmt = $this->connection->prepare($query);\n        if (!$stmt) {\n            throw new Exception("Prepare failed: (" . $this->connection->errno . ") " . $this->connection->error);\n        }\n\n        // Dynamically bind parameters\n        $types = str_repeat("s", count($params)); // Assuming all params are strings for simplicity\n        $stmt->bind_param($types, ...$params); // PHP 5.6+ required for ... operator\n\n        if (!$stmt->execute()) {\n            throw new Exception("Execute failed: (" . $stmt->errno . ") " . $stmt->error);\n        }\n\n        $result = $stmt->get_result();\n        if (!$result) {\n            throw new Exception("Getting result failed: (" . $stmt->errno . ") " . $stmt->error);\n        }\n\n        $data = array();\n        while ($row = $result->fetch_assoc()) {\n            $data[] = $row;\n        }\n\n        $stmt->close();\n        return $data;\n    }\n}