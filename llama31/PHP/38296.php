$text = preg_replace('|A(?:(?!A).)*C|', 'foo$0bar', $text);