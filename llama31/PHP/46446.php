function createImage($color, $shape, $transparency) {\n  // Create a new image with a white background\n  $img = imagecreatetruecolor(200, 200);\n  $white = imagecolorallocate($img, 255, 255, 255);\n  imagefill($img, 0, 0, $white);\n\n  // Define colors\n  $color = hex2rgb($color);\n  $color = imagecolorallocatealpha($img, $color[0], $color[1], $color[2], $transparency);\n\n  // Draw shape\n  if ($shape == 'circle') {\n    imagefilledellipse($img, 100, 100, 100, 100, $color);\n  } elseif ($shape == 'square') {\n    imagefilledrectangle($img, 50, 50, 150, 150, $color);\n  }\n\n  // Output image as PNG\n  header('Content-Type: image/png');\n  imagesavealpha($img, true);\n  imagepng($img);\n  imagedestroy($img);\n}\n\nfunction hex2rgb($hex) {\n  $hex = str_replace('#', '', $hex);\n  $r = hexdec(substr($hex, 0, 2));\n  $g = hexdec(substr($hex, 2, 2));\n  $b = hexdec(substr($hex, 4, 2));\n  return array($r, $g, $b);\n}