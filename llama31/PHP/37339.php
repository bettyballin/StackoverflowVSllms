$mail = new PHPMailer();\n\n$templatePath = 'template/index.htm';\n$baseDirectory = dirname(__FILE__);\n\n$body = file_get_contents($templatePath);\n$doc = new DOMDocument();\n$doc->loadHTML($body);\n$images = $doc->getElementsByTagName('img');\n\nforeach ($images as $image) {\n    $src = $image->getAttribute('src');\n    $cid = basename($src);\n    $image->setAttribute('src', 'cid:' . $cid);\n    $mail->AddEmbeddedImage($baseDirectory . '/' . $src, $cid);\n}\n\n$mail->Subject = "PHPMailer Test Subject via mail(), basic";\n$mail->AltBody = "To view this message, please use an HTML compatible email viewer!";\n$mail->SetFrom('xxxxxxx', 'xxxxxxxxxx');\n$address = ".......@gmail.com";\n$mail->AddAddress($address, "xxxxxxx");\n\n$mail->MsgHTML($doc->saveHTML());\n\nif(!$mail->Send()) {\n    echo "Mailer Error: " . $mail->ErrorInfo;\n} else {\n    echo "Message sent!";\n}