function validate_file($file) {\n    $allowed_extensions = array('exe', 'zip', 'pdf');\n    $allowed_dirs = array('downloads', 'files');\n\n    $file_path = realpath($file);\n    $file_ext = pathinfo($file, PATHINFO_EXTENSION);\n    $file_dir = dirname($file_path);\n\n    if (!in_array($file_ext, $allowed_extensions) || !in_array($file_dir, $allowed_dirs)) {\n        return false;\n    }\n\n    return true;\n}