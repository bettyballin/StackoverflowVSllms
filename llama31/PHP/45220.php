<?php\n$search_field = trim($_POST['search_field']);\n$search_engine = trim($_POST['search_engine']);\n$search_type = trim($_POST['search_type']);\n\n$url_params = preg_replace('/(\ )+/', '+', $search_field);\n\n$urls = array(\n    'audio' => array(\n        'deezer' => 'http://www.deezer.com/s.php?s=',\n        'jiwa' => 'http://www.jiwa.fm/#search/track/{%22q%22%3A%22' . $url_params . '%22}',\n        'last.fm' => 'http://www.last.fm/music?q=',\n    ),\n    'video' => array(\n        'youtube' => 'http://www.youtube.com/results?search_type=&search_query=',\n        'dailymotion' => 'http://www.dailymotion.com/relevance/search/',\n        'google_video' => 'http://video.google.com/videosearch?q=',\n    ),\n);\n\nif (isset($urls[$search_type][$search_engine])) {\n    $url = $urls[$search_type][$search_engine];\n    if (strpos($url, '{%22q%22%3A%22') !== false) {\n        $url = str_replace('{%22q%22%3A%22', '{%22q%22%3A%22' . $url_params . '%22', $url);\n    } else {\n        $url .= $url_params;\n    }\n    header('Location: ' . $url);\n    exit;\n} else {\n    // Handle invalid search engine or type\n    header('Location: error.php');\n    exit;\n}\n?>