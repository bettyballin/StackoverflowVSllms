$conditions = [];\nforeach ($constraints as $field => $value) {\n    $conditions[] = $field . ' = :' . $field;\n}\n$SQL .= ' WHERE ' . implode(' AND ', $conditions);