function sqlf($query, $params) {\n    // Other parts of your function...\n\n    if (is_array($params)) {\n        if (empty($params)) {\n            // Replace the IN clause with a condition that is always false\n            return str_replace(":1", "0 AND 1=0", $query);\n        } else {\n            // Your existing logic to handle non-empty arrays...\n            // For instance, converting the array into a comma-separated list of escaped values.\n            $values = implode(',', array_map('your_escape_function', $params));\n            return str_replace(":1", "($values)", $query);\n        }\n    }\n\n    // Other parts of your function...\n}