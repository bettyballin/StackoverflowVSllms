function makeThumbnail($sourcefile, $endfile, $thumbwidth, $thumbheight, $quality) {\n    // Create a new ImageMagick object\n    $img = new Imagick($sourcefile);\n\n    // Resize the image\n    $img->resizeImage($thumbwidth, $thumbheight, Imagick::FILTER_LANCZOS, 1);\n\n    // Set the compression quality\n    $img->setImageCompressionQuality($quality);\n\n    // Save the thumbnail to a file\n    $img->writeImage($endfile);\n\n    // Release the memory\n    $img->destroy();\n}