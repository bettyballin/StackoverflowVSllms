$mysqli->autocommit(FALSE);\n\ntry {\n    $mysqli->query("INSERT INTO .....") or throw new Exception($mysqli->error);\n    $mysqli->query("INSERT INTO .....") or throw new Exception($mysqli->error);\n    $mysqli->query("INSERT INTO .....") or throw new Exception($mysqli->error);\n    $mysqli->query("INSERT INTO .....") or throw new Exception($mysqli->error);\n    $mysqli->query("INSERT INTO .....") or throw new Exception($mysqli->error);\n\n    $mysqli->commit();\n} catch (Exception $e) {\n    $mysqli->rollback();\n    // Handle error\n}