#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n\nint main() {\n    int sockfd;\n    struct sockaddr_in serv_addr;\n    int port = 8080; // replace with your desired port\n\n    // Create a TCP socket\n    sockfd = socket(AF_INET, SOCK_STREAM, 0);\n    if (sockfd < 0) {\n        perror("socket creation failed");\n        exit(1);\n    }\n\n    // Set up server address\n    serv_addr.sin_family = AF_INET;\n    serv_addr.sin_port = htons(port);\n    inet_pton(AF_INET, "127.0.0.1", &serv_addr.sin_addr); // bind to localhost\n\n    // Attempt to bind the socket to the port\n    if (bind(sockfd, (struct sockaddr *)&serv_addr, sizeof(serv_addr)) < 0) {\n        perror("bind failed");\n        printf("Port %d is in use\n", port);\n    } else {\n        printf("Port %d is free\n", port);\n        // Don't forget to close the socket\n        close(sockfd);\n    }\n\n    return 0;\n}