#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/socket.h>\n#include <netinet/in.h>\n#include <arpa/inet.h>\n\n#define BUFFER_SIZE 1024\n\nint main() {\n    int server_fd, client_fd;\n    struct sockaddr_in server_addr, client_addr;\n    socklen_t client_len = sizeof(client_addr);\n    char buffer[BUFFER_SIZE];\n    FILE *file;\n\n    // Create socket\n    server_fd = socket(AF_INET, SOCK_STREAM, 0);\n    if (server_fd < 0) {\n        perror("socket");\n        exit(1);\n    }\n\n    // Set server address\n    server_addr.sin_family = AF_INET;\n    server_addr.sin_port = htons(8080);\n    inet_pton(AF_INET, "127.0.0.1", &server_addr.sin_addr);\n\n    // Bind socket to address\n    if (bind(server_fd, (struct sockaddr *)&server_addr, sizeof(server_addr)) < 0) {\n        perror("bind");\n        exit(1);\n    }\n\n    // Listen for connections\n    if (listen(server_fd, 1) < 0) {\n        perror("listen");\n        exit(1);\n    }\n\n    // Accept client connection\n    client_fd = accept(server_fd, (struct sockaddr *)&client_addr, &client_len);\n    if (client_fd < 0) {\n        perror("accept");\n        exit(1);\n    }\n\n    // Open JPG file\n    file = fopen("image.jpg", "rb");\n    if (!file) {\n        perror("fopen");\n        exit(1);\n    }\n\n    // Send file over socket\n    while (1) {\n        size_t bytes_read = fread(buffer, 1, BUFFER_SIZE, file);\n        if (bytes_read == 0) {\n            break;\n        }\n        send(client_fd, buffer, bytes_read, 0);\n    }\n\n    // Close file and sockets\n    fclose(file);\n    close(client_fd);\n    close(server_fd);\n\n    return 0;\n}