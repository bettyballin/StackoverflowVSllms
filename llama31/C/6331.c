#include <sys/shm.h>\n\nint main() {\n    // Create a shared memory segment\n    int shm_id = shmget(IPC_PRIVATE, sizeof(int), 0666);\n    if (shm_id == -1) {\n        perror("shmget");\n        exit(1);\n    }\n\n    // Attach the shared memory segment to the parent's address space\n    void* shm_ptr = shmat(shm_id, NULL, 0);\n    if (shm_ptr == (void*)-1) {\n        perror("shmat");\n        exit(1);\n    }\n\n    // Initialize the shared variable\n    int* count = (int*)shm_ptr;\n    *count = 0;\n\n    // Fork children and have them increment the shared variable\n    for (int i = 0; i < 5; i++) {\n        pid_t pid = fork();\n        if (pid == -1) {\n            perror("fork");\n            exit(1);\n        } else if (pid == 0) {\n            // Child process\n            (*count)++;\n            exit(0);\n        }\n    }\n\n    // Wait for children to finish and print the final count\n    for (int i = 0; i < 5; i++) {\n        wait(NULL);\n    }\n    printf("Final count: %d\n", *count);\n\n    // Detach the shared memory segment\n    shmdt(shm_ptr);\n\n    return 0;\n}