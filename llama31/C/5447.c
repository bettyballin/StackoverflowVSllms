// Writer process (Linux)\n#include <semaphore.h>\n...\nsem_t *sem = sem_open("/nas_semaphore", O_CREAT, 0644, 1);\nsem_wait(sem); // acquire the semaphore\n// update the file\nsem_post(sem); // release the semaphore\nsem_close(sem);\n\n// Reader process (Windows)\n#include <windows.h>\n...\nHANDLE hSem = CreateSemaphore(NULL, 1, 1, "nas_semaphore");\nWaitForSingleObject(hSem, 0); // try to acquire the semaphore\nif (WAIT_OBJECT_0 == WaitForSingleObject(hSem, 0)) {\n    // semaphore acquired, read the file\n    ...\n    ReleaseSemaphore(hSem, 1, NULL);\n} else {\n    // semaphore not acquired, wait or abort\n}