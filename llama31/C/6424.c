#include <libnetfilter_queue/libnetfilter_queue.h>\n\nint main() {\n    struct nfq_handle *h;\n    struct nfq_q_handle *qh;\n    struct nfgenmsg *nfmsg;\n    struct nfq_data nfad;\n    unsigned char *packet;\n    int len;\n\n    // Open the queue and get a handle\n    h = nfq_open();\n    if (!h) {\n        perror("nfq_open");\n        return 1;\n    }\n\n    // Bind to queue 0\n    qh = nfq_create_queue(h, 0, &nfad, NFQ_MAXLEN);\n    if (!qh) {\n        perror("nfq_create_queue");\n        return 1;\n    }\n\n    // Set the queue mode to NFQNL_COPY_PACKET\n    nfq_set_mode(qh, NFQNL_COPY_PACKET, 0);\n\n    while (1) {\n        // Read a packet from the queue\n        len = nfq_get_payload(qh, &packet);\n        if (len < 0) {\n            perror("nfq_get_payload");\n            continue;\n        }\n\n        // Modify the packet as needed (e.g., change destination port)\n        // ...\n\n        // Reinjet the modified packet back into the network\n        nfq_set_verdict(qh, NF_ACCEPT, len, packet);\n    }\n\n    nfq_destroy_queue(qh);\n    nfq_close(h);\n    return 0;\n}