#include <zip.h>\n\nint main() {\n    // Open the ZIP archive\n    zip *archive = zip_open("archive.zip", ZIP_RDONLY, NULL);\n    if (archive == NULL) {\n        // Handle error\n    }\n\n    // Add a file to the archive\n    zip_source *source = zip_source_buffer(archive, "file.txt", strlen("file.txt"));\n    if (source == NULL) {\n        // Handle error\n    }\n    if (zip_add(archive, "file.txt", source) == -1) {\n        // Handle error\n    }\n\n    // Close the archive\n    zip_close(archive);\n    return 0;\n}