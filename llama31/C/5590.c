// Define a message header structure\ntypedef struct {\n    uint8_t  version;  // Version of the message format\n    uint8_t  type;     // Type of message (e.g., acceleration, other data)\n    uint16_t length;   // Length of the message payload\n} message_header_t;\n\n// Define an acceleration message structure\ntypedef struct {\n    uint32_t timestamp;  // Measurement time\n    float    accX;       // Acceleration X\n    float    accY;       // Acceleration Y\n    float    accZ;       // Acceleration Z\n} acceleration_msg_t;\n\n// Create a message buffer with the header and payload\nuint8_t message_buffer[sizeof(message_header_t) + sizeof(acceleration_msg_t)];\n\n// Fill the message buffer\nmessage_header_t header;\nheader.version = 1;\nheader.type = 1;  // Acceleration message\nheader.length = sizeof(acceleration_msg_t);\n\nacceleration_msg_t payload;\npayload.timestamp = ...;\npayload.accX = ...;\npayload.accY = ...;\npayload.accZ = ...;\n\nmemcpy(message_buffer, &header, sizeof(header));\nmemcpy(message_buffer + sizeof(header), &payload, sizeof(payload));\n\n// Send the message buffer over TCP