// create 5 child process\nfor(int k=0;k<5;k++){\n\n    // fork a child process\n    pid = fork();\n\n    // error occured on fork\n    if (pid < 0) {\n        fprintf(stderr, "Fork Failed");\n        return 1;\n    }\n    // this is what the child process will run\n    else if (pid == 0) {\n        //create a shared mem segment\n        segment_id = shmget(IPC_PRIVATE, size, S_IRUSR | S_IWUSR);\n\n        //attach the shared memory segment\n        shared_memory = (char *) shmat(segment_id, NULL, 0);\n\n        printf("this is child");\n\n        double x = 0;\n        double sum = 0;\n\n        // Run process that sums the function\n        for(int i=0; i<n; i++){\n            // get random number in range of x1-x2\n            x = rand()%(x2 - x1 + 1) + x1;\n            sum = sum + f(x);\n        }\n\n        //write output to the shared memory segment\n        sprintf(shared_memory, "%f", sum);\n\n        // Detach from shared memory\n        shmdt(shared_memory);\n\n        // Exit the child process\n        exit(0);\n     }\n\n    // this is what the parent process will run\n    else {\n\n       //print output from shared memory\n        printf("\n*%s", shared_memory);\n\n        //detach shared memory\n        shmdt(shared_memory);\n\n        //Here we add the shared memory to the array\n        // To add together at the end\n        // but since I cant get the memory to share\n        // the array can't be implemented\n\n        //remove the shared memory segment\n        shmctl(segment_id, IPC_RMID, NULL);\n\n        wait(NULL);\n    }\n} // End of for statement