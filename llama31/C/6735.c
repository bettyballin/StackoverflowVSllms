#include <sys/time.h>\n\nstruct timeval tv;\ngettimeofday(&tv, NULL);\nunsigned long milliseconds = tv.tv_sec * 1000 + tv.tv_usec / 1000;