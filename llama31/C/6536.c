#include <libiconv.h>\n\n// ...\n\nstatic int convert_ebcdic_to_utf8(const char *ebcdic_data, size_t ebcdic_len, char **utf8_data, size_t *utf8_len) {\n    iconv_t cd = iconv_open("UTF-8", "EBCDIC-US");\n    if (cd == (iconv_t)-1) {\n        // Handle error\n    }\n\n    *utf8_len = iconv(cd, &ebcdic_data, &ebcdic_len, NULL, NULL);\n    if (*utf8_len == (size_t)-1) {\n        // Handle error\n    }\n\n    *utf8_data = malloc(*utf8_len);\n    if (*utf8_data == NULL) {\n        // Handle error\n    }\n\n    iconv(cd, &ebcdic_data, &ebcdic_len, *utf8_data, utf8_len);\n    iconv_close(cd);\n\n    return 0;\n}\n\n// ...\n\nstatic int sshfs_read(struct fuse_file_info *fi, char *buf, size_t size, off_t offset) {\n    // ...\n\n    char *ebcdic_data = // Read EBCDIC data from mainframe\n    size_t ebcdic_len = // Length of EBCDIC data\n\n    char *utf8_data = NULL;\n    size_t utf8_len = 0;\n\n    if (convert_ebcdic_to_utf8(ebcdic_data, ebcdic_len, &utf8_data, &utf8_len) != 0) {\n        // Handle error\n    }\n\n    // Copy UTF-8 data to fuse buffer\n    memcpy(buf, utf8_data, utf8_len);\n\n    free(utf8_data);\n\n    return utf8_len;\n}