#include <sys/ptrace.h>\n#include <sys/wait.h>\n#include <unistd.h>\n\nint main() {\n    pid_t child_pid;\n    int status;\n\n    // Fork the child process\n    child_pid = fork();\n    if (child_pid == 0) {\n        // Child process\n        // ...\n        exit(0);\n    }\n\n    // Parent process\n    ptrace(PTRACE_ATTACH, child_pid, NULL, NULL);\n    waitpid(child_pid, &status, 0);\n\n    // Set up tracing for fork and vfork\n    ptrace(PTRACE_SETOPTIONS, child_pid, NULL, PTRACE_O_TRACEFORK | PTRACE_O_TRACEVFORK);\n\n    while (1) {\n        pid_t grandchild_pid;\n        int event;\n\n        // Wait for a fork or vfork event\n        grandchild_pid = waitpid(-1, &status, __WALL);\n        if (grandchild_pid < 0) {\n            // Error handling\n            break;\n        }\n\n        // Get the event type\n        event = status >> 16;\n\n        if (event == PTRACE_EVENT_FORK || event == PTRACE_EVENT_VFORK) {\n            // Get the grandchild process ID\n            grandchild_pid = ptrace(PTRACE_GETEVENTMSG, grandchild_pid, NULL, NULL);\n\n            // Do something with the grandchild process ID\n            printf("Grandchild process ID: %d\n", grandchild_pid);\n        }\n    }\n\n    return 0;\n}