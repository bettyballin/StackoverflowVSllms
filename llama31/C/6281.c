#include <Winnetwk.h>\n\nint main() {\n    NETRESOURCE resource;\n    resource.dwType = RESOURCETYPE_ANY;\n    resource.lpLocalName = "Z:";\n    resource.lpRemoteName = "\\\\192.168.X.X\\somedir";\n    resource.lpProvider = NULL;\n\n    DWORD flags = CONNECT_TEMPORARY;\n    if (WNetAddConnection2(&resource, NULL, NULL, flags) == NO_ERROR) {\n        printf("Connected successfully\n");\n    } else {\n        printf("Error connecting: %d\n", GetLastError());\n    }\n\n    return 0;\n}