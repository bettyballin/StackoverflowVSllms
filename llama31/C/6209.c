// ...\n\n// Receive file over socket\nFILE *output_file = fopen("received_image.jpg", "wb");\nwhile (1) {\n    ssize_t bytes_received = recv(client_fd, buffer, BUFFER_SIZE, 0);\n    if (bytes_received <= 0) {\n        break;\n    }\n    fwrite(buffer, 1, bytes_received, output_file);\n}\n\n// ...