#include <emmintrin.h> // for SSE2 intrinsics\n\nint memcmp(const void *a, const void *b, size_t len) {\n    const char *s1 = (const char *)a;\n    const char *s2 = (const char *)b;\n\n    // Use SSE2 intrinsics for 16-byte aligned blocks\n    for (; len >= 16; len -= 16, s1 += 16, s2 += 16) {\n        __m128i x = _mm_loadu_si128((const __m128i *)s1);\n        __m128i y = _mm_loadu_si128((const __m128i *)s2);\n        if (!_mm_testz_si128(_mm_cmpeq_epi8(x, y))) {\n            break;\n        }\n    }\n\n    // Fall back to byte-by-byte comparison for remaining bytes\n    for (; len > 0; len--, s1++, s2++) {\n        if (*s1 != *s2) {\n            return *s1 - *s2;\n        }\n    }\n\n    return 0;\n}