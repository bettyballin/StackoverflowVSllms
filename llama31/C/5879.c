#include <sql.h>\n#include <sqlext.h>\n\n// ...\n\nSQLHSTMT hstmt;\nSQLINTEGER rowCount = 0;\nSQLINTEGER colCount = 0;\n\n// Execute the query\nSQLExecDirect(hstmt, "SELECT * FROM mytable", SQL_NTS);\n\n// Get the number of columns in the result set\nSQLNumResultCols(hstmt, &colCount);\n\n// Fetch the data in chunks of 100 rows at a time\nSQLSetStmtAttr(hstmt, SQL_ATTR_ROW_ARRAY_SIZE, (SQLPOINTER)100, 0);\n\nwhile (TRUE) {\n    SQLRETURN retcode;\n    SQLINTEGER chunkSize = 0;\n\n    retcode = SQLExtendedFetch(hstmt, SQL_FETCH_NEXT, 0, &chunkSize, 0);\n    if (retcode == SQL_SUCCESS || retcode == SQL_SUCCESS_WITH_INFO) {\n        rowCount += chunkSize;\n    } else {\n        break;\n    }\n}\n\n// Calculate the total number of elements (rows*cols)\nSQLINTEGER totalElements = rowCount * colCount;\n\n// ...