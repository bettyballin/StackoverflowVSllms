#include <stdio.h>\n#include <stdlib.h>\n#include <sys/socket.h>\n#include <sys/un.h>\n\n#define SOCK_PATH "/tmp/mysock"\n\nint main() {\n    int sock = socket(AF_UNIX, SOCK_STREAM, 0);\n    if (sock == -1) {\n        perror("socket");\n        exit(EXIT_FAILURE);\n    }\n\n    struct sockaddr_un addr;\n    addr.sun_family = AF_UNIX;\n    strcpy(addr.sun_path, SOCK_PATH);\n    if (bind(sock, (struct sockaddr *) &addr, sizeof(addr)) == -1) {\n        perror("bind");\n        exit(EXIT_FAILURE);\n    }\n\n    listen(sock, 1);\n\n    pid_t pid = fork();\n    if (pid == -1) {\n        perror("fork");\n        exit(EXIT_FAILURE);\n    }\n\n    if (pid == 0) { // child\n        int conn = connect(sock, (struct sockaddr *) &addr, sizeof(addr));\n        if (conn == -1) {\n            perror("connect");\n            exit(EXIT_FAILURE);\n        }\n\n        // ... process file ...\n        send(conn, "progress...", 10, 0);\n        close(conn);\n        exit(EXIT_SUCCESS);\n    } else { // parent\n        int conn = accept(sock, NULL, NULL);\n        if (conn == -1) {\n            perror("accept");\n            exit(EXIT_FAILURE);\n        }\n\n        char buffer[10];\n        recv(conn, buffer, 10, 0);\n        printf("Progress: %s\n", buffer);\n        close(conn);\n        close(sock);\n        unlink(SOCK_PATH);\n    }\n\n    return 0;\n}