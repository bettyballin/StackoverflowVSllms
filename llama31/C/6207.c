#include <lzo/lzo1x.h>\n\nint main() {\n    FILE *infile = fopen("compressed_file", "rb");\n    FILE *outfile = fopen("decompressed_file", "wb");\n\n    lzo_uint in_len = 0;\n    lzo_uint out_len = 0;\n    lzo_uint wrkmem_len = LZO1X_1_MEM_COMPRESS;\n    lzo_uint wrkmem[wrkmem_len];\n\n    char in_buffer[IN_LEN];\n    char out_buffer[OUT_LEN];\n\n    int read;\n\n    while ((read = fread(in_buffer, 1, IN_LEN, infile)) > 0) {\n        lzo1x_decompress(in_buffer, read, out_buffer, &out_len, wrkmem);\n        fwrite(out_buffer, 1, out_len, outfile);\n    }\n\n    fclose(infile);\n    fclose(outfile);\n\n    return 0;\n}