#include <sys/socket.h>\n#include <netinet/in.h>\n#include <arpa/inet.h>\n\nint main() {\n    int sockfd;\n    struct sockaddr_in6 addr6;\n    struct sockaddr_in addr4;\n\n    // Create a dual-stack UDP socket\n    sockfd = socket(AF_INET6, SOCK_DGRAM, 0);\n    if (sockfd < 0) {\n        perror("socket");\n        return 1;\n    }\n\n    // Set up IPv6 address\n    memset(&addr6, 0, sizeof(addr6));\n    addr6.sin6_family = AF_INET6;\n    inet_pton(AF_INET6, "::1", &addr6.sin6_addr);\n    addr6.sin6_port = htons(1234);\n\n    // Set up IPv4 address\n    memset(&addr4, 0, sizeof(addr4));\n    addr4.sin_family = AF_INET;\n    inet_pton(AF_INET, "127.0.0.1", &addr4.sin_addr);\n    addr4.sin_port = htons(1234);\n\n    // Bind the socket to both IPv6 and IPv4 addresses\n    if (bind(sockfd, (struct sockaddr *)&addr6, sizeof(addr6)) < 0) {\n        perror("bind");\n        return 1;\n    }\n    if (bind(sockfd, (struct sockaddr *)&addr4, sizeof(addr4)) < 0) {\n        perror("bind");\n        return 1;\n    }\n\n    // ...\n}