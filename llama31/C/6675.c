// Example server code\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <openssl/ssl.h>\n#include <openssl/err.h>\n\n#define CHK_SSL(err) if ((err) < 1) { ERR_print_errors_fp(stderr); exit(2); }\n\nint main() {\n    SSL_CTX* ctx;\n    SSL* ssl;\n    BIO* bio;\n\n    // Initialize OpenSSL\n    SSL_library_init();\n    SSL_load_error_strings();\n\n    // Create an SSL context\n    ctx = SSL_CTX_new(TLS_server_method());\n    CHK_SSL(SSL_CTX_use_certificate_file(ctx, "server.crt", SSL_FILETYPE_PEM));\n    CHK_SSL(SSL_CTX_use_private_key_file(ctx, "server.key", SSL_FILETYPE_PEM));\n\n    // Create a BIO and accept connections\n    bio = BIO_new_accept("443");\n    CHK_SSL(bio);\n\n    // Create an SSL object\n    ssl = SSL_new(ctx);\n    CHK_SSL(SSL_set_bio(ssl, bio, bio));\n\n    // Accept and perform the handshake\n    CHK_SSL(SSL_accept(ssl));\n\n    // Receive data\n    char buffer[256];\n    CHK_SSL(SSL_read(ssl, buffer, 256));\n\n    // Shutdown the connection\n    SSL_shutdown(ssl);\n\n    // Clean up\n    SSL_free(ssl);\n    BIO_free(bio);\n    SSL_CTX_free(ctx);\n\n    return 0;\n}