#include <Windows.h>\n\nint main() {\n    HKEY hKey;\n    LONG lRes;\n    DWORD dwBufferSize = 256;\n    char szProxyEnable[256];\n    char szProxyServer[256];\n\n    // Open the registry key\n    lRes = RegOpenKeyEx(HKEY_CURRENT_USER, "Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings", 0, KEY_READ, &hKey);\n    if (lRes != ERROR_SUCCESS) {\n        // Handle error\n    }\n\n    // Read the proxy enable value\n    lRes = RegQueryValueEx(hKey, "ProxyEnable", NULL, NULL, (LPBYTE)szProxyEnable, &dwBufferSize);\n    if (lRes != ERROR_SUCCESS) {\n        // Handle error\n    }\n\n    // Read the proxy server value\n    lRes = RegQueryValueEx(hKey, "ProxyServer", NULL, NULL, (LPBYTE)szProxyServer, &dwBufferSize);\n    if (lRes != ERROR_SUCCESS) {\n        // Handle error\n    }\n\n    // Close the registry key\n    RegCloseKey(hKey);\n\n    // Use the retrieved values as needed\n    if (szProxyEnable[0] == '1') {\n        // Proxy is enabled, use the proxy server value\n        printf("Proxy server: %s\n", szProxyServer);\n    } else {\n        // Proxy is not enabled\n    }\n\n    return 0;\n}