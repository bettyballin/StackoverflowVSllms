#include <php_serialize.h>\n\nint main() {\n    // Create a PHP array\n    zval array;\n    array_init(&array);\n    add_assoc_long(&array, "foo", 1);\n    add_assoc_string(&array, "bar", "qux", 1);\n\n    // Serialize the array\n    smart_str buf = {0};\n    php_serialize_data_t var_hash;\n    PHP_VAR_SERIALIZE_INIT(var_hash);\n    php_var_serialize(&buf, &array, &var_hash);\n    PHP_VAR_SERIALIZE_DESTROY(var_hash);\n\n    // Print the serialized data\n    char* serialized_data = estrndup(buf.s->val, buf.s->len);\n    printf("%s\n", serialized_data);\n\n    // Clean up\n    efree(serialized_data);\n    smart_str_free(&buf);\n    zval_ptr_dtor(&array);\n\n    return 0;\n}