#include <openssl/rsa.h>\n#include <openssl/x509.h>\n\n// Load the public key from the file\nFILE* file = fopen("public_key.der", "rb");\nif (file == NULL) {\n    // Handle error\n}\n\nX509_PUBKEY* pubkey = d2i_X509_PUBKEY_fp(file, NULL);\nif (pubkey == NULL) {\n    // Handle error\n}\n\n// Encrypt the data using the public key\nunsigned char* encrypted_data = NULL;\nint encrypted_len = 0;\nif (RSA_public_encrypt(data_len, data, &encrypted_data, &encrypted_len, pubkey->pkey.rsa, RSA_PKCS1_OAEP_PADDING) != 1) {\n    // Handle error\n}\n\n// Free the public key and encrypted data\nX509_PUBKEY_free(pubkey);\nfree(encrypted_data);