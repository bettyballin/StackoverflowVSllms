#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <sys/inotify.h>\n\n#define BUF_LEN 1024\n\nint main(int argc, char **argv) {\n    if (argc != 2) {\n        fprintf(stderr, "Usage: %s <filename>\n", argv[0]);\n        return 1;\n    }\n\n    int fd = inotify_init();\n    if (fd < 0) {\n        perror("inotify_init");\n        return 1;\n    }\n\n    int wd = inotify_add_watch(fd, argv[1], IN_MODIFY);\n    if (wd < 0) {\n        perror("inotify_add_watch");\n        return 1;\n    }\n\n    FILE *file = fopen(argv[1], "r");\n    if (!file) {\n        perror("fopen");\n        return 1;\n    }\n\n    // Seek to the end of the file\n    fseek(file, 0, SEEK_END);\n\n    for (;;) {\n        struct inotify_event event;\n        ssize_t len = read(fd, &event, sizeof event);\n        if (len < 0) {\n            perror("read");\n            return 1;\n        }\n\n        if (event.mask & IN_MODIFY) {\n            char buf[BUF_LEN];\n            while (fgets(buf, BUF_LEN, file)) {\n                printf("%s", buf);\n            }\n        }\n    }\n\n    inotify_rm_watch(fd, wd);\n    fclose(file);\n    close(fd);\n    return 0;\n}