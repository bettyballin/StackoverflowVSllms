#include <alsa/asoundlib.h>\n\nint is_headphones_plugged_in() {\n    snd_pcm_t *pcm;\n    snd_pcm_hw_params_t *params;\n    snd_pcm_access_t access;\n    snd_pcm_format_t format;\n\n    // Open default device\n    snd_pcm_open(&pcm, "default", SND_PCM_STREAM_PLAYBACK, 0);\n\n    // Get hardware parameters\n    snd_pcm_hw_params_malloc(&params);\n    snd_pcm_hw_params_any(pcm, params);\n    snd_pcm_hw_params_get_access(params, &access);\n    snd_pcm_hw_params_get_format(params, &format);\n\n    // Check if headphones are plugged in\n    if (access == SND_PCM_ACCESS_RW_INTERLEAVED && format == SND_PCM_FORMAT_S16_LE) {\n        // Headphones are plugged in\n        return 1;\n    }\n\n    // Clean up\n    snd_pcm_hw_params_free(params);\n    snd_pcm_close(pcm);\n    return 0;\n}