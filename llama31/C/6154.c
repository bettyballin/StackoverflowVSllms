// Create a global security descriptor\nSECURITY_DESCRIPTOR sd;\nInitializeSecurityDescriptor(&sd, SECURITY_DESCRIPTOR_REVISION);\nSetSecurityDescriptorDacl(&sd, TRUE, NULL, FALSE);\n\n// Create a DACL with permissions for everyone\nACL acl;\nInitializeAcl(&acl, 1, ACL_REVISION);\nAddAccessAllowedAce(&acl, ACL_REVISION, SECURITY_WORLD_SID_AUTHORITY, GENERIC_READ | GENERIC_WRITE);\nSetSecurityDescriptorDacl(&sd, TRUE, &acl, FALSE);\n\n// Create named pipe server with the security descriptor\nSECURITY_ATTRIBUTES sa;\nsa.nLength = sizeof(sa);\nsa.lpSecurityDescriptor = &sd;\nsa.bInheritHandle = FALSE;\n\nHANDLE hPipe = CreateNamedPipe(\n    TEXT("\\\\.\\pipe\\MyPipe"),\n    PIPE_ACCESS_DUPLEX,\n    PIPE_TYPE_BYTE | PIPE_READMODE_BYTE | PIPE_WAIT,\n    1,\n    0,\n    0,\n    NMPWAIT_USE_DEFAULT_WAIT,\n    &sa);