#include <unistd.h>\n\nint long_running_function(int pipe_r, int pipe_w) {\n    // Your long-running code here...\n\n    // Periodically check the pipe for termination signal\n    char buffer[10];\n    if (read(pipe_r, buffer, 10) > 0 && strcmp(buffer, "terminate") == 0) {\n        // Perform necessary cleanup and return partial result\n        return 1;\n    }\n\n    // Continue running...\n    return 0;\n}