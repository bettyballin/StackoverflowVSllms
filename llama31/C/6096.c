#include <stdio.h>\n#include <string.h>\n\nint main(int argc, char *argv[]) {\n    if (argc != 3) {\n        printf("Usage: %s filename string\n", argv[0]);\n        return 1;\n    }\n\n    FILE *file = fopen(argv[1], "r");\n    if (!file) {\n        printf("Failed to open file\n");\n        return 1;\n    }\n\n    char *str = argv[2];\n    int len = strlen(str);\n\n    // Find the position of the string in the file\n    int pos = -1;\n    char buffer[1024];\n    while (fgets(buffer, sizeof(buffer), file)) {\n        if (strstr(buffer, str) != NULL) {\n            pos = ftell(file) - strlen(buffer) + strstr(buffer, str) - buffer;\n            break;\n        }\n    }\n\n    if (pos == -1) {\n        printf("String not found in file\n");\n        fclose(file);\n        return 1;\n    }\n\n    // Reset the file pointer to the beginning\n    fseek(file, 0, SEEK_SET);\n\n    // Read the file up to the position\n    char read_buffer[pos + 1];\n    fread(read_buffer, 1, pos, file);\n    read_buffer[pos] = '\0';\n\n    printf("%s\n", read_buffer);\n\n    fclose(file);\n    return 0;\n}