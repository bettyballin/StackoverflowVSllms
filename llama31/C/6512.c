while (fgets(str, 1024, f) != NULL) {\n    // process the line\n}