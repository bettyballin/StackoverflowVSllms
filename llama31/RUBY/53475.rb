require 'mailgun'\n\n# Set up Mailgun API credentials\nmailgun_api_key = 'YOUR_API_KEY'\nmailgun_domain = 'YOUR_DOMAIN'\n\n# Create a test mailing list with 10,000 email addresses\nrecipients = []\n10_000.times do\n  recipients << "test#{rand(1000)}@example.com"\nend\n\n# Send an email to the test mailing list using Mailgun\nmailgun = Mailgun::Client.new(mailgun_api_key)\nmailgun.send_email(\n  from: 'your_email@example.com',\n  to: recipients,\n  subject: 'Test Email',\n  body: 'Hello, world!'\n)\n\n# Verify that the emails were delivered successfully\nmailgun.get_events(mailgun_domain, 'delivered').each do |event|\n  expect(event['recipient']).to be_in(recipients)\nend