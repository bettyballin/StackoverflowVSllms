class Content\n  attr_reader :a, :b\n\n  def initialize\n    @a = 1\n    @b = "plop"\n  end\n\n  def set(&block)\n    using Setter\n    instance_eval(&block)\n  end\n\n  module Setter\n    refine Content do\n      def a(value)\n        @a = value\n      end\n      def b(value)\n        @b = value\n      end\n    end\n  end\nend\n\ncontent = Content.new\ncontent.set do\n  a 2\n  b "yeah!"\nend\ncontent.a # should return 2