# features/support/twitter_oauth_helper.rb\nmodule TwitterOAuthHelper\n  def mock_twitter_oauth\n    # Mock the OAuth client\n    client = double("OAuth client")\n    allow(client).to receive(:request_token).and_return("token")\n    allow(client).to receive(:access_token).and_return("access_token")\n    allow(client).to receive(:authorize_url).and_return("https://api.twitter.com/oauth/authorize")\n\n    # Stub the Twitter API requests\n    stub_request(:post, "https://api.twitter.com/oauth/request_token").to_return(status: 200, body: "oauth_token=token&oauth_token_secret=secret")\n    stub_request(:post, "https://api.twitter.com/oauth/access_token").to_return(status: 200, body: "oauth_token=access_token&oauth_token_secret=secret")\n\n    client\n  end\n\n  def unmock_twitter_oauth\n    # Remove the stubs\n    WebMock.reset!\n  end\nend\n\nWorld(TwitterOAuthHelper)