class DynamicSmtpMailer < ActionMailer::Base\n  def self.smtp_settings\n    # Load the current sender account from the database or a cache\n    sender_account = SenderAccount.find_by(id: SenderAccount.next_available_account_id)\n    \n    # Set the smtp settings dynamically\n    {\n      address: "smtp.gmail.com",\n      port: "587",\n      domain: "mydomain.com",\n      authentication: :plain,\n      user_name: sender_account.username,\n      password: sender_account.password\n    }\n  end\nend