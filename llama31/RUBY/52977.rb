# models/post.rb\nclass Post < ApplicationRecord\n  validates :post_type, inclusion: { in: ['Q', 'A'] }\n\n  has_one :question, foreign_key: [:post_id, :post_type], dependent: :destroy\n  has_one :answer, foreign_key: [:post_id, :post_type], dependent: :destroy\n  has_many :comments, foreign_key: :post_id, dependent: :destroy\nend\n\n# models/question.rb\nclass Question < ApplicationRecord\n  belongs_to :post, foreign_key: [:post_id, :post_type]\n  has_many :answers, foreign_key: :question_id\nend\n\n# models/answer.rb\nclass Answer < ApplicationRecord\n  belongs_to :post, foreign_key: [:post_id, :post_type]\n  belongs_to :question, foreign_key: :question_id\nend\n\n# models/comment.rb\nclass Comment < ApplicationRecord\n  belongs_to :post, foreign_key: :post_id\nend