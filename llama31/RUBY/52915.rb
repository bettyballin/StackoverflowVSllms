class OrderController < ApplicationController\n  def create\n    @order = OrderService.create_order(params)\n    if @order.save\n      redirect_to @order, notice: 'Order created successfully'\n    else\n      render :new\n    end\n  end\nend\n\nclass OrderService\n  def self.create_order(params)\n    # Complex logic to create an order with multiple associations\n    # ...\n  end\nend