class DomainSpecificSessionStore < ActionController::Session::AbstractStore\n  def initialize(app, options = {})\n    @app = app\n    @options = options\n    @domain_session_stores = {}\n  end\n\n  def get_session(env, session_id)\n    domain = env['HTTP_HOST']\n    @domain_session_stores[domain] ||= {}\n    @domain_session_stores[domain][session_id]\n  end\n\n  def set_session(env, session_id, session)\n    domain = env['HTTP_HOST']\n    @domain_session_stores[domain] ||= {}\n    @domain_session_stores[domain][session_id] = session\n  end\n\n  def destroy_session(env, session_id)\n    domain = env['HTTP_HOST']\n    @domain_session_stores[domain] ||= {}\n    @domain_session_stores[domain].delete(session_id)\n  end\nend