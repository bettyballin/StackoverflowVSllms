input {\n  file {\n    path => "/path/to/smtp/log/file"\n    start_position => "beginning"\n  }\n}\n\nfilter {\n  grok {\n    match => ["message", "%{GREEDYDATA:message}"]\n    patterns_dir => ["/path/to/patterns/dir"]\n  }\n  if [message] =~ /550 No such recipient/ {\n    mutate {\n      add_field => ["bounce_email", "%{[message]}"]\n    }\n  }\n}\n\noutput {\n  stdout {\n    codec => rubydebug\n  }\n}