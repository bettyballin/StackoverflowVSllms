require 'net/ldap'\n\nldap = Net::LDAP.new(\n  host: 'your_ldap_server',\n  port: 389,\n  auth: {\n    method: :simple,\n    username: 'your_username',\n    password: 'your_password'\n  }\n)\n\nou_dn = 'ou=Example,dc=example,dc=com'\n\ndelete_controls = [\n  {\n    oid: '1.2.840.113556.1.4.805', # subtree delete control\n    value: true\n  }\n]\n\nbegin\n  ldap.delete(ou_dn, controls: delete_controls)\n  puts "OU and all children deleted successfully"\nrescue Net::LDAP::LdapError => e\n  puts "Error deleting OU: #{e.message}"\nend