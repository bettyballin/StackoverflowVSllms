# validation_rules table\nclass ValidationRule < ActiveRecord::Base\n  belongs_to :company\n  belongs_to :model, :polymorphic => true\n  validates :code, :presence => true\nend\n\n# order model\nclass Order < ActiveRecord::Base\n  has_many :previous_addresses\n  has_one :applicant\n  has_one :current_address\n  belongs_to :company\n\n  def validate\n    # Load validation rules for this company and model\n    validation_rules = ValidationRule.where(:company_id => company_id, :model_type => self.class.name)\n\n    # Apply each validation rule\n    validation_rules.each do |rule|\n      # Use the 'eval' method to execute the validation code\n      eval(rule.code)\n    end\n  end\nend