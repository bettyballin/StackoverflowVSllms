def wrap_long_string(txt, col = 20)\n  url_pattern = /(https?:\/\/[^\s]+)/\n  txt.gsub(url_pattern) do |url|\n    # Replace the URL with a placeholder\n    placeholder = "URL_#{urls.size}"\n    urls << url\n    placeholder\n  end.gsub(/(.{1,#{col}})( +|$\n?)|(.{1,#{col}})/) do |match|\n    # Wrap the text, ignoring the URL placeholders\n    match.gsub(/URL_\d+/) { |placeholder| urls[placeholder.to_i] }\n  end\nend