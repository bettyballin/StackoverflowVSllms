class TieFile\n  def initialize(filename)\n    @filename = filename\n    @data = File.exist?(filename) ? File.read(filename).split("\n") : []\n  end\n\n  def [](index)\n    @data[index]\n  end\n\n  def []=(index, value)\n    @data[index] = value\n    save\n  end\n\n  def save\n    File.write(@filename, @data.join("\n"))\n  end\n\n  def append(line)\n    @data.push(line)\n    save\n  end\n\n  def delete_at(index)\n    @data.delete_at(index)\n    save\n  end\nend\n\n# Usage\nfile = TieFile.new('example.txt')\nfile.append('Hello, world!')\nputs file[0]  # prints "Hello, world!"\nfile[0] = 'Goodbye, world!'\nputs file[0]  # prints "Goodbye, world!"\nfile.delete_at(0)