class Client < ApplicationRecord\n  scope :with_invoices_or_deliveries, -> {\n    joins("LEFT JOIN invoices ON clients.id = invoices.client_id")\n    .joins("LEFT JOIN deliveries ON clients.id = deliveries.client_id")\n    .where("invoices.date >= ? OR deliveries.date >= ?", Date.current.beginning_of_month, Date.current.beginning_of_month)\n  }\nend