<% form_for(@data_type_1) do |f| %>\n  <%= f.error_messages %>\n\n  <p>\n    <%= f.label :title %><br />\n    <%= f.text_field :title %>\n  </p>\n\n  # Etc...\n\n  <p>\n    <% 4.times do |i| %>\n      <%= fields_for "data_type_2s[#{i}]", DataType2.new do |ff| %>\n        <%= ff.label "DataType2[#{i+1}]" %><br />\n        <%= ff.text_field :some_attribute %>\n      <% end %>\n    <% end %>\n  </p>\n\n  <p>\n    <%= f.submit "Create" %>\n  </p>\n<% end %>