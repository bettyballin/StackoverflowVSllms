# Publication model\nclass Publication < ApplicationRecord\n  has_many :references, class_name: "Reference", dependent: :destroy\n  has_many :citations, class_name: "Citation", dependent: :destroy\nend\n\n# Reference model ( polymorphic )\nclass Reference < ApplicationRecord\n  belongs_to :publication, polymorphic: true\n  belongs_to :reference, class_name: "Publication", foreign_key: "reference_id"\nend\n\n# Citation model ( polymorphic )\nclass Citation < ApplicationRecord\n  belongs_to :publication, polymorphic: true\n  belongs_to :citation, class_name: "Publication", foreign_key: "citation_id"\nend\n\n# Book, Chapter, Article models\nclass Book < Publication\n  # no additional associations needed\nend\n\nclass Chapter < Publication\n  # no additional associations needed\nend\n\nclass Article < Publication\n  # no additional associations needed\nend