# In your Gemfile\ngem 'select2-rails'\n\n# In your application.js\n//= require select2\n\n# In your view\n<%= form_for(@model) do |f| %>\n  <%= f.hidden_field :model_id %>\n  <%= text_field_tag :model_name, '', data: { autocomplete_source: model_autocomplete_path } %>\n<% end %>\n\n# In your controller\ndef model_autocomplete\n  models = Model.where('name LIKE ?', "%#{params[:term]}%")\n  render json: models.map { |m| { id: m.id, text: m.name } }\nend\n\n# In your routes\nget '/model_autocomplete', to: 'your_controller#model_autocomplete', as: 'model_autocomplete'\n\n# In your JavaScript (e.g. application.js)\n$(document).ready(function() {\n  $('#model_name').select2({\n    ajax: {\n      url: $('#model_name').data('autocomplete-source'),\n      dataType: 'json',\n      results: function(data) {\n        return { results: data };\n      }\n    },\n    minimumInputLength: 2,\n    select: function(event, ui) {\n      $('#model_id').val(ui.item.id);\n    }\n  });\n});