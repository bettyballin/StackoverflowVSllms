Private intFileID As Integer = 0\n\nProtected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load\n    If Not Page.IsPostBack Then\n        If Not Request.QueryString("fileid") Is Nothing Then\n            intFileID = CInt(Request.QueryString("fileid"))\n        End If\n\n        If intFileID > 0 Then\n            GetFile(intFileID)\n        End If\n\n        ' Encrypt the value and store it in ViewState\n        ViewState("intFileID") = Encrypt(intFileID.ToString())\n    Else\n        ' Decrypt the value and retrieve it from ViewState\n        intFileID = CInt(Decrypt(ViewState("intFileID").ToString()))\n    End If\nEnd Sub\n\n' Simple encryption and decryption functions\nPrivate Function Encrypt(ByVal value As String) As String\n    Return Convert.ToBase64String(Encoding.UTF8.GetBytes(value))\nEnd Function\n\nPrivate Function Decrypt(ByVal value As String) As String\n    Return Encoding.UTF8.GetString(Convert.FromBase64String(value))\nEnd Functio