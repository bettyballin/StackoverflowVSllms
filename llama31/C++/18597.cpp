#include <iostream>\n#include <string>\n#include <stdexcept>\n\nstd::string convertToBinary(const std::string& num, int base) {\n    if (base < 2 || base > 16) {\n        throw std::invalid_argument("Invalid base. Base must be between 2 and 16.");\n    }\n\n    std::string binary;\n    int carry = 0;\n\n    for (char c : num) {\n        int digit = (c >= '0' && c <= '9') ? c - '0' : c - 'A' + 10;\n        if (digit >= base) {\n            throw std::invalid_argument("Invalid digit for the given base.");\n        }\n\n        carry = carry * base + digit;\n        while (carry > 0) {\n            binary = (carry % 2 == 0 ? '0' : '1') + binary;\n            carry /= 2;\n        }\n    }\n\n    return binary;\n}\n\nint main() {\n    std::string num;\n    int base;\n\n    // Example usage:\n    num = "F1E";\n    base = 16;\n    std::cout << convertToBinary(num, base) << std::endl;  // Output: 111100011110\n\n    num = "766";\n    base = 8;\n    std::cout << convertToBinary(num, base) << std::endl;  // Output: 111110110\n\n    num = "1000";\n    base = 10;\n    std::cout << convertToBinary(num, base) << std::endl;  // Output: 1111101000\n\n    return 0;\n}