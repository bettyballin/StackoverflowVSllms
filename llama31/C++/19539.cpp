#include <windows.h>\n#include <safer.h>\n\nint main() {\n    // Check if the application is running as an administrator\n    HANDLE hToken;\n    OpenProcessToken(GetCurrentProcess(), TOKEN_QUERY, &hToken);\n    TOKEN_ELEVATION_TYPE elevationType;\n    DWORD dwSize;\n    GetTokenInformation(hToken, TokenElevationType, &elevationType, sizeof(elevationType), &dwSize);\n    CloseHandle(hToken);\n\n    if (elevationType == TokenElevationTypeFull) {\n        // Relaunch the application with normal rights\n        SAFER_LEVEL_HANDLE hLevel;\n        SaferCreateLevel(SAFER_SCOPEID_MACHINE, SAFER_LEVELID_NORMAL, 0, NULL, NULL, &hLevel, NULL);\n\n        HANDLE hToken;\n        SaferComputeTokenFromLevel(hLevel, NULL, 0, &hToken, NULL, NULL);\n\n        STARTUPINFO si;\n        ZeroMemory(&si, sizeof(si));\n        si.cb = sizeof(si);\n\n        PROCESS_INFORMATION pi;\n        ZeroMemory(&pi, sizeof(pi));\n\n        CreateProcessAsUser(hToken, NULL, "C:\\Path\\To\\Your\\Application.exe", NULL, NULL, FALSE, 0, NULL, NULL, &si, &pi);\n    }\n\n    // Rest of your application code...\n    return 0;\n}