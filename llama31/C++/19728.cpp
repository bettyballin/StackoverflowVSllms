#include <Windows.h>\n#include <TlHelp32.h>\n\nint main() {\n    HANDLE hProcess = GetCurrentProcess();\n\n    // Get the list of loaded DLLs\n    HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, (DWORD)hProcess);\n    if (hSnapshot == INVALID_HANDLE_VALUE) {\n        return 1;\n    }\n\n    MODULEENTRY32 me32;\n    me32.dwSize = sizeof(MODULEENTRY32);\n\n    if (!Module32First(hSnapshot, &me32)) {\n        CloseHandle(hSnapshot);\n        return 1;\n    }\n\n    do {\n        printf("%s\n", me32.szExePath);\n    } while (Module32Next(hSnapshot, &me32));\n\n    CloseHandle(hSnapshot);\n    return 0;\n}