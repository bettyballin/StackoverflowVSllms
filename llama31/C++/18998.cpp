#include <windows.h>\n#include <wtsapi32.h>\n\nint main() {\n    // Set up the server name and credentials\n    const char* serverName = "your_server_name";\n    const char* username = "your_username";\n    const char* password = "your_password";\n\n    // Connect to the server\n    HANDLE hServer = WTSOpenServer((LPSTR)serverName);\n    if (hServer == NULL) {\n        // Handle error\n    }\n\n    // Enumerate sessions\n    PWTS_SESSION_INFO pSessionInfo;\n    DWORD dwCount;\n    if (!WTSEnumerateSessions(hServer, 0, 1, &pSessionInfo, &dwCount)) {\n        // Handle error\n    }\n\n    // Loop through sessions and print user information\n    for (DWORD i = 0; i < dwCount; i++) {\n        WTS_SESSION_INFO si = pSessionInfo[i];\n        printf("Session ID: %d, Username: %s\n", si.SessionId, si.pUserName);\n    }\n\n    // Clean up\n    WTSFreeMemory(pSessionInfo);\n    WTSCloseServer(hServer);\n\n    return 0;\n}