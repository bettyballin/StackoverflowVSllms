template<unsigned int A, unsigned int B>\nint foo() {\n  int v = 1;\n  const int x = A - B;\n  constexpr int shift(int x, int v) {\n    return (x > 0) ? (v << x) : v;\n  }\n  v = shift(x, v);\n  bar(v);\n}