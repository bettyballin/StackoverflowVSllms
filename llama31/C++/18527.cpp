#include <list>\n#include <algorithm>\n\nstruct CMyClass {\n    void *Ptr;\n    int Var;\n};\n\nbool is_equal(const CMyClass &A, const CMyClass &B) {\n    return A.Ptr == B.Ptr && A.Var == B.Var;\n}\n\nvoid foo(std::list<CMyClass> &myList, const CMyClass &Bad) {\n    myList.erase(std::remove_if(myList.begin(), myList.end(), \n        [&Bad](const CMyClass &element) {\n            return is_equal(element, Bad);\n        }), myList.end());\n}