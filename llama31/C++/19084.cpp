// Check collision between sprite and bush\nif ((sprite->x + spritewidth > bush->x) &&\n    (sprite->x < bush->x + bushwidth) &&\n    (sprite->y + spriteheight > bush->y) &&\n    (sprite->y < bush->y + bushheight)) {\n  // Collision detected, prevent movement into the bush\n  if (osl_keys->held.down) {\n    sprite->y = bush->y - spriteheight;\n  } else if (osl_keys->held.up) {\n    sprite->y = bush->y + bushheight;\n  } else if (osl_keys->held.right) {\n    sprite->x = bush->x - spritewidth;\n  } else if (osl_keys->held.left) {\n    sprite->x = bush->x + bushwidth;\n  }\n} else {\n  // No collision, allow movement\n  if (osl_keys->held.down) {\n    sprite->y += 4;\n    sprite_position = DOWN;\n    SpriteAnimate();\n  } else if (osl_keys->held.up) {\n    sprite->y -= 4;\n    sprite_position = UP;\n    SpriteAnimate();\n  } else if (osl_keys->held.right) {\n    sprite->x += 4;\n    sprite_position = RIGHT;\n    SpriteAnimate();\n  } else if (osl_keys->held.left) {\n    sprite->x -= 4;\n    sprite_position = LEFT;\n    SpriteAnimate();\n  }\n}