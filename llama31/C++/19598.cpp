// Create a Unicode window\nHWND wnd_handle = CreateWindowExW(0, WC_WINDOW, L"Window Title", WS_OVERLAPPEDWINDOW | WS_UNICODE, ...);\n\n// Load a Unicode-aware keyboard layout\nLoadKeyboardLayout(KLID_US_UNICODE, KLF_ACTIVATE);\n\n// Message loop\nMSG msg;\nwhile (GetMessageW(&msg, wnd_handle, 0, 0)) {\n    TranslateMessage(&msg, MAPVK_VK_TO_CHAR);\n    DispatchMessageW(&msg);\n}\n\n// WndProc function\nLRESULT CALLBACK WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam) {\n    switch (msg) {\n        case WM_CHAR:\n            // wParam should now contain Unicode characters\n            break;\n    }\n    return DefWindowProc(hwnd, msg, wParam, lParam);\n}