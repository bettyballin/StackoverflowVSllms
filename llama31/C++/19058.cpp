#include <Windows.h>\n#include <WinHttp.h>\n\n#pragma comment(lib, "WinHttp.lib")\n\nint main() {\n    HINTERNET hSession = WinHttpOpen(L"WinHTTP Example/1.0",\n                                     WINHTTP_ACCESS_TYPE_DEFAULT_PROXY,\n                                     WINHTTP_NO_PROXY_NAME,\n                                     WINHTTP_NO_PROXY_BYPASS, 0);\n\n    if (hSession == NULL) {\n        // handle error\n    }\n\n    HINTERNET hConnect = WinHttpConnect(hSession, L"www.example.com", 80, 0);\n\n    if (hConnect == NULL) {\n        // handle error\n    }\n\n    HINTERNET hRequest = WinHttpOpenRequest(hConnect, L"GET", L"/",\n                                            NULL, WINHTTP_NO_REFERER,\n                                            NULL, 0);\n\n    if (hRequest == NULL) {\n        // handle error\n    }\n\n    WinHttpSetOption(hRequest, WINHTTP_OPTION_USE_PROXY,\n                     WINHTTP_ACCESS_TYPE_DEFAULT_PROXY, NULL, 0);\n\n    WinHttpSendRequest(hRequest, WINHTTP_NO_ADDITIONAL_HEADERS, 0,\n                       WINHTTP_NO_REQUEST_DATA, 0, 0, 0);\n\n    if (WinHttpReceiveResponse(hRequest, NULL) == FALSE) {\n        // handle error\n    }\n\n    // read response data...\n    DWORD dwSize = 0;\n    WinHttpQueryHeaders(hRequest, WINHTTP_QUERY_RAW_HEADERS_CRLF,\n                        WINHTTP_HEADER_NAME_BY_INDEX, NULL, &dwSize, WINHTTP_NO_HEADER_INDEX);\n\n    BYTE* pData = new BYTE[dwSize];\n    WinHttpQueryHeaders(hRequest, WINHTTP_QUERY_RAW_HEADERS_CRLF,\n                        WINHTTP_HEADER_NAME_BY_INDEX, pData, &dwSize, WINHTTP_NO_HEADER_INDEX);\n\n    // print response data...\n    printf("%s", pData);\n\n    delete[] pData;\n\n    WinHttpCloseHandle(hRequest);\n    WinHttpCloseHandle(hConnect);\n    WinHttpCloseHandle(hSession);\n\n    return 0;\n}