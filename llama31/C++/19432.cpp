#include <Windows.h>\n#include <Dbghelp.h>\n\nvoid handler() {\n    void *stack[1024];\n    USHORT frames;\n    SYMBOL_INFO *symbol;\n    HANDLE process;\n\n    process = GetCurrentProcess();\n    SymInitialize(process, NULL, TRUE);\n\n    frames = CaptureStackBackTrace(0, 1024, stack, NULL);\n    for (USHORT i = 0; i < frames; i++) {\n        symbol = (SYMBOL_INFO*)malloc(sizeof(SYMBOL_INFO) + 1024 * sizeof(TCHAR));\n        symbol->MaxNameLen = 1024;\n        SymFromAddr(process, (DWORD64)(stack[i]), 0, symbol);\n        printf("%s\n", symbol->Name);\n        free(symbol);\n    }\n}