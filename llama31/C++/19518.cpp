#include <windows.h>\n#include <gdiplus.h>\n\nusing namespace Gdiplus;\n\nint GetImageFileType(const WCHAR* filePath) {\n    GdiplusStartupInput gdiplusStartupInput;\n    ULONG_PTR           gdiplusToken;\n    GdiplusStartup(&gdiplusToken, &gdiplusStartupInput, NULL);\n\n    Image* image = Image::FromFile(filePath);\n    if (image) {\n        GUID format = image->GetRawFormat();\n        if (format == ImageFormatJPEG) {\n            // Image is a JPEG\n        } else if (format == ImageFormatBMP) {\n            // Image is a BMP\n        } else {\n            // Other formats...\n        }\n        delete image;\n    }\n\n    GdiplusShutdown(gdiplusToken);\n    return 0;\n}