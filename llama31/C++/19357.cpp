#include <iostream>\n#include <sstream>\n#include <cstdio>\n\n// ...\n\nint res;\nstd::stringstream errorStream;\n\n// Redirect stderr to a pipe\nint old_stderr = dup(STDERR_FILENO);\nint pipefd[2];\npipe(pipefd);\ndup2(pipefd[1], STDERR_FILENO);\n\n// Create the Java VM\nres = JNI_CreateJavaVM(&jvm, (void**)&env, &vm_args);\n\n// Restore original stderr\ndup2(old_stderr, STDERR_FILENO);\n\n// Read error message from pipe\nchar buffer[1024];\nssize_t bytesRead = read(pipefd[0], buffer, sizeof(buffer));\nif (bytesRead > 0) {\n    errorStream << buffer;\n}\n\n// ...\n\nif (res < 0) {\n    std::cerr << "Error creating Java VM: " << errorStream.str() << std::endl;\n    exit(1);\n}