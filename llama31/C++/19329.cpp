#include <Windows.h>\n#include <iphlpapi.h>\n\n// ...\n\nOVERLAPPED overlap;\nmemset(&overlap, 0, sizeof(overlap));\n\nHANDLE hNotify = NotifyAddrChange(NULL, &overlap);\nif (hNotify == NULL) {\n    DWORD err = GetLastError();\n    printf("NotifyAddrChange failed with error %d\n", err);\n    return 1;\n}\n\nwhile (1) {\n    DWORD bytesReturned;\n    if (GetOverlappedResult(hNotify, &overlap, &bytesReturned, TRUE)) {\n        // Update your list of network interfaces here\n        printf("Network interface change detected\n");\n        // ...\n    } else {\n        DWORD err = GetLastError();\n        printf("GetOverlappedResult failed with error %d\n", err);\n        break;\n    }\n}