#include <Windows.h>\n#include <Winnetwk.h>\n\nint main() {\n    HANDLE hEnum = NULL;\n    DWORD dwShares = 0;\n    DWORD dwRet = WNetEnumResource(NULL, &hEnum, NULL, &dwShares);\n\n    if (dwRet == NO_ERROR) {\n        // Loop through each resource\n        while (dwRet == NO_ERROR) {\n            // Get the resource information\n            DWORD dwBufferSize = 16384;\n            LPNETRESOURCE lpResource = (LPNETRESOURCE) GlobalAlloc(GPTR, dwBufferSize);\n            dwRet = WNetEnumResource(hEnum, lpResource, &dwBufferSize);\n\n            if (dwRet == NO_ERROR) {\n                // Check if the resource is a share\n                if (lpResource->dwType == RESOURCETYPE_ANY) {\n                    // Print the share name\n                    printf("%s\n", lpResource->lpRemoteName);\n                }\n\n                GlobalFree(lpResource);\n            }\n        }\n    }\n\n    // End the enumeration\n    WNetCloseEnum(hEnum);\n\n    return 0;\n}