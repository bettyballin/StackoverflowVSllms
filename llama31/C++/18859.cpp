template <typename T>\nstruct is_ifoo {\n    static char test(IFoo*);\n    static int test(...);\n    static const bool value = sizeof(test((T*)0)) == sizeof(char);\n};\n\ntemplate <typename T>\nclass Foo {\n    BOOST_STATIC_ASSERT(is_ifoo<T>::value);\n};\n\nclass Bar : public IFoo {};\n\nclass Simpson {};\n\nint main() {\n    Foo<Bar> a;  // OK\n    Foo<Simpson> b;  // compiler error\n}