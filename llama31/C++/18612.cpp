#include <Windows.h>\n#include <iostream>\n\nint main() {\n    FILETIME createTime;\n    FILETIME exitTime;\n    FILETIME kernelTime;\n    FILETIME userTime;\n\n    if (GetProcessTimes(GetCurrentProcess(),\n                        &createTime,\n                        &exitTime,\n                        &kernelTime,\n                        &userTime) != -1) {\n        ULARGE_INTEGER kernelTimeLi;\n        ULARGE_INTEGER userTimeLi;\n        ULARGE_INTEGER createTimeLi;\n\n        kernelTimeLi.LowPart = kernelTime.dwLowDateTime;\n        kernelTimeLi.HighPart = kernelTime.dwHighDateTime;\n\n        userTimeLi.LowPart = userTime.dwLowDateTime;\n        userTimeLi.HighPart = userTime.dwHighDateTime;\n\n        createTimeLi.LowPart = createTime.dwLowDateTime;\n        createTimeLi.HighPart = createTime.dwHighDateTime;\n\n        ULARGE_INTEGER totalTime;\n        totalTime.QuadPart = kernelTimeLi.QuadPart + userTimeLi.QuadPart;\n\n        LARGE_INTEGER frequency;\n        QueryPerformanceFrequency(&frequency);\n\n        LARGE_INTEGER currentTime;\n        QueryPerformanceCounter(&currentTime);\n\n        double elapsedSeconds = (currentTime.QuadPart - createTimeLi.QuadPart) / (double)frequency.QuadPart;\n        double cpuUsage = (totalTime.QuadPart / (double)frequency.QuadPart) / elapsedSeconds;\n\n        std::cout << "CPU usage of current process: " << cpuUsage * 100 << "%" << std::endl;\n    }\n\n    return 0;\n}