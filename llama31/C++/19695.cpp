#include <iostream>\n#include <sys/resource.h>\n#include <sys/time.h>\n\nclass StopWatch {\npublic:\n    StopWatch() : m_diff({0, 0}), m_tmdiff({0, 0}) {}\n\n    void start() {\n        if (getrusage(RUSAGE_SELF, &m_begin) != 0) {\n            // handle error\n        }\n        if (gettimeofday(&m_tmbegin, 0) != 0) {\n            // handle error\n        }\n    }\n\n    void stop() {\n        if (getrusage(RUSAGE_SELF, &m_end) != 0) {\n            // handle error\n        }\n        if (gettimeofday(&m_tmend, 0) != 0) {\n            // handle error\n        }\n        timeval_sub(m_end.ru_utime, m_begin.ru_utime, m_diff.ru_utime);\n        timeval_sub(m_end.ru_stime, m_begin.ru_stime, m_diff.ru_stime);\n        timeval_sub(m_tmend, m_tmbegin, m_tmdiff);\n    }\n\n    void printf(std::ostream& out) const {\n        using namespace std;\n\n        timeval const& utime = m_diff.ru_utime;\n        timeval const& stime = m_diff.ru_stime;\n\n        format_time(out, utime);\n        out << "u ";\n        format_time(out, stime);\n        out << "s ";\n        format_time(out, m_tmdiff);\n    }\n\nprivate:\n    rusage m_begin;\n    rusage m_end;\n    rusage m_diff;\n    timeval m_tmbegin;\n    timeval m_tmend;\n    timeval m_tmdiff;\n\n    static void timeval_add(timeval const& a, timeval const& b, timeval& ret) {\n        ret.tv_usec = a.tv_usec + b.tv_usec;\n        ret.tv_sec = a.tv_sec + b.tv_sec;\n        if (ret.tv_usec > 999999) {\n            ret.tv_usec -= 1000000;\n            ++ret.tv_sec;\n        }\n    }\n\n    static void timeval_sub(timeval const& a, timeval const& b, timeval& ret) {\n        ret.tv_usec = a.tv_usec - b.tv_usec;\n        ret.tv_sec = a.tv_sec - b.tv_sec;\n        if (a.tv_usec < b.tv_usec) {\n            ret.tv_usec += 1000000;\n            --ret.tv_sec;\n        }\n    }\n\n    static void format_time(std::ostream& out, timeval const& tv) {\n        using namespace std;\n        long usec = tv.tv_usec;\n        while (usec >= 1000)\n            usec /= 10;\n        out << tv.tv_sec << '.' << setw(3) << setfill('0') << usec;\n    }\n};