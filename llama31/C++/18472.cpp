#include <Windows.h>\n#include <Security.h>\n\nbool IsRunningAsAdmin()\n{\n    HANDLE hToken = NULL;\n    if (OpenProcessToken(GetCurrentProcess(), TOKEN_QUERY, &hToken))\n    {\n        TOKEN_ELEVATION Elevation;\n        DWORD cbSize = sizeof(TOKEN_ELEVATION);\n        if (GetTokenInformation(hToken, TokenElevation, &Elevation, sizeof(Elevation), &cbSize))\n        {\n            return Elevation.TokenIsElevated != 0;\n        }\n        CloseHandle(hToken);\n    }\n    return false;\n}