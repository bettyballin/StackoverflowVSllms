#include <Windows.h>\n\n// Define the hook procedure\nLRESULT CALLBACK RenameHookProc(int nCode, WPARAM wParam, LPARAM lParam)\n{\n    if (nCode == HC_ACTION && wParam == WM_command)\n    {\n        // Get the window handle of the Windows Explorer window\n        HWND hWnd = FindWindowEx((HWND)lParam, NULL, "SHELLDLL_DefView", NULL);\n\n        // Get the file path being renamed\n        char filePath[MAX_PATH];\n        SendMessage(hWnd, WM_GETTEXT, MAX_PATH, (LPARAM)filePath);\n\n        // Get the new file name\n        char newFileName[MAX_PATH];\n        SendMessage(hWnd, WM_GETTEXT, MAX_PATH, (LPARAM)newFileName);\n\n        // Display your confirmation dialog here\n        MessageBox(NULL, "Are you sure you want to rename?", "Rename Confirmation", MB_YESNO);\n    }\n    return CallNextHookEx(NULL, nCode, wParam, lParam);\n}\n\nint main()\n{\n    // Install the hook procedure\n    SetWindowsHookEx(WH_CALLWNDPROC, RenameHookProc, NULL, GetCurrentThreadId());\n\n    // Run your program...\n    MSG msg;\n    while (GetMessage(&msg, NULL, 0, 0))\n    {\n        TranslateMessage(&msg);\n        DispatchMessage(&msg);\n    }\n\n    // Remove the hook procedure\n    UnhookWindowsHookEx(RenameHookProc);\n    return 0;\n}