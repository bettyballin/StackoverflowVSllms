int retries = 0;\nconst int maxRetries = 3;\nconst DWORD retryDelay = 100; // 100ms\n\nwhile (retries < maxRetries) {\n    if (listen(m_accept_fd, 5) == SOCKET_ERROR) {\n        if (WSAGetLastError() == WSAEPROCLIM) { // There are no more endpoints available from the endpoint mapper\n            Sleep(retryDelay);\n            retries++;\n        } else {\n            closesocket(m_accept_fd);\n            return false;\n        }\n    } else {\n        break;\n    }\n}\nif (retries == maxRetries) {\n    closesocket(m_accept_fd);\n    return false;\n}