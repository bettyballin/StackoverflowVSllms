#include <Windows.h>\n\nDWORD GetHandleType(HANDLE hHandle)\n{\n    return GetFileType(hHandle);\n}\n\nint main()\n{\n    HANDLE hHandle = /* obtain your HANDLE here */;\n    DWORD dwType = GetHandleType(hHandle);\n\n    if (dwType == FILE_TYPE_PIPE)\n    {\n        // The HANDLE refers to a pipe\n        // You can call PeekNamedPipe on this HANDLE\n    }\n    else if (dwType == FILE_TYPE_DISK)\n    {\n        // The HANDLE refers to a file on disk\n    }\n    else\n    {\n        // The HANDLE refers to something else (e.g. a socket, a console, etc.)\n    }\n\n    return 0;\n}