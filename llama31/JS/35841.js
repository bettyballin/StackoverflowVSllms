// worker.js (consumes messages from RabbitMQ)\nconst amqp = require('amqplib');\nconst nodemailer = require('nodemailer');\nconst zip = require('zip');\n\n// Consume messages from RabbitMQ and send emails\nasync function consumeEmails() {\n  const connection = await amqp.connect('amqp://localhost');\n  const channel = await connection.createChannel();\n  await channel.assertQueue('email_queue', { durable: true });\n  await channel.consume('email_queue', (msg) => {\n    const emailData = JSON.parse(msg.content.toString());\n    // Zip files and send email using nodemailer\n    const zipFile = await zip(emailData.files);\n    const transporter = nodemailer.createTransport({\n      host: 'smtp.example.com',\n      port: 587,\n      secure: false,\n      auth: {\n        user: 'username',\n        pass: 'password'\n      }\n    });\n    await transporter.sendMail({\n      from: 'from@example.com',\n      to: emailData.to,\n      subject: emailData.subject,\n      text: emailData.body,\n      attachments: [\n        {\n          filename: 'files.zip',\n          content: zipFile\n        }\n      ]\n    });\n    await channel.ack(msg);\n  });\n}