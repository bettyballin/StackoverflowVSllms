const html = `\n  <body>\n    <img src="source.jpg" />\n    <p>\n      <img src="source.jpg" id="hello" alt="nothing" />\n      <img src="source.jpg" id="world"/>\n    </p>\n  </body>\n`;\n\nlet idCounter = 0;\n\n// Remove existing id attributes\nconst htmlWithoutIds = html.replace(/id="[^"]*"/g, '');\n\n// Add new id attributes\nconst htmlWithNewIds = htmlWithoutIds.replace(/<img/g, (match) => {\n  return `${match} id="img_${idCounter++}"`;\n});\n\nconsole.log(htmlWithNewIds);