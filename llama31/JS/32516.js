const express = require('express');\nconst multer = require('multer');\nconst sharp = require('sharp');\n\nconst app = express();\n\n// Set up Multer for file uploads\nconst upload = multer({\n  dest: './uploads/',\n  fileFilter(req, file, cb) {\n    if (!file.originalname.match(/\.(jpg|jpeg|png)$/)) {\n      return cb(new Error('Only image files are allowed!'));\n    }\n    cb(null, true);\n  }\n});\n\n// Handle image upload\napp.post('/upload', upload.single('image'), (req, res) => {\n  // Validate image metadata\n  const metadata = sharp(req.file.buffer).metadata();\n  if (metadata.format !== 'jpeg' && metadata.format !== 'png') {\n    return res.status(400).send('Invalid image format!');\n  }\n\n  // Resize and compress image\n  const resizedImage = sharp(req.file.buffer).resize(800, 600).jpeg({\n    quality: 80\n  });\n\n  // Store image securely (e.g., using AWS S3)\n  // ...\n\n  res.send('Image uploaded successfully!');\n});