function deleteItem(layer, url) {\n    return new Promise((resolve, reject) => {\n        var xmlHttp = GetXmlHttpObject();\n        if (xmlHttp == null) {\n            alert("Your browser is not supported?");\n            reject();\n        }\n        xmlHttp.onreadystatechange = function() {\n            if (xmlHttp.readyState == 4 || xmlHttp.readyState == "complete") {\n                if (xmlHttp.responseText == 'result=true') {\n                    var row = document.getElementById(layer);\n                    row.parentNode.removeChild(row);\n                    resolve();\n                } else {\n                    reject();\n                }\n            } else if (xmlHttp.readyState == 1 || xmlHttp.readyState == "loading") {\n                document.getElementById(layer).innerHTML = "loading";\n            }\n        }\n        xmlHttp.open("GET", url, true);\n        xmlHttp.send(null);\n    });\n}\n\nfunction deleteRec(layer, pk) {\n    url = "get_records.php?cmd=deleterec&pk=" + pk + "&sid=" + Math.random();\n    if (confirm("Confirm Delete?")) {\n        deleteItem(layer, url).then(() => {\n            // row has been removed from the DOM\n        }).catch(() => {\n            // handle error\n        });\n    }\n}