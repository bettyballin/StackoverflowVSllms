var ajaxCache = {};\n\nfunction ajaxCall(elementToPopulate, waitTime, whatToDoBeforeAjaxSend,\n                  whatToDoAfterAjaxSend, dataToSendToTheServer, \n                  whatToDoAfterSuccess, whatToDoAfterError) {\n  var cacheKey = JSON.stringify(dataToSendToTheServer);\n  if (ajaxCache[cacheKey]) {\n    whatToDoAfterSuccess(ajaxCache[cacheKey]);\n    return;\n  }\n\n  $.ajax({\n    type: "post",\n    url: "http://myURL/cgi-bin/broker",\n    dataType: "text",\n    data: dataToSendToTheServer,\n    timeout: waitTime,\n    beforeSend: whatToDoBeforeAjaxSend,\n    error: whatToDoAfterError,\n    success: function(response) {\n      ajaxCache[cacheKey] = response;\n      whatToDoAfterSuccess(response);\n    }\n  });\n}