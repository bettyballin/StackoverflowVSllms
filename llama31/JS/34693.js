function buildCal(){\n    var d = new Date();\n    var month = d.getMonth()+1;\n    var year = d.getFullYear();\n    var monthName=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];\n    var daysInMonth=[31,0,31,30,31,30,31,31,30,31,30,31];\n\n    var objectDay = new Date(year, month-1, 1); //fix date bug when current day is 31st\n    objectDay.od=objectDay.getDay()+1; //fix date bug when current day is 31st\n\n    var todaydate=new Date() \n    var scanfortoday=(year==todaydate.getFullYear() && month==todaydate.getMonth()+1)? todaydate.getDate() : 0 //DD added\n\n    daysInMonth[1]=(((objectDay.getFullYear()%100!=0)&&(objectDay.getFullYear()%4==0))||(objectDay.getFullYear()%400==0))?29:28;\n\n    var t='<div class="main"><table class="main" cols="7" cellpadding="0" border="0" cellspacing="0">';\n    t+='<h3 class="monthCSS" align="center">'+monthName[month-1]+' - '+year+'</h3><tr align="center">';\n\n    for(s=0;s<7;s++)t+='<td class="daysofweek">'+"DoLuMaMiJuViSa".substr(s*2,2)+'</td>';\n\n    t+='</tr><tr align="center">';\n    for(i=2;i<=42;i++){\n        var x=((i-objectDay.od>=0)&&(i-objectDay.od<daysInMonth[month-1]))? i-objectDay.od+1 : '&nbsp;';\n        if (typeof x === 'number') {\n            if (x == scanfortoday) {\n                t += '<td class="today">' + x + '</td>';\n            } else {\n                t += '<td class="days">' + x + '</td>';\n            }\n        } else {\n            t += '<td class="padding">&nbsp;</td>';\n        }\n        if(((i)%7==0)&&(i<36))t+='</tr><tr align="center">';\n    }\n    return t+='</tr></table></div>';\n}