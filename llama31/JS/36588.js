function measureTextWidth(text) {\n  const span = document.createElement('span');\n  span.style.position = 'absolute';\n  span.style.visibility = 'hidden';\n  span.style.height = '0';\n  span.style.width = 'auto';\n  span.style.whiteSpace = 'nowrap';\n  span.textContent = text;\n  document.body.appendChild(span);\n  const width = span.offsetWidth;\n  document.body.removeChild(span);\n  return width;\n}