import { Queue } from 'async-wait-queue';\n\nclass Cache {\n  private queue = new Queue();\n  private cache = {};\n\n  async get(key) {\n    await this.queue.wait();\n    try {\n      return this.cache[key];\n    } finally {\n      this.queue.next();\n    }\n  }\n\n  async set(key, value) {\n    await this.queue.wait();\n    try {\n      this.cache[key] = value;\n    } finally {\n      this.queue.next();\n    }\n  }\n}