$(document).ready(function() {\n  $("#sortlist1").treeview();\n  $("#sortlist1").droppable({\n    accept: ".item",\n    over: function(event, ui) {\n      if ($(ui.draggable).parent()[0] === this) {\n        $(this).droppable('option', 'disabled', true);\n      }\n    },\n    out: function(event, ui) {\n      $(this).droppable('option', 'disabled', false);\n    },\n    drop: function(event, ui) {\n      if ($(ui.draggable).parent()[0] !== this) {\n        $(this).append($(ui.draggable));\n      }\n    }\n  });\n  // ... rest of your code\n});