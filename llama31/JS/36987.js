var usernameOk = false;\nvar emailOk = false;\nvar passwordOk = false;\n\nfunction username(username) {\n    // ...\n    function stateck() {\n        if (httpxml.readyState == 4) {\n            document.getElementById("user_div").innerHTML = httpxml.responseText;\n            if (httpxml.responseText == "Username ok") {\n                usernameOk = true;\n                checkAllFields();\n            }\n        }\n    }\n    // ...\n}\n\nfunction email(email) {\n    // ...\n    function stateck() {\n        if (httpxml.readyState == 4) {\n            document.getElementById("email_div").innerHTML = httpxml.responseText;\n            if (httpxml.responseText == "Email ok") {\n                emailOk = true;\n                checkAllFields();\n            }\n        }\n    }\n    // ...\n}\n\nfunction confirm(password, conpassword) {\n    // ...\n    function stateck() {\n        if (httpxml.readyState == 4) {\n            document.getElementById("conpass_div").innerHTML = httpxml.responseText;\n            if (httpxml.responseText == "Password ok") {\n                passwordOk = true;\n                checkAllFields();\n            }\n        }\n    }\n    // ...\n}\n\nfunction checkAllFields() {\n    if (usernameOk && emailOk && passwordOk) {\n        document.getElementById("button").disabled = false;\n    } else {\n        document.getElementById("button").disabled = true;\n    }\n}