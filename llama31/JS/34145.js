$(document).ready(function() {\n    var timeoutId = null;\n    var delay = 2000; // 2 seconds\n\n    $('#loading').hide();\n    $('#q').keyup(function(){\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(function() {\n            $('#loading').show();\n            $.post("keyterms.php", {\n                q: $('#q').val()\n            }, function(response){\n                $('#qResult').fadeOut();\n                setTimeout("finishAjax('qResult', '"+escape(response)+"')", 400);\n            });\n        }, delay);\n        return false;\n    });\n});