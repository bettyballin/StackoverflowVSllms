$('input.featureTreeCheckbox').click(function(event) {\n  var clickedControlId = this.id;\n  var checkboxState = $(this).is(':checked');\n\n  // Recursively find all children of the current node and check/uncheck them\n  function updateChildren(node) {\n    if (node.SubBranch) {\n      $.each(node.SubBranch, function() {\n        var childId = this.FullPath;\n        var childCheckbox = $('#' + childId);\n        childCheckbox.prop('checked', checkboxState);\n\n        // Recursively update children of the current child\n        updateChildren(this);\n      });\n    }\n  }\n\n  // Find the node in the JSON object that corresponds to the clicked checkbox\n  function findNode(node) {\n    if (node.FullPath === clickedControlId) {\n      updateChildren(node);\n      return true;\n    }\n\n    if (node.SubBranch) {\n      for (var i = 0; i < node.SubBranch.length; i++) {\n        if (findNode(node.SubBranch[i])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  findNode(myJSON.d);\n});