fetch('https://example.com/large-picture.jpg')\n  .then(response => {\n    var total = response.headers.get('Content-Length');\n    var loaded = 0;\n    response.body.getReader().read().then(function(result) {\n      loaded += result.value.length;\n      var percentLoaded = (loaded / total) * 100;\n      console.log('Loaded: ' + percentLoaded + '%');\n      return result;\n    });\n  });