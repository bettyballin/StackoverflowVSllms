var busyCount = 0;\n\nfunction showBusyIcon() {\n  if (busyCount === 0) {\n    // show the busy icon\n  }\n  busyCount++;\n}\n\nfunction hideBusyIcon() {\n  busyCount--;\n  if (busyCount === 0) {\n    // hide the busy icon\n  }\n}\n\n// Usage:\nfunction doAction() {\n  showBusyIcon();\n  longRunningAsynchronousProcess(function() {\n    // Callback function run when process finishes\n    hideBusyIcon();\n  });\n}