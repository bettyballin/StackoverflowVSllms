function justifyText(textarea) {\n    var text = textarea.value;\n    var lines = text.split('\n');\n    for (var i = 0; i < lines.length; i++) {\n        lines[i] = justifyLine(lines[i]);\n    }\n    textarea.value = lines.join('\n');\n}\n\nfunction justifyLine(line) {\n    var words = line.split(' ');\n    var justifiedLine = '';\n    var spaceLeft = 0;\n    for (var i = 0; i < words.length; i++) {\n        justifiedLine += words[i] + ' ';\n        spaceLeft += words[i].length + 1;\n    }\n    justifiedLine = justifiedLine.trim();\n    if (spaceLeft < line.length) {\n        var numSpaces = line.length - spaceLeft;\n        var spaces = '';\n        for (var i = 0; i < numSpaces; i++) {\n            spaces += ' ';\n        }\n        justifiedLine += spaces;\n    }\n    return justifiedLine;\n}