const express = require('express');\nconst app = express();\n\n// Define a canary release middleware\nconst canaryRelease = (req, res, next) => {\n  const percentage = 10; // 10% of users will be directed to the new system\n  const random = Math.random() * 100;\n  if (random < percentage) {\n    req.url = '/new-system' + req.url;\n  }\n  next();\n};\n\n// Apply the canary release middleware\napp.use(canaryRelease);\n\n// Define routes for the old and new systems\napp.get('/old-system', (req, res) => {\n  res.send('Old system');\n});\n\napp.get('/new-system', (req, res) => {\n  res.send('New system');\n});