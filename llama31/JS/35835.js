class Cache {\n  private lock = false;\n  private cache = {};\n\n  async get(key) {\n    await this.acquireLock();\n    try {\n      return this.cache[key];\n    } finally {\n      this.releaseLock();\n    }\n  }\n\n  async set(key, value) {\n    await this.acquireLock();\n    try {\n      this.cache[key] = value;\n    } finally {\n      this.releaseLock();\n    }\n  }\n\n  private async acquireLock() {\n    while (this.lock) {\n      await new Promise(resolve => setTimeout(resolve, 10));\n    }\n    this.lock = true;\n  }\n\n  private releaseLock() {\n    this.lock = false;\n  }\n}