function GetXmlHttpObject() {\n  try {\n    return new XMLHttpRequest();\n  } catch (e) {\n    try {\n      return new ActiveXObject("Msxml2.XMLHTTP");\n    } catch (e) {\n      return new ActiveXObject("Microsoft.XMLHTTP");\n    }\n  }\n}\n\nfunction login() {\n  alert("Entered Login()");\n  var url = "http://server.com/ALUauth.php";\n  var xmlhttp = GetXmlHttpObject();\n  xmlhttp.onreadystatechange = statechangedLogin;\n  xmlhttp.open("GET", url, true);\n  xmlhttp.send(null);\n}\n\nfunction statechangedLogin() {\n  if (xmlhttp.readyState == 4) {\n    alert("Entered State Changed Login");\n    if (xmlhttp.responseText == "Please <a href=http://server.com/ALUauth.php?login>login</a>") {\n      document.getElementById("ALUauth").innerHTML = xmlhttp.responseText;\n    } else {\n      GetEmailId();\n    }\n  }\n}\n\nfunction GetEmailId() {\n  alert("Entered GetEmailId()");\n  var url = "http://server.com/GetPostEmail.php";\n  url = url + "&sid=" + Math.random();\n  var xmlhttp2 = GetXmlHttpObject(); // create a new XMLHttpRequest object\n  xmlhttp2.onreadystatechange = statechangedLogin2;\n  xmlhttp2.open("GET", url, true);\n  xmlhttp2.send(null);\n}\n\nfunction statechangedLogin2() {\n  if (xmlhttp2.readyState == 4) {\n    alert("Enter State Changed Login 2");\n    if (xmlhttp2.responseText == "Login again") {\n      window.location = "http://server.com/profile.html";\n    }\n  }\n}