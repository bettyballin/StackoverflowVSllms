function ioServer(request_data, callback) {\n  $.ajax({\n    // ...\n    success: function(response_data, textStatus) {\n      callback(response_data);\n    }\n  });\n}\n\nfunction processRequest(command, item, properties, callback) {\n  var request = {};\n  request.command = command;\n  request.item = item;\n  request.properties = properties;\n  var toServer = JSON.stringify(request);\n  ioServer(toServer, function(fromServer) {\n    if (fromServer.response == 1) {\n      callback(fromServer.id);\n    }\n  });\n}\n\n// Usage:\nprocessRequest('command', 'item', 'properties', function(id) {\n  $(#tabs).tabs('add', '#tab-' + id, 'New tab');\n});