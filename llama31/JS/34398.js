$(document).ready(function() {\n  $('form').submit(function(event) {\n    var valid = true;\n    var rows = $('table tr');\n    rows.each(function() {\n      var from = $(this).find('select[name^="from_"]').val();\n      var to = $(this).find('select[name^="to_"]').val();\n      if ((from !== 'HOME' && to !== 'HOME') || (from === 'HOME' && to === 'HOME')) {\n        valid = false;\n        return false;\n      }\n    });\n    if (!valid) {\n      alert("Invalid form submission. Each row must contain one and only one 'HOME' selection.");\n      event.preventDefault();\n    }\n  });\n});