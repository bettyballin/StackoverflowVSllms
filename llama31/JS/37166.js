$.fn.setCursorPosition = function(pos) {\n  if (this.setSelectionRange) {\n    this.setSelectionRange(pos, pos);\n  } else if (this.createTextRange) {\n    var range = this.createTextRange();\n    range.collapse(true);\n    if (pos < 0) {\n      pos = $(this).val().length + pos;\n    }\n    range.moveEnd('character', pos);\n    range.moveStart('character', pos);\n    range.select();\n  }\n};