const crypto = require('crypto');\nconst gzip = require('gzip-js');\n\n// ...\n\n// Calculate delta since last synchronization\nconst delta = calculateDelta(data, lastSyncData);\n\n// Compress delta data\nconst compressedDelta = gzip.compress(delta);\n\n// Calculate hash of compressed delta\nconst hash = crypto.createHash('sha256').update(compressedDelta).digest('hex');\n\n// Send compressed delta and hash to clients