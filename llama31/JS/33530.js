// firefox_extension.js\nfunction captureBrowserWindow() {\n  const tab = await browser.tabs.query({ active: true, currentWindow: true });\n  const tabId = tab[0].id;\n  const content = await browser.tabs.captureTab(tabId);\n  const canvas = document.createElement("canvas");\n  canvas.width = content.width;\n  canvas.height = content.height;\n  const ctx = canvas.getContext("2d");\n  ctx.drawImage(content, 0, 0);\n  // Draw the browser's window frame and borders around the captured content\n  ctx.drawWindow(browser.windows.WINDOW_ID_NONE, 0, 0, canvas.width, canvas.height);\n  // Save or process the captured canvas\n}