const express = require('express');\nconst session = require('express-session');\n\nconst app = express();\n\napp.use(session({\n  secret: 'your-secret-key',\n  resave: false,\n  saveUninitialized: true,\n  cookie: { maxAge: 30 * 60 * 1000 } // 30 minutes\n}));\n\napp.get('/game', (req, res) => {\n  // Start the game session\n  req.session.gameStarted = true;\n  res.render('game');\n});\n\napp.get('/logout', (req, res) => {\n  // End the game session\n  req.session.destroy();\n  res.redirect('/login');\n});\n\n// Set up a heartbeat mechanism to detect when the user is no longer active\nsetInterval(() => {\n  // Check if the user has been inactive for more than 30 minutes\n  if (req.session.gameStarted && Date.now() - req.session.lastActivity > 30 * 60 * 1000) {\n    // End the game session\n    req.session.destroy();\n  }\n}, 1000 * 60); // Check every minute