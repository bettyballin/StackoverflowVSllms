Ext.EventManager.on(window, 'beforeunload', function(e) {\n    var state = Ext.getCmp('your-grid-id').getState();\n    Ext.Ajax.request({\n        url: '/save-state',\n        method: 'POST',\n        params: {\n            state: Ext.encode(state)\n        },\n        async: false // synchronous request\n    });\n});