function getIP(callback) {\n    var rtcp = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\n    var pc = new rtcp({iceServers: []});\n    pc.createDataChannel('');\n    pc.createOffer(pc.setLocalDescription.bind(pc), function(){});\n    pc.onicecandidate = function(event) {\n        if (!event || !event.candidate) return;\n        var ip = event.candidate.candidate.split(" ")[4];\n        callback(ip);\n    };\n}