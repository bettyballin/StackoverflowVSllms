function poll() {\n    $.ajax({\n        type: 'GET',\n        url: '/poll/',\n        async: true,\n        cache: false,\n        timeout: 30000, // 30 seconds\n\n        success: function(data) {\n            // Update the page with the new data\n            $('#messages').append(data);\n\n            // Start the next poll\n            poll();\n        },\n\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            // Handle errors\n            console.log('Error:', errorThrown);\n\n            // Start the next poll\n            poll();\n        }\n    });\n}\n\n// Start the first poll\npoll();