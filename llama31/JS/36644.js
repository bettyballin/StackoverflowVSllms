// ...\n\n// Receive compressed delta and hash from server\nconst compressedDelta = receiveFromServer();\nconst hash = receiveHashFromServer();\n\n// Verify integrity using hash\nif (crypto.createHash('sha256').update(compressedDelta).digest('hex') !== hash) {\n  // Error: Data integrity compromised\n}\n\n// Decompress delta data\nconst delta = gzip.decompress(compressedDelta);\n\n// Apply delta to local data cache\napplyDelta(delta, localDataCache);