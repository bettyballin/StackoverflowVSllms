require([\n  "dojo/_base/fx",\n  "dijit/Dialog",\n  "dojo/domReady!"\n], function(fx, Dialog) {\n  var loadingDialog = new Dialog({\n    title: "Loading...",\n    content: "<img src='loading.gif' /> Please wait...",\n    style: "position: absolute; top: 50%; left: 50%; margin-top: -50px; margin-left: -100px;"\n  });\n\n  // Show the dialog when a link is clicked\n  dojo.query("a").on("click", function() {\n    loadingDialog.show();\n    // Add a timeout to hide the dialog after a few seconds (optional)\n    setTimeout(function() {\n      loadingDialog.hide();\n    }, 3000);\n  });\n\n  // Disable and fade out other elements when the dialog is shown\n  loadingDialog.on("show", function() {\n    fx.fadeOut({\n      node: dojo.body(),\n      duration: 500\n    }).play();\n  });\n\n  // Enable and fade in other elements when the dialog is hidden\n  loadingDialog.on("hide", function() {\n    fx.fadeIn({\n      node: dojo.body(),\n      duration: 500\n    }).play();\n  });\n});