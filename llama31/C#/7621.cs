public class SchemaVersionChecker\n{\n    private const int ExpectedVersion = 5; // Update this value when schema changes\n\n    public void CheckSchemaVersion()\n    {\n        using (var connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n\n            var command = new SqlCommand("SELECT Version FROM SchemaVersions WHERE Id = 1", connection);\n            var currentVersion = (int)command.ExecuteScalar();\n\n            if (currentVersion != ExpectedVersion)\n            {\n                throw new InvalidOperationException($"Schema version mismatch. Expected version {ExpectedVersion}, but current version is {currentVersion}.");\n            }\n        }\n    }\n}