using System.Messaging;\nusing System.ServiceModel;\n\n[ServiceContract]\npublic interface IMeasurementService\n{\n    [OperationContract]\n    void SendMeasurement(Measurement measurement);\n}\n\npublic class MeasurementService : IMeasurementService\n{\n    public void SendMeasurement(Measurement measurement)\n    {\n        using (var queue = new MessageQueue(".\\private$\\measurements"))\n        {\n            var message = new Message(measurement);\n            queue.Send(message);\n        }\n    }\n}\n\npublic class MeasurementProcessor\n{\n    public void Start()\n    {\n        using (var queue = new MessageQueue(".\\private$\\measurements"))\n        {\n            while (true)\n            {\n                var message = queue.Receive();\n                var measurement = (Measurement)message.Body;\n                // Store measurement in database\n            }\n        }\n    }\n}