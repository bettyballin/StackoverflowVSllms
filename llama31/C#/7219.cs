[SetUp]\npublic void SetUp()\n{\n    mocks = new MockRepository();\n    _cityService = MockRepository.GenerateStub<ICityService>();\n    _sesssionData = new SessionData { UserId = 1, SessionId = "1" };\n\n    var httpContext = MockRepository.GenerateStub<HttpContextBase>();\n    var session = MockRepository.GenerateStub<HttpSessionStateBase>();\n    session.Expect(s => s["UserSession"]).Return(_sesssionData);\n    httpContext.Expect(h => h.Session).Return(session);\n\n    controller = new CityController(_cityService);\n    controller.ControllerContext = new ControllerContext(httpContext, new RouteData(), controller);\n}