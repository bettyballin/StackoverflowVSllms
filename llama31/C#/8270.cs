using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n\n    DataTable myDataTable = new DataTable();\n    myDataTable.Columns.Add("Id", typeof(int));\n    myDataTable.Columns.Add("Name", typeof(string));\n\n    // populate the datatable...\n\n    SqlParameter parameter = new SqlParameter("@MyTableParam", SqlDbType.Structured);\n    parameter.TypeName = "MyTableType";\n    parameter.Value = myDataTable;\n\n    SqlCommand command = new SqlCommand("MyProcedure", connection);\n    command.CommandType = CommandType.StoredProcedure;\n    command.Parameters.Add(parameter);\n\n    command.ExecuteNonQuery();\n}