using System;\n\npublic class DateCalculator\n{\n    public static int CalculateDaysInLeapYear(DateTime d1, DateTime d2)\n    {\n        int totalDays = (d2 - d1).Days;\n        int leapYearDays = 0;\n\n        for (int year = d1.Year; year <= d2.Year; year++)\n        {\n            if (IsLeapYear(year))\n            {\n                DateTime start = new DateTime(year, 1, 1);\n                DateTime end = new DateTime(year, 12, 31);\n\n                if (d1 > start) start = d1;\n                if (d2 < end) end = d2;\n\n                leapYearDays += (end - start).Days;\n            }\n        }\n\n        return leapYearDays;\n    }\n\n    public static bool IsLeapYear(int year)\n    {\n        return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);\n    }\n}