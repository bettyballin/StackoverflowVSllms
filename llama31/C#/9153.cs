TcpListener pServer = new TcpListener(localIP, port);\npServer.Start(256);\nSocket a_socket = pServer.AcceptSocket();\n\nNetworkStream networkStream = new NetworkStream(a_socket);\nbyte[] buffer = new byte[1];\nnetworkStream.Read(buffer, 0, 1);\n\nif (buffer[0] == 0x16)\n{\n    // SSL/TLS connection, use SslStream\n    SslStream sslStream = new SslStream(networkStream, false);\n    // Handle SSL/TLS connection\n}\nelse\n{\n    // Non-SSL/TLS connection, use NetworkStream\n    // Handle non-SSL/TLS connection\n}