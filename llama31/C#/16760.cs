using System;\nusing System.Web;\n\npublic class HtmlEncodingModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += new EventHandler(OnBeginRequest);\n    }\n\n    private void OnBeginRequest(object sender, EventArgs e)\n    {\n        var context = ((HttpApplication)sender).Context;\n        var request = context.Request;\n\n        if (request.HttpMethod == "POST")\n        {\n            foreach (string key in request.Form.AllKeys)\n            {\n                request.Form[key] = HttpUtility.HtmlEncode(request.Form[key]);\n            }\n        }\n    }\n\n    public void Dispose()\n    {\n        // Nothing to dispose\n    }\n}