using System.Data;\nusing System.Data.SqlClient;\n\n// Create a connection to the SQL Server database\nstring connectionString = "Server=myServer;Database=myDatabase;Integrated Security=True";\nSqlConnection connection = new SqlConnection(connectionString);\n\n// Create a SqlDataReader instance\nSqlDataReader reader = null;\n\n// Execute a query that returns the schema of the tables\nSqlCommand command = new SqlCommand("SELECT * FROM INFORMATION_SCHEMA.TABLES", connection);\nconnection.Open();\nreader = command.ExecuteReader(CommandBehavior.SchemaOnly);\n\n// Create a DataTable to hold the schema\nDataTable schemaTable = reader.GetSchemaTable();\n\n// Load the schema into the DataTable\nwhile (reader.Read())\n{\n    DataRow row = schemaTable.NewRow();\n    for (int i = 0; i < schemaTable.Columns.Count; i++)\n    {\n        row[i] = reader[i];\n    }\n    schemaTable.Rows.Add(row);\n}\n\n// Create a DataSet to hold the schema\nDataSet dataSet = new DataSet();\n\n// Add the schema to the DataSet\ndataSet.Tables.Add(schemaTable);\n\n// Now you can use the DataSet to generate the data and then use SqlBulkCopy to transfer it to SQL Server