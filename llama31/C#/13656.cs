using System.Data;\nusing System.Data.SqlClient;\n\n// Create a DataTable with the values to insert\nDataTable fooTable = new DataTable();\nfooTable.Columns.Add("v", typeof(string));\n// Add 50 rows to the DataTable\nfor (int i = 0; i < 50; i++)\n{\n    fooTable.Rows.Add("Value " + i);\n}\n\n// Create a connection and command\nusing (SqlConnection connection = new SqlConnection("your_connection_string"))\nusing (SqlCommand command = new SqlCommand("spFooBatch", connection))\n{\n    command.CommandType = CommandType.StoredProcedure;\n\n    // Create a SqlParameter for the TVP\n    SqlParameter fooParam = new SqlParameter("@FooTable", SqlDbType.Structured);\n    fooParam.TypeName = "FooTableType";\n    fooParam.Value = fooTable;\n\n    // Add the SqlParameter to the command\n    command.Parameters.Add(fooParam);\n\n    // Execute the command\n    connection.Open();\n    command.ExecuteNonQuery();\n}