using System;\nusing System.Web;\n\npublic class RequestPipelineLogger : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.BeginRequest += (sender, e) => {\n            var request = ((HttpApplication)sender).Request;\n            var stopwatch = new Stopwatch();\n            stopwatch.Start();\n            request.Items["Stopwatch"] = stopwatch;\n        };\n\n        context.EndRequest += (sender, e) => {\n            var request = ((HttpApplication)sender).Request;\n            var stopwatch = (Stopwatch)request.Items["Stopwatch"];\n            stopwatch.Stop();\n            LogRequestPipelineTimings(request, stopwatch.ElapsedMilliseconds);\n        };\n    }\n\n    private void LogRequestPipelineTimings(HttpRequest request, long elapsedMilliseconds)\n    {\n        // Log the request pipeline timings here (e.g., to a file or database)\n    }\n\n    public void Dispose() { }\n}