private static bool IsValidDomainName(string domain)\n{\n    if (string.IsNullOrEmpty(domain) || domain.Length > 255)\n    {\n        return false;\n    }\n\n    var regex = new Regex(@"^[-\w\.]+$", RegexOptions.IgnoreCase | RegexOptions.Unicode);\n    if (!regex.IsMatch(domain))\n    {\n        return false;\n    }\n\n    foreach (string part in domain.Split('.'))\n    {\n        if (part.Length > 63)\n        {\n            return false;\n        }\n    }\n\n    return true;\n}