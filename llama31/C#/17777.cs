// ...\n\nif (result is SPARQLResultSet)\n{\n    // Return as SPARQL Results XML Format\n    context.Response.ContentType = "application/xml";\n    context.Response.AppendHeader("Content-Disposition", "inline; filename=result.xml");\n    SPARQLResultSet resultset = (SPARQLResultSet)result;\n    resultset.Save(new StreamWriter(context.Response.OutputStream));\n}\nelse if (result is Graph)\n{\n    // Return as Turtle\n    context.Response.ContentType = "text/plain";\n    context.Response.AppendHeader("Content-Disposition", "inline; filename=result.ttl");\n    Graph g = (Graph)result;\n    TurtleWriter ttlwriter = new TurtleWriter();\n    ttlwriter.PrettyPrintMode = true;\n    ttlwriter.Save(g, new StreamWriter(context.Response.OutputStream));\n}\n\n// ...