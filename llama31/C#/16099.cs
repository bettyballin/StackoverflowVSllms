public class MaxLengthAttribute : ValidationAttribute\n{\n    public MaxLengthAttribute(Type type, string propertyName)\n    {\n        var maxLength = GetMaxLength(type, propertyName);\n        if (maxLength != -1)\n        {\n            ErrorMessage = $"The field {propertyName} must be no longer than {maxLength} characters";\n        }\n    }\n\n    public override bool IsValid(object value)\n    {\n        var stringValue = value as string;\n        if (stringValue != null)\n        {\n            var maxLength = GetMaxLength(typeof(MyTable), "MyStringField");\n            return stringValue.Length <= maxLength;\n        }\n        return true;\n    }\n}