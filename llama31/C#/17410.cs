var query = from c in db.Categories\n            join p in db.Products on c.Id equals p.CategoryId into products\n            from p in products.DefaultIfEmpty()\n            group p by new { c.Name, c.DisplayName } into g\n            select new\n            {\n                Name = g.Key.Name,\n                DisplayName = g.Key.DisplayName,\n                Count = g.Count(p => p != null)\n            };