using Polly;\n\npublic TblUserCollection GetCollection()\n{\n    var policy = Policy.Handle<SqlException>()\n        .WaitAndRetry(3, retryAttempt => TimeSpan.FromSeconds(Math.Pow(2, retryAttempt)));\n\n    return policy.Execute(() =>\n    {\n        TblUserCollection collection = new TblUserCollection();\n        collection.Query.Where(collection.Query.CompanyId == CompanyId);\n        collection.Query.OrderBy(collection.Query.FullName, esOrderByDirection.Ascending);\n        collection.Query.Load();\n\n        return collection;\n    });\n}