using System.IO;\nusing System.Web;\n\npublic class ImageHandler : IHttpHandler\n{\n    public void ProcessRequest(HttpContext context)\n    {\n        string imageName = context.Request.QueryString["imageName"];\n\n        // Query the database to retrieve the file path\n        string filePath = GetImagePathFromDatabase(imageName);\n\n        if (!string.IsNullOrEmpty(filePath))\n        {\n            context.Response.ContentType = GetContentType(filePath);\n            context.Response.TransmitFile(filePath);\n        }\n        else\n        {\n            context.Response.Status = "404 Not Found";\n        }\n    }\n\n    private string GetImagePathFromDatabase(string imageName)\n    {\n        // Implement database query to retrieve file path\n        // Return the file path if found, otherwise return null\n    }\n\n    private string GetContentType(string filePath)\n    {\n        // Determine the content type based on the file extension\n        // Return the content type\n    }\n}