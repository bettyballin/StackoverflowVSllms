public class MyBusinessClass\n{\n    private readonly ISecurityRepository _securityRepository;\n\n    public MyBusinessClass(ISecurityRepository securityRepository)\n    {\n        _securityRepository = securityRepository;\n    }\n\n    public void DoSomething(Guid uuid)\n    {\n        using (var unitOfWork = new NhUnitOfWork(NHibernateHelper.OpenSession()))\n        {\n            var user = _securityRepository.GetUser(uuid);\n            // do something with user\n            unitOfWork.Commit();\n        }\n    }\n}