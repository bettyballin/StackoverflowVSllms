using System;\nusing System.Management;\n\nclass RegistryWatcher\n{\n    private ManagementEventWatcher _watcher;\n\n    public RegistryWatcher(string keyPath, string valueName)\n    {\n        _watcher = new ManagementEventWatcher();\n        _watcher.Query = "SELECT * FROM RegistryValueChangeEvent WHERE Hive = 'HKEY_LOCAL_MACHINE' AND KeyPath = '" + keyPath + "' AND ValueName = '" + valueName + "'";\n        _watcher.EventArrived += new EventArrivedEventHandler(OnEventArrived);\n    }\n\n    public void Start()\n    {\n        _watcher.Start();\n    }\n\n    public void Stop()\n    {\n        _watcher.Stop();\n    }\n\n    private void OnEventArrived(object sender, EventArrivedEventArgs e)\n    {\n        Console.WriteLine("Registry value changed: " + e.NewEvent.Properties["ValueName"].Value);\n        // handle the event here\n    }\n}