using System;\nusing System.Threading;\n\npublic class EmailSender\n{\n    private readonly SmtpClient _smtpClient;\n    private readonly int _maxRetries = 5;\n    private readonly TimeSpan _initialTimeout = TimeSpan.FromSeconds(5);\n    private readonly TimeSpan _maxTimeout = TimeSpan.FromSeconds(30);\n\n    public EmailSender(SmtpClient smtpClient)\n    {\n        _smtpClient = smtpClient;\n    }\n\n    public void SendEmail(string to, string subject, string body)\n    {\n        int retryCount = 0;\n        TimeSpan timeout = _initialTimeout;\n\n        while (retryCount < _maxRetries)\n        {\n            try\n            {\n                _smtpClient.Send(to, subject, body);\n                return;\n            }\n            catch (SmtpException ex)\n            {\n                // Log the exception\n\n                retryCount++;\n                timeout = TimeSpan.FromMilliseconds(Math.Min(timeout.TotalMilliseconds * 2, _maxTimeout.TotalMilliseconds));\n                Thread.Sleep(timeout);\n            }\n        }\n\n        // Log the final failure\n        // Consider notifying the sys admin or taking alternative actions\n    }\n}