public class UserRepository : IRepository<User>\n{\n    public bool CanAdd(User user, out List<ValidationResult> validationResults)\n    {\n        validationResults = new List<ValidationResult>();\n\n        // Check for unique username\n        if (UserExists(user.Username))\n        {\n            validationResults.Add(new ValidationResult("Username already exists"));\n            return false;\n        }\n\n        // Other validation checks...\n\n        return true;\n    }\n\n    public void Add(User user)\n    {\n        if (!CanAdd(user, out List<ValidationResult> validationResults))\n        {\n            throw new ValidationException(validationResults);\n        }\n\n        // Add user to database\n    }\n}