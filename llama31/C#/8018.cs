public interface IProductRepository\n{\n    IEnumerable<Product> GetAllProducts();\n    Product GetProduct(int id);\n}\n\npublic class ProductRepository : IProductRepository\n{\n    private readonly HttpClient _httpClient;\n\n    public ProductRepository(HttpClient httpClient)\n    {\n        _httpClient = httpClient;\n    }\n\n    public IEnumerable<Product> GetAllProducts()\n    {\n        var response = _httpClient.GetAsync("https://example.com/products").Result;\n        response.EnsureSuccessStatusCode();\n        var products = response.Content.ReadAsAsync<IEnumerable<Product>>().Result;\n        return products;\n    }\n\n    public Product GetProduct(int id)\n    {\n        var response = _httpClient.GetAsync($"https://example.com/products/{id}").Result;\n        response.EnsureSuccessStatusCode();\n        var product = response.Content.ReadAsAsync<Product>().Result;\n        return product;\n    }\n}