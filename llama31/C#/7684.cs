public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n{\n    // ...\n    app.UseRouting();\n    app.UseAuthentication();\n    app.UseEndpoints(endpoints =>\n    {\n        endpoints.MapControllers();\n        endpoints.MapGet("/myroute", async context =>\n        {\n            await context.Response.WriteAsync("Hello World!");\n        }).RequireAuthorization(new AuthorizeAttribute { AuthenticationSchemes = "Basic" });\n    });\n}