// Assuming you have a Node class with an Id property and a HasChildren property\n\n// When populating the treeview\nforeach (var node in nodesFromDatabase)\n{\n    treeView.Nodes.Add(new TreeNode(node.Text));\n    if (node.HasChildren)\n    {\n        treeView.Nodes[treeView.Nodes.Count - 1].Nodes.Add(new TreeNode()); // dummy node\n    }\n}\n\n// In the BeforeExpand event handler\nprivate void treeView_BeforeExpand(object sender, TreeViewCancelEventArgs e)\n{\n    // Remove the dummy node\n    e.Node.Nodes.Clear();\n\n    // Lazy-load the actual child nodes\n    var childNodes = GetChildNodesFromDatabase(e.Node.Id);\n    foreach (var childNode in childNodes)\n    {\n        e.Node.Nodes.Add(new TreeNode(childNode.Text));\n    }\n}