public class TenantCache\n{\n    private readonly IMemoryCache _cache;\n    private readonly ISession _session;\n\n    public TenantCache(IMemoryCache cache, ISession session)\n    {\n        _cache = cache;\n        _session = session;\n    }\n\n    public Tenant GetTenant()\n    {\n        var tenantId = _session.Get<int>("TenantId");\n        if (tenantId == 0)\n        {\n            // Query the database to get the tenant information\n            var tenant = _database.GetTenant();\n            _session.Set("TenantId", tenant.Id);\n            _cache.Set("Tenant", tenant);\n        }\n        return _cache.Get<Tenant>("Tenant");\n    }\n}