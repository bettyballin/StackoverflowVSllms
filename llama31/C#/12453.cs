// Domain model\npublic class User\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string Email { get; set; }\n}\n\n// NHibernate mapping (hbm.xml)\n<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">\n  <class name="User" table="Users">\n    <id name="Id" column="Id" type="Int32">\n      <generator class="native" />\n    </id>\n    <property name="Name" column="Name" type="String" />\n    <property name="Email" column="Email" type="String" />\n  </class>\n</hibernate-mapping>\n\n// NHibernate configuration\nvar cfg = new Configuration();\ncfg.Configure();\ncfg.AddAssembly(typeof(User).Assembly);\n\n// Create a session factory\nvar sessionFactory = cfg.BuildSessionFactory();\n\n// Use the session factory to create a session\nvar session = sessionFactory.OpenSession();\n\n// Use the session to query the database\nvar users = session.Query<User>().ToList();