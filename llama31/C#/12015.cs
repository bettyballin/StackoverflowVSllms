using System;\nusing Microsoft.SqlServer.Management.Smo;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        // Create a new server connection\n        ServerConnection conn = new ServerConnection("your_server_name");\n\n        // Create a new server object\n        Server server = new Server(conn);\n\n        // Create a new login\n        Login login = new Login(server, "new_login_name");\n        login.LoginType = LoginType.SqlLogin;\n        login.Create();\n\n        // Create a new database user\n        Database database = server.Databases["your_database_name"];\n        User user = new User(database, "new_user_name");\n        user.Login = login.Name;\n        user.Create();\n\n        // Grant permissions to the new user\n        database.Grant(PermissionSet.Select, user.Name);\n        database.Grant(PermissionSet.Insert, user.Name);\n        database.Grant(PermissionSet.Update, user.Name);\n        database.Grant(PermissionSet.Delete, user.Name);\n    }\n}