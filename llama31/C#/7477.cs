using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text.RegularExpressions;\n\npublic class ImageSearch\n{\n    public List<Image> SearchImages(string[] keywords, List<Image> images)\n    {\n        var keywordTokens = keywords.Select(k => NormalizeToken(k)).ToHashSet();\n\n        var imageScores = images.Select(i => new\n        {\n            Image = i,\n            Score = GetScore(i.Caption, keywordTokens)\n        })\n        .OrderByDescending(x => x.Score)\n        .Select(x => x.Image)\n        .ToList();\n\n        return imageScores;\n    }\n\n    private string NormalizeToken(string token)\n    {\n        return Regex.Replace(token, @"[^a-zA-Z0-9]", "").ToLower();\n    }\n\n    private int GetScore(string caption, HashSet<string> keywordTokens)\n    {\n        var captionTokens = caption.Split(' ').Select(t => NormalizeToken(t)).ToHashSet();\n        return captionTokens.Intersect(keywordTokens).Count();\n    }\n}