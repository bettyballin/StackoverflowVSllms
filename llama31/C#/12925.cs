public class DataAccessLayer {\n    public IEnumerable<Data> GetData(User user) {\n        if (!user.HasPermission("ReadData")) {\n            throw new SecurityException("User does not have permission to read data");\n        }\n        return _databaseContext.Data.Where(d => d.IsActive);\n    }\n\n    public void UpdateData(User user, Data data) {\n        if (!user.HasPermission("UpdateData")) {\n            throw new SecurityException("User does not have permission to update data");\n        }\n        _databaseContext.Data.Attach(data);\n        _databaseContext.SaveChanges();\n    }\n}