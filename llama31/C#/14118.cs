public static ushort CalculateCrcB(byte[] data)\n{\n    ushort crc = 0xFFFF;\n\n    foreach (byte b in data)\n    {\n        crc = (ushort)((crc >> 8) ^ (ushort)((crc ^ b) & 0xFF));\n        for (int i = 0; i < 8; i++)\n        {\n            if ((crc & 0x0001) != 0)\n            {\n                crc = (ushort)((crc >> 1) ^ 0x8408);\n            }\n            else\n            {\n                crc >>= 1;\n            }\n        }\n    }\n\n    return crc;\n}\n\n// Test the function\nbyte[] data1 = new byte[] { 0x00, 0x00, 0x00 };\nushort crc1 = CalculateCrcB(data1);\nConsole.WriteLine($"CRC_B of 0x00 0x00 0x00: 0x{crc1:X4}");\n\nbyte[] data2 = new byte[] { 0x0F, 0xAA, 0xFF };\nushort crc2 = CalculateCrcB(data2);\nConsole.WriteLine($"CRC_B of 0x0F 0xAA 0xFF: 0x{crc2:X4}");