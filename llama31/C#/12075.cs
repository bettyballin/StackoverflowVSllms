public class BasicAuthModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.AuthenticateRequest += new EventHandler(OnAuthenticateRequest);\n    }\n\n    private void OnAuthenticateRequest(object sender, EventArgs e)\n    {\n        HttpApplication app = (HttpApplication)sender;\n        HttpRequest request = app.Request;\n        HttpResponse response = app.Response;\n\n        string authHeader = request.Headers["Authorization"];\n        if (authHeader == null || authHeader.Length == 0)\n        {\n            response.StatusCode = 401;\n            response.StatusDescription = "Unauthorized";\n            response.Headers["WWW-Authenticate"] = "Basic realm=\"My Realm\"";\n            response.End();\n            return;\n        }\n\n        string[] credentials = authHeader.Split(new char[] { ' ' });\n        string username = credentials[0];\n        string password = credentials[1];\n\n        // Authenticate the user using the provided credentials\n        // ...\n\n        if (/* user is authenticated */)\n        {\n            // Set the authentication ticket\n            FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(1, username, DateTime.Now, DateTime.Now.AddMinutes(30), false, "");\n            string encryptedTicket = FormsAuthentication.Encrypt(ticket);\n            response.Cookies.Add(new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket));\n        }\n        else\n        {\n            response.StatusCode = 401;\n            response.StatusDescription = "Unauthorized";\n            response.Headers["WWW-Authenticate"] = "Basic realm=\"My Realm\"";\n            response.End();\n        }\n    }\n}