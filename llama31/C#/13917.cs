// In your base controller or a global action filter\nprotected override void OnActionExecuting(ActionExecutingContext filterContext) {\n  var session = (Session)HttpContext.Current.Session;\n  using (var db = new YourDbContext()) {\n    var existingSession = db.Sessions.Find(session.SessionID);\n    if (existingSession != null) {\n      existingSession.LastActivity = DateTime.Now;\n      db.SaveChanges();\n    }\n  }\n}