string[] customerIds = commaDelimitedList.Split(',');\n\n// Create a parameter for each value in the list\nList<DbParameter> parameters = new List<DbParameter>();\nfor (int i = 0; i < customerIds.Length; i++)\n{\n    DbParameter param = new DbParameter("customer" + i, DbType.String);\n    param.Value = customerIds[i].Trim();\n    parameters.Add(param);\n}\n\n// Create the SQL query with the correct number of parameters\nstring sql = "SELECT * FROM prices WHERE customer IN (";\nfor (int i = 0; i < customerIds.Length; i++)\n{\n    sql += "@" + parameters[i].ParameterName;\n    if (i < customerIds.Length - 1)\n    {\n        sql += ", ";\n    }\n}\nsql += ")";\n\n// Execute the query with the parameters\nusing (DbCommand cmd = new DbCommand(sql, connection))\n{\n    cmd.Parameters.AddRange(parameters.ToArray());\n    using (DbDataReader reader = cmd.ExecuteReader())\n    {\n        // Process the results\n    }\n}