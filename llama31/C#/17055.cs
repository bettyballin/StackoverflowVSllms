private LinkedList<int> ShiftPath(LinkedList<int> oldPath, int shift)\n{\n    LinkedList<int> newPath = new LinkedList<int>();\n    LinkedListNode<int> node = oldPath.First;\n\n    // Start reordering\n    // Forwards\n    while (node.Value != shift)\n    {\n        newPath.AddLast(node.Value);\n        node = node.Next;\n    }\n\n    // Backwards\n    node = oldPath.Last;\n    while (node.Value != shift)\n    {\n        newPath.AddLast(node.Value);\n        node = node.Previous;\n    }\n\n    // New endpoint\n    newPath.AddLast(shift);\n\n    return newPath;\n}