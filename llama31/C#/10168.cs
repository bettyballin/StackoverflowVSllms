public class CustomWebOperationContext : IWebOperationContext\n{\n    private readonly WebOperationContext _context;\n\n    public CustomWebOperationContext(WebOperationContext context)\n    {\n        _context = context;\n    }\n\n    public HttpStatusCode StatusCode\n    {\n        get { return _context.StatusCode; }\n    }\n\n    public void ThrowIfError()\n    {\n        if (StatusCode >= HttpStatusCode.BadRequest)\n        {\n            throw new WebException((int)StatusCode, _context.StatusDescription);\n        }\n    }\n}