using System.IO;\nusing System.Data;\n\n// ...\n\nDataTable table = new DataTable();\nusing (StreamReader reader = new StreamReader("C:\\foo\\example.csv"))\n{\n    string[] headers = reader.ReadLine().Split(',');\n    foreach (string header in headers)\n    {\n        table.Columns.Add(header);\n    }\n    string line;\n    while ((line = reader.ReadLine()) != null)\n    {\n        DataRow row = table.NewRow();\n        string[] values = line.Split(',');\n        for (int i = 0; i < values.Length; i++)\n        {\n            row[i] = values[i];\n        }\n        table.Rows.Add(row);\n    }\n}