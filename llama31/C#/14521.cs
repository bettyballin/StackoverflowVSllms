using System;\nusing System.Security.Cryptography;\nusing System.Text;\n\npublic class ByteArrayEncryption\n{\n    public static byte[] Encrypt(byte[] plainBytes, byte[] key, byte[] iv)\n    {\n        using (Aes aes = Aes.Create())\n        {\n            aes.Key = key;\n            aes.IV = iv;\n            aes.Mode = CipherMode.CBC;\n            aes.Padding = PaddingMode.PKCS7;\n\n            ICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, aes.IV);\n            byte[] encryptedBytes = encryptor.TransformFinalBlock(plainBytes, 0, plainBytes.Length);\n\n            return encryptedBytes;\n        }\n    }\n\n    public static byte[] Decrypt(byte[] encryptedBytes, byte[] key, byte[] iv)\n    {\n        using (Aes aes = Aes.Create())\n        {\n            aes.Key = key;\n            aes.IV = iv;\n            aes.Mode = CipherMode.CBC;\n            aes.Padding = PaddingMode.PKCS7;\n\n            ICryptoTransform decryptor = aes.CreateDecryptor(aes.Key, aes.IV);\n            byte[] plainBytes = decryptor.TransformFinalBlock(encryptedBytes, 0, encryptedBytes.Length);\n\n            return plainBytes;\n        }\n    }\n}