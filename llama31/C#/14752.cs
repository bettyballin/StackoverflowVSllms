using System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Threading;\nusing System.Threading.Tasks;\n\npublic class WebProxy : IDisposable\n{\n    private readonly HttpListener _listener;\n\n    public WebProxy(int port)\n    {\n        _listener = new HttpListener();\n        _listener.Prefixes.Add($"http://localhost:{port}/");\n    }\n\n    public async Task Start()\n    {\n        _listener.Start();\n        while (true)\n        {\n            var context = await _listener.GetContextAsync();\n            var request = context.Request;\n            var response = context.Response;\n\n            // Process the request and response as needed\n            // For example, you can log the request and response data\n            Console.WriteLine($"Request: {request.Method} {request.Url}");\n            Console.WriteLine($"Response: {response.StatusCode}");\n\n            // Send the response back to the client\n            response.Close();\n        }\n    }\n\n    public void Stop()\n    {\n        _listener.Stop();\n    }\n\n    public void Dispose()\n    {\n        Stop();\n    }\n}