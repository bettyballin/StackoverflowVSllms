using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Threading;\n\nclass DelayProxy\n{\n    private readonly int _delayMs;\n\n    public DelayProxy(int delayMs)\n    {\n        _delayMs = delayMs;\n    }\n\n    public void Start(int listenPort, int targetPort)\n    {\n        TcpListener listener = new TcpListener(IPAddress.Any, listenPort);\n        listener.Start();\n\n        while (true)\n        {\n            TcpClient client = listener.AcceptTcpClient();\n            Console.WriteLine("Incoming connection from " + client.Client.RemoteEndPoint);\n\n            // Delay the connection\n            Thread.Sleep(_delayMs);\n\n            // Forward the connection to the target port\n            TcpClient targetClient = new TcpClient();\n            targetClient.Connect("localhost", targetPort);\n            Console.WriteLine("Forwarding connection to " + targetClient.Client.RemoteEndPoint);\n\n            // Copy data between the client and target\n            client.GetStream().CopyTo(targetClient.GetStream());\n            targetClient.GetStream().CopyTo(client.GetStream());\n        }\n    }\n}