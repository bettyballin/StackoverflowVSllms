[TestClass]\npublic class MyServerControlTests\n{\n    [TestMethod]\n    public void TestControlHierarchy()\n    {\n        var control = new MyServerControl();\n        control.Property1 = "Value1";\n        control.Property2 = "Value2";\n\n        var testControl = new TestControl();\n        testControl.Controls.Add(control);\n\n        control.CreateChildControls();\n\n        Assert.AreEqual(2, control.Controls.Count);\n        Assert.AreEqual("Value1", control.Controls[0].Property1);\n        Assert.AreEqual("Value2", control.Controls[1].Property2);\n    }\n}