public class MyHandler : IHttpHandler\n{\n    public void ProcessRequest(HttpContext context)\n    {\n        // Get the token from the query string or form data\n        string token = context.Request.QueryString["token"] ?? context.Request.Form["token"];\n\n        // Verify the token\n        if (context.Session["token"] == null || context.Session["token"].ToString() != token)\n        {\n            context.Response.StatusCode = 403;\n            return;\n        }\n\n        // Get the ID from the query string or form data\n        string id = context.Request.QueryString["id"] ?? context.Request.Form["id"];\n\n        // Process the request\n        // ...\n\n        // Return a response\n        context.Response.ContentType = "text/plain";\n        context.Response.Write("Success");\n    }\n\n    public bool IsReusable\n    {\n        get { return true; }\n    }\n}