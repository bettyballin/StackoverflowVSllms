using System;\nusing System.Security.Cryptography;\nusing System.Security.Cryptography.X509Certificates;\n\npublic class CertificateGenerator\n{\n    public static X509Certificate2 GenerateSelfSignedCertificate(string subjectName)\n    {\n        using (var rsa = RSA.Create(2048))\n        {\n            var certRequest = new CertificateRequest(subjectName, rsa, HashAlgorithmName.SHA256, RSASignaturePadding.Pss);\n            certRequest.CertificateExtensions.Add(new X509KeyUsageExtension(X509KeyUsageFlags.DataEncipherment | X509KeyUsageFlags.KeyEncipherment | X509KeyUsageFlags.DigitalSignature, false));\n            var cert = certRequest.CreateSelfSigned(DateTime.UtcNow, DateTime.UtcNow.AddYears(1));\n            return new X509Certificate2(cert.Export(X509ContentType.Pfx));\n        }\n    }\n}