using System;\nusing System.Diagnostics;\n\nclass MemoryProfiler\n{\n    static void Main(string[] args)\n    {\n        var process = Process.GetCurrentProcess();\n\n        // Get the initial memory usage\n        var initialMemoryUsage = process.WorkingSet64;\n\n        // Run your iterations here...\n        for (int i = 0; i < 1000000; i++)\n        {\n            // Your iteration code here...\n        }\n\n        // Get the peak memory usage\n        var peakMemoryUsage = process.PeakWorkingSet64;\n\n        Console.WriteLine($"Peak memory usage: {peakMemoryUsage / (1024 * 1024)} MB");\n    }\n}