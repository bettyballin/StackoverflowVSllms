using System;\nusing TIBCO.EMS;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        // Create a connection to the EMS server\n        Connection connection = new Connection("tcp://localhost:7222");\n\n        // Create a session\n        Session session = connection.CreateSession();\n\n        // Create a destination (queue or topic)\n        Destination destination = session.CreateQueue("myqueue");\n\n        // Create a message producer\n        MessageProducer producer = session.CreateProducer(destination);\n\n        // Create a message\n        TextMessage message = session.CreateTextMessage("Hello, World!");\n\n        // Send the message\n        producer.Send(message);\n\n        // Create a message consumer\n        MessageConsumer consumer = session.CreateConsumer(destination);\n\n        // Start the consumer\n        connection.Start();\n\n        // Receive a message\n        Message receivedMessage = consumer.Receive();\n\n        // Print the received message\n        Console.WriteLine(receivedMessage.Text);\n\n        // Close the connection\n        connection.Close();\n    }\n}