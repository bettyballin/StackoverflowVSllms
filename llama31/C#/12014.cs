using Microsoft.EntityFrameworkCore;\nusing System.Data.SqlClient;\n\n// Define the data model\npublic class MyEntity\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n}\n\n// Create a DbContext\npublic class MyDbContext : DbContext\n{\n    public DbSet<MyEntity> MyEntities { get; set; }\n\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlServer(@"Data Source=mydb;Initial Catalog=mycatalog;Integrated Security=True");\n    }\n}\n\n// Create a stored procedure\nCREATE PROCEDURE sp_GetMyEntities\nAS\nBEGIN\n    SELECT * FROM MyEntities\nEND\n\n// Use the stored procedure in the DAL\npublic class MyDAL\n{\n    private readonly MyDbContext _context;\n\n    public MyDAL(MyDbContext context)\n    {\n        _context = context;\n    }\n\n    public IEnumerable<MyEntity> GetMyEntities()\n    {\n        return _context.MyEntities.FromSql("EXEC sp_GetMyEntities");\n    }\n}