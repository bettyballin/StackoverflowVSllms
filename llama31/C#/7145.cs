using System.Collections.Generic;\n\npublic class WorkFlowStep\n{\n    public int WorkFlowStepID { get; set; }\n    public int? ParentWorkFlowStepID { get; set; }\n}\n\npublic class LinkedListExample\n{\n    public static void Main()\n    {\n        LinkedList<WorkFlowStep> linkedList = new LinkedList<WorkFlowStep>();\n        Dictionary<int, LinkedListNode<WorkFlowStep>> nodeDictionary = new Dictionary<int, LinkedListNode<WorkFlowStep>>();\n\n        // Assuming you have a data reader object\n        while (dataReader.Read())\n        {\n            WorkFlowStep step = new WorkFlowStep\n            {\n                WorkFlowStepID = dataReader.GetInt32(1),\n                ParentWorkFlowStepID = dataReader.IsDBNull(2) ? (int?)null : dataReader.GetInt32(2)\n            };\n\n            if (linkedList.Count == 0)\n            {\n                linkedList.AddFirst(step);\n                nodeDictionary[step.WorkFlowStepID] = linkedList.First;\n            }\n            else\n            {\n                if (step.ParentWorkFlowStepID.HasValue && nodeDictionary.TryGetValue(step.ParentWorkFlowStepID.Value, out LinkedListNode<WorkFlowStep> parentNode))\n                {\n                    linkedList.AddAfter(parentNode, step);\n                    nodeDictionary[step.WorkFlowStepID] = parentNode.Next;\n                }\n                else\n                {\n                    // Handle case where parent step is not found\n                }\n            }\n        }\n    }\n}