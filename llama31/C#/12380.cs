public class CustomWebHttpBehavior : WebHttpBehavior\n{\n    protected override IDispatchMessageFormatter GetReplyDispatchFormatter(OperationDescription operationDescription, ServiceEndpoint endpoint)\n    {\n        var replyFormatters = new List<IDispatchMessageFormatter>();\n\n        var jsonFormatter = new WebHttpJsonResponseDispatchFormatter(operationDescription, endpoint);\n        replyFormatters.Add(jsonFormatter);\n\n        var xmlFormatter = new WebHttpXmlResponseDispatchFormatter(operationDescription, endpoint);\n        replyFormatters.Add(xmlFormatter);\n\n        return new CompositeDispatchFormatter(replyFormatters);\n    }\n\n    protected override IDispatchMessageFormatter GetRequestDispatchFormatter(OperationDescription operationDescription, ServiceEndpoint endpoint)\n    {\n        var requestFormatters = new List<IDispatchMessageFormatter>();\n\n        var jsonFormatter = new WebHttpJsonRequestDispatchFormatter(operationDescription, endpoint);\n        requestFormatters.Add(jsonFormatter);\n\n        var xmlFormatter = new WebHttpXmlRequestDispatchFormatter(operationDescription, endpoint);\n        requestFormatters.Add(xmlFormatter);\n\n        return new CompositeDispatchFormatter(requestFormatters);\n    }\n}