ReportDocument repDoc = (ReportDocument)System.Web.HttpContext.Current.Session["StudyReportCrystalDocument"];\n// Stop buffering the response\nResponse.Buffer = false;\n// Clear the response content and headers\nResponse.ClearContent();\nResponse.ClearHeaders();\ntry\n{\n    using (var response = Response)\n    {\n        repDoc.ExportToHttpResponse(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat, response, true, "StudyReport");\n    }\n}\ncatch (Exception ex)\n{\n    // Log the exception\n    System.Diagnostics.Trace.TraceError(ex.Message, ex.StackTrace);\n    // You can also log the exception to a file or database if needed\n}