private void AdjustContextMenuWidth()\n{\n    int maxWidth = 0;\n    foreach (ToolStripItem item in contextMenuStrip1.Items)\n    {\n        ToolStripMenuItem menuItem = item as ToolStripMenuItem;\n        if (menuItem != null)\n        {\n            Size textSize = TextRenderer.MeasureText(menuItem.Text, menuItem.Font);\n            maxWidth = Math.Max(maxWidth, textSize.Width);\n        }\n    }\n    contextMenuStrip1.Width = maxWidth + 10; // Add a little padding\n}