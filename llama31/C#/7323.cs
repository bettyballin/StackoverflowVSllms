// T4 template\n<#@ template language="C#" #>\n<#@ assembly name="System.Data" #>\n<#@ import namespace="System.Data.SqlClient" #>\n\n// Assume a SqlConnection and SqlCommand are already set up\nstring query = "Select EventID, Title From Events Where Location=@Location";\n\n// Generate the class\npublic class EventData\n{\n    public int EventID { get; set; }\n    public string Title { get; set; }\n\n    public static List<EventData> GetEvents(string location)\n    {\n        // Create a new SqlConnection and SqlCommand\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            SqlCommand command = new SqlCommand(query, connection);\n            command.Parameters.AddWithValue("@Location", location);\n\n            // Execute the query and populate the EventData objects\n            List<EventData> events = new List<EventData>();\n            using (SqlDataReader reader = command.ExecuteReader())\n            {\n                while (reader.Read())\n                {\n                    EventData eventData = new EventData\n                    {\n                        EventID = reader.GetInt32(0),\n                        Title = reader.GetString(1)\n                    };\n                    events.Add(eventData);\n                }\n            }\n            return events;\n        }\n    }\n}