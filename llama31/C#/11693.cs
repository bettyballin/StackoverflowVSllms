using System.Security.Principal;\nusing System.Data.SqlClient;\n\npublic class MyService : IMyService\n{\n    public void MyMethod()\n    {\n        using (var connection = new SqlConnection("Data Source=myServer;Initial Catalog=myDatabase;Integrated Security=True;"))\n        {\n            connection.Open();\n\n            var identity = ServiceSecurityContext.Current.WindowsIdentity;\n            using (var impersonationContext = identity.Impersonate())\n            {\n                // Access the SQL server using the delegated identity\n                using (var command = new SqlCommand("SELECT * FROM myTable", connection))\n                {\n                    var reader = command.ExecuteReader();\n                    // Process the results\n                }\n            }\n        }\n    }\n}