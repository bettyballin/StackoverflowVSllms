public class LimitedList<T>\n{\n    private List<T> _list = new List<T>();\n    private int _maxitems = 500;\n\n    public void Add(T value) /* Adding a new Value to the buffer */\n    {\n        _list.Add(value);\n        TrimData(); /* Delete old data if length too long */\n    }\n\n    private void TrimData()\n    {\n        int num = Math.Max(0, _list.Count - _maxitems);\n        _list.RemoveRange(0, num);\n    }\n\n    public IEnumerable<T> GetEnumerator()\n    {\n        return _list.GetEnumerator();\n    }\n}