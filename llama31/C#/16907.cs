static void castTest(myEnum val)\n{\n    // Call a native function that returns a pointer to a structure\n    IntPtr ptr = someNativeFunction(..params..);\n\n    // Determine the type of the structure based on the enum value\n    Type structType = getTypeFromEnum(val);\n\n    // Create an instance of the type\n    object myStruct = Activator.CreateInstance(structType);\n\n    // Marshal the pointer to the structure\n    myStruct = Marshal.PtrToStructure(ptr, structType);\n}