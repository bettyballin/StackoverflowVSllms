using NHibernate;\nusing NHibernate.Cfg;\n\nclass NHibernateConfig\n{\n    public static ISessionFactory CreateSessionFactory(string connectionString)\n    {\n        var cfg = new Configuration();\n        cfg.DataBaseIntegration(x =>\n        {\n            x.ConnectionString = connectionString;\n            x.Driver<SqlClientDriver>();\n            x.Dialect<MsSql2012Dialect>();\n        });\n        cfg.AddAssembly(typeof(NHibernateConfig).Assembly);\n        return cfg.BuildSessionFactory();\n    }\n}