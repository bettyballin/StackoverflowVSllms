<#@ template language="C#" #>\n<#@ assembly name="System.Data" #>\n<#@ import namespace="System.Data.SqlClient" #>\n<#@ import namespace="System.Data" #>\n\n// Settings\nstring connectionString = "Your Connection String";\nstring databaseName = "Your Database Name";\n\n// Get the database schema\nSqlConnection connection = new SqlConnection(connectionString);\nconnection.Open();\nDataTable schema = connection.GetSchema("Tables");\n\n// Generate CRUD stored procedures\nforeach (DataRow row in schema.Rows)\n{\n    string tableName = row["TABLE_NAME"].ToString();\n\n    // Generate Create stored procedure\n    WriteLine("// Create stored procedure: " + tableName + "_Create");\n    WriteLine("CREATE PROCEDURE " + tableName + "_Create");\n    WriteLine("(");\n    foreach (DataColumn column in schema.Columns)\n    {\n        WriteLine("    @" + column.ColumnName + " " + column.DataType.Name + ",");\n    }\n    WriteLine(")");\n    WriteLine("AS");\n    WriteLine("BEGIN");\n    WriteLine("    INSERT INTO " + tableName);\n    WriteLine("    (");\n    foreach (DataColumn column in schema.Columns)\n    {\n        WriteLine("        " + column.ColumnName + ",");\n    }\n    WriteLine("    )");\n    WriteLine("    VALUES");\n    WriteLine("    (");\n    foreach (DataColumn column in schema.Columns)\n    {\n        WriteLine("        @" + column.ColumnName + ",");\n    }\n    WriteLine("    )");\n    WriteLine("END");\n\n    // Generate Read stored procedure\n    WriteLine("// Read stored procedure: " + tableName + "_Read");\n    WriteLine("CREATE PROCEDURE " + tableName + "_Read");\n    WriteLine("(");\n    WriteLine("    @id int");\n    WriteLine(")");\n    WriteLine("AS");\n    WriteLine("BEGIN");\n    WriteLine("    SELECT * FROM " + tableName);\n    WriteLine("    WHERE id = @id");\n    WriteLine("END");\n\n    // Generate Update stored procedure\n    WriteLine("// Update stored procedure: " + tableName + "_Update");\n    WriteLine("CREATE PROCEDURE " + tableName + "_Update");\n    WriteLine("(");\n    foreach (DataColumn column in schema.Columns)\n    {\n        WriteLine("    @" + column.ColumnName + " " + column.DataType.Name + ",");\n    }\n    WriteLine(")");\n    WriteLine("AS");\n    WriteLine("BEGIN");\n    WriteLine("    UPDATE " + tableName);\n    WriteLine("    SET");\n    foreach (DataColumn column in schema.Columns)\n    {\n        WriteLine("        " + column.ColumnName + " = @" + column.ColumnName + ",");\n    }\n    WriteLine("    WHERE id = @id");\n    WriteLine("END");\n\n    // Generate Delete stored procedure\n    WriteLine("// Delete stored procedure: " + tableName + "_Delete");\n    WriteLine("CREATE PROCEDURE " + tableName + "_Delete");\n    WriteLine("(");\n    WriteLine("    @id int");\n    WriteLine(")");\n    WriteLine("AS");\n    WriteLine("BEGIN");\n    WriteLine("    DELETE FROM " + tableName);\n    WriteLine("    WHERE id = @id");\n    WriteLine("END");\n}