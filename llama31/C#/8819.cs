using System.Security.AccessControl;\nusing Microsoft.Win32;\n\n// ...\n\nRegistryKey key = Registry.CurrentUser.OpenSubKey("Software\\YourCompany\\ReadOnlyMode", true);\nif (key != null)\n{\n    // Set the value\n    key.SetValue("ReadOnlyMode", 1, RegistryValueKind.DWord);\n\n    // Set the permissions\n    var rule = new RegistryAccessRule("Administrators", RegistryRights.WriteKey, AccessControlType.Allow);\n    key.SetAccessControl(new RegistrySecurity(key.GetAccessControl().GetSecurityDescriptorDacl()), rule);\n}