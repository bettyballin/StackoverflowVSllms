public class MyClass {\n  private SomeObject anObject;\n\n  protected void Page_Load(object sender, EventArgs e) {\n    if (ViewState["anObject"] != null) {\n      anObject = (SomeObject)ViewState["anObject"];\n    } else {\n      anObject = new SomeObject();\n      ViewState["anObject"] = anObject;\n    }\n  }\n\n  // Enable ViewState encryption in web.config\n  <pages enableViewStateMac="true" viewStateEncryptionMode="Always" />\n}