using Microsoft.EntityFrameworkCore;\nusing System.Data.SqlClient;\n\npublic class MyDbContext : DbContext\n{\n    public MyDbContext(DbContextOptions<MyDbContext> options) : base(options) { }\n\n    public DbSet<MyEntity> MyEntities { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity<MyEntity>()\n            .HasProcedure("sp_MyProcedure", p =>\n            {\n                p.Parameter(e => e.Id, "Id");\n                p.Returns(e => e.Name);\n            });\n    }\n}\n\npublic class MyRepository\n{\n    private readonly MyDbContext _context;\n\n    public MyRepository(MyDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task<MyEntity> GetMyEntityAsync(int id)\n    {\n        return await _context.MyEntities.FromSqlRaw("EXEC sp_MyProcedure @Id = {0}", id).FirstOrDefaultAsync();\n    }\n}