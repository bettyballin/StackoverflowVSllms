public class MessageSizeInspector : IDispatchMessageInspector\n{\n    public object AfterReceiveRequest(ref Message request, IClientChannel channel, InstanceContext instanceContext)\n    {\n        // Log the size of the incoming message\n        LogMessageSize(request.ToString().Length);\n        return null;\n    }\n\n    public void BeforeSendReply(ref Message reply, object correlationState)\n    {\n        // Log the size of the outgoing message\n        LogMessageSize(reply.ToString().Length);\n    }\n\n    private void LogMessageSize(int size)\n    {\n        // Log the message size to a file or database\n        // ...\n    }\n}