using System;\n\npublic class Logger\n{\n    public void Log(string message)\n    {\n        if (Console.IsOutputRedirected || Console.IsErrorRedirected)\n        {\n            // Running in a console application\n            Console.WriteLine(message);\n        }\n        else\n        {\n            // Not running in a console application, log to Event Log\n            using (var eventLog = new System.Diagnostics.EventLog("YourLogName"))\n            {\n                eventLog.Source = "YourSourceName";\n                eventLog.WriteEntry(message, System.Diagnostics.EventLogEntryType.Information);\n            }\n        }\n    }\n}