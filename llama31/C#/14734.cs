public static List<T> ConvertDataReaderToList<T>(IDataReader reader) where T : new()\n{\n    List<T> result = new List<T>();\n    while (reader.Read())\n    {\n        T item = new T();\n        for (int i = 0; i < reader.FieldCount; i++)\n        {\n            PropertyInfo property = typeof(T).GetProperty(reader.GetName(i));\n            if (property != null)\n            {\n                if (!reader.IsDBNull(i))\n                {\n                    property.SetValue(item, reader.GetValue(i), null);\n                }\n            }\n        }\n        result.Add(item);\n    }\n    return result;\n}