public class StoredProcedureCaller\n{\n    private readonly string _connectionString;\n\n    public StoredProcedureCaller(string connectionString)\n    {\n        _connectionString = connectionString;\n    }\n\n    public TResult CallProcedure<TResult>(string procedureName, params SqlParameter[] parameters)\n    {\n        using (var connection = new SqlConnection(_connectionString))\n        {\n            connection.Open();\n            var command = new SqlCommand(procedureName, connection) { CommandType = CommandType.StoredProcedure };\n            command.Parameters.AddRange(parameters);\n\n            var result = command.ExecuteScalar();\n            return (TResult)result;\n        }\n    }\n}