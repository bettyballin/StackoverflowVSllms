static Socket handler = null;\n\npublic static void AcceptCallback(IAsyncResult ar)\n{\n    // Accept incoming connection\n    Socket listener = (Socket)ar.AsyncState;\n    handler = listener.EndAccept(ar);\n\n    // Detect client disconnection\n    if (handler.Poll(1000, SelectMode.SelectRead) && handler.Available == 0)\n    {\n        // Client has disconnected\n        handler.Close();\n    }\n}