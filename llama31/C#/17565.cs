using System.Diagnostics;\n\n// Create a performance counter for CPU usage\nPerformanceCounter cpuCounter = new PerformanceCounter("Processor", "% Processor Time", "_Total");\n\n// Call NextValue() once to initialize the counter\ncpuCounter.NextValue();\n\n// Wait for 1 second to get a meaningful reading\nSystem.Threading.Thread.Sleep(1000);\n\n// Get the CPU usage\nfloat cpuUsage = cpuCounter.NextValue();\n\n// Log the CPU usage\nConsole.WriteLine($"CPU usage: {cpuUsage}%");