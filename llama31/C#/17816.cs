using System.Configuration.Install;\n\n[RunInstaller(true)]\npublic class MyServiceInstaller : Installer\n{\n    public static void Main(string[] args)\n    {\n        // Get the installation parameters from the command line\n        string parameter1 = args[0];\n        string parameter2 = args[1];\n\n        // Create a configuration file\n        string configFile = "install.config";\n        using (StreamWriter writer = new StreamWriter(configFile))\n        {\n            writer.WriteLine("parameter1=" + parameter1);\n            writer.WriteLine("parameter2=" + parameter2);\n        }\n\n        // Run InstallUtil.exe with the configuration file\n        ProcessStartInfo startInfo = new ProcessStartInfo();\n        startInfo.FileName = "InstallUtil.exe";\n        startInfo.Arguments = "/i " + configFile;\n        startInfo.UseShellExecute = false;\n        startInfo.RedirectStandardOutput = true;\n        using (Process process = Process.Start(startInfo))\n        {\n            process.WaitForExit();\n        }\n    }\n}