using MailKit.Net.Imap;\nusing MailKit.Search;\nusing MailKit.Security;\n\n// Create an IMAP client\nvar client = new ImapClient();\n\n// Connect to the Gmail IMAP server\nawait client.ConnectAsync("imap.gmail.com", 993, SecureSocketOptions.SslOnConnect);\n\n// Authenticate using your Gmail credentials\nawait client.AuthenticateAsync("your_email@gmail.com", "your_password");\n\n// Select the inbox folder\nawait client.Inbox.OpenAsync(FolderAccess.ReadWrite);\n\n// Search for new emails\nvar uids = await client.Inbox.SearchAsync(SearchQuery.New);\n\n// Fetch the new emails\nforeach (var uid in uids)\n{\n    var message = await client.Inbox.GetMessageAsync(uid);\n    // Process the email message\n}\n\n// Disconnect from the server\nawait client.DisconnectAsync(true);