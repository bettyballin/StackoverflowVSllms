using System;\nusing System.Drawing;\nusing System.Runtime.InteropServices;\nusing System.Windows.Forms;\n\nclass CustomForm : Form\n{\n    [DllImport("user32.dll")]\n    static extern int GetWindowLong(IntPtr hWnd, int nIndex);\n\n    [DllImport("user32.dll")]\n    static extern int SetWindowLong(IntPtr hWnd, int nIndex, long dwNewLong);\n\n    [DllImport("user32.dll")]\n    static extern bool SetWindowPos(IntPtr hWnd, int hWndInsertAfter, int x, int y, int cx, int cy, uint wFlags);\n\n    const int GWL_EXSTYLE = -20;\n    const int WS_EX_LAYERED = 0x00080000;\n\n    protected override void WndProc(ref Message m)\n    {\n        if (m.Msg == 0x0085) //WM_NCPAINT\n        {\n            IntPtr hdc = GetWindowDC(m.HWnd);\n            using (Graphics g = Graphics.FromHdc(hdc))\n            {\n                // Custom painting here\n                // For example, to change the background color of the caption bar:\n                g.FillRectangle(Brushes.CornflowerBlue, 0, 0, this.Width, 24); // default height of caption bar\n                // And you would need to manually paint the buttons, too, which is complex.\n            }\n            ReleaseDC(m.HWnd, hdc);\n            return;\n        }\n        base.WndProc(ref m);\n    }\n\n    [DllImport("user32.dll")]\n    static extern IntPtr GetWindowDC(IntPtr hWnd);\n\n    [DllImport("user32.dll")]\n    static extern int ReleaseDC(IntPtr hWnd, IntPtr hDC);\n}