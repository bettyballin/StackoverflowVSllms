public class AnalisisManager : IAnalisisManagerController\n{\n    //...\n    private CancellationTokenSource cts;\n    private Thread analisisThread;\n\n    public void MakePadrobAnalisis(TipoAnalisis tipoAnalisis,\n        Dictionary<string, Dictionary<int, double>> parametros)\n    {\n        cts = new CancellationTokenSource();\n        object[] arregloParams = new object[] { tipoAnalisis, parametros, cts.Token };\n        analisisThread = new Thread(new ParameterizedThreadStart(MakeAnalisisInOtherThread));\n        analisisThread.Start(arregloParams);\n    }\n\n    private void MakeAnalisisInOtherThread(object o)\n    {\n        object[] arregloParams = o as object[];\n        TipoAnalisis tipoAnalisis = (TipoAnalisis)arregloParams[0];\n        Dictionary<string, Dictionary<int, double>> parametros = arregloParams[1] as Dictionary<string, Dictionary<int, double>>;\n        CancellationToken token = (CancellationToken)arregloParams[2];\n\n        //...\n\n        while (!token.IsCancellationRequested)\n        {\n            // Do your analysis here...\n        }\n    }\n\n    public void StopCurrentAnalisis()\n    {\n        if (cts != null)\n        {\n            cts.Cancel();\n        }\n    }\n}