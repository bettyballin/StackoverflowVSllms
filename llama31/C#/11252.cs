using System;\nusing System.IO;\nusing System.Net.Sockets;\nusing System.Text.RegularExpressions;\n\npublic class ChunkedEncodingParser\n{\n    private readonly TcpClient _tcpClient;\n    private readonly NetworkStream _networkStream;\n\n    public ChunkedEncodingParser(TcpClient tcpClient)\n    {\n        _tcpClient = tcpClient;\n        _networkStream = tcpClient.GetStream();\n    }\n\n    public void ParseChunkedResponse()\n    {\n        string chunkSizeLine;\n        int chunkSize;\n\n        while ((chunkSizeLine = ReadLineFromResponse()) != null)\n        {\n            chunkSize = ExtractChunkSize(chunkSizeLine);\n\n            if (chunkSize == 0)\n            {\n                break; // Last chunk\n            }\n\n            byte[] chunkData = ReadBytesFromResponse(chunkSize);\n            ProcessChunkData(chunkData);\n        }\n\n        ReadRemainingResponseHeaders();\n    }\n\n    private string ReadLineFromResponse()\n    {\n        byte[] buffer = new byte[1024];\n        int bytesRead = _networkStream.Read(buffer, 0, buffer.Length);\n        string line = Encoding.ASCII.GetString(buffer, 0, bytesRead);\n        return line.Trim();\n    }\n\n    private int ExtractChunkSize(string chunkSizeLine)\n    {\n        Match match = Regex.Match(chunkSizeLine, @"([0-9a-fA-F]+)");\n        if (match.Success)\n        {\n            return Convert.ToInt32(match.Groups[1].Value, 16);\n        }\n        throw new FormatException("Invalid chunk size line");\n    }\n\n    private byte[] ReadBytesFromResponse(int chunkSize)\n    {\n        byte[] buffer = new byte[chunkSize];\n        int bytesRead = _networkStream.Read(buffer, 0, chunkSize);\n        if (bytesRead != chunkSize)\n        {\n            throw new IOException("Incomplete chunk data");\n        }\n        return buffer;\n    }\n\n    private void ProcessChunkData(byte[] chunkData)\n    {\n        // Process the chunk data here\n        Console.WriteLine($"Received chunk: {chunkData.Length} bytes");\n    }\n\n    private void ReadRemainingResponseHeaders()\n    {\n        // Read any remaining response headers here\n        Console.WriteLine("Reading remaining response headers...");\n    }\n}