using System.Net.Sockets;\nusing System.Runtime.InteropServices;\n\n[DllImport("ws2_32.dll")]\nprivate static extern int WSAAsyncSelect(IntPtr socket, IntPtr hWnd, int wMsg, int lEvent);\n\n// ...\n\nSocket sock = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n// ...\nWSAAsyncSelect(sock.Handle, this.Handle, WM_WINSOCK_ASYNC_MSG, FD_READ | FD_WRITE | FD_CLOSE);