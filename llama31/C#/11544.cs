private Queue<int> queue = new Queue<int>();\nprivate object lockObject = new object();\n\npublic void Enqueue(int value)\n{\n    lock (lockObject)\n    {\n        queue.Enqueue(value);\n    }\n}\n\npublic int GetCount()\n{\n    // Don't lock here, and you might get stale data\n    return queue.Count;\n}\n\npublic void Dequeue()\n{\n    lock (lockObject)\n    {\n        if (queue.Count > 0)\n        {\n            queue.Dequeue();\n        }\n    }\n}