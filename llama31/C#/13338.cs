using System;\nusing System.IO;\nusing Microsoft.Build.Utilities;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        string cscPath = GetCscPath();\n        Console.WriteLine(cscPath);\n    }\n\n    static string GetCscPath()\n    {\n        // Get the path to the .NET Framework installation\n        string frameworkDir = RuntimeEnvironment.GetRuntimeDirectory();\n\n        // Get the path to the csc.exe compiler\n        string cscPath = Path.Combine(frameworkDir, "csc.exe");\n\n        // If the csc.exe is not found in the framework directory, try to find it in the SDK directory\n        if (!File.Exists(cscPath))\n        {\n            string sdkDir = GetSdkPath();\n            cscPath = Path.Combine(sdkDir, "csc.exe");\n        }\n\n        return cscPath;\n    }\n\n    static string GetSdkPath()\n    {\n        // Get the path to the Windows SDK installation\n        string sdkDir = Environment.GetEnvironmentVariable("FrameworkSDKDir");\n\n        // If the SDK directory is not set, try to find it in the registry\n        if (string.IsNullOrEmpty(sdkDir))\n        {\n            sdkDir = GetSdkPathFromRegistry();\n        }\n\n        return sdkDir;\n    }\n\n    static string GetSdkPathFromRegistry()\n    {\n        // Open the registry key for the .NET Framework\n        using (RegistryKey key = Registry.LocalMachine.OpenSubKey(@"SOFTWARE\Microsoft\Microsoft SDKs\NETFXSDK"))\n        {\n            // Get the installation directory for the .NET Framework\n            string installationDir = key.GetValue("InstallationFolder") as string;\n\n            // Get the path to the SDK directory\n            string sdkDir = Path.Combine(installationDir, "lib");\n\n            return sdkDir;\n        }\n    }\n}