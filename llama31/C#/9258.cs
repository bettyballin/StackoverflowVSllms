// Example of using encrypted configuration files in ASP.NET Core\nIConfiguration configuration = new ConfigurationBuilder()\n    .AddJsonFile("appsettings.json")\n    .AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true)\n    .AddEnvironmentVariables()\n    .Build();\n\nvar smtpSection = configuration.GetSection("Smtp");\nvar username = smtpSection["Username"];\nvar password = smtpSection["Password"];\nvar domain = smtpSection["Domain"];\n\nSystem.Net.NetworkCredential SMTPUserInfo = \n    new System.Net.NetworkCredential(username, password, domain);