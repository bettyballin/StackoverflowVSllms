using System.Security.Cryptography;\n\npublic static string Encrypt(string input)\n{\n    using (var aes = Aes.Create())\n    {\n        aes.Key = GenerateKey();\n        aes.IV = GenerateIV();\n        var encryptor = aes.CreateEncryptor();\n        using (var ms = new MemoryStream())\n        {\n            using (var cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))\n            {\n                using (var sw = new StreamWriter(cs))\n                {\n                    sw.Write(input);\n                }\n                return Convert.ToBase64String(ms.ToArray());\n            }\n        }\n    }\n}\n\nprivate static byte[] GenerateKey()\n{\n    using (var aes = Aes.Create())\n    {\n        aes.GenerateKey();\n        return aes.Key;\n    }\n}\n\nprivate static byte[] GenerateIV()\n{\n    using (var aes = Aes.Create())\n    {\n        aes.GenerateIV();\n        return aes.IV;\n    }\n}