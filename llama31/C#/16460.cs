private readonly object _lock = new object();\nprivate Dictionary<string, Transaction> _pendingTransactions = new Dictionary<string, Transaction>();\n\npublic bool AddTransaction(Transaction transaction)\n{\n    lock (_lock)\n    {\n        transaction.EndPointRequest.Request.Key = (string)MessageComparer.GenerateKey(transaction.EndPointRequest.Request);\n\n        if (!_pendingTransactions.ContainsKey(transaction.EndPointRequest.Request.Key))\n        {\n            _pendingTransactions.Add(transaction.EndPointRequest.Request.Key, transaction);\n\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n}