using System;\nusing System.IO.Pipes;\nusing System.Text;\n\nclass NamedPipeServer\n{\n    public static void Main()\n    {\n        using (NamedPipeServerStream pipeServer = new NamedPipeServerStream("MyPipe", PipeDirection.InOut))\n        {\n            Console.WriteLine("NamedPipeServer is waiting for connection...");\n            pipeServer.WaitForConnection();\n            Console.WriteLine("Client connected");\n\n            using (StreamReader reader = new StreamReader(pipeServer))\n            {\n                string message = reader.ReadLine();\n                Console.WriteLine("Received message from client: " + message);\n            }\n        }\n    }\n}\n\nclass NamedPipeClient\n{\n    public static void Main()\n    {\n        using (NamedPipeClientStream pipeClient = new NamedPipeClientStream(".", "MyPipe", PipeDirection.InOut))\n        {\n            pipeClient.Connect();\n            Console.WriteLine("Connected to server");\n\n            using (StreamWriter writer = new StreamWriter(pipeClient))\n            {\n                writer.WriteLine("Hello from client!");\n            }\n        }\n    }\n}