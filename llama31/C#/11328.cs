SqlCommand comm = new SqlCommand(\n    @"SELECT * \n      FROM   Products \n      WHERE  Category_ID IN ({0}) \n         OR  name LIKE @name",\n    conn);\n\n// Assuming CategoryIDs is a string of comma-separated values\n// This approach is vulnerable to SQL injection if CategoryIDs comes from an untrusted source\nstring[] categoryIdsArray = CategoryIDs.Split(',');\nfor (int i = 0; i < categoryIdsArray.Length; i++)\n{\n    comm.Parameters.AddWithValue("@categoryid" + i, SqlDbType.Int).Value = int.Parse(categoryIdsArray[i]);\n    CategoryIDs = CategoryIDs.Replace(categoryIdsArray[i], "@categoryid" + i);\n}\n\n// Modify the command text to include the parameters for IN\ncomm.CommandText = string.Format(comm.CommandText, CategoryIDs);\n\n// For the LIKE condition, include the wildcard characters in the parameter value\ncomm.Parameters.AddWithValue("@name", SqlDbType.NVarChar).Value = "%" + Name + "%";