public static class NaturalSort\n{\n    public static string[] Sort(string[] array)\n    {\n        return array.OrderBy(s => s, new NaturalSortComparer()).ToArray();\n    }\n\n    private class NaturalSortComparer : IComparer<string>\n    {\n        public int Compare(string x, string y)\n        {\n            int i = 0, j = 0;\n            while (i < x.Length && j < y.Length)\n            {\n                if (char.IsDigit(x[i]) && char.IsDigit(y[j]))\n                {\n                    int xi = 0, yi = 0;\n                    while (i < x.Length && char.IsDigit(x[i]))\n                    {\n                        xi = xi * 10 + (x[i++] - '0');\n                    }\n                    while (j < y.Length && char.IsDigit(y[j]))\n                    {\n                        yi = yi * 10 + (y[j++] - '0');\n                    }\n                    if (xi != yi)\n                    {\n                        return xi.CompareTo(yi);\n                    }\n                }\n                else if (x[i] != y[j])\n                {\n                    return x[i].CompareTo(y[j]);\n                }\n                i++;\n                j++;\n            }\n            return x.Length.CompareTo(y.Length);\n        }\n    }\n}