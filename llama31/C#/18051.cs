using System;\nusing System.IdentityModel.Selectors;\nusing System.IdentityModel.Tokens;\n\npublic partial class _Default : System.Web.UI.Page \n{\n    protected void Page_Load(object sender, EventArgs e) \n    {\n        // Create a CardSpace policy\n        CardSpacePolicy policy = new CardSpacePolicy();\n\n        // Set the policy's issuer and certificate requirements\n        policy.IssuerIdentificationClause = new IssuerIdentificationClause("your_issuer_id");\n        policy.CertificateRequirements = CertificateRequirements.ChainOrPeer;\n\n        // Create a CardSpace token processor\n        CardSpaceTokenProcessor processor = new CardSpaceTokenProcessor(policy);\n\n        // Process the CardSpace token\n        SecurityToken token = processor.ProcessToken(Request);\n\n        // Authenticate the user using the token\n        if (token != null) \n        {\n            // Authenticate the user using the token's claims\n            IClaimsIdentity identity = new ClaimsIdentity(token.Claims);\n            if (identity.IsAuthenticated) \n            {\n                // User is authenticated, redirect to protected page\n                Response.Redirect("protected.aspx");\n            }\n        }\n    }\n}