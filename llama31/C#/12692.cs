using System.Net;\nusing System.Web.Services;\n\npublic class MyWebService : WebService\n{\n    [WebMethod]\n    public string MyMethod()\n    {\n        IPAddress remoteIp = HttpContext.Current.Request.UserHostAddress;\n        IPAddress localIp = IPAddress.Loopback; // or IPAddress.IPv6Loopback for IPv6\n\n        if (remoteIp.Equals(localIp))\n        {\n            // allow the request\n            return "Hello, local world!";\n        }\n        else\n        {\n            // reject the request\n            throw new HttpException(403, "Access denied");\n        }\n    }\n}