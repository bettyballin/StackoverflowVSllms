using System;\nusing System.Text.RegularExpressions;\nusing System.Data.SqlClient;\nusing System.Data.SqlTypes;\n\npublic partial class UserDefinedFunctions\n{\n    [SqlProcedure]\n    public static SqlInt32 SearchHtml(SqlString html, SqlString pattern)\n    {\n        string cleanHtml = RemoveHtmlTags(html.Value);\n        Match match = Regex.Match(cleanHtml, pattern.Value, RegexOptions.IgnoreCase);\n        return match.Success ? match.Index : -1;\n    }\n\n    private static string RemoveHtmlTags(string html)\n    {\n        return Regex.Replace(html, @"<[^>]*>", string.Empty);\n    }\n}