[WebMethod(EnableSession=true)]\npublic Dictionary<string, object> GetArchivedFiles(int pageSize, int page)\n{\n    if(HttpContext.Current.User.Identity.IsAuthenticated && Session["UserId"] != null)\n    {\n        // Do some computing and return a Dictionary.\n    }\n    else\n    {\n        ScriptManager.RegisterStartupScript(this, GetType(), "redirect", "window.location.href = 'login.aspx';", true);\n        return null;\n    }\n}