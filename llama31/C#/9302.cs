protected override void CreateChildControls()\n{\n    base.CreateChildControls();\n\n    // Recreate the dynamic controls\n    foreach (string controlId in ViewState["ControlIds"] as List<string>)\n    {\n        Literal literal = new Literal();\n        literal.ID = controlId;\n        literal.Text = ViewState[controlId].ToString();\n        PlaceHolder1.Controls.Add(literal);\n    }\n}\n\nprotected void Button1_Click(object sender, EventArgs e)\n{\n    Literal literal = new Literal();\n    literal.Text = DateTime.Now.ToString();\n    literal.ID = DateTime.Now.Ticks.ToString();\n\n    // Store the control ID and text in ViewState\n    if (ViewState["ControlIds"] == null)\n    {\n        ViewState["ControlIds"] = new List<string>();\n    }\n    ((List<string>)ViewState["ControlIds"]).Add(literal.ID);\n    ViewState[literal.ID] = literal.Text;\n\n    PlaceHolder1.Controls.Add(literal);\n}