using (var client = new HttpClient())\n{\n    try\n    {\n        var response = await client.PostAsync("http://localhost", new ByteArrayContent(bytesToPost));\n        response.EnsureSuccessStatusCode();\n        var responseBody = await response.Content.ReadAsStringAsync();\n    }\n    catch (HttpRequestException ex)\n    {\n        if (ex.InnerException is WebException webEx)\n        {\n            if (webEx.Response != null)\n            {\n                using (var stream = webEx.Response.GetResponseStream())\n                {\n                    using (var reader = new StreamReader(stream))\n                    {\n                        var errorResponse = reader.ReadToEnd();\n                        // errorResponse will hold the error description\n                    }\n                }\n            }\n        }\n    }\n}