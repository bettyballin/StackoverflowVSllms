int minY = int.MaxValue;\nint maxY = int.MinValue;\nParallel.For(firstSample + 1, lastSample + 1, () => (int.MaxValue, int.MinValue), (sample, state, local) =>\n{\n    int Y = _average[sample];\n    local = (Math.Min(Y, local.Item1), Math.Max(Y, local.Item2));\n    return local;\n},\nlocal =>\n{\n    lock (syncLock)\n    {\n        minY = Math.Min(minY, local.Item1);\n        maxY = Math.Max(maxY, local.Item2);\n    }\n});