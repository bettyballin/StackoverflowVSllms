using System;\nusing System.Text;\nusing System.Web;\n\npublic class HtmlEncoder\n{\n    public static string EncodeSpecialChars(string input)\n    {\n        // Convert the string to Latin-1 (ISO-8859-1) encoding\n        byte[] latin1Bytes = Encoding.GetEncoding("iso-8859-1").GetBytes(input);\n\n        // Convert the Latin-1 bytes back to a string, replacing unencodable characters with HTML entities\n        string encodedString = "";\n        foreach (byte b in latin1Bytes)\n        {\n            if (b < 128 || (b >= 160 && b <= 255))\n            {\n                encodedString += (char)b;\n            }\n            else\n            {\n                encodedString += "&#x" + b.ToString("X4") + ";";\n            }\n        }\n\n        // Use HttpUtility.HtmlEncode to encode any remaining special characters\n        encodedString = HttpUtility.HtmlEncode(encodedString);\n\n        return encodedString;\n    }\n}