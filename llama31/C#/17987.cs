public class OrderMap : ClassMap<Order>\n{\n    public OrderMap()\n    {\n        Table("ORDERS");\n\n        References<Terminal>(o => o.Terminal)\n            .Join("cust_prod", cp => cp.On(o => o.CustProdId == cp.CustProdId))\n            .Join("customer_terminal", ct => ct.On(cp => cp.CustomerTerminalId == ct.CustomerTerminalId))\n            .Join("terminal", t => t.On(ct => ct.TerminalId == t.TerminalId));\n    }\n}