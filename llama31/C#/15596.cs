public interface ISessionFactory\n{\n    ISession CreateSession();\n}\n\npublic class SessionFactory : ISessionFactory\n{\n    private readonly ISessionFactory _nhibernateSessionFactory;\n\n    public SessionFactory(ISessionFactory nhibernateSessionFactory)\n    {\n        _nhibernateSessionFactory = nhibernateSessionFactory;\n    }\n\n    public ISession CreateSession()\n    {\n        return _nhibernateSessionFactory.OpenSession();\n    }\n}