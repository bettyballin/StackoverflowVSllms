using System.Net.Http;\n\n//...\n\nusing (var httpClient = new HttpClient())\n{\n    var response = await httpClient.GetAsync("https://example.com", HttpCompletionOption.ResponseHeadersRead);\n\n    if (!response.IsSuccessStatusCode)\n    {\n        // handle error\n        return;\n    }\n\n    var contentType = response.Content.Headers.ContentType;\n    if (contentType == null || contentType.MediaType != "text/html")\n    {\n        // ignore non-html files\n        return;\n    }\n\n    // download the file\n    var data = await response.Content.ReadAsByteArrayAsync();\n    // process the data\n}