[DllImport("kernel32")]\nstatic extern bool QueryPerformanceCounter(out long lpPerformanceCount);\n\n[DllImport("kernel32")]\nstatic extern bool QueryPerformanceFrequency(out long lpFrequency);\n\nlong startCount, endCount, frequency;\nQueryPerformanceFrequency(out frequency);\nQueryPerformanceCounter(out startCount);\n// code to be profiled\nQueryPerformanceCounter(out endCount);\ndouble elapsedSeconds = (endCount - startCount) / (double)frequency;\nConsole.WriteLine($"Elapsed time: {elapsedSeconds * 1000} ms");