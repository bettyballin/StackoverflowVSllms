// Define a table to store search criteria\npublic class SearchCriteria\n{\n    public int Id { get; set; }\n    public string FieldName { get; set; }\n    public string DbType { get; set; }\n    public string JoinParam { get; set; }\n}\n\n// Define a table to store join information\npublic class JoinInfo\n{\n    public int Id { get; set; }\n    public string TableName { get; set; }\n    public string JoinCondition { get; set; }\n}\n\n// Use these tables to generate the SQL query\npublic class SearchService\n{\n    public IEnumerable SearchResult/Search(SearchCriteria[] criteria)\n    {\n        // Generate the SQL query based on the search criteria\n        var query = new StringBuilder("SELECT * FROM MyTable");\n        foreach (var criterion in criteria)\n        {\n            query.Append($" WHERE {criterion.FieldName} = @param{criterion.Id}");\n        }\n\n        // Add join information to the query\n        var joins = JoinInfo.GetJoinsForCriteria(criteria);\n        foreach (var join in joins)\n        {\n            query.Append($" LEFT JOIN {join.TableName} ON {join.JoinCondition}");\n        }\n\n        // Execute the query and return the results\n        return db.ExecuteQuery(query.ToString());\n    }\n}