using Microsoft.AspNetCore.Http;\n\npublic interface IMyHandler\n{\n    void Handle(IHttpContext context);\n}\n\npublic class MyHandler : IMyHandler\n{\n    public void Handle(IHttpContext context)\n    {\n        // Use context.Request and context.Response\n    }\n}\n\n// Wrappers for HttpContext and HttpListenerContext\npublic class HttpContextWrapper : IHttpContext\n{\n    private readonly HttpContext _context;\n\n    public HttpContextWrapper(HttpContext context)\n    {\n        _context = context;\n    }\n\n    public HttpRequest Request => _context.Request;\n    public HttpResponse Response => _context.Response;\n}\n\npublic class HttpListenerContextWrapper : IHttpContext\n{\n    private readonly HttpListenerContext _context;\n\n    public HttpListenerContextWrapper(HttpListenerContext context)\n    {\n        _context = context;\n    }\n\n    public HttpRequest Request => _context.Request;\n    public HttpResponse Response => _context.Response;\n}