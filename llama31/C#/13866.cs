// Create a peer node\nvar peerNode = new PeerNode(new PeerNodeSettings\n{\n    // Specify the STUN server for NAT traversal\n    StunServerAddress = "stun.example.com",\n    StunServerPort = 3478\n});\n\n// Create a WCF service host\nvar host = new ServiceHost(typeof(MyPeerService), new Uri("net.tcp://localhost:8080/MyPeerService"));\n\n// Add a peer resolver to the service host\nhost.AddServiceEndpoint(typeof(IPeerResolver), new NetTcpBinding(), "net.tcp://localhost:8080/PeerResolver");\n\n// Start the service host\nhost.Open();\n\n// Create a peer channel\nvar channel = new PeerChannel(peerNode, new PeerChannelSettings\n{\n    // Specify the maximum number of connections\n    MaxConnections = 10\n});\n\n// Join the peer mesh\nchannel.JoinMesh(new Uri("net.tcp://localhost:8080/MyPeerService"));