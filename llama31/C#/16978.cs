// Model class\npublic class User\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n}\n\n// Repository class\npublic class UserRepository\n{\n    private readonly MyDataContext _context;\n\n    public UserRepository(MyDataContext context)\n    {\n        _context = context;\n    }\n\n    public User GetById(int id)\n    {\n        return _context.Users.Where(u => u.Id == id).FirstOrDefault();\n    }\n\n    public void Add(User user)\n    {\n        _context.Users.InsertOnSubmit(user);\n        _context.SubmitChanges();\n    }\n\n    public void Update(User user)\n    {\n        _context.Users.Attach(user);\n        _context.SubmitChanges();\n    }\n}\n\n// Extended partial class\npublic partial class User\n{\n    public bool IsValid()\n    {\n        // Add custom validation logic here\n        return true;\n    }\n}