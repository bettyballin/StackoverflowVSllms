using System;\nusing System.Diagnostics;\nusing System.Threading.Tasks;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var process = new Process\n        {\n            StartInfo = new ProcessStartInfo\n            {\n                FileName = "your_external_program.exe",\n                RedirectStandardOutput = true,\n                UseShellExecute = false\n            }\n        };\n\n        var tcs = new TaskCompletionSource<int>();\n        process.Exited += (sender, args) =>\n        {\n            if (process.ExitCode != 0)\n            {\n                tcs.SetException(new Exception($"Process exited with code {process.ExitCode}"));\n            }\n            else\n            {\n                tcs.SetResult(process.ExitCode);\n            }\n        };\n\n        process.Start();\n\n        try\n        {\n            var exitCode = await tcs.Task;\n            // Read standard output here\n        }\n        catch (Exception ex)\n        {\n            // Handle exception here\n        }\n    }\n}