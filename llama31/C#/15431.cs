using (SqlConnection connection = new SqlConnection(connectionString))\n{\n    connection.Open();\n\n    int batchSize = 10000; // adjust batch size as needed\n    int offset = 0;\n\n    while (true)\n    {\n        using (SqlCommand command = new SqlCommand("YourStoredProcedure", connection))\n        {\n            command.CommandType = CommandType.StoredProcedure;\n            command.Parameters.AddWithValue("@offset", offset);\n            command.Parameters.AddWithValue("@batchSize", batchSize);\n\n            using (SqlDataReader reader = command.ExecuteReader())\n            {\n                while (reader.Read())\n                {\n                    // process data here\n                }\n            }\n        }\n\n        offset += batchSize;\n\n        if (offset >= totalRecords) // adjust totalRecords accordingly\n        {\n            break;\n        }\n    }\n}