public void PrintTreeLevelByLevel(Node root)\n{\n    if (root == null) return;\n\n    Node[] nodes = new Node[] { root };\n\n    while (nodes.Length > 0)\n    {\n        Node[] nextLevelNodes = new Node[nodes.Length * 2];\n\n        int j = 0;\n        for (int i = 0; i < nodes.Length; i++)\n        {\n            Console.WriteLine(nodes[i].Value);\n\n            if (nodes[i].left != null) nextLevelNodes[j++] = nodes[i].left;\n            if (nodes[i].right != null) nextLevelNodes[j++] = nodes[i].right;\n        }\n\n        nodes = nextLevelNodes.Take(j).ToArray();\n    }\n}