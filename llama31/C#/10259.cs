using System.ServiceModel;\nusing System.ServiceModel.Security;\n\n// Client-side\nvar binding = new WSHttpBinding();\nbinding.Security.Mode = SecurityMode.Message;\nbinding.Security.Message.ClientCredentialType = MessageCredentialType.UserName;\n\nvar client = new MyServiceClient(binding, new EndpointAddress("http://example.com/myservice"));\nclient.ClientCredentials.UserName.UserName = "username";\nclient.ClientCredentials.UserName.Password = "password";\n\n// Server-side\nvar binding = new WSHttpBinding();\nbinding.Security.Mode = SecurityMode.Message;\nbinding.Security.Message.ClientCredentialType = MessageCredentialType.UserName;\n\nvar host = new ServiceHost(typeof(MyService), new Uri("http://example.com/myservice"));\nhost.Credentials.UserNameAuthentication.UserNamePasswordValidationMode = UserNamePasswordValidationMode.Custom;\nhost.Credentials.UserNameAuthentication.CustomUserNamePasswordValidator = new MyValidator();