public static string decryptString(string cipherText, string password)\n{\n    try\n    {\n        SymmetricAlgorithm algorithm = getAlgorithm(password);\n        byte[] cipherBytes = Convert.FromBase64String(cipherText);\n        MemoryStream ms = new MemoryStream();\n        CryptoStream cs = new CryptoStream(ms, algorithm.CreateDecryptor(), CryptoStreamMode.Write);\n        cs.Write(cipherBytes, 0, cipherBytes.Length);\n        cs.Close();\n        return System.Text.Encoding.Unicode.GetString(ms.ToArray());\n    }\n    catch (CryptographicException e)\n    {\n        // Handle the exception, e.g. return an error message\n        return "Invalid password or corrupted ciphertext";\n    }\n}