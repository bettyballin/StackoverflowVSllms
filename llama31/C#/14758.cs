using HtmlAgilityPack;\nusing System.Net.Http;\nusing System.Text;\n\n// Load the webpage\nvar html = new HtmlDocument();\nhtml.LoadHtml(new WebClient().DownloadString("http://services.cftc.gov/sirt/sirt.aspx?Topic=ForeignPart30Exemptions"));\n\n// Extract the form fields\nvar formFields = new Dictionary<string, string>();\nforeach (var input in html.DocumentNode.SelectNodes("//input[@type='hidden']"))\n{\n    formFields.Add(input.GetAttributeValue("name", ""), input.GetAttributeValue("value", ""));\n}\n\n// Add the ShowAllCheckBox field\nformFields.Add("ctl00$ContentPlaceHolder1$GenericWebUserControl$ShowAllCheckBox", "on");\n\n// Construct the POST request\nvar postData = new StringBuilder();\nforeach (var field in formFields)\n{\n    postData.AppendFormat("{0}={1}&", field.Key, HttpUtility.UrlEncode(field.Value));\n}\n\n// Remove the trailing '&' character\npostData.Length--;\n\n// Send the POST request\nvar client = new HttpClient();\nvar response = client.PostAsync("http://services.cftc.gov/sirt/sirt.aspx?Topic=ForeignPart30Exemptions", new StringContent(postData.ToString(), Encoding.UTF8, "application/x-www-form-urlencoded")).Result;\n\n// Read the response\nvar outputHTML = response.Content.ReadAsStringAsync().Result;\nConsole.WriteLine(outputHTML);