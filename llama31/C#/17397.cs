[TestMethod]\npublic void TestMethod1() \n{ \n    var principal = new Mock<IPrincipal>();\n    var identity = new Mock<IIdentity>();\n    identity.Setup(i => i.IsAuthenticated).Returns(true);\n    identity.Setup(i => i.Name).Returns("TestUser");\n    principal.Setup(p => p.Identity).Returns(identity.Object);\n    Thread.CurrentThread.SetPrincipal(principal.Object);\n    var c = new MyClass();\n}