public class MultilineTreeNode : TreeNode\n{\n    public MultilineTreeNode(string text) : base(text) { }\n\n    protected override void DrawNode(Graphics graphics, Font font, Rectangle bounds, Color textColor, Color backColor, Color backgroundBrush, TreeViewDrawMode drawMode, TreeViewItemStates itemState)\n    {\n        using (StringFormat sf = new StringFormat())\n        {\n            sf.Alignment = StringAlignment.Near;\n            sf.LineAlignment = StringAlignment.Near;\n            sf.FormatFlags = StringFormatFlags.MeasureTrailingSpaces;\n\n            string[] lines = Text.Split('\n');\n            for (int i = 0; i < lines.Length; i++)\n            {\n                string line = lines[i].Replace("\t", "    "); // replace tabs with spaces\n                graphics.DrawString(line, font, new SolidBrush(textColor), new Rectangle(bounds.X, bounds.Y + (i * font.Height), bounds.Width, font.Height));\n            }\n        }\n    }\n}