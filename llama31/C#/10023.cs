using System;\nusing System.IO;\n\npublic static bool IsBinaryFile(string filePath)\n{\n    using (var fileStream = new FileStream(filePath, FileMode.Open, FileAccess.Read))\n    {\n        int bytesRead;\n        var buffer = new byte[1024];\n\n        while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) > 0)\n        {\n            foreach (var b in buffer.Take(bytesRead))\n            {\n                if (b < 9 || b > 127 || b == 127) // ASCII control characters or DEL\n                {\n                    return true; // likely binary\n                }\n            }\n        }\n    }\n    return false; // likely text\n}