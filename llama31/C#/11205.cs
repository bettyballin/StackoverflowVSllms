public class CompanySessionStateModule : SessionStateModule\n{\n    protected override SessionStateStore GetSessionStateStore()\n    {\n        string companyName = HttpContext.Current.Request.QueryString["companyName"];\n        if (!string.IsNullOrEmpty(companyName))\n        {\n            // Create a new session state store for the company\n            return new InProcSessionStateStore(companyName);\n        }\n        else\n        {\n            // Return the default session state store\n            return base.GetSessionStateStore();\n        }\n    }\n}\n\npublic class InProcSessionStateStore : SessionStateStore\n{\n    private string _companyName;\n\n    public InProcSessionStateStore(string companyName)\n    {\n        _companyName = companyName;\n    }\n\n    public override void Initialize(string name, NameValueCollection config)\n    {\n        base.Initialize(name, config);\n        // Use a different cache for each company\n        this._cache = new Cache(_companyName);\n    }\n}