void CreateControlHierachy()\n{\n    var hiddenField = new HiddenField { ID = "hiddenField" };\n    Controls.Add(hiddenField);\n\n    var validator = new CustomValidator\n    {\n        ErrorMessage = "Can't do that!",\n        ControlToValidate = "hiddenField"\n    };\n\n    validator.ServerValidate += (sender, e) =>\n    {\n        e.IsValid = false;\n    };\n\n    Controls.Add(validator);\n}