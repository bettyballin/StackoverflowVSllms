private void button1_Click(object sender, EventArgs e)\n{\n    SqlConnection conn = new SqlConnection(@"Data Source = bigapple; Initial Catalog = master; Integrated Security = SSPI; Asynchronous Processing = true;");\n    conn.Open();\n    SqlCommand cmd = new SqlCommand(@"WAITFOR DELAY '00:03'; Select top 3 * from sysobjects;", conn);\n    IAsyncResult result = cmd.BeginExecuteReader(new AsyncCallback(HandleCallback), cmd, CommandBehavior.CloseConnection);\n}\n\nprivate void HandleCallback(IAsyncResult result)\n{\n    SqlDataReader dr;\n    SqlCommand _this = (SqlCommand)result.AsyncState;\n\n    if (result.IsCompleted)\n    {\n        dr = _this.EndExecuteReader(result);\n    }\n    else\n    {\n        dr = null;\n    }\n\n    // ...\n\n    // Close the connection here\n    _this.Connection.Close();\n}