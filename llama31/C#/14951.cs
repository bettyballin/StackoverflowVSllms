using System;\nusing System.Threading;\n\nclass Program\n{\n    static SemaphoreSlim semaphore = new SemaphoreSlim(1, 1);\n\n    static void Main()\n    {\n        // ...\n\n        Thread thread = new Thread(() =>\n        {\n            semaphore.Wait();\n            try\n            {\n                // access shared resource\n            }\n            finally\n            {\n                semaphore.Release();\n            }\n        });\n\n        // ...\n    }\n}