using System.Web;\n\npublic class MyModule : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        if (HttpRuntime.UsingIntegratedPipeline)\n        {\n            // IIS7-specific code\n            HttpContext currentContext = context.Context;\n        }\n        else\n        {\n            // IIS6-specific code\n            HttpContext currentContext = HttpContext.Current;\n        }\n    }\n\n    public void Dispose()\n    {\n    }\n}