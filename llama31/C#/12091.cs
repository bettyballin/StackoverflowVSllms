Container.Register(\n    AllTypes.Pick()\n    .FromAssemblyNamed("MyAssembly")\n    .If(t => t.Name.EndsWith("ABC"))\n    .Configure(c => \n    {\n        c.LifeStyle.Is(LifestyleType.Transient);\n        c.DependsOn(Property.ForKey("P").Eq("foo"));\n    })\n    .WithService.Select(i => typeof(I))\n);\n\nContainer.Register(\n    AllTypes.Pick()\n    .FromAssemblyNamed("MyAssembly")\n    .If(t => t.Name.EndsWith("123"))\n    .Configure(c => \n    {\n        c.LifeStyle.Is(LifestyleType.Transient);\n        c.DependsOn(Property.ForKey("P").Eq("foobar"));\n    })\n    .WithService.Select(i => typeof(I))\n);