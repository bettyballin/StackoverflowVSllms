using System;\nusing System.Net;\nusing System.Text.RegularExpressions;\n\npublic class Program\n{\n    static void Main()\n    {\n        string loginUrl = "Login.aspx";\n        string internalUrl = "Internal.aspx";\n\n        string username = "your_username";\n        string password = "your_password";\n\n        var cookies = new CookieContainer();\n\n        // First, fetch the login page to get the viewstate and event validation values\n        HttpWebRequest initialRequest = (HttpWebRequest)WebRequest.Create(loginUrl);\n        initialRequest.Method = "GET";\n        initialRequest.CookieContainer = cookies;\n\n        HttpWebResponse initialResponse = (HttpWebResponse)initialRequest.GetResponse();\n        string initialResponseString = new System.IO.StreamReader(initialResponse.GetResponseStream()).ReadToEnd();\n\n        // Extract viewstate and event validation values from the login page\n        string viewstateValue = ExtractViewstate(initialResponseString);\n        string eventValidationValue = ExtractEventValidation(initialResponseString);\n\n        // Prepare the login data\n        string postData = $"__VIEWSTATE={viewstateValue}&__EVENTVALIDATION={eventValidationValue}&UserName={username}&Password={password}&LoginButton=Login";\n\n        // Now, simulate the login post request\n        HttpWebRequest loginRequest = (HttpWebRequest)WebRequest.Create(loginUrl);\n        loginRequest.Method = "POST";\n        loginRequest.ContentType = "application/x-www-form-urlencoded";\n        loginRequest.CookieContainer = cookies;\n\n        // Write the post data to the request stream\n        byte[] postDataBytes = System.Text.Encoding.UTF8.GetBytes(postData);\n        loginRequest.ContentLength = postDataBytes.Length;\n        using (System.IO.Stream requestStream = loginRequest.GetRequestStream())\n        {\n            requestStream.Write(postDataBytes, 0, postDataBytes.Length);\n        }\n\n        HttpWebResponse loginResponse = (HttpWebResponse)loginRequest.GetResponse();\n\n        // If the login is successful, fetch the internal page\n        HttpWebRequest internalRequest = (HttpWebRequest)WebRequest.Create(internalUrl);\n        internalRequest.Method = "GET";\n        internalRequest.CookieContainer = cookies;\n\n        HttpWebResponse internalResponse = (HttpWebResponse)internalRequest.GetResponse();\n        string internalResponseString = new System.IO.StreamReader(internalResponse.GetResponseStream()).ReadToEnd();\n\n        Console.WriteLine(internalResponseString);\n    }\n\n    static string ExtractViewstate(string html)\n    {\n        return ExtractValue(html, "__VIEWSTATE");\n    }\n\n    static string ExtractEventValidation(string html)\n    {\n        return ExtractValue(html, "__EVENTVALIDATION");\n    }\n\n    static string ExtractValue(string html, string name)\n    {\n        var regex = new Regex(name + "\" value=\"([^\"]+)\"");\n        var match = regex.Match(html);\n        if (match.Success)\n        {\n            return match.Groups[1].Value;\n        }\n        return null;\n    }\n}