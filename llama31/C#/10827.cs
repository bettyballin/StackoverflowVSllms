using NCalc;\n\npublic class DynamicExpressionEvaluator\n{\n    public bool Evaluate(string expression, params bool[] values)\n    {\n        var evaluator = new ExpressionEvaluator();\n\n        for (int i = 0; i < values.Length; i++)\n        {\n            evaluator.Parameters[$"A{i+1}"] = values[i];\n        }\n\n        expression = expression.Replace("And", "&&").Replace("Or", "||").Replace("Not", "!");\n\n        var result = evaluator.Evaluate(expression);\n\n        return Convert.ToBoolean(result);\n    }\n}