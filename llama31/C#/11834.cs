using System.Web.Caching;\n\npublic class UserProfileCache\n{\n    private Cache _cache = HttpRuntime.Cache;\n\n    public UserProfile GetCachedUserProfile(int userId)\n    {\n        string cacheKey = $"UserProfile_{userId}";\n        UserProfile profile = _cache[cacheKey] as UserProfile;\n\n        if (profile == null)\n        {\n            // Retrieve profile from database and cache it\n            profile = _repository.GetUserProfile(userId);\n            _cache.Insert(cacheKey, profile, null, DateTime.Now.AddMinutes(30), TimeSpan.Zero);\n        }\n\n        return profile;\n    }\n}