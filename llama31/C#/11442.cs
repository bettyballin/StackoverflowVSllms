using SendGrid;\nusing SendGrid.Helpers.Mail;\n\npublic class EmailListManager\n{\n    private readonly SendGridClient _sendGridClient;\n\n    public EmailListManager(string apiKey)\n    {\n        _sendGridClient = new SendGridClient(apiKey);\n    }\n\n    public async Task SendEmailAsync(string listName, EmailContent content)\n    {\n        var msg = MailHelper.CreateSingleEmailToMultipleRecipients(\n            new EmailAddress("your-from-email@example.com"),\n            _emailLists[listName].Select(s => new EmailAddress(s.EmailAddress)),\n            content.Subject,\n            content.Body,\n            null);\n\n        await _sendGridClient.SendEmailAsync(msg);\n    }\n}