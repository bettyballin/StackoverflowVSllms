using System.IO;\n\nclass FileTruncator\n{\n    [DllImport("kernel32.dll", SetLastError = true)]\n    static extern bool SetFileValidData(IntPtr hFile, long ValidDataLength);\n\n    public static void TruncateFile(string filePath)\n    {\n        using (var fileStream = new FileStream(filePath, FileMode.Open, FileAccess.Write, FileShare.ReadWrite))\n        {\n            var fileHandle = fileStream.SafeFileHandle.DangerousGetHandle();\n            SetFileValidData(fileHandle, 0);\n        }\n    }\n}