using System;\nusing System.Data;\nusing System.Data.SqlClient;\n\npublic class SessionLogger : System.Web.SessionState.SessionStateModule\n{\n    public void Session_Start(object sender, EventArgs e)\n    {\n        // Log session start\n        string connectionString = ConfigurationManager.ConnectionStrings["YourDBConnectionString"].ConnectionString;\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            string sql = "INSERT INTO SessionLogs (SessionId, StartTime, UserId) VALUES (@SessionId, @StartTime, @UserId)";\n            SqlCommand command = new SqlCommand(sql, connection);\n            command.Parameters.AddWithValue("@SessionId", Session.SessionID);\n            command.Parameters.AddWithValue("@StartTime", DateTime.Now);\n            command.Parameters.AddWithValue("@UserId", HttpContext.Current.User.Identity.Name);\n            command.ExecuteNonQuery();\n        }\n    }\n\n    public void Session_End(object sender, EventArgs e)\n    {\n        // Log session end\n        string connectionString = ConfigurationManager.ConnectionStrings["YourDBConnectionString"].ConnectionString;\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n            string sql = "UPDATE SessionLogs SET EndTime = @EndTime WHERE SessionId = @SessionId";\n            SqlCommand command = new SqlCommand(sql, connection);\n            command.Parameters.AddWithValue("@EndTime", DateTime.Now);\n            command.Parameters.AddWithValue("@SessionId", Session.SessionID);\n            command.ExecuteNonQuery();\n        }\n    }\n}