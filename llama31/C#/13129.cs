using System.Diagnostics;\nusing System.Data.SqlClient;\n\npublic class Logger\n{\n    public void LogCriticalError(string message)\n    {\n        EventLog.WriteEntry("MyApp", message, EventLogEntryType.Error);\n    }\n\n    public void LogDetailedError(string message, string methodName)\n    {\n        using (SqlConnection connection = new SqlConnection("Data Source=myDB;Initial Catalog=myDB;Integrated Security=True"))\n        {\n            connection.Open();\n            SqlCommand command = new SqlCommand("INSERT INTO Errors (Message, MethodName) VALUES (@Message, @MethodName)", connection);\n            command.Parameters.AddWithValue("@Message", message);\n            command.Parameters.AddWithValue("@MethodName", methodName);\n            command.ExecuteNonQuery();\n        }\n    }\n}