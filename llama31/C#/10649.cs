using JetBrains.Profiler.Sdk;\n\n   class Program\n   {\n       static void Main(string[] args)\n       {\n           var profiler = new Profiler();\n           profiler.Start();\n\n           // Run your ClickOnce application\n           Process.Start("rundll32.exe", "dfsvc.dll,ShOpenVerbApplication <your_app_name>.appref-ms");\n\n           // Wait for the application to start\n           Thread.Sleep(1000);\n\n           // Get the process ID of the application\n           var processId = GetProcessId("<your_app_name>");\n\n           // Attach the profiler to the application\n           profiler.Attach(processId);\n\n           // Profile the application for 10 seconds\n           Thread.Sleep(10000);\n\n           // Detach the profiler and save the profiling results\n           profiler.Detach();\n           profiler.Save("profiling_results.dtp");\n       }\n\n       static int GetProcessId(string processName)\n       {\n           var processes = Process.GetProcessesByName(processName);\n           return processes[0].Id;\n       }\n   }