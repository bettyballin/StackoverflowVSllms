using System.Data;\nusing System.Data.SqlClient;\n\n// Create a DataTable with the tags\nDataTable tags = new DataTable();\ntags.Columns.Add("Name", typeof(string));\ntags.Rows.Add("ruby");\ntags.Rows.Add("rails");\ntags.Rows.Add("scruffy");\ntags.Rows.Add("rubyonrails");\n\n// Create a connection and command\nSqlConnection conn = new SqlConnection("your connection string");\nSqlCommand cmd = new SqlCommand("GetTags", conn);\ncmd.CommandType = CommandType.StoredProcedure;\n\n// Create a SqlParameter with the DataTable\nSqlParameter param = new SqlParameter("@TagTable", SqlDbType.Structured);\nparam.TypeName = "TagTableType";\nparam.Value = tags;\n\n// Add the parameter to the command\ncmd.Parameters.Add(param);\n\n// Execute the query\nconn.Open();\nSqlDataReader reader = cmd.ExecuteReader();\nwhile (reader.Read())\n{\n    // Process the results\n}\nconn.Close();