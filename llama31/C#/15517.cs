private void CheckReadAttribute(DirectoryInfo di)\n{\n    try\n    {\n        DirectorySecurity DirSec = new DirectorySecurity(di.FullName, AccessControlSections.Access);\n        foreach (FileSystemAccessRule FSAR in DirSec.GetAccessRules(true, true, typeof(System.Security.Principal.NTAccount)))\n        {\n            if (FSAR.FileSystemRights.HasFlag(FileSystemRights.Read))\n            {\n                Console.WriteLine($"Folder {di.FullName} has read attribute");\n            }\n        }\n    }\n    catch (UnauthorizedAccessException ex)\n    {\n        // Handle the exception\n        Console.WriteLine($"Error accessing folder {di.FullName}: {ex.Message}");\n    }\n}