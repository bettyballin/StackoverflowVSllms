// Service side\n[ServiceBehavior]\npublic class DatasetExtendedPropertiesServiceBehavior : IServiceBehavior\n{\n    public void AddBindingParameters(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase, Collection<ServiceEndpoint> endpoints, BindingParameterCollection bindingParameters)\n    {\n        // Not needed for this scenario\n    }\n\n    public void ApplyDispatchBehavior(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase)\n    {\n        foreach (var endpoint in serviceDescription.Endpoints)\n        {\n            endpoint.DispatchRuntime.MessageInspectors.Add(new DatasetExtendedPropertiesInspector());\n        }\n    }\n\n    public void Validate(ServiceDescription serviceDescription, ServiceHostBase serviceHostBase)\n    {\n        // Not needed for this scenario\n    }\n}\n\n// Client side\n[ClientBehavior]\npublic class DatasetExtendedPropertiesClientBehavior : IClientBehavior\n{\n    public void AddBindingParameters(ContractDescription contractDescription, ServiceEndpoint endpoint, BindingParameterCollection bindingParameters)\n    {\n        // Not needed for this scenario\n    }\n\n    public void ApplyClientBehavior(ContractDescription contractDescription, ServiceEndpoint endpoint, ClientRuntime clientRuntime)\n    {\n        clientRuntime.MessageInspectors.Add(new DatasetExtendedPropertiesInspector());\n    }\n\n    public void Validate(ContractDescription contractDescription, ServiceEndpoint endpoint)\n    {\n        // Not needed for this scenario\n    }\n}