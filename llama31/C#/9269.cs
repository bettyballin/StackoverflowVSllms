var sessionFactory = new NHibernate.Cfg.Configuration()\n    .BuildSessionFactory();\n\nvar session = sessionFactory.OpenSession();\n\nvar query = session.CreateSQLQuery("SELECT * FROM customers")\n    .AddScalar("customer_id", NHibernate.Type.Int32Type.Instance)\n    .AddScalar("name", NHibernate.Type.StringType.Instance);\n\n// Add filters dynamically based on customer configuration\nif (customerConfig.FilterByCountry)\n{\n    query.AddScalar("country", NHibernate.Type.StringType.Instance);\n    query.SetParameter("country", customerConfig.Country);\n    query.Append(" WHERE country = :country");\n}\n\nvar results = query.List<object[]>();