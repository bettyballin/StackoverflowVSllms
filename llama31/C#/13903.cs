void transportHelper_SubscriptionMessageReceived(object sender, SubscriptionMessageEventArgs e)\n{\n    if (SynchronizationContext.Current != synchronizationContext)\n    {\n        synchronizationContext.Post(state => HandleSubscriptionMessage(e), null);\n        return;\n    }\n\n    HandleSubscriptionMessage(e);\n}\n\nvoid HandleSubscriptionMessage(SubscriptionMessageEventArgs e)\n{\n    // [code removed...]\n}