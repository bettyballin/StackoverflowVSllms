using System.Web.Security;\n\nclass MembershipManager\n{\n    private string connectionString;\n\n    public MembershipManager(string connectionString)\n    {\n        this.connectionString = connectionString;\n    }\n\n    public void CreateUser(string username, string password, string email)\n    {\n        SqlMembershipProvider provider = new SqlMembershipProvider();\n        provider.Initialize("MyMembershipProvider", connectionString);\n        MembershipCreateStatus status;\n        provider.CreateUser(username, password, email, null, null, true, null, out status);\n    }\n\n    public void AddUserToRole(string username, string role)\n    {\n        SqlRoleProvider provider = new SqlRoleProvider();\n        provider.Initialize("MyRoleProvider", connectionString);\n        provider.AddUsersToRoles(new string[] { username }, new string[] { role });\n    }\n}