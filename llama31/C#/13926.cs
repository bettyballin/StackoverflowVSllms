public class TryLock : IDisposable\n{\n    private readonly object _syncRoot;\n    private bool _lockAcquired;\n\n    public TryLock(object syncRoot)\n    {\n        _syncRoot = syncRoot;\n        _lockAcquired = Monitor.TryEnter(syncRoot);\n    }\n\n    public bool IsLockAcquired => _lockAcquired;\n\n    public void Dispose()\n    {\n        if (_lockAcquired)\n        {\n            Monitor.Exit(_syncRoot);\n        }\n    }\n}