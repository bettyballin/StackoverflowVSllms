using System;\nusing System.IO;\nusing System.Web;\n\npublic class UploadHandler : IHttpHandler\n{\n    public void ProcessRequest(HttpContext context)\n    {\n        var request = context.Request;\n        var response = context.Response;\n\n        // Check if the request is a multipart/form-data request\n        if (request.ContentType.StartsWith("multipart/form-data"))\n        {\n            // Get the file from the request\n            var file = request.Files[0];\n\n            // Get the file name and length\n            var fileName = file.FileName;\n            var fileLength = file.ContentLength;\n\n            // Set up the progress bar\n            var progressBar = new ProgressBar(fileLength);\n\n            // Stream the file upload\n            using (var reader = new BinaryReader(file.InputStream))\n            {\n                var chunkSize = 4096;\n                var buffer = new byte[chunkSize];\n\n                while (reader.Read(buffer, 0, chunkSize) > 0)\n                {\n                    // Update the progress bar\n                    progressBar.Update(buffer.Length);\n\n                    // Write the chunk to the response\n                    response.BinaryWrite(buffer);\n                }\n            }\n\n            // Update the progress bar to 100%\n            progressBar.Update(fileLength);\n\n            // Return a success message\n            response.Write("File uploaded successfully!");\n        }\n        else\n        {\n            // Return an error message\n            response.Write("Invalid request.");\n        }\n    }\n\n    public bool IsReusable\n    {\n        get { return true; }\n    }\n}\n\npublic class ProgressBar\n{\n    private int _totalBytes;\n    private int _bytesUploaded;\n\n    public ProgressBar(int totalBytes)\n    {\n        _totalBytes = totalBytes;\n    }\n\n    public void Update(int bytesUploaded)\n    {\n        _bytesUploaded += bytesUploaded;\n        var progress = (_bytesUploaded / (double)_totalBytes) * 100;\n        Console.WriteLine($"Uploading... {progress:F2}%");\n    }\n}