using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading;\n\nclass ProxyServer\n{\n    private TcpListener _listener;\n\n    public ProxyServer(int port)\n    {\n        _listener = new TcpListener(IPAddress.Any, port);\n    }\n\n    public void Start()\n    {\n        _listener.Start();\n        Console.WriteLine("Proxy server started. Listening on port " + _listener.LocalEndpoint);\n\n        while (true)\n        {\n            TcpClient client = _listener.AcceptTcpClient();\n            Console.WriteLine("Client connected");\n\n            Thread thread = new Thread(new ParameterizedThreadStart(HandleClient));\n            thread.Start(client);\n        }\n    }\n\n    private void HandleClient(object client)\n    {\n        TcpClient tcpClient = (TcpClient)client;\n        NetworkStream clientStream = tcpClient.GetStream();\n\n        byte[] message = new byte[4096];\n        int bytesRead = 0;\n\n        while (true)\n        {\n            bytesRead = 0;\n\n            try\n            {\n                bytesRead = clientStream.Read(message, 0, 4096);\n            }\n            catch\n            {\n                break;\n            }\n\n            if (bytesRead == 0)\n            {\n                break;\n            }\n\n            string request = Encoding.ASCII.GetString(message, 0, bytesRead);\n            Console.WriteLine(request);\n\n            // Get the requested URL\n            string[] lines = request.Split('\n');\n            string url = lines[0].Split(' ')[1];\n\n            // Send the request to the web server\n            HttpWebRequest webRequest = (HttpWebRequest)WebRequest.Create(url);\n            webRequest.Method = "GET";\n            HttpWebResponse webResponse = (HttpWebResponse)webRequest.GetResponse();\n\n            // Send the response back to the client\n            byte[] buffer = new byte[4096];\n            Stream responseStream = webResponse.GetResponseStream();\n\n            int bytesReadFromWeb = 0;\n            do\n            {\n                bytesReadFromWeb = responseStream.Read(buffer, 0, 4096);\n                clientStream.Write(buffer, 0, bytesReadFromWeb);\n            }\n            while (bytesReadFromWeb > 0);\n\n            webResponse.Close();\n        }\n\n        tcpClient.Close();\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        ProxyServer proxy = new ProxyServer(8080);\n        proxy.Start();\n    }\n}