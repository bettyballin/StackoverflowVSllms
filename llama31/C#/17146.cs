using System.ServiceModel;\nusing System.ServiceModel.Diagnostics;\n\n// Get the service host\nServiceHost host = new ServiceHost(typeof(MyService));\n\n// Get the performance counters\nvar performanceCounters = host.Description.Behaviors.Find<ServiceModelPerformanceCounters>();\n\n// Get the number of connections open\nint openConnections = performanceCounters.OpenConnections.CurrentValue;\n\n// Get the number of requests received\nint requestsReceived = performanceCounters.RequestsReceived.CurrentValue;