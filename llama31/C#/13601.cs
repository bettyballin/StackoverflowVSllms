using System.ServiceProcess;\nusing System.ServiceModel;\n\npublic class MyService : ServiceBase\n{\n    public MyService()\n    {\n        ServiceName = "MyService";\n    }\n\n    protected override void OnStart(string[] args)\n    {\n        if (host == null)\n        {\n            host = new ServiceHost(typeof(MyService));\n            host.Open();\n        }\n    }\n\n    protected override void OnStop()\n    {\n        if (host != null)\n        {\n            host.Close();\n            host = null;\n        }\n    }\n\n    private ServiceHost host;\n}