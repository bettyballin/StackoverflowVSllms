[HttpPost]\npublic ActionResult Register(RegisterModel model)\n{\n    if (ModelState.IsValid)\n    {\n        // Register the user using the built-in membership system\n        MembershipCreateStatus status;\n        MembershipUser user = Membership.CreateUser(model.UserName, model.Password, model.Email, null, null, true, out status);\n\n        if (status == MembershipCreateStatus.Success)\n        {\n            // Create a new UserProfile record\n            UserProfile profile = new UserProfile { UserId = user.ProviderUserKey, Address = model.Address, PhoneNumber = model.PhoneNumber };\n            UserProfileDataContext context = new UserProfileDataContext();\n            context.UserProfiles.InsertOnSubmit(profile);\n            context.SubmitChanges();\n        }\n    }\n    // ...\n}