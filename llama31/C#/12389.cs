using StackExchange.Redis;\n\npublic class Global : HttpApplication\n{\n    private static ConnectionMultiplexer _redisConnection;\n\n    protected void Application_Start(object sender, EventArgs e)\n    {\n        _redisConnection = ConnectionMultiplexer.Connect("localhost");\n\n        var lockKey = "mylock";\n        var lockTimeout = TimeSpan.FromMinutes(1);\n\n        if (_redisConnection.GetDatabase().StringSet(lockKey, "locked", lockTimeout, when: When.NotExists))\n        {\n            // code to run only once\n        }\n    }\n}