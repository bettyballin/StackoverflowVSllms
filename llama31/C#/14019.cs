protected override void WndProc(ref Message m)\n{\n    if (m.Msg == 0x0003) // WM_MOVE\n    {\n        Rectangle mdiClientArea = this.ClientRectangle;\n        foreach (Form childForm in this.MdiChildren)\n        {\n            if (childForm.WindowState == FormWindowState.Normal)\n            {\n                Rectangle childFormBounds = childForm.Bounds;\n                if (childFormBounds.X < mdiClientArea.X ||\n                    childFormBounds.Y < mdiClientArea.Y ||\n                    childFormBounds.Right > mdiClientArea.Right ||\n                    childFormBounds.Bottom > mdiClientArea.Bottom)\n                {\n                    // Move the child form back inside the MDI client area\n                    childForm.Location = new Point(\n                        Math.Max(mdiClientArea.X, Math.Min(childFormBounds.X, mdiClientArea.Right - childFormBounds.Width)),\n                        Math.Max(mdiClientArea.Y, Math.Min(childFormBounds.Y, mdiClientArea.Bottom - childFormBounds.Height)));\n                }\n            }\n        }\n    }\n    base.WndProc(ref m);\n}