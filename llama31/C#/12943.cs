using System;\n\nclass EndianHelper\n{\n    public static byte[] GetBytes(int value, bool isLittleEndian)\n    {\n        byte[] bytes = BitConverter.GetBytes(value);\n        if (isLittleEndian != BitConverter.IsLittleEndian)\n        {\n            Array.Reverse(bytes);\n        }\n        return bytes;\n    }\n\n    public static int ToInt32(byte[] bytes, int offset, bool isLittleEndian)\n    {\n        if (isLittleEndian != BitConverter.IsLittleEndian)\n        {\n            byte[] reversed = new byte[4];\n            Array.Copy(bytes, offset, reversed, 0, 4);\n            Array.Reverse(reversed);\n            return BitConverter.ToInt32(reversed, 0);\n        }\n        return BitConverter.ToInt32(bytes, offset);\n    }\n}