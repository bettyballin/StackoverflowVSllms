using Microsoft.Practices.EnterpriseLibrary.Logging;\n\npublic class MyClass\n{\n    private readonly LogWriter _logger;\n\n    public MyClass()\n    {\n        _logger = new LogWriterFactory().Create();\n    }\n\n    public void DoSomething()\n    {\n        try\n        {\n            // Do something\n        }\n        catch (Exception ex)\n        {\n            _logger.Write(new LogEntry\n            {\n                Message = "Something went wrong",\n                Severity = TraceEventType.Error,\n                Exception = ex\n            });\n        }\n    }\n}