using System.Net;\n\n//...\n\nusing (var webClient = new WebClient())\n{\n    webClient.OpenReadCompleted += (sender, e) =>\n    {\n        if (e.Error != null)\n        {\n            // handle error\n            return;\n        }\n\n        var contentType = e.Result.Headers["Content-Type"];\n        if (contentType == null || !contentType.StartsWith("text/html"))\n        {\n            // ignore non-html files\n            return;\n        }\n\n        // download the file\n        var data = webClient.DownloadData(e.Result.ResponseUri);\n        // process the data\n    };\n\n    webClient.OpenReadAsync(new Uri("https://example.com"));\n}