var selectedChildren = parents\n    .Where(p => p.Children.Any(c => c.CategoryNumber == 1))\n    .SelectMany(p => p.Children.Where(c => c.CategoryNumber == 2));