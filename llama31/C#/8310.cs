using System.Web.Mvc;\nusing System.Web.Security;\n\npublic class AccountController : Controller\n{\n    private readonly IUserRepository _userRepository;\n\n    public AccountController(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n\n    public ActionResult Login(string username, string password)\n    {\n        // Authenticate the user\n        var user = _userRepository.GetByUsername(username);\n        if (user != null && user.PasswordMatches(password))\n        {\n            // Store device information\n            var deviceInfo = new DeviceInfo\n            {\n                BrowserType = Request.Browser.Type,\n                OS = Request.Browser.OS,\n                ScreenResolution = Request.Browser.ScreenResolution,\n                IPAddress = Request.UserHostAddress\n            };\n            user.DeviceInfo = deviceInfo;\n            _userRepository.UpdateUser(user);\n\n            // Login the user\n            FormsAuthentication.SetAuthCookie(username, false);\n            return RedirectToAction("Index", "Home");\n        }\n        return View();\n    }\n}\n\npublic class DeviceInfo\n{\n    public string BrowserType { get; set; }\n    public string OS { get; set; }\n    public string ScreenResolution { get; set; }\n    public string IPAddress { get; set; }\n}