using System;\nusing System.Web.Security;\nusing System.DirectoryServices;\n\npublic partial class Login : Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        // Check if the user is trying to log in with AD credentials\n        if (Request.Form["username"].Contains("@yourdomain.com"))\n        {\n            // Redirect to internal server\n            Response.Redirect("https://internalserver.yourdomain.com");\n        }\n    }\n\n    protected void LoginButton_Click(object sender, EventArgs e)\n    {\n        // Authenticate user against SQL database\n        string username = Request.Form["username"];\n        string password = Request.Form["password"];\n\n        if (Membership.ValidateUser(username, password))\n        {\n            // Log in user and redirect to protected page\n            FormsAuthentication.SetAuthCookie(username, true);\n            Response.Redirect("protectedpage.aspx");\n        }\n        else\n        {\n            // Display error message\n            ErrorMessage.Text = "Invalid username or password.";\n        }\n    }\n}