using System.Web.Mvc;\nusing System.Web.Routing;\n\npublic class AuthorizeAjaxAttribute : AuthorizeAttribute\n{\n    protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)\n    {\n        if (filterContext.HttpContext.Request.IsAjaxRequest())\n        {\n            filterContext.Result = new RedirectToRouteResult(\n                new RouteValueDictionary { { "controller", "Account" }, { "action", "Login" } });\n        }\n        else\n        {\n            base.HandleUnauthorizedRequest(filterContext);\n        }\n    }\n}