[TestMethod]\npublic void Should_update_foo_to_active_inside_of_repository()\n{\n  // arrange\n  var repo = MockRepository.GenerateMock<IRepository>();\n  var foo = new Foo() { ID = 1, IsActive = false };\n  var target = new Presenter(repo);\n  repo.Expect(x => x.ActivateFoo(foo))\n    .WhenCalled(invocation => foo.IsActive = true)\n    .Return(true);\n\n  // act\n  target.Activate(foo);\n\n  // assert\n  Assert.IsTrue(foo.IsActive);\n  repo.VerifyAllExpectations();\n}