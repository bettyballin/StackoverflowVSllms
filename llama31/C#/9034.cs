using System.Web.Security;\nusing System.DirectoryServices;\n\npublic class CustomRoleProvider : RoleProvider\n{\n    public override string[] GetRolesForUser(string username)\n    {\n        // Fetch roles from Active Directory\n        DirectorySearcher searcher = new DirectorySearcher();\n        searcher.Filter = $"(&(objectClass=user)(sAMAccountName={username}))";\n        searcher.PropertiesToLoad.Add("memberOf");\n\n        SearchResult result = searcher.FindOne();\n        if (result != null)\n        {\n            PropertyValueCollection groups = result.Properties["memberOf"];\n            string[] roles = new string[groups.Count];\n\n            for (int i = 0; i < groups.Count; i++)\n            {\n                roles[i] = groups[i].ToString().Split(',')[0].Split('=')[1];\n            }\n\n            return roles;\n        }\n\n        return new string[0];\n    }\n\n    // Other method implementations...\n}