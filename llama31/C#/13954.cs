using System;\nusing System.Drawing;\nusing System.Drawing.Imaging;\nusing System.IO;\nusing AForge.Video;\nusing AForge.Video.FFMPEG;\n\npublic class ScreenRecorder\n{\n    private Rectangle _screenBounds;\n    private string _outputFile;\n    private VideoFileWriter _writer;\n\n    public ScreenRecorder(Rectangle screenBounds, string outputFile)\n    {\n        _screenBounds = screenBounds;\n        _outputFile = outputFile;\n        _writer = new VideoFileWriter();\n    }\n\n    public void Start()\n    {\n        _writer.Open(_outputFile, _screenBounds.Width, _screenBounds.Height, 30, VideoCodec.MPEG4);\n        while (true)\n        {\n            Bitmap screenshot = TakeScreenshot(_screenBounds);\n            _writer.WriteVideoFrame(screenshot);\n            screenshot.Dispose();\n            System.Threading.Thread.Sleep(1000 / 30); // 30 FPS\n        }\n    }\n\n    private Bitmap TakeScreenshot(Rectangle bounds)\n    {\n        Bitmap screenshot = new Bitmap(bounds.Width, bounds.Height);\n        using (Graphics g = Graphics.FromImage(screenshot))\n        {\n            g.CopyFromScreen(bounds.X, bounds.Y, 0, 0, bounds.Size);\n        }\n        return screenshot;\n    }\n}