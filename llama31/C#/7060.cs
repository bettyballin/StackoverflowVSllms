using System.Transactions;\n\n// Method 1: Begins the transaction\npublic void BeginTransaction()\n{\n    using (var scope = new TransactionScope(TransactionScopeOption.Required))\n    {\n        // Perform database upgrade here\n        // ...\n        scope.Complete(); // This doesn't commit the transaction, but rather marks it as complete\n    }\n}\n\n// Method 2: Commits or rolls back the transaction\npublic void CommitOrRollbackTransaction()\n{\n    using (var scope = new TransactionScope(TransactionScopeOption.Required))\n    {\n        // Perform web site upgrade here\n        // ...\n        if (/* web site upgrade was successful */) {\n            scope.Complete(); // This will commit the transaction\n        } else {\n            // Transaction will be rolled back automatically when scope is disposed\n        }\n    }\n}