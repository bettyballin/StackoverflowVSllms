try\n{\n    this.Validate();\n    this.studentsBindingSource.EndEdit();\n    int rowsAffected = this.studentsTableAdapter.Update(this.studentsDataSet.FirstClass);\n    if (rowsAffected == 0)\n    {\n        MessageBox.Show("No changes to save.");\n    }\n}\ncatch (System.Data.SqlClient.SqlException ex)\n{\n    MessageBox.Show("An error occurred while saving changes: " + ex.Message);\n}\ncatch (Exception ex)\n{\n    MessageBox.Show("An unexpected error occurred: " + ex.Message);\n}