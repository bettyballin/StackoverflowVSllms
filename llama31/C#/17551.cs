using System;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\n\npublic class FileDownloader\n{\n    public async Task DownloadFileAsync(string url, string filePath)\n    {\n        using (var handler = new HttpClientHandler())\n        {\n            handler.CookieContainer = new CookieContainer();\n\n            using (var client = new HttpClient(handler))\n            {\n                client.DefaultRequestHeaders.Add("User-Agent", "Mozilla/5.0");\n                client.DefaultRequestHeaders.Add("Accept", "*/*");\n\n                var request = new HttpRequestMessage(HttpMethod.Get, url);\n                request.Headers.Add("Cookie", "yourCookieValue");\n\n                var response = await client.SendAsync(request);\n\n                if (response.IsSuccessStatusCode)\n                {\n                    using (var fs = new FileStream(filePath, FileMode.CreateNew))\n                    {\n                        await response.Content.CopyToAsync(fs);\n                    }\n                }\n                else\n                {\n                    throw new Exception($"Failed to download file. Status code: {response.StatusCode}");\n                }\n            }\n        }\n    }\n}