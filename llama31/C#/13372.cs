using System;\nusing System.ServiceProcess;\nusing Microsoft.Win32;\n\npublic class MyServiceInstaller : ServiceInstaller\n{\n    public MyServiceInstaller()\n    {\n        // ... other initialization code ...\n    }\n\n    protected override void OnAfterInstall(IDictionary savedState)\n    {\n        base.OnAfterInstall(savedState);\n\n        using (RegistryKey key = Registry.LocalMachine.OpenSubKey(@"SYSTEM\CurrentControlSet\Services\" + this.ServiceName, true))\n        {\n            if (key != null)\n            {\n                key.SetValue("ImagePath", this.Context.Parameters["assemblypath"] + " -commandlineoption");\n            }\n        }\n    }\n}