using Microsoft.AspNetCore.Proxy;\n\npublic class WebProxy : IDisposable\n{\n    private readonly ProxyServer _proxyServer;\n\n    public WebProxy(int port)\n    {\n        _proxyServer = new ProxyServer(new Uri($"http://localhost:{port}"));\n    }\n\n    public async Task Start()\n    {\n        await _proxyServer.StartAsync();\n    }\n\n    public async Task Stop()\n    {\n        await _proxyServer.StopAsync();\n    }\n\n    public void Dispose()\n    {\n        _proxyServer.Dispose();\n    }\n}