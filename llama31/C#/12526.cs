using System.Net.NetworkInformation;\n\npublic class NetworkMonitor\n{\n    public NetworkMonitor()\n    {\n        NetworkChange.NetworkAvailabilityChanged += NetworkAvailabilityChanged;\n    }\n\n    private void NetworkAvailabilityChanged(object sender, NetworkAvailabilityEventArgs e)\n    {\n        if (e.IsAvailable)\n        {\n            // Network is available, check SQL server availability\n            CheckSqlServerAvailability();\n        }\n        else\n        {\n            // Network is not available, SQL server is not reachable\n        }\n    }\n\n    private void CheckSqlServerAvailability()\n    {\n        // Use your existing IsSqlAvailable method or a modified version\n        if (IsSqlAvailable())\n        {\n            // SQL server is available, enable Merge Syncing functionality\n        }\n        else\n        {\n            // SQL server is not available, disable Merge Syncing functionality\n        }\n    }\n}