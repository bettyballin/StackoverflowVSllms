public static class ModifiedBase64Url\n{\n    public static string Encode(string unencodedText)\n    {\n        byte[] encodedBytes = Encoding.UTF8.GetBytes(unencodedText);\n        string base64EncodedText = Convert.ToBase64String(encodedBytes);\n        return base64EncodedText.Replace("=", string.Empty).Replace('+', '-').Replace('/', '_');\n    }\n\n    public static string Decode(string base64UrlEncodedText)\n    {\n        string base64EncodedText = base64UrlEncodedText.Replace('-', '+').Replace('_', '/');\n        int padding = (4 - base64EncodedText.Length % 4) % 4;\n        for (int i = 0; i < padding; i++)\n        {\n            base64EncodedText += "=";\n        }\n        byte[] encodedBytes = Convert.FromBase64String(base64EncodedText);\n        return Encoding.UTF8.GetString(encodedBytes);\n    }\n}