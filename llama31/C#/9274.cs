using System.ServiceModel;\n\npublic class ServiceHostFactory : ServiceHostFactory\n{\n    protected override ServiceHost CreateServiceHost(Type serviceType, Uri[] baseAddresses)\n    {\n        var host = new ServiceHost(serviceType, baseAddresses);\n        var endpoint = host.Description.Endpoints[0];\n        var endpointUrl = endpoint.Address;\n\n        // Do something with the endpoint URL...\n\n        return host;\n    }\n}