public class SynchronizedQueue<T>\n{\n    private readonly Queue<T> _queue = new Queue<T>();\n    private readonly object _lock = new object();\n\n    public void Enqueue(T item)\n    {\n        lock (_lock)\n        {\n            _queue.Enqueue(item);\n        }\n    }\n\n    public T Dequeue()\n    {\n        lock (_lock)\n        {\n            return _queue.Dequeue();\n        }\n    }\n}