using System;\nusing System.DirectoryServices;\nusing System.Net.Http;\nusing System.Text;\n\nnamespace SmsNotifier\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // AD connection settings\n            string adServer = "your-ad-server";\n            string adUsername = "your-ad-username";\n            string adPassword = "your-ad-password";\n            string adSearchBase = "your-ad-search-base";\n\n            // SMS gateway settings\n            string smsGatewayUrl = "your-sms-gateway-url";\n            string smsGatewayUsername = "your-sms-gateway-username";\n            string smsGatewayPassword = "your-sms-gateway-password";\n\n            // Retrieve user phone numbers from AD\n            DirectoryEntry adEntry = new DirectoryEntry(adServer, adUsername, adPassword);\n            DirectorySearcher adSearcher = new DirectorySearcher(adEntry);\n            adSearcher.Filter = "(objectClass=user)";\n            adSearcher.PropertiesToLoad.Add("mobile");\n\n            SearchResultCollection adResults = adSearcher.FindAll();\n\n            foreach (SearchResult adResult in adResults)\n            {\n                string userMobile = adResult.Properties["mobile"][0].ToString();\n\n                // Send SMS using the SMS gateway API\n                string smsMessage = "Your notification message here";\n                string smsSender = "Your sender ID here";\n\n                HttpClient httpClient = new HttpClient();\n                httpClient.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Basic", Convert.ToBase64String(Encoding.ASCII.GetBytes(smsGatewayUsername + ":" + smsGatewayPassword)));\n\n                HttpContent httpRequestContent = new StringContent($"sender={smsSender}&recipient={userMobile}&message={smsMessage}", Encoding.UTF8, "application/x-www-form-urlencoded");\n                HttpResponseMessage httpResponse = httpClient.PostAsync(smsGatewayUrl, httpRequestContent).Result;\n\n                if (httpResponse.IsSuccessStatusCode)\n                {\n                    Console.WriteLine($"SMS sent to {userMobile}");\n                }\n                else\n                {\n                    Console.WriteLine($"Error sending SMS to {userMobile}: {httpResponse.StatusCode}");\n                }\n            }\n        }\n    }\n}