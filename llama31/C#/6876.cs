using System;\nusing System.Xml;\nusing System.Data.SqlClient;\n\nclass XmlImporter\n{\n    string connectionString = "Your SQL connection string";\n\n    public void ImportXml(string xmlFile)\n    {\n        XmlDocument xmlDoc = new XmlDocument();\n        xmlDoc.Load(xmlFile);\n\n        XmlNodeList tables = xmlDoc.SelectNodes("/transaction/table");\n\n        foreach (XmlNode table in tables)\n        {\n            string tableName = table.Attributes["name"].Value;\n\n            switch (tableName)\n            {\n                case "qryRacuniSmjene":\n                    ImportRacuni(table);\n                    break;\n                case "qryRac_nplSmjene":\n                    ImportRacNpl(table);\n                    break;\n                case "qryStavkeSmjene":\n                    ImportStavke(table);\n                    break;\n            }\n        }\n    }\n\n    void ImportRacuni(XmlNode table)\n    {\n        XmlNodeList rows = table.SelectNodes("data/row");\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n\n            foreach (XmlNode row in rows)\n            {\n                string broj = row.SelectSingleNode("field[@name='BROJ']").InnerText;\n                DateTime datum = DateTime.Parse(row.SelectSingleNode("field[@name='DATUM']").InnerText);\n                DateTime ts = DateTime.Parse(row.SelectSingleNode("field[@name='TS']").InnerText);\n                int userId = int.Parse(row.SelectSingleNode("field[@name='USER_ID']").InnerText);\n                string kasaId = row.SelectSingleNode("field[@name='KASA_ID']").InnerText;\n                decimal total = decimal.Parse(row.SelectSingleNode("field[@name='TOTAL']").InnerText);\n                string status = row.SelectSingleNode("field[@name='STATUS']").InnerText;\n                string arh = row.SelectSingleNode("field[@name='ARH']").InnerText;\n\n                using (SqlCommand command = new SqlCommand("INSERT INTO Racuni (BROJ, DATUM, TS, USER_ID, KASA_ID, TOTAL, STATUS, ARH) VALUES (@broj, @datum, @ts, @userId, @kasaId, @total, @status, @arh)", connection))\n                {\n                    command.Parameters.AddWithValue("@broj", broj);\n                    command.Parameters.AddWithValue("@datum", datum);\n                    command.Parameters.AddWithValue("@ts", ts);\n                    command.Parameters.AddWithValue("@userId", userId);\n                    command.Parameters.AddWithValue("@kasaId", kasaId);\n                    command.Parameters.AddWithValue("@total", total);\n                    command.Parameters.AddWithValue("@status", status);\n                    command.Parameters.AddWithValue("@arh", arh);\n\n                    command.ExecuteNonQuery();\n                }\n            }\n        }\n    }\n\n    void ImportRacNpl(XmlNode table)\n    {\n        XmlNodeList rows = table.SelectNodes("data/row");\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n\n            foreach (XmlNode row in rows)\n            {\n                string brRac = row.SelectSingleNode("field[@name='br_rac']").InnerText;\n                string kasaId = row.SelectSingleNode("field[@name='kasa_id']").InnerText;\n                int nplId = int.Parse(row.SelectSingleNode("field[@name='npl_id']").InnerText);\n                decimal iznos = decimal.Parse(row.SelectSingleNode("field[@name='iznos']").InnerText);\n\n                using (SqlCommand command = new SqlCommand("INSERT INTO Rac_Npl (br_rac, kasa_id, npl_id, iznos) VALUES (@brRac, @kasaId, @nplId, @iznos)", connection))\n                {\n                    command.Parameters.AddWithValue("@brRac", brRac);\n                    command.Parameters.AddWithValue("@kasaId", kasaId);\n                    command.Parameters.AddWithValue("@nplId", nplId);\n                    command.Parameters.AddWithValue("@iznos", iznos);\n\n                    command.ExecuteNonQuery();\n                }\n            }\n        }\n    }\n\n    void ImportStavke(XmlNode table)\n    {\n        XmlNodeList rows = table.SelectNodes("data/row");\n\n        using (SqlConnection connection = new SqlConnection(connectionString))\n        {\n            connection.Open();\n\n            foreach (XmlNode row in rows)\n            {\n                string brRac = row.SelectSingleNode("field[@name='br_rac']").InnerText;\n                string kasaId = row.SelectSingleNode("field[@name='kasa_id']").InnerText;\n                int artId = int.Parse(row.SelectSingleNode("field[@name='art_id']").InnerText);\n                decimal kol = decimal.Parse(row.SelectSingleNode("field[@name='kol']").InnerText);\n                decimal mpc = decimal.Parse(row.SelectSingleNode("field[@name='mpc']").InnerText);\n                decimal ompc = decimal.Parse(row.SelectSingleNode("field[@name='ompc']").InnerText);\n\n                using (SqlCommand command = new SqlCommand("INSERT INTO Stavke (br_rac, kasa_id, art_id, kol, mpc, ompc) VALUES (@brRac, @kasaId, @artId, @kol, @mpc, @ompc)", connection))\n                {\n                    command.Parameters.AddWithValue("@brRac", brRac);\n                    command.Parameters.AddWithValue("@kasaId", kasaId);\n                    command.Parameters.AddWithValue("@artId", artId);\n                    command.Parameters.AddWithValue("@kol", kol);\n                    command.Parameters.AddWithValue("@mpc", mpc);\n                    command.Parameters.AddWithValue("@ompc", ompc);\n\n                    command.ExecuteNonQuery();\n                }\n            }\n        }\n    }\n}