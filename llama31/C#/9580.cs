private struct Item\n{\n    public string Text;\n    public int ID;\n    public int ParentID;\n}\n\nprivate void BuildView()\n{\n    Queue<Item> itemQueue = new Queue<Item>(40);\n\n    // Get All Parent Nodes\n    DataView dv = new DataView(dt);\n    dv.RowFilter = "ParentID = 0";\n\n    // Add the parent nodes to the queue\n    foreach (DataRowView drv in dv)\n    {\n        Item item = new Item();\n        item.Text = drv["Text"].ToString();\n        item.ID = int.Parse(drv["ID"].ToString());\n        item.ParentID = int.Parse(drv["ParentID"].ToString());\n        itemQueue.Enqueue(item);\n    }\n\n    // Go through the queue one node at a time\n    while (itemQueue.Count > 0)\n    {\n        Item currentItem = itemQueue.Dequeue();\n        Debug.WriteLine(currentItem.Text);\n\n        // Get children of current node\n        dv.RowFilter = String.Format("ParentID = {0}", currentItem.ID);\n        if (dv.Count > 0)\n        {\n            // Add child nodes to the queue\n            foreach (DataRowView drvChild in dv)\n            {\n                Item item = new Item();\n                item.Text = drvChild["Text"].ToString();\n                item.ID = int.Parse(drvChild["ID"].ToString());\n                item.ParentID = int.Parse(drvChild["ParentID"].ToString());\n                itemQueue.Enqueue(item);\n            }\n        }\n    }\n}