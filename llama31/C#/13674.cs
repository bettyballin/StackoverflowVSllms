using SHDocVw;\n\nprivate void webBrowser1_NewWindow(object sender, CancelEventArgs e)\n{\n    // Cancel the default behavior of opening a new window\n    e.Cancel = true;\n\n    // Get the URL of the new window\n    string url = webBrowser1.Document.ActiveElement.GetAttribute("href");\n\n    // Create a new instance of the WebBrowser control\n    WebBrowser newBrowser = new WebBrowser();\n\n    // Set the new browser's session to the same as the original browser\n    newBrowser.Document.Cookie = webBrowser1.Document.Cookie;\n\n    // Open the URL in the new browser\n    newBrowser.Navigate(url);\n\n    // Show the new browser\n    newBrowser.Show();\n}