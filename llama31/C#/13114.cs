public string ProcessUpload(string FilePath, string description, string password)\n{\n    // ...\n\n    System.Net.HttpWebRequest httpWebRequest = GetWebrequest(_generatedBoundary);\n    httpWebRequest.KeepAlive = false;\n    httpWebRequest.Timeout = 300000; // 5 minutes\n\n    // ...\n\n    using (System.IO.FileStream fileStream = new FileStream(_file.FullName, FileMode.Open, FileAccess.Read, FileShare.Read))\n    {\n        // ...\n\n        byte[] buffer = new byte[512]; // try reducing this to 256\n        int bytesRead = 0;\n        while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)\n        {\n            memStream.Write(buffer, 0, bytesRead);\n        }\n\n        // ...\n\n        httpWebRequest.SendChunked = true;\n\n        // ...\n    }\n\n    // ...\n}