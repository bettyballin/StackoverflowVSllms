// WCF service configuration\n<bindings>\n  <wsHttpBinding>\n    <binding name="SecureBinding">\n      <security mode="TransportWithMessageCredential">\n        <transport clientCredentialType="None" />\n        <message clientCredentialType="UserName" />\n      </security>\n    </binding>\n  </wsHttpBinding>\n</bindings>\n\n// WCF service code\n[ServiceContract]\npublic interface IMyService\n{\n  [OperationContract]\n  void DoSomething();\n}\n\npublic class MyService : IMyService\n{\n  public void DoSomething()\n  {\n    // Validate the token\n    var token = OperationContext.Current.IncomingMessageHeaders.GetHeader<string>("Token", "http://mycompany.com");\n    if (token != "expected_token_value")\n    {\n      throw new SecurityException("Invalid token");\n    }\n    // Process the request\n  }\n}\n\n// Silverlight application code\nvar client = new MyServiceClient();\nclient.DoSomethingAsync("my_token_value");