using Microsoft.Practices.EnterpriseLibrary.Logging;\nusing Microsoft.Practices.EnterpriseLibrary.Logging.Filters;\nusing System.Net.Mail;\n\npublic class EmailSender\n{\n    public void SendEmail(string to, string subject, string htmlBody)\n    {\n        var logEntry = new LogEntry();\n        logEntry.Categories.Add("Email");\n        logEntry.Priority = Priority.Normal;\n        logEntry.Title = subject;\n        logEntry.Message = htmlBody;\n\n        var formatter = new HtmlEmailFormatter();\n        var emailFormatter = new EmailFormatter();\n        emailFormatter.Formatter = formatter;\n\n        var smtpClient = EnterpriseLibraryContainer.Current.GetInstance<SmtpClient>();\n        smtpClient.Send(emailFormatter.Format(logEntry), to, null);\n    }\n}