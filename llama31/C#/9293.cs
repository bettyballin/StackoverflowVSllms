using System.Net.Http;\nusing System.Net.Http.Headers;\n\npublic void UploadFileToS3(string filePath, string bucketName, string key)\n{\n    using (var httpClient = new HttpClient())\n    {\n        var fileStream = File.OpenRead(filePath);\n        var fileContent = new StreamContent(fileStream);\n\n        var request = new HttpRequestMessage(HttpMethod.Put, $"https://{bucketName}.s3.amazonaws.com/{key}")\n        {\n            Content = fileContent\n        };\n\n        request.Headers.Authorization = new AuthenticationHeaderValue("AWS", "accessKeyId:secretAccessKey");\n\n        var progressReporter = new ProgressMessageHandler(new HttpClientHandler());\n        progressReporter.HttpSendProgress += (sender, e) =>\n        {\n            Console.WriteLine($"Uploading... {e.BytesTransferred} of {e.TotalBytes}");\n        };\n\n        var response = await httpClient.SendAsync(request, HttpCompletionOption.ResponseHeadersRead, progressReporter);\n        response.EnsureSuccessStatusCode();\n    }\n}