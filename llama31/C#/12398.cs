[WebMethod(EnableSession=true)]\npublic Dictionary<string, object> GetArchivedFiles(int pageSize, int page)\n{\n    if(HttpContext.Current.User.Identity.IsAuthenticated && Session["UserId"] != null)\n    {\n        // Do some computing and return a Dictionary.\n    }\n    else\n    {\n        Dictionary<string, object> errorResponse = new Dictionary<string, object>();\n        errorResponse.Add("error", "Authentication failed.");\n        return errorResponse;\n    }\n}