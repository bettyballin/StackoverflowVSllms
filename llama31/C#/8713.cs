using System.Web.SessionState;\nusing System.Runtime.Serialization.Formatters.Binary;\nusing System.IO;\n\npublic class CustomSessionStateStoreProvider : SessionStateStoreProviderBase\n{\n    public override void SetItem(HttpContext context, string id, object item, out bool locked, out TimeSpan lockAge, out object lockId, out SessionStateActions actions)\n    {\n        // Serialize the object using BinaryFormatter\n        BinaryFormatter formatter = new BinaryFormatter();\n        MemoryStream stream = new MemoryStream();\n        formatter.Serialize(stream, item);\n        byte[] serializedData = stream.ToArray();\n\n        // Store the serialized data in the session state\n        base.SetItem(context, id, serializedData, out locked, out lockAge, out lockId, out actions);\n    }\n\n    public override object GetItem(HttpContext context, string id, out bool locked, out TimeSpan lockAge, out object lockId, out SessionStateActions actions)\n    {\n        // Get the serialized data from the session state\n        byte[] serializedData = (byte[])base.GetItem(context, id, out locked, out lockAge, out lockId, out actions);\n\n        // Deserialize the object using BinaryFormatter\n        BinaryFormatter formatter = new BinaryFormatter();\n        MemoryStream stream = new MemoryStream(serializedData);\n        object deserializedObject = formatter.Deserialize(stream);\n\n        return deserializedObject;\n    }\n}