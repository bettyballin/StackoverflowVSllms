using System.Diagnostics;\n\nclass PInvokeMonitor\n{\n    static void Main(string[] args)\n    {\n        var process = Process.GetCurrentProcess();\n        var counterCategory = new PerformanceCounterCategory(".NET CLR Interop", process.ProcessName);\n        var marshallingCounter = counterCategory.GetCounters()["# of marshalling"];\n        var nativeToManagedCounter = counterCategory.GetCounters()["# of native to managed transitions"];\n\n        while (true)\n        {\n            Console.WriteLine($"Marshalling: {marshallingCounter.NextValue()}");\n            Console.WriteLine($"Native to Managed Transitions: {nativeToManagedCounter.NextValue()}");\n            System.Threading.Thread.Sleep(1000);\n        }\n    }\n}