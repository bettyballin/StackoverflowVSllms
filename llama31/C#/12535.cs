using System.IO.Pipes;\nusing System.Text;\n\nclass NamedPipeServer\n{\n    static void Main(string[] args)\n    {\n        using (var pipeServer = new NamedPipeServerStream("MyPipe", PipeDirection.InOut, 1))\n        {\n            pipeServer.WaitForConnection();\n            using (var reader = new StreamReader(pipeServer))\n            {\n                string message = reader.ReadToEnd();\n                Console.WriteLine("Received message: " + message);\n            }\n        }\n    }\n}