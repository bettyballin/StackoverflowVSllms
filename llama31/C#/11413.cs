using System.Security.Principal;\nusing System.Diagnostics;\n\nclass TweakUtility\n{\n    static void Main(string[] args)\n    {\n        if (IsAdministrator())\n        {\n            // Run your registry modification code here\n            ModifyRegistry();\n        }\n        else\n        {\n            // Restart the application with elevated privileges\n            ProcessStartInfo startInfo = new ProcessStartInfo();\n            startInfo.UseShellExecute = true;\n            startInfo.WorkingDirectory = Environment.CurrentDirectory;\n            startInfo.FileName = System.Reflection.Assembly.GetExecutingAssembly().Location;\n            startInfo.Verb = "runas";\n            try\n            {\n                Process.Start(startInfo);\n            }\n            catch (System.ComponentModel.Win32Exception)\n            {\n                // User cancelled the UAC prompt\n            }\n        }\n    }\n\n    static bool IsAdministrator()\n    {\n        WindowsIdentity identity = WindowsIdentity.GetCurrent();\n        WindowsPrincipal principal = new WindowsPrincipal(identity);\n        return principal.IsInRole(WindowsBuiltInRole.Administrator);\n    }\n\n    static void ModifyRegistry()\n    {\n        // Your registry modification code goes here\n        using (RegistryKey key = Registry.ClassesRoot.OpenSubKey("YourKey", true))\n        {\n            // Modify the registry key\n        }\n    }\n}