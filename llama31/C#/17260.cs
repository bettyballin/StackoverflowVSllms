public class WebMethodInterceptor : IHttpModule\n{\n    public void Init(HttpApplication context)\n    {\n        context.EndRequest += new EventHandler(OnEndRequest);\n    }\n\n    private void OnEndRequest(object sender, EventArgs e)\n    {\n        HttpApplication app = (HttpApplication)sender;\n        HttpContext context = app.Context;\n\n        // Check if the request is for a WebMethod\n        if (context.Request.HttpMethod == "POST" && context.Request.ContentType.StartsWith("application/json", StringComparison.OrdinalIgnoreCase))\n        {\n            // Check if the request is in debug mode\n            if (HttpContext.Current.IsDebuggingEnabled)\n            {\n                // Simulate a delay\n                System.Threading.Thread.Sleep(2000);\n            }\n        }\n    }\n\n    public void Dispose()\n    {\n        // Nothing to dispose\n    }\n}