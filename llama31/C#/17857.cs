public Color x, y;\n\nprotected void Page_Load(object sender, EventArgs e)\n{\n    BackGroundColorArranger(Color.Red, Color.Salmon, 5); // 5 levels of color change\n}\n\nvoid BackGroundColorArranger(Color x, Color y, int levels)\n{\n    Color newColor = CalculateMidColor(x, y);\n    CreatePanel(newColor);\n    if (levels > 1)\n    {\n        BackGroundColorArranger(x, newColor, levels - 1);\n    }\n}\n\nColor CalculateMidColor(Color x, Color y)\n{\n    return Color.FromArgb(\n        (x.R + y.R) / 2,\n        (x.G + y.G) / 2,\n        (x.B + y.B) / 2);\n}\n\nvoid CreatePanel(Color color)\n{\n    Panel panel = new Panel();\n    panel.ID = color.ToArgb().ToString();\n    panel.Width = 150;\n    panel.Height = 50;\n    panel.BackColor = color;\n    this.Controls.Add(panel);\n}