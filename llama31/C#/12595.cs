var serializer = new XmlSerializer(typeof(ResponseBase));\nvar response = (ResponseBase)serializer.Deserialize(responseStream);\n\nswitch (response.GetType().Name)\n{\n    case "ActualResponse":\n        // process actual response\n        break;\n    case "ErrorResponse":\n        // process error response\n        break;\n    default:\n        // handle unknown response type\n        break;\n}