using System;\nusing System.Net.Sockets;\nusing System.Text;\n\n// Establish a connection to the POP3 server\nTcpClient client = new TcpClient("pop3.example.com", 110);\nNetworkStream stream = client.GetStream();\n\n// Authenticate with the server\nstring username = "your_username";\nstring password = "your_password";\nbyte[] authBuffer = Encoding.ASCII.GetBytes($"USER {username}\r\nPASS {password}\r\n");\nstream.Write(authBuffer, 0, authBuffer.Length);\n\n// Send the UIDL command\nbyte[] uidlBuffer = Encoding.ASCII.GetBytes("UIDL\r\n");\nstream.Write(uidlBuffer, 0, uidlBuffer.Length);\n\n// Read the response from the server\nbyte[] responseBuffer = new byte[4096];\nint bytesRead = stream.Read(responseBuffer, 0, responseBuffer.Length);\nstring response = Encoding.ASCII.GetString(responseBuffer, 0, bytesRead);\n\n// Parse the response to get the list of message IDs\nstring[] messageIds = response.Split('\n');\n\n// Compare the message IDs with the ones you've already retrieved\n// ...\n\n// Retrieve the new messages using the RETR command\n// ...