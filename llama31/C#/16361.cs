public void SaveSettings()\n{\n    Validator validator = new Validator();\n    foreach (IValidatableControl control in GetValidatableControls())\n    {\n        if (!validator.Validate(control))\n        {\n            // Don't save settings if any control is invalid\n            return;\n        }\n    }\n    // Save settings for all valid controls\n}\n\nprivate IEnumerable<IValidatableControl> GetValidatableControls()\n{\n    // Return all IValidatableControl instances on the form\n}