private void button1_Click(object sender, EventArgs e)\n{\n    try\n    {\n        HttpWebRequest myReq = (HttpWebRequest)WebRequest.Create(cboUrl.Text);\n        myReq.Headers.Clear();\n        myReq.Method = "POST";\n        myReq.KeepAlive = false;\n        myReq.ProtocolVersion = HttpVersion.Version11;\n        myReq.ContentType = "text/xml";\n        myReq.Proxy = null;\n        myReq.Credentials = null;\n        myReq.ContentLength = txtMsg.Text.Length;\n\n        // Add some common HTTP headers\n        myReq.Headers.Add("Accept", "text/xml");\n        myReq.Headers.Add("User-Agent", "YourApp/1.0");\n        myReq.Headers.Add("Accept-Encoding", "gzip, deflate");\n\n        using (StreamWriter sendingData = new StreamWriter(myReq.GetRequestStream()))\n        {\n            sendingData.Write(txtMsg.Text);\n            sendingData.Flush();\n            sendingData.Close();\n        }\n\n        HttpWebResponse myResponse = (HttpWebResponse)myReq.GetResponse();\n        StreamReader responseStream = new StreamReader(myResponse.GetResponseStream());\n        txtRes.Text = responseStream.ReadToEnd();\n\n        responseStream.Close();\n        myResponse.Close();\n    }\n    catch (WebException ex)\n    {\n        txtRes.Text = ex.Message;\n    }\n    catch (Exception ex)\n    {\n        txtRes.Text = ex.Message;\n    }\n}