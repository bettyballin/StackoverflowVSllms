<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <!-- Import the meta data file -->\n  <xsl:param name="metadata" select="document('meta-data.xml')/metadata"/>\n\n  <!-- Transform the legacy system data model -->\n  <xsl:template match="/">\n    <xsl:apply-templates select="datamodel/customer"/>\n  </xsl:template>\n\n  <!-- Use the meta data to generate the XSD schema -->\n  <xsl:template match="customer">\n    <xs:complexType name="customerType">\n      <xs:sequence>\n        <xsl:apply-templates select="firstName"/>\n        <xsl:apply-templates select="lastName"/>\n        <xsl:apply-templates select="age"/>\n      </xs:sequence>\n    </xs:complexType>\n  </xsl:template>\n\n  <!-- Use the meta data to generate the XSD element attributes -->\n  <xsl:template match="firstName">\n    <xs:element name="firstName" type="xs:string">\n      <xsl:for-each select="$metadata/attribute[@xpath='customer/firstName/@nillable']">\n        <xsl:attribute name="nillable" select="."/>\n      </xsl:for-each>\n      <xsl:for-each select="$metadata/attribute[@xpath='customer/firstName/@minOccurs']">\n        <xsl:attribute name="minOccurs" select="."/>\n      </xsl:for-each>\n      <xsl:for-each select="$metadata/attribute[@xpath='customer/firstName/@maxOccurs']">\n        <xsl:attribute name="maxOccurs" select="."/>\n      </xsl:for-each>\n    </xs:element>\n  </xsl:template>\n\n  <!-- Similar templates for lastName and age elements -->\n</xsl:stylesheet>