<system.serviceModel>\n  <bindings>\n    <wsHttpBinding>\n      <binding name="secureBinding">\n        <security mode="TransportWithMessageCredential">\n          <transport clientCredentialType="None" />\n          <message clientCredentialType="Certificate" />\n        </security>\n      </binding>\n    </wsHttpBinding>\n  </bindings>\n  <services>\n    <service name="MyService">\n      <endpoint address="https://localhost/MyService"\n                binding="wsHttpBinding"\n                bindingConfiguration="secureBinding"\n                contract="IMyService" />\n    </service>\n  </services>\n</system.serviceModel>