from django.db.models.expressions import RawSQL\n\ndef clients_list(request):\n    raw_sql = RawSQL("""\n        SELECT * FROM (\n            SELECT *, ROW_NUMBER() OVER (PARTITION BY status ORDER BY id) as row_num\n            FROM clients\n        ) AS subquery\n        WHERE row_num <= 10\n        ORDER BY status\n    """, ())\n\n    clients = Client.objects.raw(raw_sql)\n\n    current_clients = [c for c in clients if c.status == 'current']\n    acquired_clients = [c for c in clients if c.status == 'acquired']\n    past_clients = [c for c in clients if c.status == 'past']\n\n    return render_to_response('clients/list.html', {\n        'current_clients': current_clients,\n        'acquired_clients': acquired_clients,\n        'past_clients': past_clients\n    })