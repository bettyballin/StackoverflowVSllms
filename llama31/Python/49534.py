import sys\nimport time\n\nif sys.platform == 'win32':\n    import msvcrt\nelse:\n    import select\n\ndef poll_keyboard(timeout=0):\n    if sys.platform == 'win32':\n        if msvcrt.kbhit():\n            return msvcrt.getch()\n    else:\n        rlist, _, _ = select.select([sys.stdin], [], [], timeout)\n        if rlist:\n            return sys.stdin.read(1)\n    return None\n\nwhile True:\n    # doing amazing pythonic embedded stuff\n    # ...\n\n    # periodically do a non-blocking check to see if\n    # we are being told to do something else\n    key = poll_keyboard(timeout=0)\n    if key:\n        # ok, some key got pressed\n        # do something\n        print(f"Key pressed: {key}")\n    time.sleep(0.1)  # simulate other I/O activities