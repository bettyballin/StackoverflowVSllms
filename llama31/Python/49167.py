import hmac\nimport hashlib\n\ndef generate_oauth_signature(method, url, params, consumer_key, consumer_secret, token, token_secret):\n    # Sort the parameters\n    sorted_params = sorted(params.items())\n\n    # Generate the signature base string\n    signature_base_string = method + '&' + url + '&' + '&'.join(['='.join([k, v]) for k, v in sorted_params])\n\n    # Generate the signing key\n    signing_key = consumer_secret + '&' + token_secret\n\n    # Generate the signature\n    signature = hmac.new(signing_key, signature_base_string, hashlib.sha1).digest()\n\n    # Base64 encode the signature\n    encoded_signature = signature.encode('base64').rstrip()\n\n    return encoded_signature\n\n# Example usage:\nparams = {'status': 'Testing', 'in_reply_to': 'xxx'}\nmethod = 'POST'\nurl = 'https://twitter.com/statuses/update.json'\nconsumer_key = 'xxx'\nconsumer_secret = 'xxx'\ntoken = 'xxx'\ntoken_secret = 'xxx'\n\noauth_signature = generate_oauth_signature(method, url, params, consumer_key, consumer_secret, token, token_secret)\n\n# Include the oauth_signature in the POST request\npost_data = {'status': 'Testing', 'in_reply_to': 'xxx', 'oauth_signature': oauth_signature}