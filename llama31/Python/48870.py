import mockimap\n\n# Create a mock IMAP server\nserver = mockimap.IMAPServer('localhost', 12345)\n\n# Define a mailbox structure\nmailbox = {\n    'INBOX': [\n        {'subject': 'Test email 1', 'body': 'Hello world!'},\n        {'subject': 'Test email 2', 'body': 'Another email'}\n    ],\n    'Sent': [\n        {'subject': 'Sent email 1', 'body': 'Sent from my email client'}\n    ]\n}\n\n# Load the mailbox structure into the mock server\nserver.load_mailbox(mailbox)\n\n# Now you can connect to the mock server using imaplib\nimport imaplib\nconn = imaplib.IMAP4('localhost', 12345)\nconn.login('username', 'password')\nconn.select('INBOX')\nprint(conn.search(None, 'ALL'))  # prints the UIDs of all emails in INBOX