def find_custards(size, flutter):\n    """\n    Find the indices of all custard islands in the swamp.\n\n    Args:\n        size (int): The size of the swamp.\n        flutter (function): A function that takes a boolean array of swoops and returns True if a pixie exits.\n\n    Returns:\n        list: The indices of all custard islands.\n    """\n    custards = []\n    search_space = [(0, size - 1)]  # Initialize search space to the entire swamp\n\n    while search_space:\n        low, high = search_space.pop(0)\n        mid = (low + high) // 2\n\n        # Create a swoop map with a single swoop at the midpoint\n        swoop_map = [False] * size\n        swoop_map[mid] = True\n\n        if not flutter(swoop_map):\n            # If the pixie doesn't exit, there's a custard island at the midpoint\n            custards.append(mid)\n\n            # Divide the search space into two halves\n            search_space.append((low, mid - 1))\n            search_space.append((mid + 1, high))\n        else:\n            # If the pixie exits, there's no custard island at the midpoint\n            # Try to find a custard island at the beginning or end of the sequence\n            if low == 0 and not flutter([True] + [False] * (size - 1)):\n                custards.append(0)\n            elif high == size - 1 and not flutter([False] * (size - 1) + [True]):\n                custards.append(size - 1)\n\n    return custards