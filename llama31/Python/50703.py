import imaplib\nimport select\n\n# Connect to Gmail IMAP server\nmail = imaplib.IMAP4_SSL('imap.gmail.com')\nmail.login('your_email@gmail.com', 'your_password')\n\n# Select the mailbox you want to monitor\nmail.select('INBOX')\n\n# Send the IDLE command\nmail.send('%s IDLE\r\n' % mail._new_tag())\nresponse = mail.read(1024)\n\n# Check if the server supports IDLE\nif 'continuation' in response[0]:\n    print('IDLE supported!')\n\n    # Wait for notifications\n    while True:\n        readable, writable, errored = select.select([mail.socket()], [], [])\n        if readable:\n            line = mail.readline()\n            if line.startswith('* BYE'):\n                # Server disconnected us\n                break\n            elif line.startswith('* EXISTS'):\n                # New email received!\n                print('New email received!')\n                # Process the new email here...\n            else:\n                print('Unknown response:', line)\nelse:\n    print('IDLE not supported...')\n\n# Clean up\nmail.close()\nmail.logout()