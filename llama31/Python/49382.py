soknad_list = Soknad.objects.all()\n\nfilters = {}\nif var1:\n    filters['pub_date__year'] = var1\nif var2:\n    filters['muncipality__name__exact'] = var2\nif var3:\n    filters['genre__name__exact'] = var3\n\nsoknad_list = soknad_list.filter(**filters)\n\n# TEXT SEARCH\nstop_word_list = re.compile(STOP_WORDS, re.IGNORECASE)\nsearch_term = '%s' % request.GET['q']\ncleaned_search_term = stop_word_list.sub('', search_term)\ncleaned_search_term = cleaned_search_term.strip()\nif len(cleaned_search_term) != 0:\n    soknad_list = soknad_list.filter(\n        Q(dream__icontains=cleaned_search_term) | \n        Q(tags__icontains=cleaned_search_term) | \n        Q(name__icontains=cleaned_search_term) | \n        Q(school__name__icontains=cleaned_search_term)\n    )