import pickle\n\ndef save_interpreter_state():\n    state = {}\n    for name, module in sys.modules.items():\n        state[name] = module.__dict__.copy()\n    with open('interpreter_state.pkl', 'wb') as f:\n        pickle.dump(state, f)\n\ndef restore_interpreter_state():\n    with open('interpreter_state.pkl', 'rb') as f:\n        state = pickle.load(f)\n    for name, module_dict in state.items():\n        sys.modules[name].__dict__.update(module_dict)