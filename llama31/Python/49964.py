import re\n\njsp_file = 'path/to/your/jsp/file.jsp'\naction_class = 'MyAction'\n\nwith open(jsp_file, 'r') as f:\n    jsp_code = f.read()\n\njava_code_blocks = re.findall(r'<%(.*?)%>', jsp_code, re.DOTALL)\n\naction_code = []\nfor block in java_code_blocks:\n    action_code.append('public class {} {{'.format(action_class))\n    action_code.append('    public String execute() {{')\n    action_code.append('        {}'.format(block.strip()))\n    action_code.append('        return "success";')\n    action_code.append('    }')\n    action_code.append('}')\n\nwith open('{}_action.java'.format(action_class), 'w') as f:\n    f.write('\n'.join(action_code))