from django.db import models\nfrom django.contrib.auth.models import User\n\nclass EmailPermission(models.Model):\n    user = models.ForeignKey(User, on_delete=models.CASCADE)\n    email = models.EmailField(unique=True)\n    permission = models.CharField(max_length=10, choices=[('whitelist', 'Whitelist'), ('blacklist', 'Blacklist')])\n\n    class Meta:\n        unique_together = ('user', 'email')\n\ndef check_permission(user, email_address):\n    try:\n        permission = EmailPermission.objects.get(user=user, email=email_address)\n        return permission.permission == 'whitelist'\n    except EmailPermission.DoesNotExist:\n        # Handle default permission (e.g., whitelist or blacklist) or raise an exception\n        pass