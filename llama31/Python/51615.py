from urllib.parse import urlparse, urlunparse\n\n# assuming 'path' is the requested path\nparsed_path = urlparse(path)\nif parsed_path.path.endswith('/'):\n    # no need to redirect\n    pass\nelse:\n    # redirect to path with trailing slash\n    redirect_path = parsed_path.path + '/'\n    new_url = urlunparse((parsed_path.scheme, parsed_path.netloc, redirect_path, parsed_path.params, parsed_path.query, parsed_path.fragment))\n    # send HTTP 301 redirect response\n    print("HTTP/1.1 301 Moved Permanently")\n    print("Location:", new_url)