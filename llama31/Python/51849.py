import os\nimport time\nimport socket\n\n# Get the current timestamp on machine A\ntimestamp_a = time.time()\n\n# Send an ICMP echo request from machine A to machine B\nsock = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP)\nsock.sendto(b'\x08\x00\x00\x00\x00\x00\x00\x00', ('machine_b_ip', 0))\n\n# Get the current timestamp on machine B\ntimestamp_b = time.time()\n\n# Receive the ICMP echo reply on machine A\nsock.recvfrom(1024)\n\n# Calculate the offset\noffset = (timestamp_b - timestamp_a) / 2