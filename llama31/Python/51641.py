from django.db.models import Func\n\nclass Coalesce(Func):\n    function = 'COALESCE'\n    template = '%(function)s(%(expressions)s)'\n\n    def as_postgresql(self, compiler, connection, **extra_context):\n        return super().as_postgresql(compiler, connection, **extra_context)\n\n    def as_sqlite(self, compiler, connection, **extra_context):\n        return 'IFNULL(%s)' % ', '.join(self.arg)