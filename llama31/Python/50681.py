import random\n\ndef shuffle_with_avoidance(lst):\n    # Start from the last element and swap one by one\n    for i in range(len(lst) - 1, 0, -1):\n        # Pick a random index j such that 0 <= j <= i\n        j = random.randint(0, i)\n\n        # If the selected element is the same as the adjacent one and there are other elements,\n        # pick another element that is not the same\n        if lst[j] == lst[i] and len(set(lst[:i])) > 1:\n            different_elements = [k for k, x in enumerate(lst[:i]) if x != lst[i]]\n            if different_elements:\n                j = random.choice(different_elements)\n\n        # Swap lst[i] with the element at random index j\n        lst[i], lst[j] = lst[j], lst[i]\n\n# Example usage\nadvertisers = ["A", "B", "C", "A", "B", "C", "A", "B", "C"]\nshuffle_with_avoidance(advertisers)\nprint(advertisers)