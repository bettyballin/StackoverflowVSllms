import threading\nimport gtk\nimport pycurl\n\nclass UploadThread(threading.Thread):\n    def __init__(self, file_path, progress_bar):\n        threading.Thread.__init__(self)\n        self.file_path = file_path\n        self.progress_bar = progress_bar\n\n    def run(self):\n        # Perform the upload operation using pycurl\n        curl = pycurl.Curl()\n        curl.setopt(pycurl.URL, "http://example.com/upload")\n        curl.setopt(pycurl.UPLOAD, 1)\n        curl.setopt(pycurl.READFUNCTION, self.upload_callback)\n        curl.perform()\n\n    def upload_callback(self, buffer):\n        # Update the progress bar\n        gtk.gdk.threads_enter()\n        self.progress_bar.set_fraction(self.progress_bar.get_fraction() + 0.01)\n        gtk.gdk.threads_leave()\n        return buffer\n\ndef main():\n    # Create the GTK window and progress bar\n    window = gtk.Window()\n    progress_bar = gtk.ProgressBar()\n    window.add(progress_bar)\n    window.show_all()\n\n    # Create the upload thread\n    file_path = "/path/to/file"\n    upload_thread = UploadThread(file_path, progress_bar)\n    upload_thread.start()\n\n    # Run the GTK main loop\n    gtk.main()\n\nif __name__ == "__main__":\n    main()