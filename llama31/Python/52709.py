import hashlib\n\ndef shard_data(data, num_shards):\n    # Use a consistent hashing algorithm to determine the shard\n    shard_index = int(hashlib.md5(str(data['user_id']).encode()).hexdigest(), 16) % num_shards\n    return shard_index\n\n# Example usage:\nnum_shards = 4\ndata = {'user_id': 12345}\nshard_index = shard_data(data, num_shards)\nprint(f"Data belongs to shard {shard_index}")