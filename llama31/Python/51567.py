def chocolate_bar(n):\n    def gcd(a, b):\n        while b:\n            a, b = b, a % b\n        return a\n\n    def can_divide(p, q, n):\n        breaks = 0\n        for i in range(n, 0, -1):\n            if p % i == 0 and q >= i:\n                breaks += 1\n            elif q % i == 0 and p >= i:\n                breaks += 1\n            else:\n                return False\n        return breaks <= n\n\n    max_p = n * 2\n    for p in range(max_p, 1, -1):\n        q = n // gcd(n, p)\n        if can_divide(p, q, n):\n            return p, q\n\nprint(chocolate_bar(4))  # Output: (4, 3)