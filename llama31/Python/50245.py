import miniupnpc\n\n# Create a UPnP object\nu = miniupnpc.UPnP()\n\n# Discover UPnP devices on the network\nprint('Discovering... delay is normal')\ntry:\n    print(u.discoverdelay)\nexcept Exception as e:\n    print('Exception :', e)\n\n# Select the first device\nu.selectigd()\n\n# Display information about the device\nprint('Local IP address :', u.lanaddr)\nprint('External IP address :', u.externalipaddress())\n\n# Create a new port mapping\nu.addportmapping(64000, 'TCP', u.lanaddr, 64000, 'UPnP IGD Tester port %u' % 64000, '')\n\n# Remove the port mapping\nu.deleteportmapping(64000, 'TCP')\n\n# Close the UPnP object\nu = None