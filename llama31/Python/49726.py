import multiprocessing\nimport ctypes\nimport pickle\n\ndef worker(q, ctypes_fn):\n    try:\n        result = ctypes_fn()\n        q.put(pickle.dumps(result))\n    except Exception as e:\n        q.put(pickle.dumps(e))\n\ndef main():\n    q = multiprocessing.Queue()\n    p = multiprocessing.Process(target=worker, args=(q, ctypes_fn))\n    p.start()\n    p.join()\n    result = q.get()\n    return pickle.loads(result)\n\n# example usage\nif __name__ == '__main__':\n    # replace ctypes_fn with your actual ctypes function\n    result = main()\n    print(result)