from html.parser import HTMLParser\n\nclass HTMLTagFixer(HTMLParser):\n    def __init__(self):\n        super().__init__()\n        self.stack = []\n        self.fixed_html = []\n\n    def handle_starttag(self, tag, attrs):\n        self.stack.append(tag)\n        self.fixed_html.append("<" + tag + ">")\n\n    def handle_endtag(self, tag):\n        if self.stack and self.stack[-1] == tag:\n            self.stack.pop()\n            self.fixed_html.append("</" + tag + ">")\n\n    def handle_data(self, data):\n        self.fixed_html.append(data)\n\n    def close_all_tags(self):\n        while self.stack:\n            tag = self.stack.pop()\n            self.fixed_html.append("</" + tag + ">")\n\n    def get_fixed_html(self, html):\n        self.feed(html)\n        self.close_all_tags()\n        return "".join(self.fixed_html)\n\n\n# Example usage:\nfixer = HTMLTagFixer()\nbroken_html = "<p><ul><li>Foo"\nfixed_html = fixer.get_fixed_html(broken_html)\nprint(fixed_html)