import time\nimport datetime\n\ndef calculate_offset(global_time_server):\n    # Get the current system time\n    system_time = time.time()\n\n    # Get the current time from the global time server\n    global_time = global_time_server.get_time()\n\n    # Calculate the offset\n    offset = global_time - system_time\n\n    return offset\n\n# Example usage:\nglobal_time_server = NTPTimeServer()  # Replace with your NTP implementation\noffset = calculate_offset(global_time_server)\n\n# Store the offset locally\nwith open('offset.txt', 'w') as f:\n    f.write(str(offset))\n\n# Later, when you need to get the synchronized time:\nwith open('offset.txt', 'r') as f:\n    offset = float(f.read())\n\nsystem_time = time.time()\nsynchronized_time = system_time + offset