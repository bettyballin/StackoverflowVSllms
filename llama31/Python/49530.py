def flood_fill(grid, x, y, color, label):\n    if x < 0 or x >= len(grid) or y < 0 or y >= len(grid[0]):\n        return\n    if grid[x][y] != color:\n        return\n    grid[x][y] = label\n    flood_fill(grid, x-1, y, color, label)\n    flood_fill(grid, x+1, y, color, label)\n    flood_fill(grid, x, y-1, color, label)\n    flood_fill(grid, x, y+1, color, label)\n\ndef find_contiguous_regions(grid):\n    labels = {}\n    label_counter = 0\n    for x in range(len(grid)):\n        for y in range(len(grid[0])):\n            if grid[x][y] not in labels:\n                label_counter += 1\n                flood_fill(grid, x, y, grid[x][y], label_counter)\n                labels[grid[x][y]] = label_counter\n    return labels