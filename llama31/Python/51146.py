from django.db.models import Count\n\ndef get_object_votes(self, obj):\n    """ \n    Get a dictionary mapping vote to votecount\n    """\n    ctype = ContentType.objects.get_for_model(obj)\n    votes = Vote.objects.filter(content_type=ctype, object_id=obj.id)\n    vote_counts = votes.values('vote').annotate(count=Count('vote')).order_by('vote')\n    \n    return {vote['vote']: vote['count'] for vote in vote_counts}