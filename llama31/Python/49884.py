from django.db import models\nfrom django.contrib.auth.models import Permission\n\nclass Store(models.Model):\n    name = models.CharField(max_length=255)\n\nclass Client(models.Model):\n    store = models.ForeignKey(Store, on_delete=models.CASCADE)\n\nclass Employee(models.Model):\n    store = models.ForeignKey(Store, on_delete=models.CASCADE)\n    role = models.CharField(max_length=255)  # e.g. "full_time", "casual", "management"\n\nclass CustomPermission(Permission):\n    def __init__(self, codename, name):\n        self.codename = codename\n        self.name = name\n\n    def has_permission(self, user, obj):\n        # Custom permission logic here\n        if user.role == "full_time":\n            return obj.store == user.store\n        elif user.role == "casual":\n            # Check if user is rostered to the store\n            return obj.store in user.rostered_stores\n        elif user.role == "management":\n            # Check if user manages the store\n            return obj.store in user.managed_stores\n        return False