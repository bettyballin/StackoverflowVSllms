def merge_sort(arr):\n    if len(arr) <= 1:\n        return arr\n    mid = len(arr) // 2\n    left = merge_sort(arr[:mid])\n    right = merge_sort(arr[mid:])\n    return merge(left, right)\n\ndef merge(left, right):\n    result = []\n    while left and right:\n        if left[0] <= right[0]:\n            result.append(left.pop(0))\n        else:\n            result.append(right.pop(0))\n    result.extend(left or right)\n    return result\n\n# Example usage:\narr = [5, 2, 8, 3, 1, 6, 4]\nsorted_arr = merge_sort(arr)\nprint(sorted_arr)  # [1, 2, 3, 4, 5, 6, 8]