import cv2\nimport numpy as np\nfrom bs4 import BeautifulSoup\n\n# Load the image\nimg = cv2.imread('map_image.jpg')\n\n# Convert the image to grayscale and apply thresholding\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n_, thresh = cv2.threshold(gray, 0, 255, cv2.THRESH_BINARY_INV + cv2.THRESH_OTSU)\n\n# Find contours\ncontours, _ = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n\n# Create an HTML map\nsoup = BeautifulSoup('<map id="ceemap" name="ceemap">', 'html.parser')\n\n# Iterate through contours and create area elements\nfor contour in contours:\n    # Simplify the contour\n    epsilon = 0.02 * cv2.arcLength(contour, True)\n    approx = cv2.approxPolyDP(contour, epsilon, True)\n\n    # Convert the contour to a list of coordinates\n    coords = []\n    for point in approx:\n        coords.append(f"{point[0][0]},{point[0][1]}")\n\n    # Create an area element\n    area = soup.new_tag('area', shape='poly', coords=' '.join(coords), href='austria.html', target='_blank', alt='Austria')\n    soup.map.append(area)\n\n# Print the HTML map\nprint(soup.prettify())