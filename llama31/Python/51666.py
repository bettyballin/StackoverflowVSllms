from google.appengine.ext import ndb\nfrom google.appengine.api import memcache\n\nclass Session(ndb.Model):\n    data = ndb.JsonProperty()\n\ndef create_session(user_id, data):\n    session = Session(id=user_id, data=data)\n    session.put()\n    memcache.set(user_id, data)\n\ndef get_session(user_id):\n    data = memcache.get(user_id)\n    if data is None:\n        session = Session.get_by_id(user_id)\n        if session:\n            data = session.data\n            memcache.set(user_id, data)\n    return data\n\ndef update_session(user_id, data):\n    session = Session.get_by_id(user_id)\n    if session:\n        session.data = data\n        session.put()\n        memcache.set(user_id, data)