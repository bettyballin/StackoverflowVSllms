import os\n\n# Create a pipe\nr, w = os.pipe()\n\n# Set the pipe to non-blocking mode\nos.set_blocking(r, False)\n\n# Fork the process\npid = os.fork()\n\nif pid == 0:\n    # Child process\n    os.close(r)\n    w = os.fdopen(w, 'w')\n    w.write('Hello, world!')\n    w.flush()\nelse:\n    # Parent process\n    os.close(w)\n    r = os.fdopen(r, 'r')\n    while True:\n        try:\n            data = r.read(1024)\n            if data:\n                print(data)\n            else:\n                break\n        except IOError:\n            # Handle the case where the read would block\n            pass