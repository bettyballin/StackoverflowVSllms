from html.parser import HTMLParser\n\nclass HTMLSplitter(HTMLParser):\n    def __init__(self, n):\n        super().__init__()\n        self.n = n\n        self.word_count = 0\n        self.result = []\n        self.in_tag = False\n\n    def handle_starttag(self, tag, attrs):\n        self.in_tag = True\n        self.result.append("<" + tag + ">")\n\n    def handle_endtag(self, tag):\n        self.in_tag = False\n        self.result.append("</" + tag + ">")\n\n    def handle_data(self, data):\n        words = data.split()\n        for word in words:\n            if self.word_count >= self.n:\n                break\n            self.result.append(word + " ")\n            self.word_count += 1\n\n    def get_result(self):\n        return "".join(self.result)\n\nhtml_string = "<p>This is some text with a <a href='http://www.example.com/' title='Example link'>bit of linked text in it</a>.</p>"\nn = 5\n\nparser = HTMLSplitter(n)\nparser.feed(html_string)\nresult = parser.get_result()\nprint(result)