from tlslite.api import *\n\nclass TLSClient:\n    def __init__(self, socket):\n        self.socket = socket\n\n    def handshakeTls(self):\n        """Encrypt the socket using the tlslite module"""\n        self.socket = TLSConnection(self.socket)\n        self.socket.handshakeClientCert()\n\n# Create a normal TCP connection using asyncore\nimport asyncore\nimport socket\n\nclass XMPPClient(asyncore.dispatcher):\n    def __init__(self, host, port):\n        asyncore.dispatcher.__init__(self)\n        self.create_socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.connect((host, port))\n\n    def handle_connect(self):\n        # Establish TLS connection\n        tls_client = TLSClient(self.socket)\n        tls_client.handshakeTls()\n\n# Usage\nclient = XMPPClient('example.com', 5222)\nasyncore.loop()