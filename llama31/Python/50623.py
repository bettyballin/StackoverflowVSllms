import PyPDF2\nfrom PIL import Image\nimport pytesseract\nfrom pdf2image import convert_from_path\n\n# Define the input and output PDF files\ninput_pdf = 'input.pdf'\noutput_pdf = 'output.pdf'\n\n# Convert PDF to images\nimages = convert_from_path(input_pdf)\n\n# Initialize an empty list to store the text from each page\ntext_pages = []\n\n# Iterate over each page (image) and apply OCR\nfor image in images:\n    text = pytesseract.image_to_string(image)\n    text_pages.append(text)\n\n# Create a new PDF with the extracted text\npdf_writer = PyPDF2.PdfFileWriter()\n\n# Add each page of text to the new PDF\nfor text in text_pages:\n    page = PyPDF2.PdfPage()\n    page. mergeScaleProportion(0.5)\n    page.mergePosition(1, text)\n    pdf_writer.addPage(page)\n\n# Save the new PDF\nwith open(output_pdf, 'wb') as fh:\n    pdf_writer.write(fh)