rect  = self.drawing_area.get_allocation()\nstyle = self.drawing_area.get_style()\n\npos   = [n.position_at(self.t) for n in self.nodes]\n\n# Create an off-screen buffer (a pixmap)\npixmap = gtk.gdk.Pixmap(self.drawing_area.window, rect.width, rect.height)\n\n# Draw to the off-screen buffer\npixmap.draw_rectangle(style.bg_gc[gtk.STATE_NORMAL], True,\n                      0, 0, rect.width, rect.height)\n\nfor p in pos:\n    pixmap.draw_arc(style.fg_gc[gtk.STATE_NORMAL], True,\n                    rect.width  * (p.x / 2400.0) - NODE_SIZE/2,\n                    rect.height * (p.y / 2400.0) - NODE_SIZE/2,\n                    NODE_SIZE, NODE_SIZE,\n                    0, 64 * 360)\n\n# Swap the off-screen buffer with the on-screen buffer\nself.drawing_area.window.draw_drawable(None, pixmap, 0, 0, 0, 0, rect.width, rect.height)