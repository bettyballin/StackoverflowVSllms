import ctypes\nimport ctypes.util\n\ndef get_idle_time():\n    libc = ctypes.CDLL(ctypes.util.find_library('c'))\n    libc.sysctl.argtypes = [ctypes.c_int, ctypes.c_int, ctypes.c_void_p, ctypes.c_size_t, ctypes.c_void_p, ctypes.c_size_t]\n    libc.sysctl.restype = ctypes.c_int\n\n    oid = (ctypes.c_int * 4)(1, 9, 249, 0)\n    buf = ctypes.c_uint64()\n    size = ctypes.c_size_t(ctypes.sizeof(buf))\n\n    if libc.sysctl(ctypes.byref(oid), 4, ctypes.byref(buf), ctypes.byref(size), None, 0) == 0:\n        return buf.value / 1000\n    else:\n        raise Exception('Failed to get idle time')\n\nprint(get_idle_time())