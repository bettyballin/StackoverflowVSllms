from django.shortcuts import render\nfrom .models import Location\nfrom django.contrib.gis.geos import Point\n\ndef map_view(request):\n    locations = Location.objects.all()\n    points = []\n    for location in locations:\n        point = {\n            'name': location.name,\n            'lon': location.point.coords[0],\n            'lat': location.point.coords[1],\n        }\n        points.append(point)\n    \n    context = {\n        'points': points,\n    }\n    return render(request, 'map.html', context)