import socket\n\ndef ping(address):\n    # Create a non-privileged ICMP socket\n    sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.IPPROTO_ICMP)\n\n    # Set the ICMP echo request message\n    icmp_type = 8  # ICMP_ECHO\n    icmp_code = 0\n    icmp_id = 1234\n    icmp_seqnum = 1\n    icmp_data = b'Hello, world!'\n    icmp_packet = bytearray(8 + len(icmp_data))\n    icmp_packet[0] = icmp_type\n    icmp_packet[1] = icmp_code\n    icmp_packet[2:4] = icmp_id.to_bytes(2, 'big')\n    icmp_packet[4:6] = icmp_seqnum.to_bytes(2, 'big')\n    icmp_packet[6:] = icmp_data\n\n    # Send the ICMP packet\n    sock.sendto(icmp_packet, (address, 0))\n\n    # Receive the ICMP response\n    data, addr = sock.recvfrom(1024)\n    print(f'Received response from {addr[0]}')\n\n# Test the ping function\nping('8.8.8.8')