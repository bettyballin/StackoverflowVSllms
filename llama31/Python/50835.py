from mod_python import apache\nimport os\n\ndef handler(req):\n    # Get the directory path from the request, ensure it's safe and exists\n    dir_path = req.get_options().get('dir_path', '/path/to/default/directory')\n    if not os.path.exists(dir_path):\n        return 'Directory not found'\n\n    # Generate the HTML for the directory listing\n    html = '<html><body><h1>Directory Listing</h1><ul>'\n    for item in os.listdir(dir_path):\n        item_path = os.path.join(dir_path, item)\n        if os.path.isdir(item_path):\n            html += f'<li><a href="?dir_path={item_path}">{item}/</a></li>'\n        else:\n            html += f'<li>{item}</li>'\n    html += '</ul></body></html>'\n\n    req.content_type = 'text/html'\n    req.write(html)\n    return apache.OK